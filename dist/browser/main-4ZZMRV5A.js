var kW=Object.create;var uE=Object.defineProperty,TW=Object.defineProperties,DW=Object.getOwnPropertyDescriptor,IW=Object.getOwnPropertyDescriptors,NW=Object.getOwnPropertyNames,B_=Object.getOwnPropertySymbols,OW=Object.getPrototypeOf,dE=Object.prototype.hasOwnProperty,iN=Object.prototype.propertyIsEnumerable;var nN=(e,n,r)=>n in e?uE(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,E1=(e,n)=>{for(var r in n||={})dE.call(n,r)&&nN(e,r,n[r]);if(B_)for(var r of B_(n))iN.call(n,r)&&nN(e,r,n[r]);return e},R2=(e,n)=>TW(e,IW(n));var rN=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(n,r)=>(typeof require<"u"?require:n)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var fE=(e,n)=>{var r={};for(var o in e)dE.call(e,o)&&n.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&B_)for(var o of B_(e))n.indexOf(o)<0&&iN.call(e,o)&&(r[o]=e[o]);return r};var zW=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports);var RW=(e,n,r,o)=>{if(n&&typeof n=="object"||typeof n=="function")for(let s of NW(n))!dE.call(e,s)&&s!==r&&uE(e,s,{get:()=>n[s],enumerable:!(o=DW(n,s))||o.enumerable});return e};var V_=(e,n,r)=>(r=e!=null?kW(OW(e)):{},RW(n||!e||!e.__esModule?uE(r,"default",{value:e,enumerable:!0}):r,e));var Yv=zW((DT,Wy)=>{"use strict";(function(e,n){typeof DT=="object"&&typeof Wy<"u"?Wy.exports=n():typeof define=="function"&&define.amd?define(n):e.moment=n()})(DT,function(){"use strict";var e;function n(){return e.apply(null,arguments)}function r(_){e=_}function o(_){return _ instanceof Array||Object.prototype.toString.call(_)==="[object Array]"}function s(_){return _!=null&&Object.prototype.toString.call(_)==="[object Object]"}function l(_,G){return Object.prototype.hasOwnProperty.call(_,G)}function d(_){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(_).length===0;var G;for(G in _)if(l(_,G))return!1;return!0}function h(_){return _===void 0}function p(_){return typeof _=="number"||Object.prototype.toString.call(_)==="[object Number]"}function g(_){return _ instanceof Date||Object.prototype.toString.call(_)==="[object Date]"}function y(_,G){var _n=[],_o,Ba=_.length;for(_o=0;_o<Ba;++_o)_n.push(G(_[_o],_o));return _n}function v(_,G){for(var _n in G)l(G,_n)&&(_[_n]=G[_n]);return l(G,"toString")&&(_.toString=G.toString),l(G,"valueOf")&&(_.valueOf=G.valueOf),_}function w(_,G,_n,_o){return K0(_,G,_n,_o,!0).utc()}function k(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function F(_){return _._pf==null&&(_._pf=k()),_._pf}var q;Array.prototype.some?q=Array.prototype.some:q=function(_){var G=Object(this),_n=G.length>>>0,_o;for(_o=0;_o<_n;_o++)if(_o in G&&_.call(this,G[_o],_o,G))return!0;return!1};function _r(_){var G=null,_n=!1,_o=_._d&&!isNaN(_._d.getTime());if(_o&&(G=F(_),_n=q.call(G.parsedDateParts,function(Ba){return Ba!=null}),_o=G.overflow<0&&!G.empty&&!G.invalidEra&&!G.invalidMonth&&!G.invalidWeekday&&!G.weekdayMismatch&&!G.nullInput&&!G.invalidFormat&&!G.userInvalidated&&(!G.meridiem||G.meridiem&&_n),_._strict&&(_o=_o&&G.charsLeftOver===0&&G.unusedTokens.length===0&&G.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(_))_._isValid=_o;else return _o;return _._isValid}function ga(_){var G=w(NaN);return _!=null?v(F(G),_):F(G).userInvalidated=!0,G}var La=n.momentProperties=[],jc=!1;function _l(_,G){var _n,_o,Ba,r1=La.length;if(h(G._isAMomentObject)||(_._isAMomentObject=G._isAMomentObject),h(G._i)||(_._i=G._i),h(G._f)||(_._f=G._f),h(G._l)||(_._l=G._l),h(G._strict)||(_._strict=G._strict),h(G._tzm)||(_._tzm=G._tzm),h(G._isUTC)||(_._isUTC=G._isUTC),h(G._offset)||(_._offset=G._offset),h(G._pf)||(_._pf=F(G)),h(G._locale)||(_._locale=G._locale),r1>0)for(_n=0;_n<r1;_n++)_o=La[_n],Ba=G[_o],h(Ba)||(_[_o]=Ba);return _}function e1(_){_l(this,_),this._d=new Date(_._d!=null?_._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),jc===!1&&(jc=!0,n.updateOffset(this),jc=!1)}function n1(_){return _ instanceof e1||_!=null&&_._isAMomentObject!=null}function d1(_){n.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+_)}function c1(_,G){var _n=!0;return v(function(){if(n.deprecationHandler!=null&&n.deprecationHandler(null,_),_n){var _o=[],Ba,r1,p1,J1=arguments.length;for(r1=0;r1<J1;r1++){if(Ba="",typeof arguments[r1]=="object"){Ba+=`
[`+r1+"] ";for(p1 in arguments[0])l(arguments[0],p1)&&(Ba+=p1+": "+arguments[0][p1]+", ");Ba=Ba.slice(0,-2)}else Ba=arguments[r1];_o.push(Ba)}d1(_+`
Arguments: `+Array.prototype.slice.call(_o).join("")+`
`+new Error().stack),_n=!1}return G.apply(this,arguments)},G)}var h1={};function N1(_,G){n.deprecationHandler!=null&&n.deprecationHandler(_,G),h1[_]||(d1(G),h1[_]=!0)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;function k1(_){return typeof Function<"u"&&_ instanceof Function||Object.prototype.toString.call(_)==="[object Function]"}function R1(_){var G,_n;for(_n in _)l(_,_n)&&(G=_[_n],k1(G)?this[_n]=G:this["_"+_n]=G);this._config=_,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function U1(_,G){var _n=v({},_),_o;for(_o in G)l(G,_o)&&(s(_[_o])&&s(G[_o])?(_n[_o]={},v(_n[_o],_[_o]),v(_n[_o],G[_o])):G[_o]!=null?_n[_o]=G[_o]:delete _n[_o]);for(_o in _)l(_,_o)&&!l(G,_o)&&s(_[_o])&&(_n[_o]=v({},_n[_o]));return _n}function x1(_){_!=null&&this.set(_)}var m2;Object.keys?m2=Object.keys:m2=function(_){var G,_n=[];for(G in _)l(_,G)&&_n.push(G);return _n};var w1={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function B1(_,G,_n){var _o=this._calendar[_]||this._calendar.sameElse;return k1(_o)?_o.call(G,_n):_o}function A1(_,G,_n){var _o=""+Math.abs(_),Ba=G-_o.length,r1=_>=0;return(r1?_n?"+":"":"-")+Math.pow(10,Math.max(0,Ba)).toString().substr(1)+_o}var H1=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,L2=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,o0={},$2={};function b1(_,G,_n,_o){var Ba=_o;typeof _o=="string"&&(Ba=function(){return this[_o]()}),_&&($2[_]=Ba),G&&($2[G[0]]=function(){return A1(Ba.apply(this,arguments),G[1],G[2])}),_n&&($2[_n]=function(){return this.localeData().ordinal(Ba.apply(this,arguments),_)})}function X2(_){return _.match(/\[[\s\S]/)?_.replace(/^\[|\]$/g,""):_.replace(/\\/g,"")}function e3(_){var G=_.match(H1),_n,_o;for(_n=0,_o=G.length;_n<_o;_n++)$2[G[_n]]?G[_n]=$2[G[_n]]:G[_n]=X2(G[_n]);return function(Ba){var r1="",p1;for(p1=0;p1<_o;p1++)r1+=k1(G[p1])?G[p1].call(Ba,_):G[p1];return r1}}function d3(_,G){return _.isValid()?(G=p0(G,_.localeData()),o0[G]=o0[G]||e3(G),o0[G](_)):_.localeData().invalidDate()}function p0(_,G){var _n=5;function _o(Ba){return G.longDateFormat(Ba)||Ba}for(L2.lastIndex=0;_n>=0&&L2.test(_);)_=_.replace(L2,_o),L2.lastIndex=0,_n-=1;return _}var $0={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function M2(_){var G=this._longDateFormat[_],_n=this._longDateFormat[_.toUpperCase()];return G||!_n?G:(this._longDateFormat[_]=_n.match(H1).map(function(_o){return _o==="MMMM"||_o==="MM"||_o==="DD"||_o==="dddd"?_o.slice(1):_o}).join(""),this._longDateFormat[_])}var J0="Invalid date";function W3(){return this._invalidDate}var M6="%d",E6=/\d{1,2}/;function h4(_){return this._ordinal.replace("%d",_)}var X6={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function _h(_,G,_n,_o){var Ba=this._relativeTime[_n];return k1(Ba)?Ba(_,G,_n,_o):Ba.replace(/%d/i,_)}function O3(_,G){var _n=this._relativeTime[_>0?"future":"past"];return k1(_n)?_n(G):_n.replace(/%s/i,G)}var a3={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function t3(_){return typeof _=="string"?a3[_]||a3[_.toLowerCase()]:void 0}function E3(_){var G={},_n,_o;for(_o in _)l(_,_o)&&(_n=t3(_o),_n&&(G[_n]=_[_o]));return G}var p4={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function n3(_){var G=[],_n;for(_n in _)l(_,_n)&&G.push({unit:_n,priority:p4[_n]});return G.sort(function(_o,Ba){return _o.priority-Ba.priority}),G}var F8=/\d/,b3=/\d\d/,_p=/\d{3}/,Q6=/\d{4}/,J6=/[+-]?\d{6}/,b0=/\d\d?/,T5=/\d\d\d\d?/,F0=/\d\d\d\d\d\d?/,S0=/\d{1,3}/,a4=/\d{1,4}/,Y3=/[+-]?\d{1,6}/,R4=/\d+/,j0=/[+-]?\d+/,a0=/Z|[+-]\d\d:?\d\d/gi,m4=/Z|[+-]\d\d(?::?\d\d)?/gi,T1=/[+-]?\d+(\.\d{1,3})?/,P4=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,g4=/^[1-9]\d?/,zp=/^([1-9]\d|\d)/,Z3;Z3={};function $1(_,G,_n){Z3[_]=k1(G)?G:function(_o,Ba){return _o&&_n?_n:G}}function _m(_,G){return l(Z3,_)?Z3[_](G._strict,G._locale):new RegExp(D5(_))}function D5(_){return K3(_.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(G,_n,_o,Ba,r1){return _n||_o||Ba||r1}))}function K3(_){return _.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function S3(_){return _<0?Math.ceil(_)||0:Math.floor(_)}function V2(_){var G=+_,_n=0;return G!==0&&isFinite(G)&&(_n=S3(G)),_n}var y4={};function g2(_,G){var _n,_o=G,Ba;for(typeof _=="string"&&(_=[_]),p(G)&&(_o=function(r1,p1){p1[G]=V2(r1)}),Ba=_.length,_n=0;_n<Ba;_n++)y4[_[_n]]=_o}function e6(_,G){g2(_,function(_n,_o,Ba,r1){Ba._w=Ba._w||{},G(_n,Ba._w,Ba,r1)})}function P7(_,G,_n){G!=null&&l(y4,_)&&y4[_](G,_n._a,_n,_)}function e8(_){return _%4===0&&_%100!==0||_%400===0}var y0=0,c4=1,L3=2,H0=3,f3=4,s0=5,z2=6,j8=7,B8=8;b1("Y",0,0,function(){var _=this.year();return _<=9999?A1(_,4):"+"+_}),b1(0,["YY",2],0,function(){return this.year()%100}),b1(0,["YYYY",4],0,"year"),b1(0,["YYYYY",5],0,"year"),b1(0,["YYYYYY",6,!0],0,"year"),$1("Y",j0),$1("YY",b0,b3),$1("YYYY",a4,Q6),$1("YYYYY",Y3,J6),$1("YYYYYY",Y3,J6),g2(["YYYYY","YYYYYY"],y0),g2("YYYY",function(_,G){G[y0]=_.length===2?n.parseTwoDigitYear(_):V2(_)}),g2("YY",function(_,G){G[y0]=n.parseTwoDigitYear(_)}),g2("Y",function(_,G){G[y0]=parseInt(_,10)});function F4(_){return e8(_)?366:365}n.parseTwoDigitYear=function(_){return V2(_)+(V2(_)>68?1900:2e3)};var v4=_t("FullYear",!0);function I5(){return e8(this.year())}function _t(_,G){return function(_n){return _n!=null?(_c(this,_,_n),n.updateOffset(this,G),this):aa(this,_)}}function aa(_,G){if(!_.isValid())return NaN;var _n=_._d,_o=_._isUTC;switch(G){case"Milliseconds":return _o?_n.getUTCMilliseconds():_n.getMilliseconds();case"Seconds":return _o?_n.getUTCSeconds():_n.getSeconds();case"Minutes":return _o?_n.getUTCMinutes():_n.getMinutes();case"Hours":return _o?_n.getUTCHours():_n.getHours();case"Date":return _o?_n.getUTCDate():_n.getDate();case"Day":return _o?_n.getUTCDay():_n.getDay();case"Month":return _o?_n.getUTCMonth():_n.getMonth();case"FullYear":return _o?_n.getUTCFullYear():_n.getFullYear();default:return NaN}}function _c(_,G,_n){var _o,Ba,r1,p1,J1;if(!(!_.isValid()||isNaN(_n))){switch(_o=_._d,Ba=_._isUTC,G){case"Milliseconds":return void(Ba?_o.setUTCMilliseconds(_n):_o.setMilliseconds(_n));case"Seconds":return void(Ba?_o.setUTCSeconds(_n):_o.setSeconds(_n));case"Minutes":return void(Ba?_o.setUTCMinutes(_n):_o.setMinutes(_n));case"Hours":return void(Ba?_o.setUTCHours(_n):_o.setHours(_n));case"Date":return void(Ba?_o.setUTCDate(_n):_o.setDate(_n));case"FullYear":break;default:return}r1=_n,p1=_.month(),J1=_.date(),J1=J1===29&&p1===1&&!e8(r1)?28:J1,Ba?_o.setUTCFullYear(r1,p1,J1):_o.setFullYear(r1,p1,J1)}}function ic(_){return _=t3(_),k1(this[_])?this[_]():this}function t1(_,G){if(typeof _=="object"){_=E3(_);var _n=n3(_),_o,Ba=_n.length;for(_o=0;_o<Ba;_o++)this[_n[_o].unit](_[_n[_o].unit])}else if(_=t3(_),k1(this[_]))return this[_](G);return this}function i1(_,G){return(_%G+G)%G}var a1;Array.prototype.indexOf?a1=Array.prototype.indexOf:a1=function(_){var G;for(G=0;G<this.length;++G)if(this[G]===_)return G;return-1};function y1(_,G){if(isNaN(_)||isNaN(G))return NaN;var _n=i1(G,12);return _+=(G-_n)/12,_n===1?e8(_)?29:28:31-_n%7%2}b1("M",["MM",2],"Mo",function(){return this.month()+1}),b1("MMM",0,0,function(_){return this.localeData().monthsShort(this,_)}),b1("MMMM",0,0,function(_){return this.localeData().months(this,_)}),$1("M",b0,g4),$1("MM",b0,b3),$1("MMM",function(_,G){return G.monthsShortRegex(_)}),$1("MMMM",function(_,G){return G.monthsRegex(_)}),g2(["M","MM"],function(_,G){G[c4]=V2(_)-1}),g2(["MMM","MMMM"],function(_,G,_n,_o){var Ba=_n._locale.monthsParse(_,_o,_n._strict);Ba!=null?G[c4]=Ba:F(_n).invalidMonth=_});var S1="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),G1="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),O1=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,D2=P4,D0=P4;function f0(_,G){return _?o(this._months)?this._months[_.month()]:this._months[(this._months.isFormat||O1).test(G)?"format":"standalone"][_.month()]:o(this._months)?this._months:this._months.standalone}function c3(_,G){return _?o(this._monthsShort)?this._monthsShort[_.month()]:this._monthsShort[O1.test(G)?"format":"standalone"][_.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function h3(_,G,_n){var _o,Ba,r1,p1=_.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],_o=0;_o<12;++_o)r1=w([2e3,_o]),this._shortMonthsParse[_o]=this.monthsShort(r1,"").toLocaleLowerCase(),this._longMonthsParse[_o]=this.months(r1,"").toLocaleLowerCase();return _n?G==="MMM"?(Ba=a1.call(this._shortMonthsParse,p1),Ba!==-1?Ba:null):(Ba=a1.call(this._longMonthsParse,p1),Ba!==-1?Ba:null):G==="MMM"?(Ba=a1.call(this._shortMonthsParse,p1),Ba!==-1?Ba:(Ba=a1.call(this._longMonthsParse,p1),Ba!==-1?Ba:null)):(Ba=a1.call(this._longMonthsParse,p1),Ba!==-1?Ba:(Ba=a1.call(this._shortMonthsParse,p1),Ba!==-1?Ba:null))}function _4(_,G,_n){var _o,Ba,r1;if(this._monthsParseExact)return h3.call(this,_,G,_n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),_o=0;_o<12;_o++){if(Ba=w([2e3,_o]),_n&&!this._longMonthsParse[_o]&&(this._longMonthsParse[_o]=new RegExp("^"+this.months(Ba,"").replace(".","")+"$","i"),this._shortMonthsParse[_o]=new RegExp("^"+this.monthsShort(Ba,"").replace(".","")+"$","i")),!_n&&!this._monthsParse[_o]&&(r1="^"+this.months(Ba,"")+"|^"+this.monthsShort(Ba,""),this._monthsParse[_o]=new RegExp(r1.replace(".",""),"i")),_n&&G==="MMMM"&&this._longMonthsParse[_o].test(_))return _o;if(_n&&G==="MMM"&&this._shortMonthsParse[_o].test(_))return _o;if(!_n&&this._monthsParse[_o].test(_))return _o}}function b4(_,G){if(!_.isValid())return _;if(typeof G=="string"){if(/^\d+$/.test(G))G=V2(G);else if(G=_.localeData().monthsParse(G),!p(G))return _}var _n=G,_o=_.date();return _o=_o<29?_o:Math.min(_o,y1(_.year(),_n)),_._isUTC?_._d.setUTCMonth(_n,_o):_._d.setMonth(_n,_o),_}function M9(_){return _!=null?(b4(this,_),n.updateOffset(this,!0),this):aa(this,"Month")}function C_(){return y1(this.year(),this.month())}function VM(_){return this._monthsParseExact?(l(this,"_monthsRegex")||j4.call(this),_?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=D2),this._monthsShortStrictRegex&&_?this._monthsShortStrictRegex:this._monthsShortRegex)}function M_(_){return this._monthsParseExact?(l(this,"_monthsRegex")||j4.call(this),_?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=D0),this._monthsStrictRegex&&_?this._monthsStrictRegex:this._monthsRegex)}function j4(){function _(I2,l0){return l0.length-I2.length}var G=[],_n=[],_o=[],Ba,r1,p1,J1;for(Ba=0;Ba<12;Ba++)r1=w([2e3,Ba]),p1=K3(this.monthsShort(r1,"")),J1=K3(this.months(r1,"")),G.push(p1),_n.push(J1),_o.push(J1),_o.push(p1);G.sort(_),_n.sort(_),_o.sort(_),this._monthsRegex=new RegExp("^("+_o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+_n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+G.join("|")+")","i")}function E_(_,G,_n,_o,Ba,r1,p1){var J1;return _<100&&_>=0?(J1=new Date(_+400,G,_n,_o,Ba,r1,p1),isFinite(J1.getFullYear())&&J1.setFullYear(_)):J1=new Date(_,G,_n,_o,Ba,r1,p1),J1}function V8(_){var G,_n;return _<100&&_>=0?(_n=Array.prototype.slice.call(arguments),_n[0]=_+400,G=new Date(Date.UTC.apply(null,_n)),isFinite(G.getUTCFullYear())&&G.setUTCFullYear(_)):G=new Date(Date.UTC.apply(null,arguments)),G}function F7(_,G,_n){var _o=7+G-_n,Ba=(7+V8(_,0,_o).getUTCDay()-G)%7;return-Ba+_o-1}function j7(_,G,_n,_o,Ba){var r1=(7+_n-_o)%7,p1=F7(_,_o,Ba),J1=1+7*(G-1)+r1+p1,I2,l0;return J1<=0?(I2=_-1,l0=F4(I2)+J1):J1>F4(_)?(I2=_+1,l0=J1-F4(_)):(I2=_,l0=J1),{year:I2,dayOfYear:l0}}function U8(_,G,_n){var _o=F7(_.year(),G,_n),Ba=Math.floor((_.dayOfYear()-_o-1)/7)+1,r1,p1;return Ba<1?(p1=_.year()-1,r1=Ba+z3(p1,G,_n)):Ba>z3(_.year(),G,_n)?(r1=Ba-z3(_.year(),G,_n),p1=_.year()+1):(p1=_.year(),r1=Ba),{week:r1,year:p1}}function z3(_,G,_n){var _o=F7(_,G,_n),Ba=F7(_+1,G,_n);return(F4(_)-_o+Ba)/7}b1("w",["ww",2],"wo","week"),b1("W",["WW",2],"Wo","isoWeek"),$1("w",b0,g4),$1("ww",b0,b3),$1("W",b0,g4),$1("WW",b0,b3),e6(["w","ww","W","WW"],function(_,G,_n,_o){G[_o.substr(0,1)]=V2(_)});function UM(_){return U8(_,this._week.dow,this._week.doy).week}var x4={dow:0,doy:6};function S_(){return this._week.dow}function B7(){return this._week.doy}function X3(_){var G=this.localeData().week(this);return _==null?G:this.add((_-G)*7,"d")}function N5(_){var G=U8(this,1,4).week;return _==null?G:this.add((_-G)*7,"d")}b1("d",0,"do","day"),b1("dd",0,0,function(_){return this.localeData().weekdaysMin(this,_)}),b1("ddd",0,0,function(_){return this.localeData().weekdaysShort(this,_)}),b1("dddd",0,0,function(_){return this.localeData().weekdays(this,_)}),b1("e",0,0,"weekday"),b1("E",0,0,"isoWeekday"),$1("d",b0),$1("e",b0),$1("E",b0),$1("dd",function(_,G){return G.weekdaysMinRegex(_)}),$1("ddd",function(_,G){return G.weekdaysShortRegex(_)}),$1("dddd",function(_,G){return G.weekdaysRegex(_)}),e6(["dd","ddd","dddd"],function(_,G,_n,_o){var Ba=_n._locale.weekdaysParse(_,_o,_n._strict);Ba!=null?G.d=Ba:F(_n).invalidWeekday=_}),e6(["d","e","E"],function(_,G,_n,_o){G[_o]=V2(_)});function O5(_,G){return typeof _!="string"?_:isNaN(_)?(_=G.weekdaysParse(_),typeof _=="number"?_:null):parseInt(_,10)}function HM(_,G){return typeof _=="string"?G.weekdaysParse(_)%7||7:isNaN(_)?null:_}function E9(_,G){return _.slice(G,7).concat(_.slice(0,G))}var GM="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),L_="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),A_="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),$M=P4,k_=P4,qM=P4;function WM(_,G){var _n=o(this._weekdays)?this._weekdays:this._weekdays[_&&_!==!0&&this._weekdays.isFormat.test(G)?"format":"standalone"];return _===!0?E9(_n,this._week.dow):_?_n[_.day()]:_n}function w4(_){return _===!0?E9(this._weekdaysShort,this._week.dow):_?this._weekdaysShort[_.day()]:this._weekdaysShort}function T_(_){return _===!0?E9(this._weekdaysMin,this._week.dow):_?this._weekdaysMin[_.day()]:this._weekdaysMin}function x0(_,G,_n){var _o,Ba,r1,p1=_.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],_o=0;_o<7;++_o)r1=w([2e3,1]).day(_o),this._minWeekdaysParse[_o]=this.weekdaysMin(r1,"").toLocaleLowerCase(),this._shortWeekdaysParse[_o]=this.weekdaysShort(r1,"").toLocaleLowerCase(),this._weekdaysParse[_o]=this.weekdays(r1,"").toLocaleLowerCase();return _n?G==="dddd"?(Ba=a1.call(this._weekdaysParse,p1),Ba!==-1?Ba:null):G==="ddd"?(Ba=a1.call(this._shortWeekdaysParse,p1),Ba!==-1?Ba:null):(Ba=a1.call(this._minWeekdaysParse,p1),Ba!==-1?Ba:null):G==="dddd"?(Ba=a1.call(this._weekdaysParse,p1),Ba!==-1||(Ba=a1.call(this._shortWeekdaysParse,p1),Ba!==-1)?Ba:(Ba=a1.call(this._minWeekdaysParse,p1),Ba!==-1?Ba:null)):G==="ddd"?(Ba=a1.call(this._shortWeekdaysParse,p1),Ba!==-1||(Ba=a1.call(this._weekdaysParse,p1),Ba!==-1)?Ba:(Ba=a1.call(this._minWeekdaysParse,p1),Ba!==-1?Ba:null)):(Ba=a1.call(this._minWeekdaysParse,p1),Ba!==-1||(Ba=a1.call(this._weekdaysParse,p1),Ba!==-1)?Ba:(Ba=a1.call(this._shortWeekdaysParse,p1),Ba!==-1?Ba:null))}function V7(_,G,_n){var _o,Ba,r1;if(this._weekdaysParseExact)return x0.call(this,_,G,_n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),_o=0;_o<7;_o++){if(Ba=w([2e3,1]).day(_o),_n&&!this._fullWeekdaysParse[_o]&&(this._fullWeekdaysParse[_o]=new RegExp("^"+this.weekdays(Ba,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[_o]=new RegExp("^"+this.weekdaysShort(Ba,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[_o]=new RegExp("^"+this.weekdaysMin(Ba,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[_o]||(r1="^"+this.weekdays(Ba,"")+"|^"+this.weekdaysShort(Ba,"")+"|^"+this.weekdaysMin(Ba,""),this._weekdaysParse[_o]=new RegExp(r1.replace(".",""),"i")),_n&&G==="dddd"&&this._fullWeekdaysParse[_o].test(_))return _o;if(_n&&G==="ddd"&&this._shortWeekdaysParse[_o].test(_))return _o;if(_n&&G==="dd"&&this._minWeekdaysParse[_o].test(_))return _o;if(!_n&&this._weekdaysParse[_o].test(_))return _o}}function YM(_){if(!this.isValid())return _!=null?this:NaN;var G=aa(this,"Day");return _!=null?(_=O5(_,this.localeData()),this.add(_-G,"d")):G}function ZM(_){if(!this.isValid())return _!=null?this:NaN;var G=(this.day()+7-this.localeData()._week.dow)%7;return _==null?G:this.add(_-G,"d")}function KM(_){if(!this.isValid())return _!=null?this:NaN;if(_!=null){var G=HM(_,this.localeData());return this.day(this.day()%7?G:G-7)}else return this.day()||7}function S9(_){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||L9.call(this),_?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=$M),this._weekdaysStrictRegex&&_?this._weekdaysStrictRegex:this._weekdaysRegex)}function XM(_){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||L9.call(this),_?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=k_),this._weekdaysShortStrictRegex&&_?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function QM(_){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||L9.call(this),_?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=qM),this._weekdaysMinStrictRegex&&_?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function L9(){function _(Q3,o8){return o8.length-Q3.length}var G=[],_n=[],_o=[],Ba=[],r1,p1,J1,I2,l0;for(r1=0;r1<7;r1++)p1=w([2e3,1]).day(r1),J1=K3(this.weekdaysMin(p1,"")),I2=K3(this.weekdaysShort(p1,"")),l0=K3(this.weekdays(p1,"")),G.push(J1),_n.push(I2),_o.push(l0),Ba.push(J1),Ba.push(I2),Ba.push(l0);G.sort(_),_n.sort(_),_o.sort(_),Ba.sort(_),this._weekdaysRegex=new RegExp("^("+Ba.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+_o.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+_n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+G.join("|")+")","i")}function A9(){return this.hours()%12||12}function JM(){return this.hours()||24}b1("H",["HH",2],0,"hour"),b1("h",["hh",2],0,A9),b1("k",["kk",2],0,JM),b1("hmm",0,0,function(){return""+A9.apply(this)+A1(this.minutes(),2)}),b1("hmmss",0,0,function(){return""+A9.apply(this)+A1(this.minutes(),2)+A1(this.seconds(),2)}),b1("Hmm",0,0,function(){return""+this.hours()+A1(this.minutes(),2)}),b1("Hmmss",0,0,function(){return""+this.hours()+A1(this.minutes(),2)+A1(this.seconds(),2)});function D_(_,G){b1(_,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),G)})}D_("a",!0),D_("A",!1);function z5(_,G){return G._meridiemParse}$1("a",z5),$1("A",z5),$1("H",b0,zp),$1("h",b0,g4),$1("k",b0,g4),$1("HH",b0,b3),$1("hh",b0,b3),$1("kk",b0,b3),$1("hmm",T5),$1("hmmss",F0),$1("Hmm",T5),$1("Hmmss",F0),g2(["H","HH"],H0),g2(["k","kk"],function(_,G,_n){var _o=V2(_);G[H0]=_o===24?0:_o}),g2(["a","A"],function(_,G,_n){_n._isPm=_n._locale.isPM(_),_n._meridiem=_}),g2(["h","hh"],function(_,G,_n){G[H0]=V2(_),F(_n).bigHour=!0}),g2("hmm",function(_,G,_n){var _o=_.length-2;G[H0]=V2(_.substr(0,_o)),G[f3]=V2(_.substr(_o)),F(_n).bigHour=!0}),g2("hmmss",function(_,G,_n){var _o=_.length-4,Ba=_.length-2;G[H0]=V2(_.substr(0,_o)),G[f3]=V2(_.substr(_o,2)),G[s0]=V2(_.substr(Ba)),F(_n).bigHour=!0}),g2("Hmm",function(_,G,_n){var _o=_.length-2;G[H0]=V2(_.substr(0,_o)),G[f3]=V2(_.substr(_o))}),g2("Hmmss",function(_,G,_n){var _o=_.length-4,Ba=_.length-2;G[H0]=V2(_.substr(0,_o)),G[f3]=V2(_.substr(_o,2)),G[s0]=V2(_.substr(Ba))});function k9(_){return(_+"").toLowerCase().charAt(0)==="p"}var U7=/[ap]\.?m?\.?/i,eE=_t("Hours",!0);function tE(_,G,_n){return _>11?_n?"pm":"PM":_n?"am":"AM"}var I_={calendar:w1,longDateFormat:$0,invalidDate:J0,ordinal:M6,dayOfMonthOrdinalParse:E6,relativeTime:X6,months:S1,monthsShort:G1,week:x4,weekdays:GM,weekdaysMin:A_,weekdaysShort:L_,meridiemParse:U7},$={},j={},V;function _e(_,G){var _n,_o=Math.min(_.length,G.length);for(_n=0;_n<_o;_n+=1)if(_[_n]!==G[_n])return _n;return _o}function _i(_){return _&&_.toLowerCase().replace("_","-")}function _s(_){for(var G=0,_n,_o,Ba,r1;G<_.length;){for(r1=_i(_[G]).split("-"),_n=r1.length,_o=_i(_[G+1]),_o=_o?_o.split("-"):null;_n>0;){if(Ba=Pa(r1.slice(0,_n).join("-")),Ba)return Ba;if(_o&&_o.length>=_n&&_e(r1,_o)>=_n-1)break;_n--}G++}return V}function _a(_){return!!(_&&_.match("^[^/\\\\]*$"))}function Pa(_){var G=null,_n;if($[_]===void 0&&typeof Wy<"u"&&Wy&&Wy.exports&&_a(_))try{G=V._abbr,_n=rN,_n("./locale/"+_),Cc(G)}catch{$[_]=null}return $[_]}function Cc(_,G){var _n;return _&&(h(G)?_n=l1(_):_n=Kc(_,G),_n?V=_n:typeof console<"u"&&console.warn&&console.warn("Locale "+_+" not found. Did you forget to load it?")),V._abbr}function Kc(_,G){if(G!==null){var _n,_o=I_;if(G.abbr=_,$[_]!=null)N1("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),_o=$[_]._config;else if(G.parentLocale!=null)if($[G.parentLocale]!=null)_o=$[G.parentLocale]._config;else if(_n=Pa(G.parentLocale),_n!=null)_o=_n._config;else return j[G.parentLocale]||(j[G.parentLocale]=[]),j[G.parentLocale].push({name:_,config:G}),null;return $[_]=new x1(U1(_o,G)),j[_]&&j[_].forEach(function(Ba){Kc(Ba.name,Ba.config)}),Cc(_),$[_]}else return delete $[_],null}function o1(_,G){if(G!=null){var _n,_o,Ba=I_;$[_]!=null&&$[_].parentLocale!=null?$[_].set(U1($[_]._config,G)):(_o=Pa(_),_o!=null&&(Ba=_o._config),G=U1(Ba,G),_o==null&&(G.abbr=_),_n=new x1(G),_n.parentLocale=$[_],$[_]=_n),Cc(_)}else $[_]!=null&&($[_].parentLocale!=null?($[_]=$[_].parentLocale,_===Cc()&&Cc(_)):$[_]!=null&&delete $[_]);return $[_]}function l1(_){var G;if(_&&_._locale&&_._locale._abbr&&(_=_._locale._abbr),!_)return V;if(!o(_)){if(G=Pa(_),G)return G;_=[_]}return _s(_)}function s1(){return m2($)}function f1(_){var G,_n=_._a;return _n&&F(_).overflow===-2&&(G=_n[c4]<0||_n[c4]>11?c4:_n[L3]<1||_n[L3]>y1(_n[y0],_n[c4])?L3:_n[H0]<0||_n[H0]>24||_n[H0]===24&&(_n[f3]!==0||_n[s0]!==0||_n[z2]!==0)?H0:_n[f3]<0||_n[f3]>59?f3:_n[s0]<0||_n[s0]>59?s0:_n[z2]<0||_n[z2]>999?z2:-1,F(_)._overflowDayOfYear&&(G<y0||G>L3)&&(G=L3),F(_)._overflowWeeks&&G===-1&&(G=j8),F(_)._overflowWeekday&&G===-1&&(G=B8),F(_).overflow=G),_}var u1=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,m1=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_1=/Z|[+-]\d\d(?::?\d\d)?/,F1=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Y1=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Q1=/^\/?Date\((-?\d+)/i,_2=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,f2={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function b2(_){var G,_n,_o=_._i,Ba=u1.exec(_o)||m1.exec(_o),r1,p1,J1,I2,l0=F1.length,Q3=Y1.length;if(Ba){for(F(_).iso=!0,G=0,_n=l0;G<_n;G++)if(F1[G][1].exec(Ba[1])){p1=F1[G][0],r1=F1[G][2]!==!1;break}if(p1==null){_._isValid=!1;return}if(Ba[3]){for(G=0,_n=Q3;G<_n;G++)if(Y1[G][1].exec(Ba[3])){J1=(Ba[2]||" ")+Y1[G][0];break}if(J1==null){_._isValid=!1;return}}if(!r1&&J1!=null){_._isValid=!1;return}if(Ba[4])if(_1.exec(Ba[4]))I2="Z";else{_._isValid=!1;return}_._f=p1+(J1||"")+(I2||""),V1(_)}else _._isValid=!1}function t2(_,G,_n,_o,Ba,r1){var p1=[h2(_),G1.indexOf(G),parseInt(_n,10),parseInt(_o,10),parseInt(Ba,10)];return r1&&p1.push(parseInt(r1,10)),p1}function h2(_){var G=parseInt(_,10);return G<=49?2e3+G:G<=999?1900+G:G}function o2(_){return _.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function c0(_,G,_n){if(_){var _o=L_.indexOf(_),Ba=new Date(G[0],G[1],G[2]).getDay();if(_o!==Ba)return F(_n).weekdayMismatch=!0,_n._isValid=!1,!1}return!0}function T0(_,G,_n){if(_)return f2[_];if(G)return 0;var _o=parseInt(_n,10),Ba=_o%100,r1=(_o-Ba)/100;return r1*60+Ba}function p3(_){var G=_2.exec(o2(_._i)),_n;if(G){if(_n=t2(G[4],G[3],G[2],G[5],G[6],G[7]),!c0(G[1],_n,_))return;_._a=_n,_._tzm=T0(G[8],G[9],G[10]),_._d=V8.apply(null,_._a),_._d.setUTCMinutes(_._d.getUTCMinutes()-_._tzm),F(_).rfc2822=!0}else _._isValid=!1}function q0(_){var G=Q1.exec(_._i);if(G!==null){_._d=new Date(+G[1]);return}if(b2(_),_._isValid===!1)delete _._isValid;else return;if(p3(_),_._isValid===!1)delete _._isValid;else return;_._strict?_._isValid=!1:n.createFromInputFallback(_)}n.createFromInputFallback=c1("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(_){_._d=new Date(_._i+(_._useUTC?" UTC":""))});function W0(_,G,_n){return _??G??_n}function C4(_){var G=new Date(n.now());return _._useUTC?[G.getUTCFullYear(),G.getUTCMonth(),G.getUTCDate()]:[G.getFullYear(),G.getMonth(),G.getDate()]}function M1(_){var G,_n,_o=[],Ba,r1,p1;if(!_._d){for(Ba=C4(_),_._w&&_._a[L3]==null&&_._a[c4]==null&&L1(_),_._dayOfYear!=null&&(p1=W0(_._a[y0],Ba[y0]),(_._dayOfYear>F4(p1)||_._dayOfYear===0)&&(F(_)._overflowDayOfYear=!0),_n=V8(p1,0,_._dayOfYear),_._a[c4]=_n.getUTCMonth(),_._a[L3]=_n.getUTCDate()),G=0;G<3&&_._a[G]==null;++G)_._a[G]=_o[G]=Ba[G];for(;G<7;G++)_._a[G]=_o[G]=_._a[G]==null?G===2?1:0:_._a[G];_._a[H0]===24&&_._a[f3]===0&&_._a[s0]===0&&_._a[z2]===0&&(_._nextDay=!0,_._a[H0]=0),_._d=(_._useUTC?V8:E_).apply(null,_o),r1=_._useUTC?_._d.getUTCDay():_._d.getDay(),_._tzm!=null&&_._d.setUTCMinutes(_._d.getUTCMinutes()-_._tzm),_._nextDay&&(_._a[H0]=24),_._w&&typeof _._w.d<"u"&&_._w.d!==r1&&(F(_).weekdayMismatch=!0)}}function L1(_){var G,_n,_o,Ba,r1,p1,J1,I2,l0;G=_._w,G.GG!=null||G.W!=null||G.E!=null?(r1=1,p1=4,_n=W0(G.GG,_._a[y0],U8(w2(),1,4).year),_o=W0(G.W,1),Ba=W0(G.E,1),(Ba<1||Ba>7)&&(I2=!0)):(r1=_._locale._week.dow,p1=_._locale._week.doy,l0=U8(w2(),r1,p1),_n=W0(G.gg,_._a[y0],l0.year),_o=W0(G.w,l0.week),G.d!=null?(Ba=G.d,(Ba<0||Ba>6)&&(I2=!0)):G.e!=null?(Ba=G.e+r1,(G.e<0||G.e>6)&&(I2=!0)):Ba=r1),_o<1||_o>z3(_n,r1,p1)?F(_)._overflowWeeks=!0:I2!=null?F(_)._overflowWeekday=!0:(J1=j7(_n,_o,Ba,r1,p1),_._a[y0]=J1.year,_._dayOfYear=J1.dayOfYear)}n.ISO_8601=function(){},n.RFC_2822=function(){};function V1(_){if(_._f===n.ISO_8601){b2(_);return}if(_._f===n.RFC_2822){p3(_);return}_._a=[],F(_).empty=!0;var G=""+_._i,_n,_o,Ba,r1,p1,J1=G.length,I2=0,l0,Q3;for(Ba=p0(_._f,_._locale).match(H1)||[],Q3=Ba.length,_n=0;_n<Q3;_n++)r1=Ba[_n],_o=(G.match(_m(r1,_))||[])[0],_o&&(p1=G.substr(0,G.indexOf(_o)),p1.length>0&&F(_).unusedInput.push(p1),G=G.slice(G.indexOf(_o)+_o.length),I2+=_o.length),$2[r1]?(_o?F(_).empty=!1:F(_).unusedTokens.push(r1),P7(r1,_o,_)):_._strict&&!_o&&F(_).unusedTokens.push(r1);F(_).charsLeftOver=J1-I2,G.length>0&&F(_).unusedInput.push(G),_._a[H0]<=12&&F(_).bigHour===!0&&_._a[H0]>0&&(F(_).bigHour=void 0),F(_).parsedDateParts=_._a.slice(0),F(_).meridiem=_._meridiem,_._a[H0]=x2(_._locale,_._a[H0],_._meridiem),l0=F(_).era,l0!==null&&(_._a[y0]=_._locale.erasConvertYear(l0,_._a[y0])),M1(_),f1(_)}function x2(_,G,_n){var _o;return _n==null?G:_.meridiemHour!=null?_.meridiemHour(G,_n):(_.isPM!=null&&(_o=_.isPM(_n),_o&&G<12&&(G+=12),!_o&&G===12&&(G=0)),G)}function q1(_){var G,_n,_o,Ba,r1,p1,J1=!1,I2=_._f.length;if(I2===0){F(_).invalidFormat=!0,_._d=new Date(NaN);return}for(Ba=0;Ba<I2;Ba++)r1=0,p1=!1,G=_l({},_),_._useUTC!=null&&(G._useUTC=_._useUTC),G._f=_._f[Ba],V1(G),_r(G)&&(p1=!0),r1+=F(G).charsLeftOver,r1+=F(G).unusedTokens.length*10,F(G).score=r1,J1?r1<_o&&(_o=r1,_n=G):(_o==null||r1<_o||p1)&&(_o=r1,_n=G,p1&&(J1=!0));v(_,_n||G)}function Z2(_){if(!_._d){var G=E3(_._i),_n=G.day===void 0?G.date:G.day;_._a=y([G.year,G.month,_n,G.hour,G.minute,G.second,G.millisecond],function(_o){return _o&&parseInt(_o,10)}),M1(_)}}function t0(_){var G=new e1(f1(Y0(_)));return G._nextDay&&(G.add(1,"d"),G._nextDay=void 0),G}function Y0(_){var G=_._i,_n=_._f;return _._locale=_._locale||l1(_._l),G===null||_n===void 0&&G===""?ga({nullInput:!0}):(typeof G=="string"&&(_._i=G=_._locale.preparse(G)),n1(G)?new e1(f1(G)):(g(G)?_._d=G:o(_n)?q1(_):_n?V1(_):Z0(_),_r(_)||(_._d=null),_))}function Z0(_){var G=_._i;h(G)?_._d=new Date(n.now()):g(G)?_._d=new Date(G.valueOf()):typeof G=="string"?q0(_):o(G)?(_._a=y(G.slice(0),function(_n){return parseInt(_n,10)}),M1(_)):s(G)?Z2(_):p(G)?_._d=new Date(G):n.createFromInputFallback(_)}function K0(_,G,_n,_o,Ba){var r1={};return(G===!0||G===!1)&&(_o=G,G=void 0),(_n===!0||_n===!1)&&(_o=_n,_n=void 0),(s(_)&&d(_)||o(_)&&_.length===0)&&(_=void 0),r1._isAMomentObject=!0,r1._useUTC=r1._isUTC=Ba,r1._l=_n,r1._i=_,r1._f=G,r1._strict=_o,t0(r1)}function w2(_,G,_n,_o){return K0(_,G,_n,_o,!1)}var x3=c1("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var _=w2.apply(null,arguments);return this.isValid()&&_.isValid()?_<this?this:_:ga()}),S6=c1("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var _=w2.apply(null,arguments);return this.isValid()&&_.isValid()?_>this?this:_:ga()});function L6(_,G){var _n,_o;if(G.length===1&&o(G[0])&&(G=G[0]),!G.length)return w2();for(_n=G[0],_o=1;_o<G.length;++_o)(!G[_o].isValid()||G[_o][_](_n))&&(_n=G[_o]);return _n}function H8(){var _=[].slice.call(arguments,0);return L6("isBefore",_)}function t8(){var _=[].slice.call(arguments,0);return L6("isAfter",_)}var G8=function(){return Date.now?Date.now():+new Date},t6=["year","quarter","month","week","day","hour","minute","second","millisecond"];function R5(_){var G,_n=!1,_o,Ba=t6.length;for(G in _)if(l(_,G)&&!(a1.call(t6,G)!==-1&&(_[G]==null||!isNaN(_[G]))))return!1;for(_o=0;_o<Ba;++_o)if(_[t6[_o]]){if(_n)return!1;parseFloat(_[t6[_o]])!==V2(_[t6[_o]])&&(_n=!0)}return!0}function P5(){return this._isValid}function A6(){return i6(NaN)}function n6(_){var G=E3(_),_n=G.year||0,_o=G.quarter||0,Ba=G.month||0,r1=G.week||G.isoWeek||0,p1=G.day||0,J1=G.hour||0,I2=G.minute||0,l0=G.second||0,Q3=G.millisecond||0;this._isValid=R5(G),this._milliseconds=+Q3+l0*1e3+I2*6e4+J1*1e3*60*60,this._days=+p1+r1*7,this._months=+Ba+_o*3+_n*12,this._data={},this._locale=l1(),this._bubble()}function $8(_){return _ instanceof n6}function H7(_){return _<0?Math.round(-1*_)*-1:Math.round(_)}function G7(_,G,_n){var _o=Math.min(_.length,G.length),Ba=Math.abs(_.length-G.length),r1=0,p1;for(p1=0;p1<_o;p1++)(_n&&_[p1]!==G[p1]||!_n&&V2(_[p1])!==V2(G[p1]))&&r1++;return r1+Ba}function N_(_,G){b1(_,0,0,function(){var _n=this.utcOffset(),_o="+";return _n<0&&(_n=-_n,_o="-"),_o+A1(~~(_n/60),2)+G+A1(~~_n%60,2)})}N_("Z",":"),N_("ZZ",""),$1("Z",m4),$1("ZZ",m4),g2(["Z","ZZ"],function(_,G,_n){_n._useUTC=!0,_n._tzm=nE(m4,_)});var EG=/([\+\-]|\d\d)/gi;function nE(_,G){var _n=(G||"").match(_),_o,Ba,r1;return _n===null?null:(_o=_n[_n.length-1]||[],Ba=(_o+"").match(EG)||["-",0,0],r1=+(Ba[1]*60)+V2(Ba[2]),r1===0?0:Ba[0]==="+"?r1:-r1)}function iE(_,G){var _n,_o;return G._isUTC?(_n=G.clone(),_o=(n1(_)||g(_)?_.valueOf():w2(_).valueOf())-_n.valueOf(),_n._d.setTime(_n._d.valueOf()+_o),n.updateOffset(_n,!1),_n):w2(_).local()}function rE(_){return-Math.round(_._d.getTimezoneOffset())}n.updateOffset=function(){};function SG(_,G,_n){var _o=this._offset||0,Ba;if(!this.isValid())return _!=null?this:NaN;if(_!=null){if(typeof _=="string"){if(_=nE(m4,_),_===null)return this}else Math.abs(_)<16&&!_n&&(_=_*60);return!this._isUTC&&G&&(Ba=rE(this)),this._offset=_,this._isUTC=!0,Ba!=null&&this.add(Ba,"m"),_o!==_&&(!G||this._changeInProgress?jI(this,i6(_-_o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?_o:rE(this)}function LG(_,G){return _!=null?(typeof _!="string"&&(_=-_),this.utcOffset(_,G),this):-this.utcOffset()}function AG(_){return this.utcOffset(0,_)}function kG(_){return this._isUTC&&(this.utcOffset(0,_),this._isUTC=!1,_&&this.subtract(rE(this),"m")),this}function TG(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var _=nE(a0,this._i);_!=null?this.utcOffset(_):this.utcOffset(0,!0)}return this}function DG(_){return this.isValid()?(_=_?w2(_).utcOffset():0,(this.utcOffset()-_)%60===0):!1}function IG(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function NG(){if(!h(this._isDSTShifted))return this._isDSTShifted;var _={},G;return _l(_,this),_=Y0(_),_._a?(G=_._isUTC?w(_._a):w2(_._a),this._isDSTShifted=this.isValid()&&G7(_._a,G.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function OG(){return this.isValid()?!this._isUTC:!1}function zG(){return this.isValid()?this._isUTC:!1}function RI(){return this.isValid()?this._isUTC&&this._offset===0:!1}var RG=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,PG=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function i6(_,G){var _n=_,_o=null,Ba,r1,p1;return $8(_)?_n={ms:_._milliseconds,d:_._days,M:_._months}:p(_)||!isNaN(+_)?(_n={},G?_n[G]=+_:_n.milliseconds=+_):(_o=RG.exec(_))?(Ba=_o[1]==="-"?-1:1,_n={y:0,d:V2(_o[L3])*Ba,h:V2(_o[H0])*Ba,m:V2(_o[f3])*Ba,s:V2(_o[s0])*Ba,ms:V2(H7(_o[z2]*1e3))*Ba}):(_o=PG.exec(_))?(Ba=_o[1]==="-"?-1:1,_n={y:F5(_o[2],Ba),M:F5(_o[3],Ba),w:F5(_o[4],Ba),d:F5(_o[5],Ba),h:F5(_o[6],Ba),m:F5(_o[7],Ba),s:F5(_o[8],Ba)}):_n==null?_n={}:typeof _n=="object"&&("from"in _n||"to"in _n)&&(p1=FG(w2(_n.from),w2(_n.to)),_n={},_n.ms=p1.milliseconds,_n.M=p1.months),r1=new n6(_n),$8(_)&&l(_,"_locale")&&(r1._locale=_._locale),$8(_)&&l(_,"_isValid")&&(r1._isValid=_._isValid),r1}i6.fn=n6.prototype,i6.invalid=A6;function F5(_,G){var _n=_&&parseFloat(_.replace(",","."));return(isNaN(_n)?0:_n)*G}function PI(_,G){var _n={};return _n.months=G.month()-_.month()+(G.year()-_.year())*12,_.clone().add(_n.months,"M").isAfter(G)&&--_n.months,_n.milliseconds=+G-+_.clone().add(_n.months,"M"),_n}function FG(_,G){var _n;return _.isValid()&&G.isValid()?(G=iE(G,_),_.isBefore(G)?_n=PI(_,G):(_n=PI(G,_),_n.milliseconds=-_n.milliseconds,_n.months=-_n.months),_n):{milliseconds:0,months:0}}function FI(_,G){return function(_n,_o){var Ba,r1;return _o!==null&&!isNaN(+_o)&&(N1(G,"moment()."+G+"(period, number) is deprecated. Please use moment()."+G+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r1=_n,_n=_o,_o=r1),Ba=i6(_n,_o),jI(this,Ba,_),this}}function jI(_,G,_n,_o){var Ba=G._milliseconds,r1=H7(G._days),p1=H7(G._months);_.isValid()&&(_o=_o??!0,p1&&b4(_,aa(_,"Month")+p1*_n),r1&&_c(_,"Date",aa(_,"Date")+r1*_n),Ba&&_._d.setTime(_._d.valueOf()+Ba*_n),_o&&n.updateOffset(_,r1||p1))}var jG=FI(1,"add"),BG=FI(-1,"subtract");function BI(_){return typeof _=="string"||_ instanceof String}function VG(_){return n1(_)||g(_)||BI(_)||p(_)||HG(_)||UG(_)||_===null||_===void 0}function UG(_){var G=s(_)&&!d(_),_n=!1,_o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],Ba,r1,p1=_o.length;for(Ba=0;Ba<p1;Ba+=1)r1=_o[Ba],_n=_n||l(_,r1);return G&&_n}function HG(_){var G=o(_),_n=!1;return G&&(_n=_.filter(function(_o){return!p(_o)&&BI(_)}).length===0),G&&_n}function GG(_){var G=s(_)&&!d(_),_n=!1,_o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],Ba,r1;for(Ba=0;Ba<_o.length;Ba+=1)r1=_o[Ba],_n=_n||l(_,r1);return G&&_n}function $G(_,G){var _n=_.diff(G,"days",!0);return _n<-6?"sameElse":_n<-1?"lastWeek":_n<0?"lastDay":_n<1?"sameDay":_n<2?"nextDay":_n<7?"nextWeek":"sameElse"}function qG(_,G){arguments.length===1&&(arguments[0]?VG(arguments[0])?(_=arguments[0],G=void 0):GG(arguments[0])&&(G=arguments[0],_=void 0):(_=void 0,G=void 0));var _n=_||w2(),_o=iE(_n,this).startOf("day"),Ba=n.calendarFormat(this,_o)||"sameElse",r1=G&&(k1(G[Ba])?G[Ba].call(this,_n):G[Ba]);return this.format(r1||this.localeData().calendar(Ba,this,w2(_n)))}function WG(){return new e1(this)}function YG(_,G){var _n=n1(_)?_:w2(_);return this.isValid()&&_n.isValid()?(G=t3(G)||"millisecond",G==="millisecond"?this.valueOf()>_n.valueOf():_n.valueOf()<this.clone().startOf(G).valueOf()):!1}function ZG(_,G){var _n=n1(_)?_:w2(_);return this.isValid()&&_n.isValid()?(G=t3(G)||"millisecond",G==="millisecond"?this.valueOf()<_n.valueOf():this.clone().endOf(G).valueOf()<_n.valueOf()):!1}function KG(_,G,_n,_o){var Ba=n1(_)?_:w2(_),r1=n1(G)?G:w2(G);return this.isValid()&&Ba.isValid()&&r1.isValid()?(_o=_o||"()",(_o[0]==="("?this.isAfter(Ba,_n):!this.isBefore(Ba,_n))&&(_o[1]===")"?this.isBefore(r1,_n):!this.isAfter(r1,_n))):!1}function XG(_,G){var _n=n1(_)?_:w2(_),_o;return this.isValid()&&_n.isValid()?(G=t3(G)||"millisecond",G==="millisecond"?this.valueOf()===_n.valueOf():(_o=_n.valueOf(),this.clone().startOf(G).valueOf()<=_o&&_o<=this.clone().endOf(G).valueOf())):!1}function QG(_,G){return this.isSame(_,G)||this.isAfter(_,G)}function JG(_,G){return this.isSame(_,G)||this.isBefore(_,G)}function e$(_,G,_n){var _o,Ba,r1;if(!this.isValid())return NaN;if(_o=iE(_,this),!_o.isValid())return NaN;switch(Ba=(_o.utcOffset()-this.utcOffset())*6e4,G=t3(G),G){case"year":r1=O_(this,_o)/12;break;case"month":r1=O_(this,_o);break;case"quarter":r1=O_(this,_o)/3;break;case"second":r1=(this-_o)/1e3;break;case"minute":r1=(this-_o)/6e4;break;case"hour":r1=(this-_o)/36e5;break;case"day":r1=(this-_o-Ba)/864e5;break;case"week":r1=(this-_o-Ba)/6048e5;break;default:r1=this-_o}return _n?r1:S3(r1)}function O_(_,G){if(_.date()<G.date())return-O_(G,_);var _n=(G.year()-_.year())*12+(G.month()-_.month()),_o=_.clone().add(_n,"months"),Ba,r1;return G-_o<0?(Ba=_.clone().add(_n-1,"months"),r1=(G-_o)/(_o-Ba)):(Ba=_.clone().add(_n+1,"months"),r1=(G-_o)/(Ba-_o)),-(_n+r1)||0}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function t$(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function n$(_){if(!this.isValid())return null;var G=_!==!0,_n=G?this.clone().utc():this;return _n.year()<0||_n.year()>9999?d3(_n,G?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):k1(Date.prototype.toISOString)?G?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",d3(_n,"Z")):d3(_n,G?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function i$(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var _="moment",G="",_n,_o,Ba,r1;return this.isLocal()||(_=this.utcOffset()===0?"moment.utc":"moment.parseZone",G="Z"),_n="["+_+'("]',_o=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",Ba="-MM-DD[T]HH:mm:ss.SSS",r1=G+'[")]',this.format(_n+_o+Ba+r1)}function r$(_){_||(_=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var G=d3(this,_);return this.localeData().postformat(G)}function o$(_,G){return this.isValid()&&(n1(_)&&_.isValid()||w2(_).isValid())?i6({to:this,from:_}).locale(this.locale()).humanize(!G):this.localeData().invalidDate()}function s$(_){return this.from(w2(),_)}function a$(_,G){return this.isValid()&&(n1(_)&&_.isValid()||w2(_).isValid())?i6({from:this,to:_}).locale(this.locale()).humanize(!G):this.localeData().invalidDate()}function c$(_){return this.to(w2(),_)}function VI(_){var G;return _===void 0?this._locale._abbr:(G=l1(_),G!=null&&(this._locale=G),this)}var UI=c1("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(_){return _===void 0?this.localeData():this.locale(_)});function HI(){return this._locale}var z_=1e3,$7=60*z_,R_=60*$7,GI=(365*400+97)*24*R_;function q7(_,G){return(_%G+G)%G}function $I(_,G,_n){return _<100&&_>=0?new Date(_+400,G,_n)-GI:new Date(_,G,_n).valueOf()}function qI(_,G,_n){return _<100&&_>=0?Date.UTC(_+400,G,_n)-GI:Date.UTC(_,G,_n)}function l$(_){var G,_n;if(_=t3(_),_===void 0||_==="millisecond"||!this.isValid())return this;switch(_n=this._isUTC?qI:$I,_){case"year":G=_n(this.year(),0,1);break;case"quarter":G=_n(this.year(),this.month()-this.month()%3,1);break;case"month":G=_n(this.year(),this.month(),1);break;case"week":G=_n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":G=_n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":G=_n(this.year(),this.month(),this.date());break;case"hour":G=this._d.valueOf(),G-=q7(G+(this._isUTC?0:this.utcOffset()*$7),R_);break;case"minute":G=this._d.valueOf(),G-=q7(G,$7);break;case"second":G=this._d.valueOf(),G-=q7(G,z_);break}return this._d.setTime(G),n.updateOffset(this,!0),this}function u$(_){var G,_n;if(_=t3(_),_===void 0||_==="millisecond"||!this.isValid())return this;switch(_n=this._isUTC?qI:$I,_){case"year":G=_n(this.year()+1,0,1)-1;break;case"quarter":G=_n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":G=_n(this.year(),this.month()+1,1)-1;break;case"week":G=_n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":G=_n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":G=_n(this.year(),this.month(),this.date()+1)-1;break;case"hour":G=this._d.valueOf(),G+=R_-q7(G+(this._isUTC?0:this.utcOffset()*$7),R_)-1;break;case"minute":G=this._d.valueOf(),G+=$7-q7(G,$7)-1;break;case"second":G=this._d.valueOf(),G+=z_-q7(G,z_)-1;break}return this._d.setTime(G),n.updateOffset(this,!0),this}function d$(){return this._d.valueOf()-(this._offset||0)*6e4}function f$(){return Math.floor(this.valueOf()/1e3)}function h$(){return new Date(this.valueOf())}function p$(){var _=this;return[_.year(),_.month(),_.date(),_.hour(),_.minute(),_.second(),_.millisecond()]}function m$(){var _=this;return{years:_.year(),months:_.month(),date:_.date(),hours:_.hours(),minutes:_.minutes(),seconds:_.seconds(),milliseconds:_.milliseconds()}}function g$(){return this.isValid()?this.toISOString():null}function y$(){return _r(this)}function v$(){return v({},F(this))}function _$(){return F(this).overflow}function b$(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}b1("N",0,0,"eraAbbr"),b1("NN",0,0,"eraAbbr"),b1("NNN",0,0,"eraAbbr"),b1("NNNN",0,0,"eraName"),b1("NNNNN",0,0,"eraNarrow"),b1("y",["y",1],"yo","eraYear"),b1("y",["yy",2],0,"eraYear"),b1("y",["yyy",3],0,"eraYear"),b1("y",["yyyy",4],0,"eraYear"),$1("N",oE),$1("NN",oE),$1("NNN",oE),$1("NNNN",D$),$1("NNNNN",I$),g2(["N","NN","NNN","NNNN","NNNNN"],function(_,G,_n,_o){var Ba=_n._locale.erasParse(_,_o,_n._strict);Ba?F(_n).era=Ba:F(_n).invalidEra=_}),$1("y",R4),$1("yy",R4),$1("yyy",R4),$1("yyyy",R4),$1("yo",N$),g2(["y","yy","yyy","yyyy"],y0),g2(["yo"],function(_,G,_n,_o){var Ba;_n._locale._eraYearOrdinalRegex&&(Ba=_.match(_n._locale._eraYearOrdinalRegex)),_n._locale.eraYearOrdinalParse?G[y0]=_n._locale.eraYearOrdinalParse(_,Ba):G[y0]=parseInt(_,10)});function x$(_,G){var _n,_o,Ba,r1=this._eras||l1("en")._eras;for(_n=0,_o=r1.length;_n<_o;++_n){switch(typeof r1[_n].since){case"string":Ba=n(r1[_n].since).startOf("day"),r1[_n].since=Ba.valueOf();break}switch(typeof r1[_n].until){case"undefined":r1[_n].until=1/0;break;case"string":Ba=n(r1[_n].until).startOf("day").valueOf(),r1[_n].until=Ba.valueOf();break}}return r1}function w$(_,G,_n){var _o,Ba,r1=this.eras(),p1,J1,I2;for(_=_.toUpperCase(),_o=0,Ba=r1.length;_o<Ba;++_o)if(p1=r1[_o].name.toUpperCase(),J1=r1[_o].abbr.toUpperCase(),I2=r1[_o].narrow.toUpperCase(),_n)switch(G){case"N":case"NN":case"NNN":if(J1===_)return r1[_o];break;case"NNNN":if(p1===_)return r1[_o];break;case"NNNNN":if(I2===_)return r1[_o];break}else if([p1,J1,I2].indexOf(_)>=0)return r1[_o]}function C$(_,G){var _n=_.since<=_.until?1:-1;return G===void 0?n(_.since).year():n(_.since).year()+(G-_.offset)*_n}function M$(){var _,G,_n,_o=this.localeData().eras();for(_=0,G=_o.length;_<G;++_)if(_n=this.clone().startOf("day").valueOf(),_o[_].since<=_n&&_n<=_o[_].until||_o[_].until<=_n&&_n<=_o[_].since)return _o[_].name;return""}function E$(){var _,G,_n,_o=this.localeData().eras();for(_=0,G=_o.length;_<G;++_)if(_n=this.clone().startOf("day").valueOf(),_o[_].since<=_n&&_n<=_o[_].until||_o[_].until<=_n&&_n<=_o[_].since)return _o[_].narrow;return""}function S$(){var _,G,_n,_o=this.localeData().eras();for(_=0,G=_o.length;_<G;++_)if(_n=this.clone().startOf("day").valueOf(),_o[_].since<=_n&&_n<=_o[_].until||_o[_].until<=_n&&_n<=_o[_].since)return _o[_].abbr;return""}function L$(){var _,G,_n,_o,Ba=this.localeData().eras();for(_=0,G=Ba.length;_<G;++_)if(_n=Ba[_].since<=Ba[_].until?1:-1,_o=this.clone().startOf("day").valueOf(),Ba[_].since<=_o&&_o<=Ba[_].until||Ba[_].until<=_o&&_o<=Ba[_].since)return(this.year()-n(Ba[_].since).year())*_n+Ba[_].offset;return this.year()}function A$(_){return l(this,"_erasNameRegex")||sE.call(this),_?this._erasNameRegex:this._erasRegex}function k$(_){return l(this,"_erasAbbrRegex")||sE.call(this),_?this._erasAbbrRegex:this._erasRegex}function T$(_){return l(this,"_erasNarrowRegex")||sE.call(this),_?this._erasNarrowRegex:this._erasRegex}function oE(_,G){return G.erasAbbrRegex(_)}function D$(_,G){return G.erasNameRegex(_)}function I$(_,G){return G.erasNarrowRegex(_)}function N$(_,G){return G._eraYearOrdinalRegex||R4}function sE(){var _=[],G=[],_n=[],_o=[],Ba,r1,p1,J1,I2,l0=this.eras();for(Ba=0,r1=l0.length;Ba<r1;++Ba)p1=K3(l0[Ba].name),J1=K3(l0[Ba].abbr),I2=K3(l0[Ba].narrow),G.push(p1),_.push(J1),_n.push(I2),_o.push(p1),_o.push(J1),_o.push(I2);this._erasRegex=new RegExp("^("+_o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+G.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+_.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+_n.join("|")+")","i")}b1(0,["gg",2],0,function(){return this.weekYear()%100}),b1(0,["GG",2],0,function(){return this.isoWeekYear()%100});function P_(_,G){b1(0,[_,_.length],0,G)}P_("gggg","weekYear"),P_("ggggg","weekYear"),P_("GGGG","isoWeekYear"),P_("GGGGG","isoWeekYear"),$1("G",j0),$1("g",j0),$1("GG",b0,b3),$1("gg",b0,b3),$1("GGGG",a4,Q6),$1("gggg",a4,Q6),$1("GGGGG",Y3,J6),$1("ggggg",Y3,J6),e6(["gggg","ggggg","GGGG","GGGGG"],function(_,G,_n,_o){G[_o.substr(0,2)]=V2(_)}),e6(["gg","GG"],function(_,G,_n,_o){G[_o]=n.parseTwoDigitYear(_)});function O$(_){return WI.call(this,_,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function z$(_){return WI.call(this,_,this.isoWeek(),this.isoWeekday(),1,4)}function R$(){return z3(this.year(),1,4)}function P$(){return z3(this.isoWeekYear(),1,4)}function F$(){var _=this.localeData()._week;return z3(this.year(),_.dow,_.doy)}function j$(){var _=this.localeData()._week;return z3(this.weekYear(),_.dow,_.doy)}function WI(_,G,_n,_o,Ba){var r1;return _==null?U8(this,_o,Ba).year:(r1=z3(_,_o,Ba),G>r1&&(G=r1),B$.call(this,_,G,_n,_o,Ba))}function B$(_,G,_n,_o,Ba){var r1=j7(_,G,_n,_o,Ba),p1=V8(r1.year,0,r1.dayOfYear);return this.year(p1.getUTCFullYear()),this.month(p1.getUTCMonth()),this.date(p1.getUTCDate()),this}b1("Q",0,"Qo","quarter"),$1("Q",F8),g2("Q",function(_,G){G[c4]=(V2(_)-1)*3});function V$(_){return _==null?Math.ceil((this.month()+1)/3):this.month((_-1)*3+this.month()%3)}b1("D",["DD",2],"Do","date"),$1("D",b0,g4),$1("DD",b0,b3),$1("Do",function(_,G){return _?G._dayOfMonthOrdinalParse||G._ordinalParse:G._dayOfMonthOrdinalParseLenient}),g2(["D","DD"],L3),g2("Do",function(_,G){G[L3]=V2(_.match(b0)[0])});var YI=_t("Date",!0);b1("DDD",["DDDD",3],"DDDo","dayOfYear"),$1("DDD",S0),$1("DDDD",_p),g2(["DDD","DDDD"],function(_,G,_n){_n._dayOfYear=V2(_)});function U$(_){var G=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return _==null?G:this.add(_-G,"d")}b1("m",["mm",2],0,"minute"),$1("m",b0,zp),$1("mm",b0,b3),g2(["m","mm"],f3);var H$=_t("Minutes",!1);b1("s",["ss",2],0,"second"),$1("s",b0,zp),$1("ss",b0,b3),g2(["s","ss"],s0);var G$=_t("Seconds",!1);b1("S",0,0,function(){return~~(this.millisecond()/100)}),b1(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),b1(0,["SSS",3],0,"millisecond"),b1(0,["SSSS",4],0,function(){return this.millisecond()*10}),b1(0,["SSSSS",5],0,function(){return this.millisecond()*100}),b1(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),b1(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),b1(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),b1(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),$1("S",S0,F8),$1("SS",S0,b3),$1("SSS",S0,_p);var q8,ZI;for(q8="SSSS";q8.length<=9;q8+="S")$1(q8,R4);function $$(_,G){G[z2]=V2(("0."+_)*1e3)}for(q8="S";q8.length<=9;q8+="S")g2(q8,$$);ZI=_t("Milliseconds",!1),b1("z",0,0,"zoneAbbr"),b1("zz",0,0,"zoneName");function q$(){return this._isUTC?"UTC":""}function W$(){return this._isUTC?"Coordinated Universal Time":""}var j1=e1.prototype;j1.add=jG,j1.calendar=qG,j1.clone=WG,j1.diff=e$,j1.endOf=u$,j1.format=r$,j1.from=o$,j1.fromNow=s$,j1.to=a$,j1.toNow=c$,j1.get=ic,j1.invalidAt=_$,j1.isAfter=YG,j1.isBefore=ZG,j1.isBetween=KG,j1.isSame=XG,j1.isSameOrAfter=QG,j1.isSameOrBefore=JG,j1.isValid=y$,j1.lang=UI,j1.locale=VI,j1.localeData=HI,j1.max=S6,j1.min=x3,j1.parsingFlags=v$,j1.set=t1,j1.startOf=l$,j1.subtract=BG,j1.toArray=p$,j1.toObject=m$,j1.toDate=h$,j1.toISOString=n$,j1.inspect=i$,typeof Symbol<"u"&&Symbol.for!=null&&(j1[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),j1.toJSON=g$,j1.toString=t$,j1.unix=f$,j1.valueOf=d$,j1.creationData=b$,j1.eraName=M$,j1.eraNarrow=E$,j1.eraAbbr=S$,j1.eraYear=L$,j1.year=v4,j1.isLeapYear=I5,j1.weekYear=O$,j1.isoWeekYear=z$,j1.quarter=j1.quarters=V$,j1.month=M9,j1.daysInMonth=C_,j1.week=j1.weeks=X3,j1.isoWeek=j1.isoWeeks=N5,j1.weeksInYear=F$,j1.weeksInWeekYear=j$,j1.isoWeeksInYear=R$,j1.isoWeeksInISOWeekYear=P$,j1.date=YI,j1.day=j1.days=YM,j1.weekday=ZM,j1.isoWeekday=KM,j1.dayOfYear=U$,j1.hour=j1.hours=eE,j1.minute=j1.minutes=H$,j1.second=j1.seconds=G$,j1.millisecond=j1.milliseconds=ZI,j1.utcOffset=SG,j1.utc=AG,j1.local=kG,j1.parseZone=TG,j1.hasAlignedHourOffset=DG,j1.isDST=IG,j1.isLocal=OG,j1.isUtcOffset=zG,j1.isUtc=RI,j1.isUTC=RI,j1.zoneAbbr=q$,j1.zoneName=W$,j1.dates=c1("dates accessor is deprecated. Use date instead.",YI),j1.months=c1("months accessor is deprecated. Use month instead",M9),j1.years=c1("years accessor is deprecated. Use year instead",v4),j1.zone=c1("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",LG),j1.isDSTShifted=c1("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",NG);function Y$(_){return w2(_*1e3)}function Z$(){return w2.apply(null,arguments).parseZone()}function KI(_){return _}var m0=x1.prototype;m0.calendar=B1,m0.longDateFormat=M2,m0.invalidDate=W3,m0.ordinal=h4,m0.preparse=KI,m0.postformat=KI,m0.relativeTime=_h,m0.pastFuture=O3,m0.set=R1,m0.eras=x$,m0.erasParse=w$,m0.erasConvertYear=C$,m0.erasAbbrRegex=k$,m0.erasNameRegex=A$,m0.erasNarrowRegex=T$,m0.months=f0,m0.monthsShort=c3,m0.monthsParse=_4,m0.monthsRegex=M_,m0.monthsShortRegex=VM,m0.week=UM,m0.firstDayOfYear=B7,m0.firstDayOfWeek=S_,m0.weekdays=WM,m0.weekdaysMin=T_,m0.weekdaysShort=w4,m0.weekdaysParse=V7,m0.weekdaysRegex=S9,m0.weekdaysShortRegex=XM,m0.weekdaysMinRegex=QM,m0.isPM=k9,m0.meridiem=tE;function F_(_,G,_n,_o){var Ba=l1(),r1=w().set(_o,G);return Ba[_n](r1,_)}function XI(_,G,_n){if(p(_)&&(G=_,_=void 0),_=_||"",G!=null)return F_(_,G,_n,"month");var _o,Ba=[];for(_o=0;_o<12;_o++)Ba[_o]=F_(_,_o,_n,"month");return Ba}function aE(_,G,_n,_o){typeof _=="boolean"?(p(G)&&(_n=G,G=void 0),G=G||""):(G=_,_n=G,_=!1,p(G)&&(_n=G,G=void 0),G=G||"");var Ba=l1(),r1=_?Ba._week.dow:0,p1,J1=[];if(_n!=null)return F_(G,(_n+r1)%7,_o,"day");for(p1=0;p1<7;p1++)J1[p1]=F_(G,(p1+r1)%7,_o,"day");return J1}function K$(_,G){return XI(_,G,"months")}function X$(_,G){return XI(_,G,"monthsShort")}function Q$(_,G,_n){return aE(_,G,_n,"weekdays")}function J$(_,G,_n){return aE(_,G,_n,"weekdaysShort")}function _q(_,G,_n){return aE(_,G,_n,"weekdaysMin")}Cc("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(_){var G=_%10,_n=V2(_%100/10)===1?"th":G===1?"st":G===2?"nd":G===3?"rd":"th";return _+_n}}),n.lang=c1("moment.lang is deprecated. Use moment.locale instead.",Cc),n.langData=c1("moment.langData is deprecated. Use moment.localeData instead.",l1);var n8=Math.abs;function eW(){var _=this._data;return this._milliseconds=n8(this._milliseconds),this._days=n8(this._days),this._months=n8(this._months),_.milliseconds=n8(_.milliseconds),_.seconds=n8(_.seconds),_.minutes=n8(_.minutes),_.hours=n8(_.hours),_.months=n8(_.months),_.years=n8(_.years),this}function QI(_,G,_n,_o){var Ba=i6(G,_n);return _._milliseconds+=_o*Ba._milliseconds,_._days+=_o*Ba._days,_._months+=_o*Ba._months,_._bubble()}function tW(_,G){return QI(this,_,G,1)}function nW(_,G){return QI(this,_,G,-1)}function JI(_){return _<0?Math.floor(_):Math.ceil(_)}function iW(){var _=this._milliseconds,G=this._days,_n=this._months,_o=this._data,Ba,r1,p1,J1,I2;return _>=0&&G>=0&&_n>=0||_<=0&&G<=0&&_n<=0||(_+=JI(cE(_n)+G)*864e5,G=0,_n=0),_o.milliseconds=_%1e3,Ba=S3(_/1e3),_o.seconds=Ba%60,r1=S3(Ba/60),_o.minutes=r1%60,p1=S3(r1/60),_o.hours=p1%24,G+=S3(p1/24),I2=S3(eN(G)),_n+=I2,G-=JI(cE(I2)),J1=S3(_n/12),_n%=12,_o.days=G,_o.months=_n,_o.years=J1,this}function eN(_){return _*4800/146097}function cE(_){return _*146097/4800}function rW(_){if(!this.isValid())return NaN;var G,_n,_o=this._milliseconds;if(_=t3(_),_==="month"||_==="quarter"||_==="year")switch(G=this._days+_o/864e5,_n=this._months+eN(G),_){case"month":return _n;case"quarter":return _n/3;case"year":return _n/12}else switch(G=this._days+Math.round(cE(this._months)),_){case"week":return G/7+_o/6048e5;case"day":return G+_o/864e5;case"hour":return G*24+_o/36e5;case"minute":return G*1440+_o/6e4;case"second":return G*86400+_o/1e3;case"millisecond":return Math.floor(G*864e5)+_o;default:throw new Error("Unknown unit "+_)}}function i8(_){return function(){return this.as(_)}}var tN=i8("ms"),oW=i8("s"),sW=i8("m"),aW=i8("h"),cW=i8("d"),lW=i8("w"),uW=i8("M"),dW=i8("Q"),fW=i8("y"),hW=tN;function pW(){return i6(this)}function mW(_){return _=t3(_),this.isValid()?this[_+"s"]():NaN}function j5(_){return function(){return this.isValid()?this._data[_]:NaN}}var gW=j5("milliseconds"),yW=j5("seconds"),vW=j5("minutes"),_W=j5("hours"),bW=j5("days"),xW=j5("months"),wW=j5("years");function CW(){return S3(this.days()/7)}var r8=Math.round,W7={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function MW(_,G,_n,_o,Ba){return Ba.relativeTime(G||1,!!_n,_,_o)}function EW(_,G,_n,_o){var Ba=i6(_).abs(),r1=r8(Ba.as("s")),p1=r8(Ba.as("m")),J1=r8(Ba.as("h")),I2=r8(Ba.as("d")),l0=r8(Ba.as("M")),Q3=r8(Ba.as("w")),o8=r8(Ba.as("y")),W8=r1<=_n.ss&&["s",r1]||r1<_n.s&&["ss",r1]||p1<=1&&["m"]||p1<_n.m&&["mm",p1]||J1<=1&&["h"]||J1<_n.h&&["hh",J1]||I2<=1&&["d"]||I2<_n.d&&["dd",I2];return _n.w!=null&&(W8=W8||Q3<=1&&["w"]||Q3<_n.w&&["ww",Q3]),W8=W8||l0<=1&&["M"]||l0<_n.M&&["MM",l0]||o8<=1&&["y"]||["yy",o8],W8[2]=G,W8[3]=+_>0,W8[4]=_o,MW.apply(null,W8)}function SW(_){return _===void 0?r8:typeof _=="function"?(r8=_,!0):!1}function LW(_,G){return W7[_]===void 0?!1:G===void 0?W7[_]:(W7[_]=G,_==="s"&&(W7.ss=G-1),!0)}function AW(_,G){if(!this.isValid())return this.localeData().invalidDate();var _n=!1,_o=W7,Ba,r1;return typeof _=="object"&&(G=_,_=!1),typeof _=="boolean"&&(_n=_),typeof G=="object"&&(_o=Object.assign({},W7,G),G.s!=null&&G.ss==null&&(_o.ss=G.s-1)),Ba=this.localeData(),r1=EW(this,!_n,_o,Ba),_n&&(r1=Ba.pastFuture(+this,r1)),Ba.postformat(r1)}var lE=Math.abs;function Y7(_){return(_>0)-(_<0)||+_}function j_(){if(!this.isValid())return this.localeData().invalidDate();var _=lE(this._milliseconds)/1e3,G=lE(this._days),_n=lE(this._months),_o,Ba,r1,p1,J1=this.asSeconds(),I2,l0,Q3,o8;return J1?(_o=S3(_/60),Ba=S3(_o/60),_%=60,_o%=60,r1=S3(_n/12),_n%=12,p1=_?_.toFixed(3).replace(/\.?0+$/,""):"",I2=J1<0?"-":"",l0=Y7(this._months)!==Y7(J1)?"-":"",Q3=Y7(this._days)!==Y7(J1)?"-":"",o8=Y7(this._milliseconds)!==Y7(J1)?"-":"",I2+"P"+(r1?l0+r1+"Y":"")+(_n?l0+_n+"M":"")+(G?Q3+G+"D":"")+(Ba||_o||_?"T":"")+(Ba?o8+Ba+"H":"")+(_o?o8+_o+"M":"")+(_?o8+p1+"S":"")):"P0D"}var u0=n6.prototype;u0.isValid=P5,u0.abs=eW,u0.add=tW,u0.subtract=nW,u0.as=rW,u0.asMilliseconds=tN,u0.asSeconds=oW,u0.asMinutes=sW,u0.asHours=aW,u0.asDays=cW,u0.asWeeks=lW,u0.asMonths=uW,u0.asQuarters=dW,u0.asYears=fW,u0.valueOf=hW,u0._bubble=iW,u0.clone=pW,u0.get=mW,u0.milliseconds=gW,u0.seconds=yW,u0.minutes=vW,u0.hours=_W,u0.days=bW,u0.weeks=CW,u0.months=xW,u0.years=wW,u0.humanize=AW,u0.toISOString=j_,u0.toString=j_,u0.toJSON=j_,u0.locale=VI,u0.localeData=HI,u0.toIsoString=c1("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",j_),u0.lang=UI,b1("X",0,0,"unix"),b1("x",0,0,"valueOf"),$1("x",j0),$1("X",T1),g2("X",function(_,G,_n){_n._d=new Date(parseFloat(_)*1e3)}),g2("x",function(_,G,_n){_n._d=new Date(V2(_))});return n.version="2.30.1",r(w2),n.fn=j1,n.min=H8,n.max=t8,n.now=G8,n.utc=w,n.unix=Y$,n.months=K$,n.isDate=g,n.locale=Cc,n.invalid=ga,n.duration=i6,n.isMoment=n1,n.weekdays=Q$,n.parseZone=Z$,n.localeData=l1,n.isDuration=$8,n.monthsShort=X$,n.weekdaysMin=_q,n.defineLocale=Kc,n.updateLocale=o1,n.locales=s1,n.weekdaysShort=J$,n.normalizeUnits=t3,n.relativeTimeRounding=SW,n.relativeTimeThreshold=LW,n.calendarFormat=$G,n.prototype=j1,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n})});function yE(e,n){return Object.is(e,n)}var m3=null,T9=!1,vE=1,R3=Symbol("SIGNAL");function r0(e){let n=m3;return m3=e,n}function oN(){return m3}function PW(){return T9}var B5={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function H_(e){if(T9)throw new Error("");if(m3===null)return;m3.consumerOnSignalRead(e);let n=m3.nextProducerIndex++;if($_(m3),n<m3.producerNode.length&&m3.producerNode[n]!==e&&D9(m3)){let r=m3.producerNode[n];G_(r,m3.producerIndexOfThis[n])}m3.producerNode[n]!==e&&(m3.producerNode[n]=e,m3.producerIndexOfThis[n]=D9(m3)?lN(e,m3,n):0),m3.producerLastReadVersion[n]=e.version}function FW(){vE++}function _E(e){if(!(D9(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===vE)){if(!e.producerMustRecompute(e)&&!N9(e)){mE(e);return}e.producerRecomputeValue(e),mE(e)}}function sN(e){if(e.liveConsumerNode===void 0)return;let n=T9;T9=!0;try{for(let r of e.liveConsumerNode)r.dirty||cN(r)}finally{T9=n}}function aN(){return m3?.consumerAllowSignalWrites!==!1}function cN(e){e.dirty=!0,sN(e),e.consumerMarkedDirty?.(e)}function mE(e){e.dirty=!1,e.lastCleanEpoch=vE}function Z7(e){return e&&(e.nextProducerIndex=0),r0(e)}function I9(e,n){if(r0(n),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(D9(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)G_(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function N9(e){$_(e);for(let n=0;n<e.producerNode.length;n++){let r=e.producerNode[n],o=e.producerLastReadVersion[n];if(o!==r.version||(_E(r),o!==r.version))return!0}return!1}function K7(e){if($_(e),D9(e))for(let n=0;n<e.producerNode.length;n++)G_(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function lN(e,n,r){if(uN(e),e.liveConsumerNode.length===0&&dN(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=lN(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(n)-1}function G_(e,n){if(uN(e),e.liveConsumerNode.length===1&&dN(e))for(let o=0;o<e.producerNode.length;o++)G_(e.producerNode[o],e.producerIndexOfThis[o]);let r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){let o=e.liveConsumerIndexOfThis[n],s=e.liveConsumerNode[n];$_(s),s.producerIndexOfThis[o]=n}}function D9(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function $_(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function uN(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function dN(e){return e.producerNode!==void 0}function bE(e){let n=Object.create(jW);n.computation=e;let r=()=>{if(_E(n),H_(n),n.value===U_)throw n.error;return n.value};return r[R3]=n,r}var hE=Symbol("UNSET"),pE=Symbol("COMPUTING"),U_=Symbol("ERRORED"),jW=R2(E1({},B5),{value:hE,dirty:!0,error:null,equal:yE,producerMustRecompute(e){return e.value===hE||e.value===pE},producerRecomputeValue(e){if(e.value===pE)throw new Error("Detected cycle in computations.");let n=e.value;e.value=pE;let r=Z7(e),o;try{o=e.computation()}catch(s){o=U_,e.error=s}finally{I9(e,r)}if(n!==hE&&n!==U_&&o!==U_&&e.equal(n,o)){e.value=n;return}e.value=o,e.version++}});function BW(){throw new Error}var fN=BW;function hN(){fN()}function pN(e){fN=e}var VW=null;function mN(e){let n=Object.create(xE);n.value=e;let r=()=>(H_(n),n.value);return r[R3]=n,r}function q_(e,n){aN()||hN(),e.equal(e.value,n)||(e.value=n,UW(e))}function gN(e,n){aN()||hN(),q_(e,n(e.value))}var xE=R2(E1({},B5),{equal:yE,value:void 0});function UW(e){e.version++,FW(),sN(e),VW?.()}function yN(e,n,r){let o=Object.create(HW);r&&(o.consumerAllowSignalWrites=!0),o.fn=e,o.schedule=n;let s=p=>{o.cleanupFn=p};function l(p){return p.fn===null&&p.schedule===null}function d(p){l(p)||(K7(p),p.cleanupFn(),p.fn=null,p.schedule=null,p.cleanupFn=gE)}let h=()=>{if(o.fn===null)return;if(PW())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(o.dirty=!1,o.hasRun&&!N9(o))return;o.hasRun=!0;let p=Z7(o);try{o.cleanupFn(),o.cleanupFn=gE,o.fn(s)}finally{I9(o,p)}};return o.ref={notify:()=>cN(o),run:h,cleanup:()=>o.cleanupFn(),destroy:()=>d(o),[R3]:o},o.ref}var gE=()=>{},HW=R2(E1({},B5),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule!==null&&e.schedule(e.ref)},hasRun:!1,cleanupFn:gE});function y2(e){return typeof e=="function"}function X7(e){let r=e(o=>{Error.call(o),o.stack=new Error().stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var W_=X7(e=>function(r){e(this),this.message=r?`${r.length} errors occurred during unsubscription:
${r.map((o,s)=>`${s+1}) ${o.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=r});function V5(e,n){if(e){let r=e.indexOf(n);0<=r&&e.splice(r,1)}}var A2=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(let l of r)l.remove(this);else r.remove(this);let{initialTeardown:o}=this;if(y2(o))try{o()}catch(l){n=l instanceof W_?l.errors:[l]}let{_finalizers:s}=this;if(s){this._finalizers=null;for(let l of s)try{vN(l)}catch(d){n=n??[],d instanceof W_?n=[...n,...d.errors]:n.push(d)}}if(n)throw new W_(n)}}add(n){var r;if(n&&n!==this)if(this.closed)vN(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(n)}}_hasParent(n){let{_parentage:r}=this;return r===n||Array.isArray(r)&&r.includes(n)}_addParent(n){let{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(n),r):r?[r,n]:n}_removeParent(n){let{_parentage:r}=this;r===n?this._parentage=null:Array.isArray(r)&&V5(r,n)}remove(n){let{_finalizers:r}=this;r&&V5(r,n),n instanceof e&&n._removeParent(this)}};A2.EMPTY=(()=>{let e=new A2;return e.closed=!0,e})();var wE=A2.EMPTY;function Y_(e){return e instanceof A2||e&&"closed"in e&&y2(e.remove)&&y2(e.add)&&y2(e.unsubscribe)}function vN(e){y2(e)?e():e.unsubscribe()}var r6={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Q7={setTimeout(e,n,...r){let{delegate:o}=Q7;return o?.setTimeout?o.setTimeout(e,n,...r):setTimeout(e,n,...r)},clearTimeout(e){let{delegate:n}=Q7;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Z_(e){Q7.setTimeout(()=>{let{onUnhandledError:n}=r6;if(n)n(e);else throw e})}function O9(){}var _N=CE("C",void 0,void 0);function bN(e){return CE("E",void 0,e)}function xN(e){return CE("N",e,void 0)}function CE(e,n,r){return{kind:e,value:n,error:r}}var U5=null;function J7(e){if(r6.useDeprecatedSynchronousErrorHandling){let n=!U5;if(n&&(U5={errorThrown:!1,error:null}),e(),n){let{errorThrown:r,error:o}=U5;if(U5=null,r)throw o}}else e()}function wN(e){r6.useDeprecatedSynchronousErrorHandling&&U5&&(U5.errorThrown=!0,U5.error=e)}var H5=class extends A2{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Y_(n)&&n.add(this)):this.destination=qW}static create(n,r,o){return new s8(n,r,o)}next(n){this.isStopped?EE(xN(n),this):this._next(n)}error(n){this.isStopped?EE(bN(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?EE(_N,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},GW=Function.prototype.bind;function ME(e,n){return GW.call(e,n)}var SE=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:r}=this;if(r.next)try{r.next(n)}catch(o){K_(o)}}error(n){let{partialObserver:r}=this;if(r.error)try{r.error(n)}catch(o){K_(o)}else K_(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(r){K_(r)}}},s8=class extends H5{constructor(n,r,o){super();let s;if(y2(n)||!n)s={next:n??void 0,error:r??void 0,complete:o??void 0};else{let l;this&&r6.useDeprecatedNextContext?(l=Object.create(n),l.unsubscribe=()=>this.unsubscribe(),s={next:n.next&&ME(n.next,l),error:n.error&&ME(n.error,l),complete:n.complete&&ME(n.complete,l)}):s=n}this.destination=new SE(s)}};function K_(e){r6.useDeprecatedSynchronousErrorHandling?wN(e):Z_(e)}function $W(e){throw e}function EE(e,n){let{onStoppedNotification:r}=r6;r&&Q7.setTimeout(()=>r(e,n))}var qW={closed:!0,next:O9,error:$W,complete:O9};var ey=typeof Symbol=="function"&&Symbol.observable||"@@observable";function J3(e){return e}function LE(...e){return AE(e)}function AE(e){return e.length===0?J3:e.length===1?e[0]:function(r){return e.reduce((o,s)=>s(o),r)}}var U2=(()=>{class e{constructor(r){r&&(this._subscribe=r)}lift(r){let o=new e;return o.source=this,o.operator=r,o}subscribe(r,o,s){let l=YW(r)?r:new s8(r,o,s);return J7(()=>{let{operator:d,source:h}=this;l.add(d?d.call(l,h):h?this._subscribe(l):this._trySubscribe(l))}),l}_trySubscribe(r){try{return this._subscribe(r)}catch(o){r.error(o)}}forEach(r,o){return o=CN(o),new o((s,l)=>{let d=new s8({next:h=>{try{r(h)}catch(p){l(p),d.unsubscribe()}},error:l,complete:s});this.subscribe(d)})}_subscribe(r){var o;return(o=this.source)===null||o===void 0?void 0:o.subscribe(r)}[ey](){return this}pipe(...r){return AE(r)(this)}toPromise(r){return r=CN(r),new r((o,s)=>{let l;this.subscribe(d=>l=d,d=>s(d),()=>o(l))})}}return e.create=n=>new e(n),e})();function CN(e){var n;return(n=e??r6.Promise)!==null&&n!==void 0?n:Promise}function WW(e){return e&&y2(e.next)&&y2(e.error)&&y2(e.complete)}function YW(e){return e&&e instanceof H5||WW(e)&&Y_(e)}function kE(e){return y2(e?.lift)}function N2(e){return n=>{if(kE(n))return n.lift(function(r){try{return e(r,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function k2(e,n,r,o,s){return new TE(e,n,r,o,s)}var TE=class extends H5{constructor(n,r,o,s,l,d){super(n),this.onFinalize=l,this.shouldUnsubscribe=d,this._next=r?function(h){try{r(h)}catch(p){n.error(p)}}:super._next,this._error=s?function(h){try{s(h)}catch(p){n.error(p)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(h){n.error(h)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:r}=this;super.unsubscribe(),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function ty(){return N2((e,n)=>{let r=null;e._refCount++;let o=k2(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){r=null;return}let s=e._connection,l=r;r=null,s&&(!l||s===l)&&s.unsubscribe(),n.unsubscribe()});e.subscribe(o),o.closed||(r=e.connect())})}var G5=class extends U2{constructor(n,r){super(),this.source=n,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,kE(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new A2;let r=this.getSubject();n.add(this.source.subscribe(k2(r,void 0,()=>{this._teardown(),r.complete()},o=>{this._teardown(),r.error(o)},()=>this._teardown()))),n.closed&&(this._connection=null,n=A2.EMPTY)}return n}refCount(){return ty()(this)}};var MN=X7(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var W1=(()=>{class e extends U2{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){let o=new X_(this,this);return o.operator=r,o}_throwIfClosed(){if(this.closed)throw new MN}next(r){J7(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let o of this.currentObservers)o.next(r)}})}error(r){J7(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;let{observers:o}=this;for(;o.length;)o.shift().error(r)}})}complete(){J7(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){let{hasError:o,isStopped:s,observers:l}=this;return o||s?wE:(this.currentObservers=null,l.push(r),new A2(()=>{this.currentObservers=null,V5(l,r)}))}_checkFinalizedStatuses(r){let{hasError:o,thrownError:s,isStopped:l}=this;o?r.error(s):l&&r.complete()}asObservable(){let r=new U2;return r.source=this,r}}return e.create=(n,r)=>new X_(n,r),e})(),X_=class extends W1{constructor(n,r){super(),this.destination=n,this.source=r}next(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.next)===null||o===void 0||o.call(r,n)}error(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.error)===null||o===void 0||o.call(r,n)}complete(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)}_subscribe(n){var r,o;return(o=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&o!==void 0?o:wE}};var i3=class extends W1{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let r=super._subscribe(n);return!r.closed&&n.next(this._value),r}getValue(){let{hasError:n,thrownError:r,_value:o}=this;if(n)throw r;return this._throwIfClosed(),o}next(n){super.next(this._value=n)}};var z9={now(){return(z9.delegate||Date).now()},delegate:void 0};var Q_=class extends W1{constructor(n=1/0,r=1/0,o=z9){super(),this._bufferSize=n,this._windowTime=r,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,r)}next(n){let{isStopped:r,_buffer:o,_infiniteTimeWindow:s,_timestampProvider:l,_windowTime:d}=this;r||(o.push(n),!s&&o.push(l.now()+d)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();let r=this._innerSubscribe(n),{_infiniteTimeWindow:o,_buffer:s}=this,l=s.slice();for(let d=0;d<l.length&&!n.closed;d+=o?1:2)n.next(l[d]);return this._checkFinalizedStatuses(n),r}_trimBuffer(){let{_bufferSize:n,_timestampProvider:r,_buffer:o,_infiniteTimeWindow:s}=this,l=(s?1:2)*n;if(n<1/0&&l<o.length&&o.splice(0,o.length-l),!s){let d=r.now(),h=0;for(let p=1;p<o.length&&o[p]<=d;p+=2)h=p;h&&o.splice(0,h+1)}}};var J_=class extends A2{constructor(n,r){super()}schedule(n,r=0){return this}};var R9={setInterval(e,n,...r){let{delegate:o}=R9;return o?.setInterval?o.setInterval(e,n,...r):setInterval(e,n,...r)},clearInterval(e){let{delegate:n}=R9;return(n?.clearInterval||clearInterval)(e)},delegate:void 0};var vb=class extends J_{constructor(n,r){super(n,r),this.scheduler=n,this.work=r,this.pending=!1}schedule(n,r=0){var o;if(this.closed)return this;this.state=n;let s=this.id,l=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(l,s,r)),this.pending=!0,this.delay=r,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(l,this.id,r),this}requestAsyncId(n,r,o=0){return R9.setInterval(n.flush.bind(n,this),o)}recycleAsyncId(n,r,o=0){if(o!=null&&this.delay===o&&this.pending===!1)return r;r!=null&&R9.clearInterval(r)}execute(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let o=this._execute(n,r);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,r){let o=!1,s;try{this.work(n)}catch(l){o=!0,s=l||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){let{id:n,scheduler:r}=this,{actions:o}=r;this.work=this.state=this.scheduler=null,this.pending=!1,V5(o,this),n!=null&&(this.id=this.recycleAsyncId(r,n,null)),this.delay=null,super.unsubscribe()}}};var ny=class e{constructor(n,r=e.now){this.schedulerActionCtor=n,this.now=r}schedule(n,r=0,o){return new this.schedulerActionCtor(this,n).schedule(o,r)}};ny.now=z9.now;var _b=class extends ny{constructor(n,r=ny.now){super(n,r),this.actions=[],this._active=!1}flush(n){let{actions:r}=this;if(this._active){r.push(n);return}let o;this._active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,o){for(;n=r.shift();)n.unsubscribe();throw o}}};var P9=new _b(vb),EN=P9;var A3=new U2(e=>e.complete());function ex(e){return e&&y2(e.schedule)}function DE(e){return e[e.length-1]}function tx(e){return y2(DE(e))?e.pop():void 0}function k6(e){return ex(DE(e))?e.pop():void 0}function SN(e,n){return typeof DE(e)=="number"?e.pop():n}function AN(e,n,r,o){function s(l){return l instanceof r?l:new r(function(d){d(l)})}return new(r||(r=Promise))(function(l,d){function h(y){try{g(o.next(y))}catch(v){d(v)}}function p(y){try{g(o.throw(y))}catch(v){d(v)}}function g(y){y.done?l(y.value):s(y.value).then(h,p)}g((o=o.apply(e,n||[])).next())})}function LN(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],o=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function $5(e){return this instanceof $5?(this.v=e,this):new $5(e)}function kN(e,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=r.apply(e,n||[]),s,l=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",d),s[Symbol.asyncIterator]=function(){return this},s;function d(k){return function(F){return Promise.resolve(F).then(k,v)}}function h(k,F){o[k]&&(s[k]=function(q){return new Promise(function(_r,ga){l.push([k,q,_r,ga])>1||p(k,q)})},F&&(s[k]=F(s[k])))}function p(k,F){try{g(o[k](F))}catch(q){w(l[0][3],q)}}function g(k){k.value instanceof $5?Promise.resolve(k.value.v).then(y,v):w(l[0][2],k)}function y(k){p("next",k)}function v(k){p("throw",k)}function w(k,F){k(F),l.shift(),l.length&&p(l[0][0],l[0][1])}}function TN(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],r;return n?n.call(e):(e=typeof LN=="function"?LN(e):e[Symbol.iterator](),r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r);function o(l){r[l]=e[l]&&function(d){return new Promise(function(h,p){d=e[l](d),s(h,p,d.done,d.value)})}}function s(l,d,h,p){Promise.resolve(p).then(function(g){l({value:g,done:h})},d)}}var iy=e=>e&&typeof e.length=="number"&&typeof e!="function";function nx(e){return y2(e?.then)}function ix(e){return y2(e[ey])}function rx(e){return Symbol.asyncIterator&&y2(e?.[Symbol.asyncIterator])}function ox(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ZW(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var sx=ZW();function ax(e){return y2(e?.[sx])}function cx(e){return kN(this,arguments,function*(){let r=e.getReader();try{for(;;){let{value:o,done:s}=yield $5(r.read());if(s)return yield $5(void 0);yield yield $5(o)}}finally{r.releaseLock()}})}function lx(e){return y2(e?.getReader)}function L0(e){if(e instanceof U2)return e;if(e!=null){if(ix(e))return KW(e);if(iy(e))return XW(e);if(nx(e))return QW(e);if(rx(e))return DN(e);if(ax(e))return JW(e);if(lx(e))return eY(e)}throw ox(e)}function KW(e){return new U2(n=>{let r=e[ey]();if(y2(r.subscribe))return r.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function XW(e){return new U2(n=>{for(let r=0;r<e.length&&!n.closed;r++)n.next(e[r]);n.complete()})}function QW(e){return new U2(n=>{e.then(r=>{n.closed||(n.next(r),n.complete())},r=>n.error(r)).then(null,Z_)})}function JW(e){return new U2(n=>{for(let r of e)if(n.next(r),n.closed)return;n.complete()})}function DN(e){return new U2(n=>{tY(e,n).catch(r=>n.error(r))})}function eY(e){return DN(cx(e))}function tY(e,n){var r,o,s,l;return AN(this,void 0,void 0,function*(){try{for(r=TN(e);o=yield r.next(),!o.done;){let d=o.value;if(n.next(d),n.closed)return}}catch(d){s={error:d}}finally{try{o&&!o.done&&(l=r.return)&&(yield l.call(r))}finally{if(s)throw s.error}}n.complete()})}function l4(e,n,r,o=0,s=!1){let l=n.schedule(function(){r(),s?e.add(this.schedule(null,o)):this.unsubscribe()},o);if(e.add(l),!s)return l}function ux(e,n=0){return N2((r,o)=>{r.subscribe(k2(o,s=>l4(o,e,()=>o.next(s),n),()=>l4(o,e,()=>o.complete(),n),s=>l4(o,e,()=>o.error(s),n)))})}function dx(e,n=0){return N2((r,o)=>{o.add(e.schedule(()=>r.subscribe(o),n))})}function IN(e,n){return L0(e).pipe(dx(n),ux(n))}function NN(e,n){return L0(e).pipe(dx(n),ux(n))}function ON(e,n){return new U2(r=>{let o=0;return n.schedule(function(){o===e.length?r.complete():(r.next(e[o++]),r.closed||this.schedule())})})}function zN(e,n){return new U2(r=>{let o;return l4(r,n,()=>{o=e[sx](),l4(r,n,()=>{let s,l;try{({value:s,done:l}=o.next())}catch(d){r.error(d);return}l?r.complete():r.next(s)},0,!0)}),()=>y2(o?.return)&&o.return()})}function fx(e,n){if(!e)throw new Error("Iterable cannot be null");return new U2(r=>{l4(r,n,()=>{let o=e[Symbol.asyncIterator]();l4(r,n,()=>{o.next().then(s=>{s.done?r.complete():r.next(s.value)})},0,!0)})})}function RN(e,n){return fx(cx(e),n)}function PN(e,n){if(e!=null){if(ix(e))return IN(e,n);if(iy(e))return ON(e,n);if(nx(e))return NN(e,n);if(rx(e))return fx(e,n);if(ax(e))return zN(e,n);if(lx(e))return RN(e,n)}throw ox(e)}function X0(e,n){return n?PN(e,n):L0(e)}function s2(...e){let n=k6(e);return X0(e,n)}function Y8(e,n){let r=y2(e)?e:()=>e,o=s=>s.error(r());return new U2(n?s=>n.schedule(o,0,s):o)}function ry(e){return!!e&&(e instanceof U2||y2(e.lift)&&y2(e.subscribe))}var a8=X7(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function FN(e){return e instanceof Date&&!isNaN(e)}function a2(e,n){return N2((r,o)=>{let s=0;r.subscribe(k2(o,l=>{o.next(e.call(n,l,s++))}))})}var{isArray:nY}=Array;function iY(e,n){return nY(n)?e(...n):e(n)}function oy(e){return a2(n=>iY(e,n))}var{isArray:rY}=Array,{getPrototypeOf:oY,prototype:sY,keys:aY}=Object;function hx(e){if(e.length===1){let n=e[0];if(rY(n))return{args:n,keys:null};if(cY(n)){let r=aY(n);return{args:r.map(o=>n[o]),keys:r}}}return{args:e,keys:null}}function cY(e){return e&&typeof e=="object"&&oY(e)===sY}function px(e,n){return e.reduce((r,o,s)=>(r[o]=n[s],r),{})}function sy(...e){let n=k6(e),r=tx(e),{args:o,keys:s}=hx(e);if(o.length===0)return X0([],n);let l=new U2(lY(o,n,s?d=>px(s,d):J3));return r?l.pipe(oy(r)):l}function lY(e,n,r=J3){return o=>{jN(n,()=>{let{length:s}=e,l=new Array(s),d=s,h=s;for(let p=0;p<s;p++)jN(n,()=>{let g=X0(e[p],n),y=!1;g.subscribe(k2(o,v=>{l[p]=v,y||(y=!0,h--),h||o.next(r(l.slice()))},()=>{--d||o.complete()}))},o)},o)}}function jN(e,n,r){e?l4(r,e,n):n()}function BN(e,n,r,o,s,l,d,h){let p=[],g=0,y=0,v=!1,w=()=>{v&&!p.length&&!g&&n.complete()},k=q=>g<o?F(q):p.push(q),F=q=>{l&&n.next(q),g++;let _r=!1;L0(r(q,y++)).subscribe(k2(n,ga=>{s?.(ga),l?k(ga):n.next(ga)},()=>{_r=!0},void 0,()=>{if(_r)try{for(g--;p.length&&g<o;){let ga=p.shift();d?l4(n,d,()=>F(ga)):F(ga)}w()}catch(ga){n.error(ga)}}))};return e.subscribe(k2(n,k,()=>{v=!0,w()})),()=>{h?.()}}function r3(e,n,r=1/0){return y2(n)?r3((o,s)=>a2((l,d)=>n(o,l,s,d))(L0(e(o,s))),r):(typeof n=="number"&&(r=n),N2((o,s)=>BN(o,s,e,r)))}function F9(e=1/0){return r3(J3,e)}function VN(){return F9(1)}function Z8(...e){return VN()(X0(e,k6(e)))}function ay(e){return new U2(n=>{L0(e()).subscribe(n)})}function j9(...e){let n=tx(e),{args:r,keys:o}=hx(e),s=new U2(l=>{let{length:d}=r;if(!d){l.complete();return}let h=new Array(d),p=d,g=d;for(let y=0;y<d;y++){let v=!1;L0(r[y]).subscribe(k2(l,w=>{v||(v=!0,g--),h[y]=w},()=>p--,void 0,()=>{(!p||!v)&&(g||l.next(o?px(o,h):h),l.complete())}))}});return n?s.pipe(oy(n)):s}var uY=["addListener","removeListener"],dY=["addEventListener","removeEventListener"],fY=["on","off"];function q5(e,n,r,o){if(y2(r)&&(o=r,r=void 0),o)return q5(e,n,r).pipe(oy(o));let[s,l]=mY(e)?dY.map(d=>h=>e[d](n,h,r)):hY(e)?uY.map(UN(e,n)):pY(e)?fY.map(UN(e,n)):[];if(!s&&iy(e))return r3(d=>q5(d,n,r))(L0(e));if(!s)throw new TypeError("Invalid event target");return new U2(d=>{let h=(...p)=>d.next(1<p.length?p:p[0]);return s(h),()=>l(h)})}function UN(e,n){return r=>o=>e[r](n,o)}function hY(e){return y2(e.addListener)&&y2(e.removeListener)}function pY(e){return y2(e.on)&&y2(e.off)}function mY(e){return y2(e.addEventListener)&&y2(e.removeEventListener)}function HN(e=0,n,r=EN){let o=-1;return n!=null&&(ex(n)?r=n:o=n),new U2(s=>{let l=FN(e)?+e-r.now():e;l<0&&(l=0);let d=0;return r.schedule(function(){s.closed||(s.next(d++),0<=o?this.schedule(void 0,o):s.complete())},l)})}function P3(...e){let n=k6(e),r=SN(e,1/0),o=e;return o.length?o.length===1?L0(o[0]):F9(r)(X0(o,n)):A3}function d0(e,n){return N2((r,o)=>{let s=0;r.subscribe(k2(o,l=>e.call(n,l,s++)&&o.next(l)))})}function GN(e){return N2((n,r)=>{let o=!1,s=null,l=null,d=!1,h=()=>{if(l?.unsubscribe(),l=null,o){o=!1;let g=s;s=null,r.next(g)}d&&r.complete()},p=()=>{l=null,d&&r.complete()};n.subscribe(k2(r,g=>{o=!0,s=g,l||L0(e(g)).subscribe(l=k2(r,h,p))},()=>{d=!0,(!o||!l||l.closed)&&r.complete()}))})}function mx(e,n=P9){return GN(()=>HN(e,n))}function T6(e){return N2((n,r)=>{let o=null,s=!1,l;o=n.subscribe(k2(r,void 0,void 0,d=>{l=L0(e(d,T6(e)(n))),o?(o.unsubscribe(),o=null,l.subscribe(r)):s=!0})),s&&(o.unsubscribe(),o=null,l.subscribe(r))})}function $N(e,n,r,o,s){return(l,d)=>{let h=r,p=n,g=0;l.subscribe(k2(d,y=>{let v=g++;p=h?e(p,y,v):(h=!0,y),o&&d.next(p)},s&&(()=>{h&&d.next(p),d.complete()})))}}function K8(e,n){return y2(n)?r3(e,n,1):r3(e,1)}function cy(e,n=P9){return N2((r,o)=>{let s=null,l=null,d=null,h=()=>{if(s){s.unsubscribe(),s=null;let g=l;l=null,o.next(g)}};function p(){let g=d+e,y=n.now();if(y<g){s=this.schedule(void 0,g-y),o.add(s);return}h()}r.subscribe(k2(o,g=>{l=g,d=n.now(),s||(s=n.schedule(p,e),o.add(s))},()=>{h(),o.complete()},void 0,()=>{l=s=null}))})}function X8(e){return N2((n,r)=>{let o=!1;n.subscribe(k2(r,s=>{o=!0,r.next(s)},()=>{o||r.next(e),r.complete()}))})}function g3(e){return e<=0?()=>A3:N2((n,r)=>{let o=0;n.subscribe(k2(r,s=>{++o<=e&&(r.next(s),e<=o&&r.complete())}))})}function IE(e){return a2(()=>e)}function W5(e,n=J3){return e=e??gY,N2((r,o)=>{let s,l=!0;r.subscribe(k2(o,d=>{let h=n(d);(l||!e(s,h))&&(l=!1,s=h,o.next(d))}))})}function gY(e,n){return e===n}function gx(e=yY){return N2((n,r)=>{let o=!1;n.subscribe(k2(r,s=>{o=!0,r.next(s)},()=>o?r.complete():r.error(e())))})}function yY(){return new a8}function Q8(e){return N2((n,r)=>{try{n.subscribe(r)}finally{r.add(e)}})}function D6(e,n){let r=arguments.length>=2;return o=>o.pipe(e?d0((s,l)=>e(s,l,o)):J3,g3(1),r?X8(n):gx(()=>new a8))}function ly(e){return e<=0?()=>A3:N2((n,r)=>{let o=[];n.subscribe(k2(r,s=>{o.push(s),e<o.length&&o.shift()},()=>{for(let s of o)r.next(s);r.complete()},void 0,()=>{o=null}))})}function NE(e,n){let r=arguments.length>=2;return o=>o.pipe(e?d0((s,l)=>e(s,l,o)):J3,ly(1),r?X8(n):gx(()=>new a8))}function yx(){return N2((e,n)=>{let r,o=!1;e.subscribe(k2(n,s=>{let l=r;r=s,o&&n.next([l,s]),o=!0}))})}function OE(e,n){return N2($N(e,n,arguments.length>=2,!0))}function B9(e={}){let{connector:n=()=>new W1,resetOnError:r=!0,resetOnComplete:o=!0,resetOnRefCountZero:s=!0}=e;return l=>{let d,h,p,g=0,y=!1,v=!1,w=()=>{h?.unsubscribe(),h=void 0},k=()=>{w(),d=p=void 0,y=v=!1},F=()=>{let q=d;k(),q?.unsubscribe()};return N2((q,_r)=>{g++,!v&&!y&&w();let ga=p=p??n();_r.add(()=>{g--,g===0&&!v&&!y&&(h=zE(F,s))}),ga.subscribe(_r),!d&&g>0&&(d=new s8({next:La=>ga.next(La),error:La=>{v=!0,w(),h=zE(k,r,La),ga.error(La)},complete:()=>{y=!0,w(),h=zE(k,o),ga.complete()}}),L0(q).subscribe(d))})(l)}}function zE(e,n,...r){if(n===!0){e();return}if(n===!1)return;let o=new s8({next:()=>{o.unsubscribe(),e()}});return L0(n(...r)).subscribe(o)}function vx(e,n,r){let o,s=!1;return e&&typeof e=="object"?{bufferSize:o=1/0,windowTime:n=1/0,refCount:s=!1,scheduler:r}=e:o=e??1/0,B9({connector:()=>new Q_(o,n,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function V9(e){return d0((n,r)=>e<=r)}function e4(...e){let n=k6(e);return N2((r,o)=>{(n?Z8(e,r,n):Z8(e,r)).subscribe(o)})}function k3(e,n){return N2((r,o)=>{let s=null,l=0,d=!1,h=()=>d&&!s&&o.complete();r.subscribe(k2(o,p=>{s?.unsubscribe();let g=0,y=l++;L0(e(p,y)).subscribe(s=k2(o,v=>o.next(n?n(p,v,y,g++):v),()=>{s=null,h()}))},()=>{d=!0,h()}))})}function I0(e){return N2((n,r)=>{L0(e).subscribe(k2(r,()=>r.complete(),O9)),!r.closed&&n.subscribe(r)})}function RE(e,n=!1){return N2((r,o)=>{let s=0;r.subscribe(k2(o,l=>{let d=e(l,s++);(d||n)&&o.next(l),!d&&o.complete()}))})}function B0(e,n,r){let o=y2(e)||n||r?{next:e,error:n,complete:r}:e;return o?N2((s,l)=>{var d;(d=o.subscribe)===null||d===void 0||d.call(o);let h=!0;s.subscribe(k2(l,p=>{var g;(g=o.next)===null||g===void 0||g.call(o,p),l.next(p)},()=>{var p;h=!1,(p=o.complete)===null||p===void 0||p.call(o),l.complete()},p=>{var g;h=!1,(g=o.error)===null||g===void 0||g.call(o,p),l.error(p)},()=>{var p,g;h&&((p=o.unsubscribe)===null||p===void 0||p.call(o)),(g=o.finalize)===null||g===void 0||g.call(o)}))}):J3}var OO="https://g.co/ng/security#xss",z1=class extends Error{code;constructor(n,r){super(aL(n,r)),this.code=n}};function aL(e,n){return`${`NG0${Math.abs(e)}`}${n?": "+n:""}`}var zO=Symbol("InputSignalNode#UNSET"),vY=R2(E1({},xE),{transformFn:void 0,applyValueToInputSignal(e,n){q_(e,n)}});function RO(e,n){let r=Object.create(vY);r.value=e,r.transformFn=n?.transform;function o(){if(H_(r),r.value===zO)throw new z1(-950,!1);return r.value}return o[R3]=r,o}function ev(e){return{toString:e}.toString()}var _x="__parameters__";function _Y(e){return function(...r){if(e){let o=e(...r);for(let s in o)this[s]=o[s]}}}function PO(e,n,r){return ev(()=>{let o=_Y(n);function s(...l){if(this instanceof s)return o.apply(this,l),this;let d=new s(...l);return h.annotation=d,h;function h(p,g,y){let v=p.hasOwnProperty(_x)?p[_x]:Object.defineProperty(p,_x,{value:[]})[_x];for(;v.length<=y;)v.push(null);return(v[y]=v[y]||[]).push(d),p}}return r&&(s.prototype=Object.create(r.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}var Z5=globalThis;function N0(e){for(let n in e)if(e[n]===N0)return n;throw Error("Could not find renamed property on target object.")}function bY(e,n){for(let r in n)n.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=n[r])}function i4(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(i4).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r===-1?n:n.substring(0,r)}function KE(e,n){return e==null||e===""?n===null?"":n:n==null||n===""?e:e+" "+n}var xY=N0({__forward_ref__:N0});function S4(e){return e.__forward_ref__=S4,e.toString=function(){return i4(this())},e}function t4(e){return FO(e)?e():e}function FO(e){return typeof e=="function"&&e.hasOwnProperty(xY)&&e.__forward_ref__===S4}function C1(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function i2(e){return{providers:e.providers||[],imports:e.imports||[]}}function ow(e){return qN(e,BO)||qN(e,VO)}function jO(e){return ow(e)!==null}function qN(e,n){return e.hasOwnProperty(n)?e[n]:null}function wY(e){let n=e&&(e[BO]||e[VO]);return n||null}function WN(e){return e&&(e.hasOwnProperty(YN)||e.hasOwnProperty(CY))?e[YN]:null}var BO=N0({\u0275prov:N0}),YN=N0({\u0275inj:N0}),VO=N0({ngInjectableDef:N0}),CY=N0({ngInjectorDef:N0}),I1=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,r){this._desc=n,this.\u0275prov=void 0,typeof r=="number"?this.__NG_ELEMENT_ID__=r:r!==void 0&&(this.\u0275prov=C1({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function UO(e){return e&&!!e.\u0275providers}var MY=N0({\u0275cmp:N0}),EY=N0({\u0275dir:N0}),SY=N0({\u0275pipe:N0}),LY=N0({\u0275mod:N0}),Ix=N0({\u0275fac:N0}),G9=N0({__NG_ELEMENT_ID__:N0}),ZN=N0({__NG_ENV_ID__:N0});function $9(e){return typeof e=="string"?e:e==null?"":String(e)}function AY(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():$9(e)}function kY(e,n){let r=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new z1(-200,e)}function cL(e,n){throw new z1(-201,!1)}var Q2=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Q2||{}),XE;function HO(){return XE}function u4(e){let n=XE;return XE=e,n}function GO(e,n,r){let o=ow(e);if(o&&o.providedIn=="root")return o.value===void 0?o.value=o.factory():o.value;if(r&Q2.Optional)return null;if(n!==void 0)return n;cL(e,"Injector")}var TY={},q9=TY,QE="__NG_DI_FLAG__",Nx="ngTempTokenPath",DY="ngTokenPath",IY=/\n/gm,NY="\u0275",KN="__source",py;function OY(){return py}function J8(e){let n=py;return py=e,n}function zY(e,n=Q2.Default){if(py===void 0)throw new z1(-203,!1);return py===null?GO(e,void 0,n):py.get(e,n&Q2.Optional?null:void 0,n)}function K1(e,n=Q2.Default){return(HO()||zY)(t4(e),n)}function Ua(e,n=Q2.Default){return K1(e,sw(n))}function sw(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function JE(e){let n=[];for(let r=0;r<e.length;r++){let o=t4(e[r]);if(Array.isArray(o)){if(o.length===0)throw new z1(900,!1);let s,l=Q2.Default;for(let d=0;d<o.length;d++){let h=o[d],p=RY(h);typeof p=="number"?p===-1?s=h.token:l|=p:s=h}n.push(K1(s,l))}else n.push(K1(o))}return n}function $O(e,n){return e[QE]=n,e.prototype[QE]=n,e}function RY(e){return e[QE]}function PY(e,n,r,o){let s=e[Nx];throw n[KN]&&s.unshift(n[KN]),e.message=FY(`
`+e.message,s,r,o),e[DY]=s,e[Nx]=null,e}function FY(e,n,r,o=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==NY?e.slice(2):e;let s=i4(n);if(Array.isArray(n))s=n.map(i4).join(" -> ");else if(typeof n=="object"){let l=[];for(let d in n)if(n.hasOwnProperty(d)){let h=n[d];l.push(d+":"+(typeof h=="string"?JSON.stringify(h):i4(h)))}s=`{${l.join(", ")}}`}return`${r}${o?"("+o+")":""}[${s}]: ${e.replace(IY,`
  `)}`}var l7=$O(PO("Optional"),8);var tv=$O(PO("SkipSelf"),4);function X5(e,n){let r=e.hasOwnProperty(Ix);return r?e[Ix]:null}function jY(e,n,r){if(e.length!==n.length)return!1;for(let o=0;o<e.length;o++){let s=e[o],l=n[o];if(r&&(s=r(s),l=r(l)),l!==s)return!1}return!0}function BY(e){return e.flat(Number.POSITIVE_INFINITY)}function lL(e,n){e.forEach(r=>Array.isArray(r)?lL(r,n):n(r))}function qO(e,n,r){n>=e.length?e.push(r):e.splice(n,0,r)}function Ox(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function VY(e,n){let r=[];for(let o=0;o<e;o++)r.push(n);return r}function UY(e,n,r,o){let s=e.length;if(s==n)e.push(r,o);else if(s===1)e.push(o,e[0]),e[0]=r;else{for(s--,e.push(e[s-1],e[s]);s>n;){let l=s-2;e[s]=e[l],s--}e[n]=r,e[n+1]=o}}function aw(e,n,r){let o=nv(e,n);return o>=0?e[o|1]=r:(o=~o,UY(e,o,n,r)),o}function PE(e,n){let r=nv(e,n);if(r>=0)return e[r|1]}function nv(e,n){return HY(e,n,1)}function HY(e,n,r){let o=0,s=e.length>>r;for(;s!==o;){let l=o+(s-o>>1),d=e[l<<r];if(n===d)return l<<r;d>n?s=l:o=l+1}return~(s<<r)}var gy={},n4=[],yy=new I1(""),WO=new I1("",-1),YO=new I1(""),zx=class{get(n,r=q9){if(r===q9){let o=new Error(`NullInjectorError: No provider for ${i4(n)}!`);throw o.name="NullInjectorError",o}return r}};function ZO(e,n){let r=e[LY]||null;if(!r&&n===!0)throw new Error(`Type ${i4(e)} does not have '\u0275mod' property.`);return r}function t5(e){return e[MY]||null}function KO(e){return e[EY]||null}function XO(e){return e[SY]||null}function QO(e){let n=t5(e)||KO(e)||XO(e);return n!==null?n.standalone:!1}function cw(e){return{\u0275providers:e}}function GY(...e){return{\u0275providers:JO(!0,e),\u0275fromNgModule:!0}}function JO(e,...n){let r=[],o=new Set,s,l=d=>{r.push(d)};return lL(n,d=>{let h=d;eS(h,l,[],o)&&(s||=[],s.push(h))}),s!==void 0&&ez(s,l),r}function ez(e,n){for(let r=0;r<e.length;r++){let{ngModule:o,providers:s}=e[r];uL(s,l=>{n(l,o)})}}function eS(e,n,r,o){if(e=t4(e),!e)return!1;let s=null,l=WN(e),d=!l&&t5(e);if(!l&&!d){let p=e.ngModule;if(l=WN(p),l)s=p;else return!1}else{if(d&&!d.standalone)return!1;s=e}let h=o.has(s);if(d){if(h)return!1;if(o.add(s),d.dependencies){let p=typeof d.dependencies=="function"?d.dependencies():d.dependencies;for(let g of p)eS(g,n,r,o)}}else if(l){if(l.imports!=null&&!h){o.add(s);let g;try{lL(l.imports,y=>{eS(y,n,r,o)&&(g||=[],g.push(y))})}finally{}g!==void 0&&ez(g,n)}if(!h){let g=X5(s)||(()=>new s);n({provide:s,useFactory:g,deps:n4},s),n({provide:YO,useValue:s,multi:!0},s),n({provide:yy,useValue:()=>K1(s),multi:!0},s)}let p=l.providers;if(p!=null&&!h){let g=e;uL(p,y=>{n(y,g)})}}else return!1;return s!==e&&e.providers!==void 0}function uL(e,n){for(let r of e)UO(r)&&(r=r.\u0275providers),Array.isArray(r)?uL(r,n):n(r)}var $Y=N0({provide:String,useValue:N0});function tz(e){return e!==null&&typeof e=="object"&&$Y in e}function qY(e){return!!(e&&e.useExisting)}function WY(e){return!!(e&&e.useFactory)}function vy(e){return typeof e=="function"}function YY(e){return!!e.useClass}var lw=new I1(""),Ex={},ZY={},FE;function uw(){return FE===void 0&&(FE=new zx),FE}var T3=class{},W9=class extends T3{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,r,o,s){super(),this.parent=r,this.source=o,this.scopes=s,nS(n,d=>this.processProvider(d)),this.records.set(WO,uy(void 0,this)),s.has("environment")&&this.records.set(T3,uy(void 0,this));let l=this.records.get(lw);l!=null&&typeof l.value=="string"&&this.scopes.add(l.value),this.injectorDefTypes=new Set(this.get(YO,n4,Q2.Self))}destroy(){U9(this),this._destroyed=!0;let n=r0(null);try{for(let o of this._ngOnDestroyHooks)o.ngOnDestroy();let r=this._onDestroyHooks;this._onDestroyHooks=[];for(let o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),r0(n)}}onDestroy(n){return U9(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){U9(this);let r=J8(this),o=u4(void 0),s;try{return n()}finally{J8(r),u4(o)}}get(n,r=q9,o=Q2.Default){if(U9(this),n.hasOwnProperty(ZN))return n[ZN](this);o=sw(o);let s,l=J8(this),d=u4(void 0);try{if(!(o&Q2.SkipSelf)){let p=this.records.get(n);if(p===void 0){let g=eZ(n)&&ow(n);g&&this.injectableDefInScope(g)?p=uy(tS(n),Ex):p=null,this.records.set(n,p)}if(p!=null)return this.hydrate(n,p)}let h=o&Q2.Self?uw():this.parent;return r=o&Q2.Optional&&r===q9?null:r,h.get(n,r)}catch(h){if(h.name==="NullInjectorError"){if((h[Nx]=h[Nx]||[]).unshift(i4(n)),l)throw h;return PY(h,n,"R3InjectorError",this.source)}else throw h}finally{u4(d),J8(l)}}resolveInjectorInitializers(){let n=r0(null),r=J8(this),o=u4(void 0),s;try{let l=this.get(yy,n4,Q2.Self);for(let d of l)d()}finally{J8(r),u4(o),r0(n)}}toString(){let n=[],r=this.records;for(let o of r.keys())n.push(i4(o));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=t4(n);let r=vy(n)?n:t4(n&&n.provide),o=XY(n);if(!vy(n)&&n.multi===!0){let s=this.records.get(r);s||(s=uy(void 0,Ex,!0),s.factory=()=>JE(s.multi),this.records.set(r,s)),r=n,s.multi.push(n)}this.records.set(r,o)}hydrate(n,r){let o=r0(null);try{return r.value===Ex&&(r.value=ZY,r.value=r.factory()),typeof r.value=="object"&&r.value&&JY(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{r0(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;let r=t4(n.providedIn);return typeof r=="string"?r==="any"||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(n){let r=this._onDestroyHooks.indexOf(n);r!==-1&&this._onDestroyHooks.splice(r,1)}};function tS(e){let n=ow(e),r=n!==null?n.factory:X5(e);if(r!==null)return r;if(e instanceof I1)throw new z1(204,!1);if(e instanceof Function)return KY(e);throw new z1(204,!1)}function KY(e){if(e.length>0)throw new z1(204,!1);let r=wY(e);return r!==null?()=>r.factory(e):()=>new e}function XY(e){if(tz(e))return uy(void 0,e.useValue);{let n=nz(e);return uy(n,Ex)}}function nz(e,n,r){let o;if(vy(e)){let s=t4(e);return X5(s)||tS(s)}else if(tz(e))o=()=>t4(e.useValue);else if(WY(e))o=()=>e.useFactory(...JE(e.deps||[]));else if(qY(e))o=()=>K1(t4(e.useExisting));else{let s=t4(e&&(e.useClass||e.provide));if(QY(e))o=()=>new s(...JE(e.deps));else return X5(s)||tS(s)}return o}function U9(e){if(e.destroyed)throw new z1(205,!1)}function uy(e,n,r=!1){return{factory:e,value:n,multi:r?[]:void 0}}function QY(e){return!!e.deps}function JY(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function eZ(e){return typeof e=="function"||typeof e=="object"&&e instanceof I1}function nS(e,n){for(let r of e)Array.isArray(r)?nS(r,n):r&&UO(r)?nS(r.\u0275providers,n):n(r)}function u6(e,n){e instanceof W9&&U9(e);let r,o=J8(e),s=u4(void 0);try{return n()}finally{J8(o),u4(s)}}function iz(){return HO()!==void 0||OY()!=null}function dw(e){if(!iz())throw new z1(-203,!1)}function tZ(e){return typeof e=="function"}var R6=0,P2=1,v2=2,B3=3,a6=4,f4=5,_y=6,Rx=7,F3=8,by=9,n5=10,_u=11,Y9=12,XN=13,ky=14,E4=15,Q5=16,dy=17,c8=18,fw=19,rz=20,_g=21,Sx=22,J5=23,M4=24,V3=25,dL=1;var e7=7,Px=8,xy=9,j3=10,Fx=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Fx||{});function e5(e){return Array.isArray(e)&&typeof e[dL]=="object"}function h8(e){return Array.isArray(e)&&e[dL]===!0}function oz(e){return(e.flags&4)!==0}function hw(e){return e.componentOffset>-1}function fL(e){return(e.flags&1)===1}function l8(e){return!!e.template}function iS(e){return(e[v2]&512)!==0}var rS=class{previousValue;currentValue;firstChange;constructor(n,r,o){this.previousValue=n,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}};function sz(e,n,r,o){n!==null?n.applyValueToInputSignal(n,o):e[r]=o}var A0=(()=>{let e=()=>az;return e.ngInherit=!0,e})();function az(e){return e.type.prototype.ngOnChanges&&(e.setInput=iZ),nZ}function nZ(){let e=lz(this),n=e?.current;if(n){let r=e.previous;if(r===gy)e.previous=n;else for(let o in n)r[o]=n[o];e.current=null,this.ngOnChanges(n)}}function iZ(e,n,r,o,s){let l=this.declaredInputs[o],d=lz(e)||rZ(e,{previous:gy,current:null}),h=d.current||(d.current={}),p=d.previous,g=p[l];h[l]=new rS(g&&g.currentValue,r,p===gy),sz(e,n,s,r)}var cz="__ngSimpleChanges__";function lz(e){return e[cz]||null}function rZ(e,n){return e[cz]=n}var QN=null;var I6=function(e,n,r){QN?.(e,n,r)},uz="svg",oZ="math";function O6(e){for(;Array.isArray(e);)e=e[R6];return e}function sZ(e){for(;Array.isArray(e);){if(typeof e[dL]=="object")return e;e=e[R6]}return null}function dz(e,n){return O6(n[e])}function U4(e,n){return O6(n[e.index])}function hL(e,n){return e.data[n]}function fz(e,n){return e[n]}function o5(e,n){let r=n[e];return e5(r)?r:r[R6]}function aZ(e){return(e[v2]&4)===4}function pL(e){return(e[v2]&128)===128}function cZ(e){return h8(e[B3])}function wy(e,n){return n==null?null:e[n]}function hz(e){e[dy]=0}function mL(e){e[v2]&1024||(e[v2]|=1024,pL(e)&&iv(e))}function lZ(e,n){for(;e>0;)n=n[ky],e--;return n}function pw(e){return!!(e[v2]&9216||e[M4]?.dirty)}function oS(e){e[n5].changeDetectionScheduler?.notify(9),e[v2]&64&&(e[v2]|=1024),pw(e)&&iv(e)}function iv(e){e[n5].changeDetectionScheduler?.notify(0);let n=t7(e);for(;n!==null&&!(n[v2]&8192||(n[v2]|=8192,!pL(n)));)n=t7(n)}function pz(e,n){if((e[v2]&256)===256)throw new z1(911,!1);e[_g]===null&&(e[_g]=[]),e[_g].push(n)}function uZ(e,n){if(e[_g]===null)return;let r=e[_g].indexOf(n);r!==-1&&e[_g].splice(r,1)}function t7(e){let n=e[B3];return h8(n)?n[B3]:n}var q2={lFrame:Cz(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var sS=!1;function dZ(){return q2.lFrame.elementDepthCount}function fZ(){q2.lFrame.elementDepthCount++}function hZ(){q2.lFrame.elementDepthCount--}function mz(){return q2.bindingsEnabled}function gz(){return q2.skipHydrationRootTNode!==null}function pZ(e){return q2.skipHydrationRootTNode===e}function mZ(){q2.skipHydrationRootTNode=null}function H2(){return q2.lFrame.lView}function _d(){return q2.lFrame.tView}function n0(e){return q2.lFrame.contextLView=e,e[F3]}function i0(e){return q2.lFrame.contextLView=null,e}function w3(){let e=yz();for(;e!==null&&e.type===64;)e=e.parent;return e}function yz(){return q2.lFrame.currentTNode}function gZ(){let e=q2.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function rv(e,n){let r=q2.lFrame;r.currentTNode=e,r.isParent=n}function vz(){return q2.lFrame.isParent}function _z(){q2.lFrame.isParent=!1}function yZ(){return q2.lFrame.contextLView}function bz(){return sS}function jx(e){let n=sS;return sS=e,n}function vZ(){let e=q2.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function _Z(){return q2.lFrame.bindingIndex}function bZ(e){return q2.lFrame.bindingIndex=e}function s5(){return q2.lFrame.bindingIndex++}function gL(e){let n=q2.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,r}function xZ(){return q2.lFrame.inI18n}function wZ(e,n){let r=q2.lFrame;r.bindingIndex=r.bindingRootIndex=e,aS(n)}function CZ(){return q2.lFrame.currentDirectiveIndex}function aS(e){q2.lFrame.currentDirectiveIndex=e}function yL(e){let n=q2.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function vL(){return q2.lFrame.currentQueryIndex}function mw(e){q2.lFrame.currentQueryIndex=e}function MZ(e){let n=e[P2];return n.type===2?n.declTNode:n.type===1?e[f4]:null}function xz(e,n,r){if(r&Q2.SkipSelf){let s=n,l=e;for(;s=s.parent,s===null&&!(r&Q2.Host);)if(s=MZ(l),s===null||(l=l[ky],s.type&10))break;if(s===null)return!1;n=s,e=l}let o=q2.lFrame=wz();return o.currentTNode=n,o.lView=e,!0}function _L(e){let n=wz(),r=e[P2];q2.lFrame=n,n.currentTNode=r.firstChild,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function wz(){let e=q2.lFrame,n=e===null?null:e.child;return n===null?Cz(e):n}function Cz(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function Mz(){let e=q2.lFrame;return q2.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Ez=Mz;function bL(){let e=Mz();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function EZ(e){return(q2.lFrame.contextLView=lZ(e,q2.lFrame.contextLView))[F3]}function p8(){return q2.lFrame.selectedIndex}function n7(e){q2.lFrame.selectedIndex=e}function ov(){let e=q2.lFrame;return hL(e.tView,e.selectedIndex)}function a5(){q2.lFrame.currentNamespace=uz}function gw(){SZ()}function SZ(){q2.lFrame.currentNamespace=null}function LZ(){return q2.lFrame.currentNamespace}var Sz=!0;function xL(){return Sz}function wL(e){Sz=e}function AZ(e,n,r){let{ngOnChanges:o,ngOnInit:s,ngDoCheck:l}=n.type.prototype;if(o){let d=az(n);(r.preOrderHooks??=[]).push(e,d),(r.preOrderCheckHooks??=[]).push(e,d)}s&&(r.preOrderHooks??=[]).push(0-e,s),l&&((r.preOrderHooks??=[]).push(e,l),(r.preOrderCheckHooks??=[]).push(e,l))}function CL(e,n){for(let r=n.directiveStart,o=n.directiveEnd;r<o;r++){let l=e.data[r].type.prototype,{ngAfterContentInit:d,ngAfterContentChecked:h,ngAfterViewInit:p,ngAfterViewChecked:g,ngOnDestroy:y}=l;d&&(e.contentHooks??=[]).push(-r,d),h&&((e.contentHooks??=[]).push(r,h),(e.contentCheckHooks??=[]).push(r,h)),p&&(e.viewHooks??=[]).push(-r,p),g&&((e.viewHooks??=[]).push(r,g),(e.viewCheckHooks??=[]).push(r,g)),y!=null&&(e.destroyHooks??=[]).push(r,y)}}function Lx(e,n,r){Lz(e,n,3,r)}function Ax(e,n,r,o){(e[v2]&3)===r&&Lz(e,n,r,o)}function jE(e,n){let r=e[v2];(r&3)===n&&(r&=16383,r+=1,e[v2]=r)}function Lz(e,n,r,o){let s=o!==void 0?e[dy]&65535:0,l=o??-1,d=n.length-1,h=0;for(let p=s;p<d;p++)if(typeof n[p+1]=="number"){if(h=n[p],o!=null&&h>=o)break}else n[p]<0&&(e[dy]+=65536),(h<l||l==-1)&&(kZ(e,r,n,p),e[dy]=(e[dy]&4294901760)+p+2),p++}function JN(e,n){I6(4,e,n);let r=r0(null);try{n.call(e)}finally{r0(r),I6(5,e,n)}}function kZ(e,n,r,o){let s=r[o]<0,l=r[o+1],d=s?-r[o]:r[o],h=e[d];s?e[v2]>>14<e[dy]>>16&&(e[v2]&3)===n&&(e[v2]+=16384,JN(h,l)):JN(h,l)}var my=-1,i7=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,r,o){this.factory=n,this.canSeeViewProviders=r,this.injectImpl=o}};function TZ(e){return e instanceof i7}function DZ(e){return(e.flags&8)!==0}function IZ(e){return(e.flags&16)!==0}function cS(e,n,r){let o=0;for(;o<r.length;){let s=r[o];if(typeof s=="number"){if(s!==0)break;o++;let l=r[o++],d=r[o++],h=r[o++];e.setAttribute(n,d,h,l)}else{let l=s,d=r[++o];NZ(l)?e.setProperty(n,l,d):e.setAttribute(n,l,d),o++}}return o}function Az(e){return e===3||e===4||e===6}function NZ(e){return e.charCodeAt(0)===64}function Z9(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let r=-1;for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?r=s:r===0||(r===-1||r===2?eO(e,r,s,null,n[++o]):eO(e,r,s,null,null))}}return e}function eO(e,n,r,o,s){let l=0,d=e.length;if(n===-1)d=-1;else for(;l<e.length;){let h=e[l++];if(typeof h=="number"){if(h===n){d=-1;break}else if(h>n){d=l-1;break}}}for(;l<e.length;){let h=e[l];if(typeof h=="number")break;if(h===r){if(o===null){s!==null&&(e[l+1]=s);return}else if(o===e[l+1]){e[l+2]=s;return}}l++,o!==null&&l++,s!==null&&l++}d!==-1&&(e.splice(d,0,n),l=d+1),e.splice(l++,0,r),o!==null&&e.splice(l++,0,o),s!==null&&e.splice(l++,0,s)}var BE={},lS=class{injector;parentInjector;constructor(n,r){this.injector=n,this.parentInjector=r}get(n,r,o){o=sw(o);let s=this.injector.get(n,BE,o);return s!==BE||r===BE?s:this.parentInjector.get(n,r,o)}};function kz(e){return e!==my}function Bx(e){return e&32767}function OZ(e){return e>>16}function Vx(e,n){let r=OZ(e),o=n;for(;r>0;)o=o[ky],r--;return o}var uS=!0;function Ux(e){let n=uS;return uS=e,n}var zZ=256,Tz=zZ-1,Dz=5,RZ=0,N6={};function PZ(e,n,r){let o;typeof r=="string"?o=r.charCodeAt(0)||0:r.hasOwnProperty(G9)&&(o=r[G9]),o==null&&(o=r[G9]=RZ++);let s=o&Tz,l=1<<s;n.data[e+(s>>Dz)]|=l}function Hx(e,n){let r=Iz(e,n);if(r!==-1)return r;let o=n[P2];o.firstCreatePass&&(e.injectorIndex=n.length,VE(o.data,e),VE(n,null),VE(o.blueprint,null));let s=ML(e,n),l=e.injectorIndex;if(kz(s)){let d=Bx(s),h=Vx(s,n),p=h[P2].data;for(let g=0;g<8;g++)n[l+g]=h[d+g]|p[d+g]}return n[l+8]=s,l}function VE(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Iz(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function ML(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let r=0,o=null,s=n;for(;s!==null;){if(o=Pz(s),o===null)return my;if(r++,s=s[ky],o.injectorIndex!==-1)return o.injectorIndex|r<<16}return my}function dS(e,n,r){PZ(e,n,r)}function FZ(e,n){if(n==="class")return e.classes;if(n==="style")return e.styles;let r=e.attrs;if(r){let o=r.length,s=0;for(;s<o;){let l=r[s];if(Az(l))break;if(l===0)s=s+2;else if(typeof l=="number")for(s++;s<o&&typeof r[s]=="string";)s++;else{if(l===n)return r[s+1];s=s+2}}}return null}function Nz(e,n,r){if(r&Q2.Optional||e!==void 0)return e;cL(n,"NodeInjector")}function Oz(e,n,r,o){if(r&Q2.Optional&&o===void 0&&(o=null),!(r&(Q2.Self|Q2.Host))){let s=e[by],l=u4(void 0);try{return s?s.get(n,o,r&Q2.Optional):GO(n,o,r&Q2.Optional)}finally{u4(l)}}return Nz(o,n,r)}function zz(e,n,r,o=Q2.Default,s){if(e!==null){if(n[v2]&2048&&!(o&Q2.Self)){let d=UZ(e,n,r,o,N6);if(d!==N6)return d}let l=Rz(e,n,r,o,N6);if(l!==N6)return l}return Oz(n,r,o,s)}function Rz(e,n,r,o,s){let l=BZ(r);if(typeof l=="function"){if(!xz(n,e,o))return o&Q2.Host?Nz(s,r,o):Oz(n,r,o,s);try{let d;if(d=l(o),d==null&&!(o&Q2.Optional))cL(r);else return d}finally{Ez()}}else if(typeof l=="number"){let d=null,h=Iz(e,n),p=my,g=o&Q2.Host?n[E4][f4]:null;for((h===-1||o&Q2.SkipSelf)&&(p=h===-1?ML(e,n):n[h+8],p===my||!nO(o,!1)?h=-1:(d=n[P2],h=Bx(p),n=Vx(p,n)));h!==-1;){let y=n[P2];if(tO(l,h,y.data)){let v=jZ(h,n,r,d,o,g);if(v!==N6)return v}p=n[h+8],p!==my&&nO(o,n[P2].data[h+8]===g)&&tO(l,h,n)?(d=y,h=Bx(p),n=Vx(p,n)):h=-1}}return s}function jZ(e,n,r,o,s,l){let d=n[P2],h=d.data[e+8],p=o==null?hw(h)&&uS:o!=d&&(h.type&3)!==0,g=s&Q2.Host&&l===h,y=kx(h,d,r,p,g);return y!==null?r7(n,d,y,h):N6}function kx(e,n,r,o,s){let l=e.providerIndexes,d=n.data,h=l&1048575,p=e.directiveStart,g=e.directiveEnd,y=l>>20,v=o?h:h+y,w=s?h+y:g;for(let k=v;k<w;k++){let F=d[k];if(k<p&&r===F||k>=p&&F.type===r)return k}if(s){let k=d[p];if(k&&l8(k)&&k.type===r)return p}return null}function r7(e,n,r,o){let s=e[r],l=n.data;if(TZ(s)){let d=s;d.resolving&&kY(AY(l[r]));let h=Ux(d.canSeeViewProviders);d.resolving=!0;let p,g=d.injectImpl?u4(d.injectImpl):null,y=xz(e,o,Q2.Default);try{s=e[r]=d.factory(void 0,l,e,o),n.firstCreatePass&&r>=o.directiveStart&&AZ(r,l[r],n)}finally{g!==null&&u4(g),Ux(h),d.resolving=!1,Ez()}}return s}function BZ(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(G9)?e[G9]:void 0;return typeof n=="number"?n>=0?n&Tz:VZ:n}function tO(e,n,r){let o=1<<e;return!!(r[n+(e>>Dz)]&o)}function nO(e,n){return!(e&Q2.Self)&&!(e&Q2.Host&&n)}var K5=class{_tNode;_lView;constructor(n,r){this._tNode=n,this._lView=r}get(n,r,o){return zz(this._tNode,this._lView,n,sw(o),r)}};function VZ(){return new K5(w3(),H2())}function O0(e){return ev(()=>{let n=e.prototype.constructor,r=n[Ix]||fS(n),o=Object.prototype,s=Object.getPrototypeOf(e.prototype).constructor;for(;s&&s!==o;){let l=s[Ix]||fS(s);if(l&&l!==r)return l;s=Object.getPrototypeOf(s)}return l=>new l})}function fS(e){return FO(e)?()=>{let n=fS(t4(e));return n&&n()}:X5(e)}function UZ(e,n,r,o,s){let l=e,d=n;for(;l!==null&&d!==null&&d[v2]&2048&&!(d[v2]&512);){let h=Rz(l,d,r,o|Q2.Self,N6);if(h!==N6)return h;let p=l.parent;if(!p){let g=d[rz];if(g){let y=g.get(r,N6,o);if(y!==N6)return y}p=Pz(d),d=d[ky]}l=p}return s}function Pz(e){let n=e[P2],r=n.type;return r===2?n.declTNode:r===1?e[f4]:null}function EL(e){return FZ(w3(),e)}function iO(e,n=null,r=null,o){let s=Fz(e,n,r,o);return s.resolveInjectorInitializers(),s}function Fz(e,n=null,r=null,o,s=new Set){let l=[r||n4,GY(e)];return o=o||(typeof e=="object"?void 0:i4(e)),new W9(l,n||uw(),o||null,s)}var w0=class e{static THROW_IF_NOT_FOUND=q9;static NULL=new zx;static create(n,r){if(Array.isArray(n))return iO({name:""},r,n,"");{let o=n.name??"";return iO({name:o},n.parent,n.providers,o)}}static \u0275prov=C1({token:e,providedIn:"any",factory:()=>K1(WO)});static __NG_ELEMENT_ID__=-1};var c6=class{attributeName;constructor(n){this.attributeName=n}__NG_ELEMENT_ID__=()=>EL(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},HZ=new I1("");HZ.__NG_ELEMENT_ID__=e=>{let n=w3();if(n===null)throw new z1(204,!1);if(n.type&2)return n.value;if(e&Q2.Optional)return null;throw new z1(204,!1)};var jz=!1,sv=(()=>{class e{static __NG_ELEMENT_ID__=GZ;static __NG_ENV_ID__=r=>r}return e})(),Gx=class extends sv{_lView;constructor(n){super(),this._lView=n}onDestroy(n){return pz(this._lView,n),()=>uZ(this._lView,n)}};function GZ(){return new Gx(H2())}var o7=class{},yw=new I1("",{providedIn:"root",factory:()=>!1});var Bz=new I1(""),Vz=new I1(""),u7=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new i3(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}has(r){return this.pendingTasks.has(r)}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=C1({token:e,providedIn:"root",factory:()=>new e})}return e})();var hS=class extends W1{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,iz()&&(this.destroyRef=Ua(sv,{optional:!0})??void 0,this.pendingTasks=Ua(u7,{optional:!0})??void 0)}emit(n){let r=r0(null);try{super.next(n)}finally{r0(r)}}subscribe(n,r,o){let s=n,l=r||(()=>null),d=o;if(n&&typeof n=="object"){let p=n;s=p.next?.bind(p),l=p.error?.bind(p),d=p.complete?.bind(p)}this.__isAsync&&(l=this.wrapInTimeout(l),s&&(s=this.wrapInTimeout(s)),d&&(d=this.wrapInTimeout(d)));let h=super.subscribe({next:s,error:l,complete:d});return n instanceof A2&&n.add(h),h}wrapInTimeout(n){return r=>{let o=this.pendingTasks?.add();setTimeout(()=>{n(r),o!==void 0&&this.pendingTasks?.remove(o)})}}},Z1=hS;function K9(...e){}function Uz(e){let n,r;function o(){e=K9;try{r!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(r),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),o()}),typeof requestAnimationFrame=="function"&&(r=requestAnimationFrame(()=>{e(),o()})),()=>o()}function rO(e){return queueMicrotask(()=>e()),()=>{e=K9}}var SL="isAngularZone",$x=SL+"_ID",$Z=0,c2=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Z1(!1);onMicrotaskEmpty=new Z1(!1);onStable=new Z1(!1);onError=new Z1(!1);constructor(n){let{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:s=!1,scheduleInRootZone:l=jz}=n;if(typeof Zone>"u")throw new z1(908,!1);Zone.assertZonePatched();let d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!s&&o,d.shouldCoalesceRunChangeDetection=s,d.callbackScheduled=!1,d.scheduleInRootZone=l,YZ(d)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(SL)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new z1(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new z1(909,!1)}run(n,r,o){return this._inner.run(n,r,o)}runTask(n,r,o,s){let l=this._inner,d=l.scheduleEventTask("NgZoneEvent: "+s,n,qZ,K9,K9);try{return l.runTask(d,r,o)}finally{l.cancelTask(d)}}runGuarded(n,r,o){return this._inner.runGuarded(n,r,o)}runOutsideAngular(n){return this._outer.run(n)}},qZ={};function LL(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function WZ(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){Uz(()=>{e.callbackScheduled=!1,pS(e),e.isCheckStableRunning=!0,LL(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),pS(e)}function YZ(e){let n=()=>{WZ(e)},r=$Z++;e._inner=e._inner.fork({name:"angular",properties:{[SL]:!0,[$x]:r,[$x+r]:!0},onInvokeTask:(o,s,l,d,h,p)=>{if(ZZ(p))return o.invokeTask(l,d,h,p);try{return oO(e),o.invokeTask(l,d,h,p)}finally{(e.shouldCoalesceEventChangeDetection&&d.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),sO(e)}},onInvoke:(o,s,l,d,h,p,g)=>{try{return oO(e),o.invoke(l,d,h,p,g)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!KZ(p)&&n(),sO(e)}},onHasTask:(o,s,l,d)=>{o.hasTask(l,d),s===l&&(d.change=="microTask"?(e._hasPendingMicrotasks=d.microTask,pS(e),LL(e)):d.change=="macroTask"&&(e.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,s,l,d)=>(o.handleError(l,d),e.runOutsideAngular(()=>e.onError.emit(d)),!1)})}function pS(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function oO(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function sO(e){e._nesting--,LL(e)}var mS=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Z1;onMicrotaskEmpty=new Z1;onStable=new Z1;onError=new Z1;run(n,r,o){return n.apply(r,o)}runGuarded(n,r,o){return n.apply(r,o)}runOutsideAngular(n){return n()}runTask(n,r,o,s){return n.apply(r,o)}};function ZZ(e){return Hz(e,"__ignore_ng_zone__")}function KZ(e){return Hz(e,"__scheduler_tick__")}function Hz(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var d4=class{_console=console;handleError(n){this._console.error("ERROR",n)}},XZ=new I1("",{providedIn:"root",factory:()=>{let e=Ua(c2),n=Ua(d4);return r=>e.runOutsideAngular(()=>n.handleError(r))}});function aO(e,n){return RO(e,n)}function QZ(e){return RO(zO,e)}var Gz=(aO.required=QZ,aO);function JZ(){return Ty(w3(),H2())}function Ty(e,n){return new l2(U4(e,n))}var l2=(()=>{class e{nativeElement;constructor(r){this.nativeElement=r}static __NG_ELEMENT_ID__=JZ}return e})();function $z(e){return e instanceof l2?e.nativeElement:e}function eK(){return this._results[Symbol.iterator]()}var Cy=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new W1}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){this.dirty=!1;let o=BY(n);(this._changesDetected=!jY(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=eK};function qz(e){return(e.flags&128)===128}var Wz=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Wz||{}),Yz=new Map,tK=0;function nK(){return tK++}function iK(e){Yz.set(e[fw],e)}function gS(e){Yz.delete(e[fw])}var cO="__ngContext__";function s7(e,n){e5(n)?(e[cO]=n[fw],iK(n)):e[cO]=n}function Zz(e){return Xz(e[Y9])}function Kz(e){return Xz(e[a6])}function Xz(e){for(;e!==null&&!h8(e);)e=e[a6];return e}var yS;function Qz(e){yS=e}function rK(){if(yS!==void 0)return yS;if(typeof document<"u")return document;throw new z1(210,!1)}var cv=new I1("",{providedIn:"root",factory:()=>oK}),oK="ng",AL=new I1(""),U3=new I1("",{providedIn:"platform",factory:()=>"unknown"});var r4=new I1(""),lv=new I1("",{providedIn:"root",factory:()=>rK().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var sK="h",aK="b";var Jz=!1,cK=new I1("",{providedIn:"root",factory:()=>Jz});var kL=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(kL||{}),vw=new I1(""),lO=new Set;function L4(e){lO.has(e)||(lO.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var fy=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(fy||{}),eR=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=C1({token:e,providedIn:"root",factory:()=>new e})}return e})(),lK=[fy.EarlyRead,fy.Write,fy.MixedReadWrite,fy.Read],uK=(()=>{class e{ngZone=Ua(c2);scheduler=Ua(o7);errorHandler=Ua(d4,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){Ua(vw,{optional:!0})}execute(){this.executing=!0;for(let r of lK)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>o.hooks[r](o.pipelinedValue),o.snapshot))}catch(s){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(s)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(8),this.deferredRegistrations.clear()}register(r){this.executing?this.deferredRegistrations.add(r):(this.sequences.add(r),this.scheduler.notify(7))}unregister(r){this.executing&&this.sequences.has(r)?(r.erroredOrDestroyed=!0,r.pipelinedValue=void 0,r.once=!0):(this.sequences.delete(r),this.deferredRegistrations.delete(r))}maybeTrace(r,o){return o?.run(kL.AFTER_NEXT_RENDER,r)??r()}static \u0275prov=C1({token:e,providedIn:"root",factory:()=>new e})}return e})(),vS=class{impl;hooks;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,r,o,s,l=null){this.impl=n,this.hooks=r,this.once=o,this.snapshot=l,this.unregisterOnDestroy=s?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function uv(e,n){!n?.injector&&dw(uv);let r=n?.injector??Ua(w0);return L4("NgAfterRender"),tR(e,r,n,!1)}function P6(e,n){!n?.injector&&dw(P6);let r=n?.injector??Ua(w0);return L4("NgAfterNextRender"),tR(e,r,n,!0)}function dK(e,n){if(e instanceof Function){let r=[void 0,void 0,void 0,void 0];return r[n]=e,r}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function tR(e,n,r,o){let s=n.get(eR);s.impl??=n.get(uK);let l=n.get(vw,null,{optional:!0}),d=r?.phase??fy.MixedReadWrite,h=r?.manualCleanup!==!0?n.get(sv):null,p=new vS(s.impl,dK(e,d),o,h,l?.snapshot(null));return s.impl.register(p),p}var fK=()=>null;function TL(e,n,r=!1){return fK(e,n,r)}var z6=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(z6||{}),bx;function hK(){if(bx===void 0&&(bx=null,Z5.trustedTypes))try{bx=Z5.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return bx}function _w(e){return hK()?.createHTML(e)||e}var u8=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${OO})`}},_S=class extends u8{getTypeName(){return"HTML"}},bS=class extends u8{getTypeName(){return"Style"}},xS=class extends u8{getTypeName(){return"Script"}},wS=class extends u8{getTypeName(){return"URL"}},CS=class extends u8{getTypeName(){return"ResourceURL"}};function m8(e){return e instanceof u8?e.changingThisBreaksApplicationSecurity:e}function Dy(e,n){let r=pK(e);if(r!=null&&r!==n){if(r==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${r} (see ${OO})`)}return r===n}function pK(e){return e instanceof u8&&e.getTypeName()||null}function nR(e){return new _S(e)}function iR(e){return new bS(e)}function rR(e){return new xS(e)}function oR(e){return new wS(e)}function sR(e){return new CS(e)}function mK(e){let n=new ES(e);return gK()?new MS(n):n}var MS=class{inertDocumentHelper;constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{let r=new window.DOMParser().parseFromString(_w(n),"text/html").body;return r===null?this.inertDocumentHelper.getInertBodyElement(n):(r.firstChild?.remove(),r)}catch{return null}}},ES=class{defaultDoc;inertDocument;constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){let r=this.inertDocument.createElement("template");return r.innerHTML=_w(n),r}};function gK(){try{return!!new window.DOMParser().parseFromString(_w(""),"text/html")}catch{return!1}}var yK=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function DL(e){return e=String(e),e.match(yK)?e:"unsafe:"+e}function g8(e){let n={};for(let r of e.split(","))n[r]=!0;return n}function dv(...e){let n={};for(let r of e)for(let o in r)r.hasOwnProperty(o)&&(n[o]=!0);return n}var aR=g8("area,br,col,hr,img,wbr"),cR=g8("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lR=g8("rp,rt"),vK=dv(lR,cR),_K=dv(cR,g8("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),bK=dv(lR,g8("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),uO=dv(aR,_K,bK,vK),uR=g8("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xK=g8("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),wK=g8("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),CK=dv(uR,xK,wK),MK=g8("script,style,template"),SS=class{sanitizedSomething=!1;buf=[];sanitizeChildren(n){let r=n.firstChild,o=!0,s=[];for(;r;){if(r.nodeType===Node.ELEMENT_NODE?o=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,o&&r.firstChild){s.push(r),r=LK(r);continue}for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let l=SK(r);if(l){r=l;break}r=s.pop()}}return this.buf.join("")}startElement(n){let r=dO(n).toLowerCase();if(!uO.hasOwnProperty(r))return this.sanitizedSomething=!0,!MK.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);let o=n.attributes;for(let s=0;s<o.length;s++){let l=o.item(s),d=l.name,h=d.toLowerCase();if(!CK.hasOwnProperty(h)){this.sanitizedSomething=!0;continue}let p=l.value;uR[h]&&(p=DL(p)),this.buf.push(" ",d,'="',fO(p),'"')}return this.buf.push(">"),!0}endElement(n){let r=dO(n).toLowerCase();uO.hasOwnProperty(r)&&!aR.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(n){this.buf.push(fO(n))}};function EK(e,n){return(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function SK(e){let n=e.nextSibling;if(n&&e!==n.previousSibling)throw dR(n);return n}function LK(e){let n=e.firstChild;if(n&&EK(e,n))throw dR(n);return n}function dO(e){let n=e.nodeName;return typeof n=="string"?n:"FORM"}function dR(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var AK=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,kK=/([^\#-~ |!])/g;function fO(e){return e.replace(/&/g,"&amp;").replace(AK,function(n){let r=n.charCodeAt(0),o=n.charCodeAt(1);return"&#"+((r-55296)*1024+(o-56320)+65536)+";"}).replace(kK,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var xx;function fR(e,n){let r=null;try{xx=xx||mK(e);let o=n?String(n):"";r=xx.getInertBodyElement(o);let s=5,l=o;do{if(s===0)throw new Error("Failed to sanitize html because the input is unstable");s--,o=l,l=r.innerHTML,r=xx.getInertBodyElement(o)}while(o!==l);let h=new SS().sanitizeChildren(hO(r)||r);return _w(h)}finally{if(r){let o=hO(r)||r;for(;o.firstChild;)o.firstChild.remove()}}}function hO(e){return"content"in e&&TK(e)?e.content:null}function TK(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var o4=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(o4||{});function hR(e){return e instanceof Function?e():e}var i5=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(i5||{}),d8=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(d8||{}),DK;function IL(e,n){return DK(e,n)}function hy(e,n,r,o,s){if(o!=null){let l,d=!1;h8(o)?l=o:e5(o)&&(d=!0,o=o[R6]);let h=O6(o);e===0&&r!==null?s==null?vR(n,r,h):qx(n,r,h,s||null,!0):e===1&&r!==null?qx(n,r,h,s||null,!0):e===2?GK(n,h,d):e===3&&n.destroyNode(h),l!=null&&qK(n,e,l,r,s)}}function IK(e,n){return e.createText(n)}function NK(e,n,r){e.setValue(n,r)}function pR(e,n,r){return e.createElement(n,r)}function OK(e,n){mR(e,n),n[R6]=null,n[f4]=null}function zK(e,n,r,o,s,l){o[R6]=s,o[f4]=n,xw(e,o,r,1,s,l)}function mR(e,n){n[n5].changeDetectionScheduler?.notify(10),xw(e,n,n[_u],2,null,null)}function RK(e){let n=e[Y9];if(!n)return UE(e[P2],e);for(;n;){let r=null;if(e5(n))r=n[Y9];else{let o=n[j3];o&&(r=o)}if(!r){for(;n&&!n[a6]&&n!==e;)e5(n)&&UE(n[P2],n),n=n[B3];n===null&&(n=e),e5(n)&&UE(n[P2],n),r=n&&n[a6]}n=r}}function PK(e,n,r,o){let s=j3+o,l=r.length;o>0&&(r[s-1][a6]=n),o<l-j3?(n[a6]=r[s],qO(r,j3+o,n)):(r.push(n),n[a6]=null),n[B3]=r;let d=n[Q5];d!==null&&r!==d&&gR(d,n);let h=n[c8];h!==null&&h.insertView(e),oS(n),n[v2]|=128}function gR(e,n){let r=e[xy],o=n[B3];if(e5(o))e[v2]|=Fx.HasTransplantedViews;else{let s=o[B3][E4];n[E4]!==s&&(e[v2]|=Fx.HasTransplantedViews)}r===null?e[xy]=[n]:r.push(n)}function NL(e,n){let r=e[xy],o=r.indexOf(n);r.splice(o,1)}function X9(e,n){if(e.length<=j3)return;let r=j3+n,o=e[r];if(o){let s=o[Q5];s!==null&&s!==e&&NL(s,o),n>0&&(e[r-1][a6]=o[a6]);let l=Ox(e,j3+n);OK(o[P2],o);let d=l[c8];d!==null&&d.detachView(l[P2]),o[B3]=null,o[a6]=null,o[v2]&=-129}return o}function bw(e,n){if(!(n[v2]&256)){let r=n[_u];r.destroyNode&&xw(e,n,r,3,null,null),RK(n)}}function UE(e,n){if(n[v2]&256)return;let r=r0(null);try{n[v2]&=-129,n[v2]|=256,n[M4]&&K7(n[M4]),jK(e,n),FK(e,n),n[P2].type===1&&n[_u].destroy();let o=n[Q5];if(o!==null&&h8(n[B3])){o!==n[B3]&&NL(o,n);let s=n[c8];s!==null&&s.detachView(e)}gS(n)}finally{r0(r)}}function FK(e,n){let r=e.cleanup,o=n[Rx];if(r!==null)for(let d=0;d<r.length-1;d+=2)if(typeof r[d]=="string"){let h=r[d+3];h>=0?o[h]():o[-h].unsubscribe(),d+=2}else{let h=o[r[d+1]];r[d].call(h)}o!==null&&(n[Rx]=null);let s=n[_g];if(s!==null){n[_g]=null;for(let d=0;d<s.length;d++){let h=s[d];h()}}let l=n[J5];if(l!==null){n[J5]=null;for(let d of l)d.destroy()}}function jK(e,n){let r;if(e!=null&&(r=e.destroyHooks)!=null)for(let o=0;o<r.length;o+=2){let s=n[r[o]];if(!(s instanceof i7)){let l=r[o+1];if(Array.isArray(l))for(let d=0;d<l.length;d+=2){let h=s[l[d]],p=l[d+1];I6(4,h,p);try{p.call(h)}finally{I6(5,h,p)}}else{I6(4,s,l);try{l.call(s)}finally{I6(5,s,l)}}}}}function yR(e,n,r){return BK(e,n.parent,r)}function BK(e,n,r){let o=n;for(;o!==null&&o.type&168;)n=o,o=n.parent;if(o===null)return r[R6];{let{componentOffset:s}=o;if(s>-1){let{encapsulation:l}=e.data[o.directiveStart+s];if(l===z6.None||l===z6.Emulated)return null}return U4(o,r)}}function qx(e,n,r,o,s){e.insertBefore(n,r,o,s)}function vR(e,n,r){e.appendChild(n,r)}function pO(e,n,r,o,s){o!==null?qx(e,n,r,o,s):vR(e,n,r)}function _R(e,n){return e.parentNode(n)}function VK(e,n){return e.nextSibling(n)}function bR(e,n,r){return HK(e,n,r)}function UK(e,n,r){return e.type&40?U4(e,r):null}var HK=UK,mO;function OL(e,n,r,o){let s=yR(e,o,n),l=n[_u],d=o.parent||n[f4],h=bR(d,o,n);if(s!=null)if(Array.isArray(r))for(let p=0;p<r.length;p++)pO(l,s,r[p],h,!1);else pO(l,s,r,h,!1);mO!==void 0&&mO(l,o,n,r,s)}function H9(e,n){if(n!==null){let r=n.type;if(r&3)return U4(n,e);if(r&4)return LS(-1,e[n.index]);if(r&8){let o=n.child;if(o!==null)return H9(e,o);{let s=e[n.index];return h8(s)?LS(-1,s):O6(s)}}else{if(r&128)return H9(e,n.next);if(r&32)return IL(n,e)()||O6(e[n.index]);{let o=xR(e,n);if(o!==null){if(Array.isArray(o))return o[0];let s=t7(e[E4]);return H9(s,o)}else return H9(e,n.next)}}}return null}function xR(e,n){if(n!==null){let o=e[E4][f4],s=n.projection;return o.projection[s]}return null}function LS(e,n){let r=j3+e+1;if(r<n.length){let o=n[r],s=o[P2].firstChild;if(s!==null)return H9(o,s)}return n[e7]}function GK(e,n,r){e.removeChild(null,n,r)}function zL(e,n,r,o,s,l,d){for(;r!=null;){if(r.type===128){r=r.next;continue}let h=o[r.index],p=r.type;if(d&&n===0&&(h&&s7(O6(h),o),r.flags|=2),(r.flags&32)!==32)if(p&8)zL(e,n,r.child,o,s,l,!1),hy(n,e,s,h,l);else if(p&32){let g=IL(r,o),y;for(;y=g();)hy(n,e,s,y,l);hy(n,e,s,h,l)}else p&16?wR(e,n,o,r,s,l):hy(n,e,s,h,l);r=d?r.projectionNext:r.next}}function xw(e,n,r,o,s,l){zL(r,o,e.firstChild,n,s,l,!1)}function $K(e,n,r){let o=n[_u],s=yR(e,r,n),l=r.parent||n[f4],d=bR(l,r,n);wR(o,0,n,r,s,d)}function wR(e,n,r,o,s,l){let d=r[E4],p=d[f4].projection[o.projection];if(Array.isArray(p))for(let g=0;g<p.length;g++){let y=p[g];hy(n,e,s,y,l)}else{let g=p,y=d[B3];qz(o)&&(g.flags|=128),zL(e,n,g,y,s,l,!0)}}function qK(e,n,r,o,s){let l=r[e7],d=O6(r);l!==d&&hy(n,e,o,l,s);for(let h=j3;h<r.length;h++){let p=r[h];xw(p[P2],p,e,n,o,l)}}function WK(e,n,r,o,s){if(n)s?e.addClass(r,o):e.removeClass(r,o);else{let l=o.indexOf("-")===-1?void 0:d8.DashCase;s==null?e.removeStyle(r,o,l):(typeof s=="string"&&s.endsWith("!important")&&(s=s.slice(0,-10),l|=d8.Important),e.setStyle(r,o,s,l))}}function YK(e,n,r){e.setAttribute(n,"style",r)}function CR(e,n,r){r===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",r)}function MR(e,n,r){let{mergedAttrs:o,classes:s,styles:l}=r;o!==null&&cS(e,n,o),s!==null&&CR(e,n,s),l!==null&&YK(e,n,l)}function ZK(e,n,r){let o=e.length;for(;;){let s=e.indexOf(n,r);if(s===-1)return s;if(s===0||e.charCodeAt(s-1)<=32){let l=n.length;if(s+l===o||e.charCodeAt(s+l)<=32)return s}r=s+1}}var ER="ng-template";function KK(e,n,r,o){let s=0;if(o){for(;s<n.length&&typeof n[s]=="string";s+=2)if(n[s]==="class"&&ZK(n[s+1].toLowerCase(),r,0)!==-1)return!0}else if(RL(e))return!1;if(s=n.indexOf(1,s),s>-1){let l;for(;++s<n.length&&typeof(l=n[s])=="string";)if(l.toLowerCase()===r)return!0}return!1}function RL(e){return e.type===4&&e.value!==ER}function XK(e,n,r){let o=e.type===4&&!r?ER:e.value;return n===o}function QK(e,n,r){let o=4,s=e.attrs,l=s!==null?tX(s):0,d=!1;for(let h=0;h<n.length;h++){let p=n[h];if(typeof p=="number"){if(!d&&!o6(o)&&!o6(p))return!1;if(d&&o6(p))continue;d=!1,o=p|o&1;continue}if(!d)if(o&4){if(o=2|o&1,p!==""&&!XK(e,p,r)||p===""&&n.length===1){if(o6(o))return!1;d=!0}}else if(o&8){if(s===null||!KK(e,s,p,r)){if(o6(o))return!1;d=!0}}else{let g=n[++h],y=JK(p,s,RL(e),r);if(y===-1){if(o6(o))return!1;d=!0;continue}if(g!==""){let v;if(y>l?v="":v=s[y+1].toLowerCase(),o&2&&g!==v){if(o6(o))return!1;d=!0}}}}return o6(o)||d}function o6(e){return(e&1)===0}function JK(e,n,r,o){if(n===null)return-1;let s=0;if(o||!r){let l=!1;for(;s<n.length;){let d=n[s];if(d===e)return s;if(d===3||d===6)l=!0;else if(d===1||d===2){let h=n[++s];for(;typeof h=="string";)h=n[++s];continue}else{if(d===4)break;if(d===0){s+=4;continue}}s+=l?1:2}return-1}else return nX(n,e)}function SR(e,n,r=!1){for(let o=0;o<n.length;o++)if(QK(e,n[o],r))return!0;return!1}function eX(e){let n=e.attrs;if(n!=null){let r=n.indexOf(5);if(!(r&1))return n[r+1]}return null}function tX(e){for(let n=0;n<e.length;n++){let r=e[n];if(Az(r))return n}return e.length}function nX(e,n){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){let o=e[r];if(typeof o=="number")return-1;if(o===n)return r;r++}return-1}function iX(e,n){e:for(let r=0;r<n.length;r++){let o=n[r];if(e.length===o.length){for(let s=0;s<e.length;s++)if(e[s]!==o[s])continue e;return!0}}return!1}function gO(e,n){return e?":not("+n.trim()+")":n}function rX(e){let n=e[0],r=1,o=2,s="",l=!1;for(;r<e.length;){let d=e[r];if(typeof d=="string")if(o&2){let h=e[++r];s+="["+d+(h.length>0?'="'+h+'"':"")+"]"}else o&8?s+="."+d:o&4&&(s+=" "+d);else s!==""&&!o6(d)&&(n+=gO(l,s),s=""),o=d,l=l||!o6(o);r++}return s!==""&&(n+=gO(l,s)),n}function oX(e){return e.map(rX).join(",")}function sX(e){let n=[],r=[],o=1,s=2;for(;o<e.length;){let l=e[o];if(typeof l=="string")s===2?l!==""&&n.push(l,e[++o]):s===8&&r.push(l);else{if(!o6(s))break;s=l}o++}return{attrs:n,classes:r}}var H4={};function D1(e=1){LR(_d(),H2(),p8()+e,!1)}function LR(e,n,r,o){if(!o)if((n[v2]&3)===3){let l=e.preOrderCheckHooks;l!==null&&Lx(n,l,r)}else{let l=e.preOrderHooks;l!==null&&Ax(n,l,0,r)}n7(r)}function X1(e,n=Q2.Default){let r=H2();if(r===null)return K1(e,n);let o=w3();return zz(o,r,t4(e),n)}function PL(){let e="invalid";throw new Error(e)}function AR(e,n,r,o,s,l){let d=r0(null);try{let h=null;s&i5.SignalBased&&(h=n[o][R3]),h!==null&&h.transformFn!==void 0&&(l=h.transformFn(l)),s&i5.HasDecoratorInputTransform&&(l=e.inputTransforms[o].call(n,l)),e.setInput!==null?e.setInput(n,h,l,r,o):sz(n,h,o,l)}finally{r0(d)}}function aX(e,n){let r=e.hostBindingOpCodes;if(r!==null)try{for(let o=0;o<r.length;o++){let s=r[o];if(s<0)n7(~s);else{let l=s,d=r[++o],h=r[++o];wZ(d,l);let p=n[l];h(2,p)}}}finally{n7(-1)}}function ww(e,n,r,o,s,l,d,h,p,g,y){let v=n.blueprint.slice();return v[R6]=s,v[v2]=o|4|128|8|64|1024,(g!==null||e&&e[v2]&2048)&&(v[v2]|=2048),hz(v),v[B3]=v[ky]=e,v[F3]=r,v[n5]=d||e&&e[n5],v[_u]=h||e&&e[_u],v[by]=p||e&&e[by]||null,v[f4]=l,v[fw]=nK(),v[_y]=y,v[rz]=g,v[E4]=n.type==2?e[E4]:v,v}function fv(e,n,r,o,s){let l=e.data[n];if(l===null)l=cX(e,n,r,o,s),xZ()&&(l.flags|=32);else if(l.type&64){l.type=r,l.value=o,l.attrs=s;let d=gZ();l.injectorIndex=d===null?-1:d.injectorIndex}return rv(l,!0),l}function cX(e,n,r,o,s){let l=yz(),d=vz(),h=d?l:l&&l.parent,p=e.data[n]=pX(e,h,r,n,o,s);return e.firstChild===null&&(e.firstChild=p),l!==null&&(d?l.child==null&&p.parent!==null&&(l.child=p):l.next===null&&(l.next=p,p.prev=l)),p}function kR(e,n,r,o){if(r===0)return-1;let s=n.length;for(let l=0;l<r;l++)n.push(o),e.blueprint.push(o),e.data.push(null);return s}function TR(e,n,r,o,s){let l=p8(),d=o&2;try{n7(-1),d&&n.length>V3&&LR(e,n,V3,!1),I6(d?2:0,s),r(o,s)}finally{n7(l),I6(d?3:1,s)}}function DR(e,n,r){if(oz(n)){let o=r0(null);try{let s=n.directiveStart,l=n.directiveEnd;for(let d=s;d<l;d++){let h=e.data[d];if(h.contentQueries){let p=r[d];h.contentQueries(1,p,d)}}}finally{r0(o)}}}function IR(e,n,r){mz()&&(bX(e,n,r,U4(r,n)),(r.flags&64)===64&&PR(e,n,r))}function NR(e,n,r=U4){let o=n.localNames;if(o!==null){let s=n.index+1;for(let l=0;l<o.length;l+=2){let d=o[l+1],h=d===-1?r(n,e):e[d];e[s++]=h}}}function OR(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=FL(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function FL(e,n,r,o,s,l,d,h,p,g,y){let v=V3+o,w=v+s,k=lX(v,w),F=typeof g=="function"?g():g;return k[P2]={type:e,blueprint:k,template:r,queries:null,viewQuery:h,declTNode:n,data:k.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:w,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof l=="function"?l():l,pipeRegistry:typeof d=="function"?d():d,firstChild:null,schemas:p,consts:F,incompleteFirstPass:!1,ssrId:y}}function lX(e,n){let r=[];for(let o=0;o<n;o++)r.push(o<e?null:H4);return r}function uX(e,n,r,o){let l=o.get(cK,Jz)||r===z6.ShadowDom,d=e.selectRootElement(n,l);return dX(d),d}function dX(e){fX(e)}var fX=()=>null;function hX(e,n,r,o){let s=VR(n);s.push(r),e.firstCreatePass&&UR(e).push(o,s.length-1)}function pX(e,n,r,o,s,l){let d=n?n.injectorIndex:-1,h=0;return gz()&&(h|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:d,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:h,providerIndexes:0,value:s,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function yO(e,n,r,o,s){for(let l in n){if(!n.hasOwnProperty(l))continue;let d=n[l];if(d===void 0)continue;o??={};let h,p=i5.None;Array.isArray(d)?(h=d[0],p=d[1]):h=d;let g=l;if(s!==null){if(!s.hasOwnProperty(l))continue;g=s[l]}e===0?vO(o,r,g,h,p):vO(o,r,g,h)}return o}function vO(e,n,r,o,s){let l;e.hasOwnProperty(r)?(l=e[r]).push(n,o):l=e[r]=[n,o],s!==void 0&&l.push(s)}function mX(e,n,r){let o=n.directiveStart,s=n.directiveEnd,l=e.data,d=n.attrs,h=[],p=null,g=null;for(let y=o;y<s;y++){let v=l[y],w=r?r.get(v):null,k=w?w.inputs:null,F=w?w.outputs:null;p=yO(0,v.inputs,y,p,k),g=yO(1,v.outputs,y,g,F);let q=p!==null&&d!==null&&!RL(n)?DX(p,y,d):null;h.push(q)}p!==null&&(p.hasOwnProperty("class")&&(n.flags|=8),p.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=h,n.inputs=p,n.outputs=g}function gX(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Cw(e,n,r,o,s,l,d,h){let p=U4(n,r),g=n.inputs,y;!h&&g!=null&&(y=g[o])?(jL(e,r,y,o,s),hw(n)&&yX(r,n.index)):n.type&3?(o=gX(o),s=d!=null?d(s,n.value||"",o):s,l.setProperty(p,o,s)):n.type&12}function yX(e,n){let r=o5(n,e);r[v2]&16||(r[v2]|=64)}function zR(e,n,r,o){if(mz()){let s=o===null?null:{"":-1},l=wX(e,r),d,h;l===null?d=h=null:[d,h]=l,d!==null&&RR(e,n,r,d,s,h),s&&CX(r,o,s)}r.mergedAttrs=Z9(r.mergedAttrs,r.attrs)}function RR(e,n,r,o,s,l){for(let g=0;g<o.length;g++)dS(Hx(r,n),e,o[g].type);EX(r,e.data.length,o.length);for(let g=0;g<o.length;g++){let y=o[g];y.providersResolver&&y.providersResolver(y)}let d=!1,h=!1,p=kR(e,n,o.length,null);for(let g=0;g<o.length;g++){let y=o[g];r.mergedAttrs=Z9(r.mergedAttrs,y.hostAttrs),SX(e,r,n,p,y),MX(p,y,s),y.contentQueries!==null&&(r.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(r.flags|=64);let v=y.type.prototype;!d&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),d=!0),!h&&(v.ngOnChanges||v.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),h=!0),p++}mX(e,r,l)}function vX(e,n,r,o,s){let l=s.hostBindings;if(l){let d=e.hostBindingOpCodes;d===null&&(d=e.hostBindingOpCodes=[]);let h=~n.index;_X(d)!=h&&d.push(h),d.push(r,o,l)}}function _X(e){let n=e.length;for(;n>0;){let r=e[--n];if(typeof r=="number"&&r<0)return r}return 0}function bX(e,n,r,o){let s=r.directiveStart,l=r.directiveEnd;hw(r)&&LX(n,r,e.data[s+r.componentOffset]),e.firstCreatePass||Hx(r,n),s7(o,n);let d=r.initialInputs;for(let h=s;h<l;h++){let p=e.data[h],g=r7(n,e,h,r);if(s7(g,n),d!==null&&TX(n,h-s,g,p,r,d),l8(p)){let y=o5(r.index,n);y[F3]=r7(n,e,h,r)}}}function PR(e,n,r){let o=r.directiveStart,s=r.directiveEnd,l=r.index,d=CZ();try{n7(l);for(let h=o;h<s;h++){let p=e.data[h],g=n[h];aS(h),(p.hostBindings!==null||p.hostVars!==0||p.hostAttrs!==null)&&xX(p,g)}}finally{n7(-1),aS(d)}}function xX(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function wX(e,n){let r=e.directiveRegistry,o=null,s=null;if(r)for(let l=0;l<r.length;l++){let d=r[l];if(SR(n,d.selectors,!1))if(o||(o=[]),l8(d))if(d.findHostDirectiveDefs!==null){let h=[];s=s||new Map,d.findHostDirectiveDefs(d,h,s),o.unshift(...h,d);let p=h.length;AS(e,n,p)}else o.unshift(d),AS(e,n,0);else s=s||new Map,d.findHostDirectiveDefs?.(d,o,s),o.push(d)}return o===null?null:[o,s]}function AS(e,n,r){n.componentOffset=r,(e.components??=[]).push(n.index)}function CX(e,n,r){if(n){let o=e.localNames=[];for(let s=0;s<n.length;s+=2){let l=r[n[s+1]];if(l==null)throw new z1(-301,!1);o.push(n[s],l)}}}function MX(e,n,r){if(r){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)r[n.exportAs[o]]=e;l8(n)&&(r[""]=e)}}function EX(e,n,r){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+r,e.providerIndexes=n}function SX(e,n,r,o,s){e.data[o]=s;let l=s.factory||(s.factory=X5(s.type,!0)),d=new i7(l,l8(s),X1);e.blueprint[o]=d,r[o]=d,vX(e,n,o,kR(e,r,s.hostVars,H4),s)}function FR(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function LX(e,n,r){let o=U4(n,e),s=OR(r),l=e[n5].rendererFactory,d=Mw(e,ww(e,s,null,FR(r),o,n,null,l.createRenderer(o,r),null,null,null));e[n.index]=d}function AX(e,n,r,o,s,l){let d=U4(e,n);kX(n[_u],d,l,e.value,r,o,s)}function kX(e,n,r,o,s,l,d){if(l==null)e.removeAttribute(n,s,r);else{let h=d==null?$9(l):d(l,o||"",s);e.setAttribute(n,s,h,r)}}function TX(e,n,r,o,s,l){let d=l[n];if(d!==null)for(let h=0;h<d.length;){let p=d[h++],g=d[h++],y=d[h++],v=d[h++];AR(o,r,p,g,y,v)}}function DX(e,n,r){let o=null,s=0;for(;s<r.length;){let l=r[s];if(l===0){s+=4;continue}else if(l===5){s+=2;continue}if(typeof l=="number")break;if(e.hasOwnProperty(l)){o===null&&(o=[]);let d=e[l];for(let h=0;h<d.length;h+=3)if(d[h]===n){o.push(l,d[h+1],d[h+2],r[s+1]);break}}s+=2}return o}function jR(e,n,r,o){return[e,!0,0,n,null,o,null,r,null,null]}function BR(e,n){let r=e.contentQueries;if(r!==null){let o=r0(null);try{for(let s=0;s<r.length;s+=2){let l=r[s],d=r[s+1];if(d!==-1){let h=e.data[d];mw(l),h.contentQueries(2,n[d],d)}}}finally{r0(o)}}}function Mw(e,n){return e[Y9]?e[XN][a6]=n:e[Y9]=n,e[XN]=n,n}function kS(e,n,r){mw(0);let o=r0(null);try{n(e,r)}finally{r0(o)}}function VR(e){return e[Rx]??=[]}function UR(e){return e.cleanup??=[]}function HR(e,n,r){return(e===null||l8(e))&&(r=sZ(r[n.index])),r[_u]}function GR(e,n){let r=e[by],o=r?r.get(d4,null):null;o&&o.handleError(n)}function jL(e,n,r,o,s){for(let l=0;l<r.length;){let d=r[l++],h=r[l++],p=r[l++],g=n[d],y=e.data[d];AR(y,g,o,h,p,s)}}function $R(e,n,r){let o=dz(n,e);NK(e[_u],o,r)}function IX(e,n){let r=o5(n,e),o=r[P2];NX(o,r);let s=r[R6];s!==null&&r[_y]===null&&(r[_y]=TL(s,r[by])),BL(o,r,r[F3])}function NX(e,n){for(let r=n.length;r<e.blueprint.length;r++)n.push(e.blueprint[r])}function BL(e,n,r){_L(n);try{let o=e.viewQuery;o!==null&&kS(1,o,r);let s=e.template;s!==null&&TR(e,n,s,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),n[c8]?.finishViewCreation(e),e.staticContentQueries&&BR(e,n),e.staticViewQueries&&kS(2,e.viewQuery,r);let l=e.components;l!==null&&OX(n,l)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{n[v2]&=-5,bL()}}function OX(e,n){for(let r=0;r<n.length;r++)IX(e,n[r])}function hv(e,n,r,o){let s=r0(null);try{let l=n.tView,h=e[v2]&4096?4096:16,p=ww(e,l,r,h,null,n,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null),g=e[n.index];p[Q5]=g;let y=e[c8];return y!==null&&(p[c8]=y.createEmbeddedView(l)),BL(l,p,r),p}finally{r0(s)}}function qR(e,n){let r=j3+n;if(r<e.length)return e[r]}function My(e,n){return!n||n.firstChild===null||qz(e)}function pv(e,n,r,o=!0){let s=n[P2];if(PK(s,n,e,r),o){let d=LS(r,e),h=n[_u],p=_R(h,e[e7]);p!==null&&zK(s,e[f4],h,n,p,d)}let l=n[_y];l!==null&&l.firstChild!==null&&(l.firstChild=null)}function WR(e,n){let r=X9(e,n);return r!==void 0&&bw(r[P2],r),r}function Wx(e,n,r,o,s=!1){for(;r!==null;){if(r.type===128){r=s?r.projectionNext:r.next;continue}let l=n[r.index];l!==null&&o.push(O6(l)),h8(l)&&zX(l,o);let d=r.type;if(d&8)Wx(e,n,r.child,o);else if(d&32){let h=IL(r,n),p;for(;p=h();)o.push(p)}else if(d&16){let h=xR(n,r);if(Array.isArray(h))o.push(...h);else{let p=t7(n[E4]);Wx(p[P2],p,h,o,!0)}}r=s?r.projectionNext:r.next}return o}function zX(e,n){for(let r=j3;r<e.length;r++){let o=e[r],s=o[P2].firstChild;s!==null&&Wx(o[P2],o,s,n)}e[e7]!==e[R6]&&n.push(e[e7])}var YR=[];function RX(e){return e[M4]??PX(e)}function PX(e){let n=YR.pop()??Object.create(jX);return n.lView=e,n}function FX(e){e.lView[M4]!==e&&(e.lView=null,YR.push(e))}var jX=R2(E1({},B5),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{iv(e.lView)},consumerOnSignalRead(){this.lView[M4]=this}});function BX(e){let n=e[M4]??Object.create(VX);return n.lView=e,n}var VX=R2(E1({},B5),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let n=t7(e.lView);for(;n&&!ZR(n[P2]);)n=t7(n);n&&mL(n)},consumerOnSignalRead(){this.lView[M4]=this}});function ZR(e){return e.type!==2}function KR(e){if(e[J5]===null)return;let n=!0;for(;n;){let r=!1;for(let o of e[J5])o.dirty&&(r=!0,o.zone===null||Zone.current===o.zone?o.run():o.zone.run(()=>o.run()));n=r&&!!(e[v2]&8192)}}var UX=100;function XR(e,n=!0,r=0){let s=e[n5].rendererFactory,l=!1;l||s.begin?.();try{HX(e,r)}catch(d){throw n&&GR(e,d),d}finally{l||s.end?.()}}function HX(e,n){let r=bz();try{jx(!0),TS(e,n);let o=0;for(;pw(e);){if(o===UX)throw new z1(103,!1);o++,TS(e,1)}}finally{jx(r)}}function GX(e,n,r,o){let s=n[v2];if((s&256)===256)return;let l=!1,d=!1;_L(n);let h=!0,p=null,g=null;l||(ZR(e)?(g=RX(n),p=Z7(g)):oN()===null?(h=!1,g=BX(n),p=Z7(g)):n[M4]&&(K7(n[M4]),n[M4]=null));try{hz(n),bZ(e.bindingStartIndex),r!==null&&TR(e,n,r,2,o);let y=(s&3)===3;if(!l)if(y){let k=e.preOrderCheckHooks;k!==null&&Lx(n,k,null)}else{let k=e.preOrderHooks;k!==null&&Ax(n,k,0,null),jE(n,0)}if(d||$X(n),KR(n),QR(n,0),e.contentQueries!==null&&BR(e,n),!l)if(y){let k=e.contentCheckHooks;k!==null&&Lx(n,k)}else{let k=e.contentHooks;k!==null&&Ax(n,k,1),jE(n,1)}aX(e,n);let v=e.components;v!==null&&eP(n,v,0);let w=e.viewQuery;if(w!==null&&kS(2,w,o),!l)if(y){let k=e.viewCheckHooks;k!==null&&Lx(n,k)}else{let k=e.viewHooks;k!==null&&Ax(n,k,2),jE(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[Sx]){for(let k of n[Sx])k();n[Sx]=null}l||(n[v2]&=-73)}catch(y){throw l||iv(n),y}finally{g!==null&&(I9(g,p),h&&FX(g)),bL()}}function QR(e,n){for(let r=Zz(e);r!==null;r=Kz(r))for(let o=j3;o<r.length;o++){let s=r[o];JR(s,n)}}function $X(e){for(let n=Zz(e);n!==null;n=Kz(n)){if(!(n[v2]&Fx.HasTransplantedViews))continue;let r=n[xy];for(let o=0;o<r.length;o++){let s=r[o];mL(s)}}}function qX(e,n,r){let o=o5(n,e);JR(o,r)}function JR(e,n){pL(e)&&TS(e,n)}function TS(e,n){let o=e[P2],s=e[v2],l=e[M4],d=!!(n===0&&s&16);if(d||=!!(s&64&&n===0),d||=!!(s&1024),d||=!!(l?.dirty&&N9(l)),d||=!1,l&&(l.dirty=!1),e[v2]&=-9217,d)GX(o,e,o.template,e[F3]);else if(s&8192){KR(e),QR(e,1);let h=o.components;h!==null&&eP(e,h,1)}}function eP(e,n,r){for(let o=0;o<n.length;o++)qX(e,n[o],r)}function VL(e,n){let r=bz()?64:1088;for(e[n5].changeDetectionScheduler?.notify(n);e;){e[v2]|=r;let o=t7(e);if(iS(e)&&!o)return e;e=o}return null}var a7=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let n=this._lView,r=n[P2];return Wx(r,n,r.firstChild,[])}constructor(n,r,o=!0){this._lView=n,this._cdRefInjectingView=r,this.notifyErrorHandler=o}get context(){return this._lView[F3]}get dirty(){return!!(this._lView[v2]&9280)||!!this._lView[M4]?.dirty}set context(n){this._lView[F3]=n}get destroyed(){return(this._lView[v2]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[B3];if(h8(n)){let r=n[Px],o=r?r.indexOf(this):-1;o>-1&&(X9(n,o),Ox(r,o))}this._attachedToViewContainer=!1}bw(this._lView[P2],this._lView)}onDestroy(n){pz(this._lView,n)}markForCheck(){VL(this._cdRefInjectingView||this._lView,4)}markForRefresh(){mL(this._cdRefInjectingView||this._lView)}detach(){this._lView[v2]&=-129}reattach(){oS(this._lView),this._lView[v2]|=128}detectChanges(){this._lView[v2]|=1024,XR(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z1(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=iS(this._lView),r=this._lView[Q5];r!==null&&!n&&NL(r,this._lView),mR(this._lView[P2],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new z1(902,!1);this._appRef=n;let r=iS(this._lView),o=this._lView[Q5];o!==null&&!r&&gR(o,this._lView),oS(this._lView)}},B4=(()=>{class e{static __NG_ELEMENT_ID__=ZX}return e})(),WX=B4,YX=class extends WX{_declarationLView;_declarationTContainer;elementRef;constructor(n,r,o){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){let s=hv(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new a7(s)}};function ZX(){return Ew(w3(),H2())}function Ew(e,n){return e.type&4?new YX(n,e,Ty(e,n)):null}var cpe=new RegExp(`^(\\d+)*(${aK}|${sK})*(.*)`);var KX=()=>null;function Ey(e,n){return KX(e,n)}var DS=class{},Yx=class{},IS=class{resolveComponentFactory(n){throw Error(`No component factory found for ${i4(n)}.`)}},Sy=class{static NULL=new IS},r5=class{},F6=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>XX()}return e})();function XX(){let e=H2(),n=w3(),r=o5(n.index,e);return(e5(r)?r:e)[_u]}var QX=(()=>{class e{static \u0275prov=C1({token:e,providedIn:"root",factory:()=>null})}return e})();function NS(e,n,r){let o=r?e.styles:null,s=r?e.classes:null,l=0;if(n!==null)for(let d=0;d<n.length;d++){let h=n[d];if(typeof h=="number")l=h;else if(l==1)s=KE(s,h);else if(l==2){let p=h,g=n[++d];o=KE(o,p+": "+g+";")}}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=s:e.classesWithoutHost=s}var Zx=class extends Sy{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let r=t5(n);return new Ly(r,this.ngModule)}};function _O(e,n){let r=[];for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;let l=Array.isArray(s),d=l?s[0]:s,h=l?s[1]:i5.None;n?r.push({propName:d,templateName:o,isSignal:(h&i5.SignalBased)!==0}):r.push({propName:d,templateName:o})}return r}function JX(e){let n=e.toLowerCase();return n==="svg"?uz:n==="math"?oZ:null}var Ly=class extends Yx{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let n=this.componentDef,r=n.inputTransforms,o=_O(n.inputs,!0);if(r!==null)for(let s of o)r.hasOwnProperty(s.propName)&&(s.transform=r[s.propName]);return o}get outputs(){return _O(this.componentDef.outputs,!1)}constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=oX(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}create(n,r,o,s){let l=r0(null);try{s=s||this.ngModule;let d=s instanceof T3?s:s?.injector;d&&this.componentDef.getStandaloneInjector!==null&&(d=this.componentDef.getStandaloneInjector(d)||d);let h=d?new lS(n,d):n,p=h.get(r5,null);if(p===null)throw new z1(407,!1);let g=h.get(QX,null),y=h.get(o7,null),v={rendererFactory:p,sanitizer:g,changeDetectionScheduler:y},w=p.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",F=o?uX(w,o,this.componentDef.encapsulation,h):pR(w,k,JX(k)),q=512;this.componentDef.signals?q|=4096:this.componentDef.onPush||(q|=16);let _r=null;F!==null&&(_r=TL(F,h,!0));let ga=FL(0,null,null,1,0,null,null,null,null,null,null),La=ww(null,ga,null,q,null,null,v,w,h,null,_r);_L(La);let jc,_l,e1=null;try{let n1=this.componentDef,d1,c1=null;n1.findHostDirectiveDefs?(d1=[],c1=new Map,n1.findHostDirectiveDefs(n1,d1,c1),d1.push(n1)):d1=[n1];let h1=eQ(La,F);e1=tQ(h1,F,n1,d1,La,v,w),_l=hL(ga,V3),F&&rQ(w,n1,F,o),r!==void 0&&oQ(_l,this.ngContentSelectors,r),jc=iQ(e1,n1,d1,c1,La,[sQ]),BL(ga,La,null)}catch(n1){throw e1!==null&&gS(e1),gS(La),n1}finally{bL()}return new OS(this.componentType,jc,Ty(_l,La),La,_l)}finally{r0(l)}}},OS=class extends DS{location;_rootLView;_tNode;instance;hostView;changeDetectorRef;componentType;previousInputValues=null;constructor(n,r,o,s,l){super(),this.location=o,this._rootLView=s,this._tNode=l,this.instance=r,this.hostView=this.changeDetectorRef=new a7(s,void 0,!1),this.componentType=n}setInput(n,r){let o=this._tNode.inputs,s;if(o!==null&&(s=o[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),r))return;let l=this._rootLView;jL(l[P2],l,s,n,r),this.previousInputValues.set(n,r);let d=o5(this._tNode.index,l);VL(d,1)}}get injector(){return new K5(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function eQ(e,n){let r=e[P2],o=V3;return e[o]=n,fv(r,o,2,"#host",null)}function tQ(e,n,r,o,s,l,d){let h=s[P2];nQ(o,e,n,d);let p=null;n!==null&&(p=TL(n,s[by]));let g=l.rendererFactory.createRenderer(n,r),y=ww(s,OR(r),null,FR(r),s[e.index],e,l,g,null,null,p);return h.firstCreatePass&&AS(h,e,o.length-1),Mw(s,y),s[e.index]=y}function nQ(e,n,r,o){for(let s of e)n.mergedAttrs=Z9(n.mergedAttrs,s.hostAttrs);n.mergedAttrs!==null&&(NS(n,n.mergedAttrs,!0),r!==null&&MR(o,r,n))}function iQ(e,n,r,o,s,l){let d=w3(),h=s[P2],p=U4(d,s);RR(h,s,d,r,null,o);for(let y=0;y<r.length;y++){let v=d.directiveStart+y,w=r7(s,h,v,d);s7(w,s)}PR(h,s,d),p&&s7(p,s);let g=r7(s,h,d.directiveStart+d.componentOffset,d);if(e[F3]=s[F3]=g,l!==null)for(let y of l)y(g,n);return DR(h,d,s),g}function rQ(e,n,r,o){if(o)cS(e,r,["ng-version","19.0.1"]);else{let{attrs:s,classes:l}=sX(n.selectors[0]);s&&cS(e,r,s),l&&l.length>0&&CR(e,r,l.join(" "))}}function oQ(e,n,r){let o=e.projection=[];for(let s=0;s<n.length;s++){let l=r[s];o.push(l!=null&&l.length?Array.from(l):null)}}function sQ(){let e=w3();CL(H2()[P2],e)}var H3=(()=>{class e{static __NG_ELEMENT_ID__=aQ}return e})();function aQ(){let e=w3();return nP(e,H2())}var cQ=H3,tP=class extends cQ{_lContainer;_hostTNode;_hostLView;constructor(n,r,o){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=o}get element(){return Ty(this._hostTNode,this._hostLView)}get injector(){return new K5(this._hostTNode,this._hostLView)}get parentInjector(){let n=ML(this._hostTNode,this._hostLView);if(kz(n)){let r=Vx(n,this._hostLView),o=Bx(n),s=r[P2].data[o+8];return new K5(s,r)}else return new K5(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let r=bO(this._lContainer);return r!==null&&r[n]||null}get length(){return this._lContainer.length-j3}createEmbeddedView(n,r,o){let s,l;typeof o=="number"?s=o:o!=null&&(s=o.index,l=o.injector);let d=Ey(this._lContainer,n.ssrId),h=n.createEmbeddedViewImpl(r||{},l,d);return this.insertImpl(h,s,My(this._hostTNode,d)),h}createComponent(n,r,o,s,l){let d=n&&!tZ(n),h;if(d)h=r;else{let F=r||{};h=F.index,o=F.injector,s=F.projectableNodes,l=F.environmentInjector||F.ngModuleRef}let p=d?n:new Ly(t5(n)),g=o||this.parentInjector;if(!l&&p.ngModule==null){let q=(d?g:this.parentInjector).get(T3,null);q&&(l=q)}let y=t5(p.componentType??{}),v=Ey(this._lContainer,y?.id??null),w=v?.firstChild??null,k=p.create(g,s,w,l);return this.insertImpl(k.hostView,h,My(this._hostTNode,v)),k}insert(n,r){return this.insertImpl(n,r,!0)}insertImpl(n,r,o){let s=n._lView;if(cZ(s)){let h=this.indexOf(n);if(h!==-1)this.detach(h);else{let p=s[B3],g=new tP(p,p[f4],p[B3]);g.detach(g.indexOf(n))}}let l=this._adjustIndex(r),d=this._lContainer;return pv(d,s,l,o),n.attachToViewContainerRef(),qO(HE(d),l,n),n}move(n,r){return this.insert(n,r)}indexOf(n){let r=bO(this._lContainer);return r!==null?r.indexOf(n):-1}remove(n){let r=this._adjustIndex(n,-1),o=X9(this._lContainer,r);o&&(Ox(HE(this._lContainer),r),bw(o[P2],o))}detach(n){let r=this._adjustIndex(n,-1),o=X9(this._lContainer,r);return o&&Ox(HE(this._lContainer),r)!=null?new a7(o):null}_adjustIndex(n,r=0){return n??this.length+r}};function bO(e){return e[Px]}function HE(e){return e[Px]||(e[Px]=[])}function nP(e,n){let r,o=n[e.index];return h8(o)?r=o:(r=jR(o,n,null,e),n[e.index]=r,Mw(n,r)),uQ(r,n,e,o),new tP(r,e,n)}function lQ(e,n){let r=e[_u],o=r.createComment(""),s=U4(n,e),l=_R(r,s);return qx(r,l,o,VK(r,s),!1),o}var uQ=hQ,dQ=()=>!1;function fQ(e,n,r){return dQ(e,n,r)}function hQ(e,n,r,o){if(e[e7])return;let s;r.type&8?s=O6(o):s=lQ(n,r),e[e7]=s}var zS=class e{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},RS=class e{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){let r=n.queries;if(r!==null){let o=n.contentQueries!==null?n.contentQueries[0]:r.length,s=[];for(let l=0;l<o;l++){let d=r.getByIndex(l),h=this.queries[d.indexInDeclarationView];s.push(h.clone())}return new e(s)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)HL(n,r).matches!==null&&this.queries[r].setDirty()}},Kx=class{flags;read;predicate;constructor(n,r,o=null){this.flags=r,this.read=o,typeof n=="string"?this.predicate=_Q(n):this.predicate=n}},PS=class e{queries;constructor(n=[]){this.queries=n}elementStart(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let o=0;o<this.length;o++){let s=r!==null?r.length:0,l=this.getByIndex(o).embeddedTView(n,s);l&&(l.indexInDeclarationView=o,r!==null?r.push(l):r=[l])}return r!==null?new e(r):null}template(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},FS=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,r=-1){this.metadata=n,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new e(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let r=this._declarationNodeIndex,o=n.parent;for(;o!==null&&o.type&8&&o.index!==r;)o=o.parent;return r===(o!==null?o.index:-1)}return this._appliesToNextNode}matchTNode(n,r){let o=this.metadata.predicate;if(Array.isArray(o))for(let s=0;s<o.length;s++){let l=o[s];this.matchTNodeWithReadOption(n,r,pQ(r,l)),this.matchTNodeWithReadOption(n,r,kx(r,n,l,!1,!1))}else o===B4?r.type&4&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,kx(r,n,o,!1,!1))}matchTNodeWithReadOption(n,r,o){if(o!==null){let s=this.metadata.read;if(s!==null)if(s===l2||s===H3||s===B4&&r.type&4)this.addMatch(r.index,-2);else{let l=kx(r,n,s,!1,!1);l!==null&&this.addMatch(r.index,l)}else this.addMatch(r.index,o)}}addMatch(n,r){this.matches===null?this.matches=[n,r]:this.matches.push(n,r)}};function pQ(e,n){let r=e.localNames;if(r!==null){for(let o=0;o<r.length;o+=2)if(r[o]===n)return r[o+1]}return null}function mQ(e,n){return e.type&11?Ty(e,n):e.type&4?Ew(e,n):null}function gQ(e,n,r,o){return r===-1?mQ(n,e):r===-2?yQ(e,n,o):r7(e,e[P2],r,n)}function yQ(e,n,r){if(r===l2)return Ty(n,e);if(r===B4)return Ew(n,e);if(r===H3)return nP(n,e)}function iP(e,n,r,o){let s=n[c8].queries[o];if(s.matches===null){let l=e.data,d=r.matches,h=[];for(let p=0;d!==null&&p<d.length;p+=2){let g=d[p];if(g<0)h.push(null);else{let y=l[g];h.push(gQ(n,y,d[p+1],r.metadata.read))}}s.matches=h}return s.matches}function jS(e,n,r,o){let s=e.queries.getByIndex(r),l=s.matches;if(l!==null){let d=iP(e,n,s,r);for(let h=0;h<l.length;h+=2){let p=l[h];if(p>0)o.push(d[h/2]);else{let g=l[h+1],y=n[-p];for(let v=j3;v<y.length;v++){let w=y[v];w[Q5]===w[B3]&&jS(w[P2],w,g,o)}if(y[xy]!==null){let v=y[xy];for(let w=0;w<v.length;w++){let k=v[w];jS(k[P2],k,g,o)}}}}}return o}function UL(e,n){return e[c8].queries[n].queryList}function rP(e,n,r){let o=new Cy((r&4)===4);return hX(e,n,o,o.destroy),(n[c8]??=new RS).queries.push(new zS(o))-1}function vQ(e,n,r){let o=_d();return o.firstCreatePass&&(sP(o,new Kx(e,n,r),-1),(n&2)===2&&(o.staticViewQueries=!0)),rP(o,H2(),n)}function oP(e,n,r,o){let s=_d();if(s.firstCreatePass){let l=w3();sP(s,new Kx(n,r,o),l.index),bQ(s,e),(r&2)===2&&(s.staticContentQueries=!0)}return rP(s,H2(),r)}function _Q(e){return e.split(",").map(n=>n.trim())}function sP(e,n,r){e.queries===null&&(e.queries=new PS),e.queries.track(new FS(n,r))}function bQ(e,n){let r=e.contentQueries||(e.contentQueries=[]),o=r.length?r[r.length-1]:-1;n!==o&&r.push(e.queries.length-1,n)}function HL(e,n){return e.queries.getByIndex(n)}function aP(e,n){let r=e[P2],o=HL(r,n);return o.crossesNgTemplate?jS(r,e,n,[]):iP(r,e,o,n)}function c5(e){return typeof e=="function"&&e[R3]!==void 0}function d6(e,n){L4("NgSignals");let r=mN(e),o=r[R3];return n?.equal&&(o.equal=n.equal),r.set=s=>q_(o,s),r.update=s=>gN(o,s),r.asReadonly=xQ.bind(r),r}function xQ(){let e=this[R3];if(e.readonlyFn===void 0){let n=()=>this();n[R3]=e,e.readonlyFn=n}return e.readonlyFn}function cP(e){return c5(e)&&typeof e.set=="function"}function lP(e,n,r){let o,s=bE(()=>{o._dirtyCounter();let l=EQ(o,e);if(n&&l===void 0)throw new z1(-951,!1);return l});return o=s[R3],o._dirtyCounter=d6(0),o._flatValue=void 0,s}function wQ(e){return lP(!0,!1,e)}function CQ(e){return lP(!0,!0,e)}function MQ(e,n){let r=e[R3];r._lView=H2(),r._queryIndex=n,r._queryList=UL(r._lView,n),r._queryList.onDirty(()=>r._dirtyCounter.update(o=>o+1))}function EQ(e,n){let r=e._lView,o=e._queryIndex;if(r===void 0||o===void 0||r[v2]&4)return n?void 0:n4;let s=UL(r,o),l=aP(r,o);return s.reset(l,$z),n?s.first:s._changesDetected||e._flatValue===void 0?e._flatValue=s.toArray():e._flatValue}function xO(e,n){return wQ(n)}function SQ(e,n){return CQ(n)}var uP=(xO.required=SQ,xO);var l6=class{},Q9=class{};var BS=class extends l6{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Zx(this);constructor(n,r,o,s=!0){super(),this.ngModuleType=n,this._parent=r;let l=ZO(n);this._bootstrapComponents=hR(l.bootstrap),this._r3Injector=Fz(n,r,[{provide:l6,useValue:this},{provide:Sy,useValue:this.componentFactoryResolver},...o],i4(n),new Set(["environment"])),s&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},VS=class extends Q9{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new BS(this.moduleType,n,[])}};var Xx=class extends l6{injector;componentFactoryResolver=new Zx(this);instance=null;constructor(n){super();let r=new W9([...n.providers,{provide:l6,useValue:this},{provide:Sy,useValue:this.componentFactoryResolver}],n.parent||uw(),n.debugName,new Set(["environment"]));this.injector=r,n.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function GL(e,n,r=null){return new Xx({providers:e,parent:n,debugName:r,runEnvironmentInitializers:!0}).injector}var LQ=(()=>{class e{_injector;cachedInjectors=new Map;constructor(r){this._injector=r}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let o=JO(!1,r.type),s=o.length>0?GL([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=C1({token:e,providedIn:"environment",factory:()=>new e(K1(T3))})}return e})();function C2(e){return ev(()=>{let n=fP(e),r=R2(E1({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Wz.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?s=>s.get(LQ).getOrCreateStandaloneInjector(r):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||z6.Emulated,styles:e.styles||n4,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&L4("NgStandalone"),hP(r);let o=e.dependencies;return r.directiveDefs=CO(o,!1),r.pipeDefs=CO(o,!0),r.id=TQ(r),r})}function AQ(e){return t5(e)||KO(e)}function kQ(e){return e!==null}function r2(e){return ev(()=>({type:e.type,bootstrap:e.bootstrap||n4,declarations:e.declarations||n4,imports:e.imports||n4,exports:e.exports||n4,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function wO(e,n){if(e==null)return gy;let r={};for(let o in e)if(e.hasOwnProperty(o)){let s=e[o],l,d,h=i5.None;Array.isArray(s)?(h=s[0],l=s[1],d=s[2]??l):(l=s,d=s),n?(r[l]=h!==i5.None?[o,h]:o,n[l]=d):r[l]=o}return r}function n2(e){return ev(()=>{let n=fP(e);return hP(n),n})}function dP(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function fP(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||gy,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||n4,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:wO(e.inputs,n),outputs:wO(e.outputs),debugInfo:null}}function hP(e){e.features?.forEach(n=>n(e))}function CO(e,n){if(!e)return null;let r=n?XO:AQ;return()=>(typeof e=="function"?e():e).map(o=>r(o)).filter(kQ)}function TQ(e){let n=0,r=typeof e.consts=="function"?"":e.consts,o=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,r,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let l of o.join("|"))n=Math.imul(31,n)+l.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function DQ(e){return Object.getPrototypeOf(e.prototype).constructor}function h0(e){let n=DQ(e.type),r=!0,o=[e];for(;n;){let s;if(l8(e))s=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new z1(903,!1);s=n.\u0275dir}if(s){if(r){o.push(s);let d=e;d.inputs=wx(e.inputs),d.inputTransforms=wx(e.inputTransforms),d.declaredInputs=wx(e.declaredInputs),d.outputs=wx(e.outputs);let h=s.hostBindings;h&&RQ(e,h);let p=s.viewQuery,g=s.contentQueries;if(p&&OQ(e,p),g&&zQ(e,g),IQ(e,s),bY(e.outputs,s.outputs),l8(s)&&s.data.animation){let y=e.data;y.animation=(y.animation||[]).concat(s.data.animation)}}let l=s.features;if(l)for(let d=0;d<l.length;d++){let h=l[d];h&&h.ngInherit&&h(e),h===h0&&(r=!1)}}n=Object.getPrototypeOf(n)}NQ(o)}function IQ(e,n){for(let r in n.inputs){if(!n.inputs.hasOwnProperty(r)||e.inputs.hasOwnProperty(r))continue;let o=n.inputs[r];if(o!==void 0&&(e.inputs[r]=o,e.declaredInputs[r]=n.declaredInputs[r],n.inputTransforms!==null)){let s=Array.isArray(o)?o[0]:o;if(!n.inputTransforms.hasOwnProperty(s))continue;e.inputTransforms??={},e.inputTransforms[s]=n.inputTransforms[s]}}}function NQ(e){let n=0,r=null;for(let o=e.length-1;o>=0;o--){let s=e[o];s.hostVars=n+=s.hostVars,s.hostAttrs=Z9(s.hostAttrs,r=Z9(r,s.hostAttrs))}}function wx(e){return e===gy?{}:e===n4?[]:e}function OQ(e,n){let r=e.viewQuery;r?e.viewQuery=(o,s)=>{n(o,s),r(o,s)}:e.viewQuery=n}function zQ(e,n){let r=e.contentQueries;r?e.contentQueries=(o,s,l)=>{n(o,s,l),r(o,s,l)}:e.contentQueries=n}function RQ(e,n){let r=e.hostBindings;r?e.hostBindings=(o,s)=>{n(o,s),r(o,s)}:e.hostBindings=n}function z0(e){let n=e.inputConfig,r={};for(let o in n)if(n.hasOwnProperty(o)){let s=n[o];Array.isArray(s)&&s[3]&&(r[o]=s[3])}e.inputTransforms=r}function pP(e){return FQ(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function PQ(e,n){if(Array.isArray(e))for(let r=0;r<e.length;r++)n(e[r]);else{let r=e[Symbol.iterator](),o;for(;!(o=r.next()).done;)n(o.value)}}function FQ(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function jQ(e,n,r){return e[n]=r}function V4(e,n,r){let o=e[n];return Object.is(o,r)?!1:(e[n]=r,!0)}function mP(e,n,r,o){let s=V4(e,n,r);return V4(e,n+1,o)||s}function BQ(e){return(e.flags&32)===32}function VQ(e,n,r,o,s,l,d,h,p){let g=n.consts,y=fv(n,e,4,d||null,h||null);zR(n,r,y,wy(g,p)),CL(n,y);let v=y.tView=FL(2,y,o,s,l,n.directiveRegistry,n.pipeRegistry,null,n.schemas,g,null);return n.queries!==null&&(n.queries.template(n,y),v.queries=n.queries.embeddedTView(y)),y}function Qx(e,n,r,o,s,l,d,h,p,g){let y=r+V3,v=n.firstCreatePass?VQ(y,n,e,o,s,l,d,h,p):n.data[y];rv(v,!1);let w=UQ(n,e,v,r);xL()&&OL(n,e,w,v),s7(w,e);let k=jR(w,e,w,v);return e[y]=k,Mw(e,k),fQ(k,v,e),fL(v)&&IR(n,e,v),p!=null&&NR(e,v,g),v}function J2(e,n,r,o,s,l,d,h){let p=H2(),g=_d(),y=wy(g.consts,l);return Qx(p,g,e,n,r,o,s,y,d,h),J2}var UQ=HQ;function HQ(e,n,r,o){return wL(!0),n[_u].createComment("")}var Sw=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var gP=new I1("");function d7(e){return!!e&&typeof e.then=="function"}function yP(e){return!!e&&typeof e.subscribe=="function"}var vP=new I1("");var _P=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o});appInits=Ua(vP,{optional:!0})??[];injector=Ua(w0);constructor(){}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let l=u6(this.injector,s);if(d7(l))r.push(l);else if(yP(l)){let d=new Promise((h,p)=>{l.subscribe({complete:h,error:p})});r.push(d)}}let o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(s=>{this.reject(s)}),r.length===0&&o(),this.initialized=!0}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),bP=(()=>{class e{static \u0275prov=C1({token:e,providedIn:"root",factory:()=>new Jx})}return e})(),Jx=class{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}enqueue(n){let r=n.zone;this.queues.has(r)||this.queues.set(r,new Set);let o=this.queues.get(r);o.has(n)||(this.queuedEffectCount++,o.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,r]of this.queues)n===null?this.flushQueue(r):n.run(()=>this.flushQueue(r))}flushQueue(n){for(let r of n)n.delete(r),this.queuedEffectCount--,r.run()}},mv=new I1("");function GQ(){pN(()=>{throw new z1(600,!1)})}function $Q(e){return e.isBoundToModule}var qQ=10;function WQ(e,n,r){try{let o=r();return d7(o)?o.catch(s=>{throw n.runOutsideAngular(()=>e.handleError(s)),s}):o}catch(o){throw n.runOutsideAngular(()=>e.handleError(o)),o}}var f6=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Ua(XZ);afterRenderManager=Ua(eR);zonelessEnabled=Ua(yw);rootEffectScheduler=Ua(bP);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new W1;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=Ua(u7).hasPendingTasks.pipe(a2(r=>!r));constructor(){Ua(vw,{optional:!0})}whenStable(){let r;return new Promise(o=>{r=this.isStable.subscribe({next:s=>{s&&o()}})}).finally(()=>{r.unsubscribe()})}_injector=Ua(T3);get injector(){return this._injector}bootstrap(r,o){let s=r instanceof Yx;if(!this._injector.get(_P).done){let w=!s&&QO(r),k=!1;throw new z1(405,k)}let d;s?d=r:d=this._injector.get(Sy).resolveComponentFactory(r),this.componentTypes.push(d.componentType);let h=$Q(d)?void 0:this._injector.get(l6),p=o||d.selector,g=d.create(w0.NULL,[],p,h),y=g.location.nativeElement,v=g.injector.get(gP,null);return v?.registerApplication(y),g.onDestroy(()=>{this.detachView(g.hostView),Tx(this.components,g),v?.unregisterApplication(y)}),this._loadComponent(g),g}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let o=this.tracingSnapshot;this.tracingSnapshot=null,o.run(kL.CHANGE_DETECTION,this._tick);return}if(this._runningTick)throw new z1(101,!1);let r=r0(null);try{this._runningTick=!0,this.synchronize()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,r0(r),this.afterTick.next()}};synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(r5,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let o=0;for(;this.dirtyFlags!==0&&o++<qQ;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let o=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:s,notifyErrorHandler:l}of this.allViews)YQ(s,l,o,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>pw(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){let o=r;Tx(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(mv,[]).forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Tx(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new z1(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Tx(e,n){let r=e.indexOf(n);r>-1&&e.splice(r,1)}function YQ(e,n,r,o){if(!r&&!pw(e))return;XR(e,n,r&&!o?0:1)}function W2(e,n,r,o){let s=H2(),l=s5();if(V4(s,l,n)){let d=_d(),h=ov();AX(h,s,e,n,r,o)}return W2}function xP(e,n,r,o){return V4(e,s5(),r)?n+$9(r)+o:H4}function ZQ(e,n,r,o,s,l){let d=_Z(),h=mP(e,d,r,s);return gL(2),h?n+$9(r)+o+$9(s)+l:H4}function Cx(e,n){return e<<17|n<<2}function c7(e){return e>>17&32767}function KQ(e){return(e&2)==2}function XQ(e,n){return e&131071|n<<17}function US(e){return e|2}function Ay(e){return(e&131068)>>2}function GE(e,n){return e&-131069|n<<2}function QQ(e){return(e&1)===1}function HS(e){return e|1}function JQ(e,n,r,o,s,l){let d=l?n.classBindings:n.styleBindings,h=c7(d),p=Ay(d);e[o]=r;let g=!1,y;if(Array.isArray(r)){let v=r;y=v[1],(y===null||nv(v,y)>0)&&(g=!0)}else y=r;if(s)if(p!==0){let w=c7(e[h+1]);e[o+1]=Cx(w,h),w!==0&&(e[w+1]=GE(e[w+1],o)),e[h+1]=XQ(e[h+1],o)}else e[o+1]=Cx(h,0),h!==0&&(e[h+1]=GE(e[h+1],o)),h=o;else e[o+1]=Cx(p,0),h===0?h=o:e[p+1]=GE(e[p+1],o),p=o;g&&(e[o+1]=US(e[o+1])),MO(e,y,o,!0),MO(e,y,o,!1),eJ(n,y,e,o,l),d=Cx(h,p),l?n.classBindings=d:n.styleBindings=d}function eJ(e,n,r,o,s){let l=s?e.residualClasses:e.residualStyles;l!=null&&typeof n=="string"&&nv(l,n)>=0&&(r[o+1]=HS(r[o+1]))}function MO(e,n,r,o){let s=e[r+1],l=n===null,d=o?c7(s):Ay(s),h=!1;for(;d!==0&&(h===!1||l);){let p=e[d],g=e[d+1];tJ(p,n)&&(h=!0,e[d+1]=o?HS(g):US(g)),d=o?c7(g):Ay(g)}h&&(e[r+1]=o?US(s):HS(s))}function tJ(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?nv(e,n)>=0:!1}var s6={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function nJ(e){return e.substring(s6.key,s6.keyEnd)}function iJ(e){return rJ(e),wP(e,CP(e,0,s6.textEnd))}function wP(e,n){let r=s6.textEnd;return r===n?-1:(n=s6.keyEnd=oJ(e,s6.key=n,r),CP(e,n,r))}function rJ(e){s6.key=0,s6.keyEnd=0,s6.value=0,s6.valueEnd=0,s6.textEnd=e.length}function CP(e,n,r){for(;n<r&&e.charCodeAt(n)<=32;)n++;return n}function oJ(e,n,r){for(;n<r&&e.charCodeAt(n)>32;)n++;return n}function d2(e,n,r){let o=H2(),s=s5();if(V4(o,s,n)){let l=_d(),d=ov();Cw(l,d,o,e,n,o[_u],r,!1)}return d2}function GS(e,n,r,o,s){let l=n.inputs,d=s?"class":"style";jL(e,r,l[d],d,o)}function l5(e,n,r){return EP(e,n,r,!1),l5}function G2(e,n){return EP(e,n,null,!0),G2}function h6(e){SP(dJ,MP,e,!0)}function MP(e,n){for(let r=iJ(n);r>=0;r=wP(n,r))aw(e,nJ(n),!0)}function EP(e,n,r,o){let s=H2(),l=_d(),d=gL(2);if(l.firstUpdatePass&&AP(l,e,d,o),n!==H4&&V4(s,d,n)){let h=l.data[p8()];kP(l,h,s,s[_u],e,s[d+1]=hJ(n,r),o,d)}}function SP(e,n,r,o){let s=_d(),l=gL(2);s.firstUpdatePass&&AP(s,null,l,o);let d=H2();if(r!==H4&&V4(d,l,r)){let h=s.data[p8()];if(TP(h,o)&&!LP(s,l)){let p=o?h.classesWithoutHost:h.stylesWithoutHost;p!==null&&(r=KE(p,r||"")),GS(s,h,d,r,o)}else fJ(s,h,d,d[_u],d[l+1],d[l+1]=uJ(e,n,r),o,l)}}function LP(e,n){return n>=e.expandoStartIndex}function AP(e,n,r,o){let s=e.data;if(s[r+1]===null){let l=s[p8()],d=LP(e,r);TP(l,o)&&n===null&&!d&&(n=!1),n=sJ(s,l,n,o),JQ(s,l,n,r,d,o)}}function sJ(e,n,r,o){let s=yL(e),l=o?n.residualClasses:n.residualStyles;if(s===null)(o?n.classBindings:n.styleBindings)===0&&(r=$E(null,e,n,r,o),r=J9(r,n.attrs,o),l=null);else{let d=n.directiveStylingLast;if(d===-1||e[d]!==s)if(r=$E(s,e,n,r,o),l===null){let p=aJ(e,n,o);p!==void 0&&Array.isArray(p)&&(p=$E(null,e,n,p[1],o),p=J9(p,n.attrs,o),cJ(e,n,o,p))}else l=lJ(e,n,o)}return l!==void 0&&(o?n.residualClasses=l:n.residualStyles=l),r}function aJ(e,n,r){let o=r?n.classBindings:n.styleBindings;if(Ay(o)!==0)return e[c7(o)]}function cJ(e,n,r,o){let s=r?n.classBindings:n.styleBindings;e[c7(s)]=o}function lJ(e,n,r){let o,s=n.directiveEnd;for(let l=1+n.directiveStylingLast;l<s;l++){let d=e[l].hostAttrs;o=J9(o,d,r)}return J9(o,n.attrs,r)}function $E(e,n,r,o,s){let l=null,d=r.directiveEnd,h=r.directiveStylingLast;for(h===-1?h=r.directiveStart:h++;h<d&&(l=n[h],o=J9(o,l.hostAttrs,s),l!==e);)h++;return e!==null&&(r.directiveStylingLast=h),o}function J9(e,n,r){let o=r?1:2,s=-1;if(n!==null)for(let l=0;l<n.length;l++){let d=n[l];typeof d=="number"?s=d:s===o&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),aw(e,d,r?!0:n[++l]))}return e===void 0?null:e}function uJ(e,n,r){if(r==null||r==="")return n4;let o=[],s=m8(r);if(Array.isArray(s))for(let l=0;l<s.length;l++)e(o,s[l],!0);else if(typeof s=="object")for(let l in s)s.hasOwnProperty(l)&&e(o,l,s[l]);else typeof s=="string"&&n(o,s);return o}function dJ(e,n,r){let o=String(n);o!==""&&!o.includes(" ")&&aw(e,o,r)}function fJ(e,n,r,o,s,l,d,h){s===H4&&(s=n4);let p=0,g=0,y=0<s.length?s[0]:null,v=0<l.length?l[0]:null;for(;y!==null||v!==null;){let w=p<s.length?s[p+1]:void 0,k=g<l.length?l[g+1]:void 0,F=null,q;y===v?(p+=2,g+=2,w!==k&&(F=v,q=k)):v===null||y!==null&&y<v?(p+=2,F=y):(g+=2,F=v,q=k),F!==null&&kP(e,n,r,o,F,q,d,h),y=p<s.length?s[p]:null,v=g<l.length?l[g]:null}}function kP(e,n,r,o,s,l,d,h){if(!(n.type&3))return;let p=e.data,g=p[h+1],y=QQ(g)?EO(p,n,r,s,Ay(g),d):void 0;if(!ew(y)){ew(l)||KQ(g)&&(l=EO(p,null,r,s,h,d));let v=dz(p8(),r);WK(o,d,v,s,l)}}function EO(e,n,r,o,s,l){let d=n===null,h;for(;s>0;){let p=e[s],g=Array.isArray(p),y=g?p[1]:p,v=y===null,w=r[s+1];w===H4&&(w=v?n4:void 0);let k=v?PE(w,o):y===o?w:void 0;if(g&&!ew(k)&&(k=PE(p,o)),ew(k)&&(h=k,d))return h;let F=e[s+1];s=d?c7(F):Ay(F)}if(n!==null){let p=l?n.residualClasses:n.residualStyles;p!=null&&(h=PE(p,o))}return h}function ew(e){return e!==void 0}function hJ(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=i4(m8(e)))),e}function TP(e,n){return(e.flags&(n?8:16))!==0}function DP(e,n,r){let o=H2(),s=xP(o,e,n,r);SP(aw,MP,s,!0)}var $S=class{destroy(n){}updateValue(n,r){}swap(n,r){let o=Math.min(n,r),s=Math.max(n,r),l=this.detach(s);if(s-o>1){let d=this.detach(o);this.attach(o,l),this.attach(s,d)}else this.attach(o,l)}move(n,r){this.attach(r,this.detach(n))}};function qE(e,n,r,o,s){return e===r&&Object.is(n,o)?1:Object.is(s(e,n),s(r,o))?-1:0}function pJ(e,n,r){let o,s,l=0,d=e.length-1,h=void 0;if(Array.isArray(n)){let p=n.length-1;for(;l<=d&&l<=p;){let g=e.at(l),y=n[l],v=qE(l,g,l,y,r);if(v!==0){v<0&&e.updateValue(l,y),l++;continue}let w=e.at(d),k=n[p],F=qE(d,w,p,k,r);if(F!==0){F<0&&e.updateValue(d,k),d--,p--;continue}let q=r(l,g),_r=r(d,w),ga=r(l,y);if(Object.is(ga,_r)){let La=r(p,k);Object.is(La,q)?(e.swap(l,d),e.updateValue(d,k),p--,d--):e.move(d,l),e.updateValue(l,y),l++;continue}if(o??=new tw,s??=LO(e,l,d,r),qS(e,o,l,ga))e.updateValue(l,y),l++,d++;else if(s.has(ga))o.set(q,e.detach(l)),d--;else{let La=e.create(l,n[l]);e.attach(l,La),l++,d++}}for(;l<=p;)SO(e,o,r,l,n[l]),l++}else if(n!=null){let p=n[Symbol.iterator](),g=p.next();for(;!g.done&&l<=d;){let y=e.at(l),v=g.value,w=qE(l,y,l,v,r);if(w!==0)w<0&&e.updateValue(l,v),l++,g=p.next();else{o??=new tw,s??=LO(e,l,d,r);let k=r(l,v);if(qS(e,o,l,k))e.updateValue(l,v),l++,d++,g=p.next();else if(!s.has(k))e.attach(l,e.create(l,v)),l++,d++,g=p.next();else{let F=r(l,y);o.set(F,e.detach(l)),d--}}}for(;!g.done;)SO(e,o,r,e.length,g.value),g=p.next()}for(;l<=d;)e.destroy(e.detach(d--));o?.forEach(p=>{e.destroy(p)})}function qS(e,n,r,o){return n!==void 0&&n.has(o)?(e.attach(r,n.get(o)),n.delete(o),!0):!1}function SO(e,n,r,o,s){if(qS(e,n,o,r(o,s)))e.updateValue(o,s);else{let l=e.create(o,s);e.attach(o,l)}}function LO(e,n,r,o){let s=new Set;for(let l=n;l<=r;l++)s.add(o(l,e.at(l)));return s}var tw=class{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let r=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(r)?(this.kvMap.set(n,this._vMap.get(r)),this._vMap.delete(r)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,r){if(this.kvMap.has(n)){let o=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let s=this._vMap;for(;s.has(o);)o=s.get(o);s.set(o,r)}else this.kvMap.set(n,r)}forEach(n){for(let[r,o]of this.kvMap)if(n(o,r),this._vMap!==void 0){let s=this._vMap;for(;s.has(o);)o=s.get(o),n(o,r)}}};function C0(e,n){L4("NgControlFlow");let r=H2(),o=s5(),s=r[o]!==H4?r[o]:-1,l=s!==-1?nw(r,V3+s):void 0,d=0;if(V4(r,o,e)){let h=r0(null);try{if(l!==void 0&&WR(l,d),e!==-1){let p=V3+e,g=nw(r,p),y=KS(r[P2],p),v=Ey(g,y.tView.ssrId),w=hv(r,y,n,{dehydratedView:v});pv(g,w,d,My(y,v))}}finally{r0(h)}}else if(l!==void 0){let h=qR(l,d);h!==void 0&&(h[F3]=n)}}var WS=class{lContainer;$implicit;$index;constructor(n,r,o){this.lContainer=n,this.$implicit=r,this.$index=o}get $count(){return this.lContainer.length-j3}};var YS=class{hasEmptyBlock;trackByFn;liveCollection;constructor(n,r,o){this.hasEmptyBlock=n,this.trackByFn=r,this.liveCollection=o}};function Lw(e,n,r,o,s,l,d,h,p,g,y,v,w){L4("NgControlFlow");let k=H2(),F=_d(),q=p!==void 0,_r=H2(),ga=h?d.bind(_r[E4][F3]):d,La=new YS(q,ga);_r[V3+e]=La,Qx(k,F,e+1,n,r,o,s,wy(F.consts,l)),q&&Qx(k,F,e+2,p,g,y,v,wy(F.consts,w))}var ZS=class extends $S{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,r,o){super(),this.lContainer=n,this.hostLView=r,this.templateTNode=o}get length(){return this.lContainer.length-j3}at(n){return this.getLView(n)[F3].$implicit}attach(n,r){let o=r[_y];this.needsIndexUpdate||=n!==this.length,pv(this.lContainer,r,n,My(this.templateTNode,o))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,mJ(this.lContainer,n)}create(n,r){let o=Ey(this.lContainer,this.templateTNode.tView.ssrId),s=hv(this.hostLView,this.templateTNode,new WS(this.lContainer,r,n),{dehydratedView:o});return this.operationsCounter?.recordCreate(),s}destroy(n){bw(n[P2],n),this.operationsCounter?.recordDestroy()}updateValue(n,r){this.getLView(n)[F3].$implicit=r}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[F3].$index=n}getLView(n){return gJ(this.lContainer,n)}};function Aw(e){let n=r0(null),r=p8();try{let o=H2(),s=o[P2],l=o[r],d=r+1,h=nw(o,d);if(l.liveCollection===void 0){let g=KS(s,d);l.liveCollection=new ZS(h,o,g)}else l.liveCollection.reset();let p=l.liveCollection;if(pJ(p,e,l.trackByFn),p.updateIndexes(),l.hasEmptyBlock){let g=s5(),y=p.length===0;if(V4(o,g,y)){let v=r+2,w=nw(o,v);if(y){let k=KS(s,v),F=Ey(w,k.tView.ssrId),q=hv(o,k,void 0,{dehydratedView:F});pv(w,q,0,My(k,F))}else WR(w,0)}}}finally{r0(n)}}function nw(e,n){return e[n]}function mJ(e,n){return X9(e,n)}function gJ(e,n){return qR(e,n)}function KS(e,n){return hL(e,n)}function yJ(e,n,r,o,s,l){let d=n.consts,h=wy(d,s),p=fv(n,e,2,o,h);return zR(n,r,p,wy(d,l)),p.attrs!==null&&NS(p,p.attrs,!1),p.mergedAttrs!==null&&NS(p,p.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,p),p}function g1(e,n,r,o){let s=H2(),l=_d(),d=V3+e,h=s[_u],p=l.firstCreatePass?yJ(d,l,s,n,r,o):l.data[d],g=vJ(l,s,p,h,n,e);s[d]=g;let y=fL(p);return rv(p,!0),MR(h,g,p),!BQ(p)&&xL()&&OL(l,s,g,p),dZ()===0&&s7(g,s),fZ(),y&&(IR(l,s,p),DR(l,p,s)),o!==null&&NR(s,p),g1}function v1(){let e=w3();vz()?_z():(e=e.parent,rv(e,!1));let n=e;pZ(n)&&mZ(),hZ();let r=_d();return r.firstCreatePass&&(CL(r,e),oz(e)&&r.queries.elementEnd(e)),n.classesWithoutHost!=null&&DZ(n)&&GS(r,n,H2(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&IZ(n)&&GS(r,n,H2(),n.stylesWithoutHost,!1),v1}function E2(e,n,r,o){return g1(e,n,r,o),v1(),E2}var vJ=(e,n,r,o,s,l)=>(wL(!0),pR(o,s,LZ()));function G3(){return H2()}function j6(e,n,r){let o=H2(),s=s5();if(V4(o,s,n)){let l=_d(),d=ov();Cw(l,d,o,e,n,o[_u],r,!0)}return j6}function kw(e,n,r){let o=H2(),s=s5();if(V4(o,s,n)){let l=_d(),d=ov(),h=yL(l.data),p=HR(h,d,o);Cw(l,d,o,e,n,p,r,!0)}return kw}var Y5=void 0;function _J(e){let n=e,r=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return r===1&&o===0?1:5}var bJ=["en",[["a","p"],["AM","PM"],Y5],[["AM","PM"],Y5,Y5],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Y5,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Y5,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Y5,"{1} 'at' {0}",Y5],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",_J],WE={};function G4(e){let n=xJ(e),r=AO(n);if(r)return r;let o=n.split("-")[0];if(r=AO(o),r)return r;if(o==="en")return bJ;throw new z1(701,!1)}function AO(e){return e in WE||(WE[e]=Z5.ng&&Z5.ng.common&&Z5.ng.common.locales&&Z5.ng.common.locales[e]),WE[e]}var o3=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(o3||{});function xJ(e){return e.toLowerCase().replace(/_/g,"-")}var iw="en-US";var wJ=iw;function CJ(e){typeof e=="string"&&(wJ=e.toLowerCase().replace(/_/g,"-"))}var MJ=(e,n,r)=>{};function O2(e,n,r,o){let s=H2(),l=_d(),d=w3();return $L(l,s,s[_u],d,e,n,o),O2}function Tw(e,n){let r=w3(),o=H2(),s=_d(),l=yL(s.data),d=HR(l,r,o);return $L(s,o,d,r,e,n),Tw}function EJ(e,n,r,o){let s=e.cleanup;if(s!=null)for(let l=0;l<s.length-1;l+=2){let d=s[l];if(d===r&&s[l+1]===o){let h=n[Rx],p=s[l+2];return h.length>p?h[p]:null}typeof d=="string"&&(l+=2)}return null}function $L(e,n,r,o,s,l,d){let h=fL(o),g=e.firstCreatePass&&UR(e),y=n[F3],v=VR(n),w=!0;if(o.type&3||d){let q=U4(o,n),_r=d?d(q):q,ga=v.length,La=d?_l=>d(O6(_l[o.index])):o.index,jc=null;if(!d&&h&&(jc=EJ(e,n,s,o.index)),jc!==null){let _l=jc.__ngLastListenerFn__||jc;_l.__ngNextListenerFn__=l,jc.__ngLastListenerFn__=l,w=!1}else{l=TO(o,n,y,l),MJ(q,s,l);let _l=r.listen(_r,s,l);v.push(l,_l),g&&g.push(s,La,ga,ga+1)}}else l=TO(o,n,y,l);let k=o.outputs,F;if(w&&k!==null&&(F=k[s])){let q=F.length;if(q)for(let _r=0;_r<q;_r+=2){let ga=F[_r],La=F[_r+1],e1=n[ga][La].subscribe(l),n1=v.length;v.push(l,e1),g&&g.push(s,o.index,n1,-(n1+1))}}}function kO(e,n,r,o){let s=r0(null);try{return I6(6,n,r),r(o)!==!1}catch(l){return GR(e,l),!1}finally{I6(7,n,r),r0(s)}}function TO(e,n,r,o){return function s(l){if(l===Function)return o;let d=e.componentOffset>-1?o5(e.index,n):n;VL(d,5);let h=kO(n,r,o,l),p=s.__ngNextListenerFn__;for(;p;)h=kO(n,r,p,l)&&h,p=p.__ngNextListenerFn__;return h}}function S2(e=1){return EZ(e)}function SJ(e,n){let r=null,o=eX(e);for(let s=0;s<n.length;s++){let l=n[s];if(l==="*"){r=s;continue}if(o===null?SR(e,l,!0):iX(o,l))return s}return r}function Q0(e){let n=H2()[E4][f4];if(!n.projection){let r=e?e.length:1,o=n.projection=VY(r,null),s=o.slice(),l=n.child;for(;l!==null;){if(l.type!==128){let d=e?SJ(l,e):0;d!==null&&(s[d]?s[d].projectionNext=l:o[d]=l,s[d]=l)}l=l.next}}}function e0(e,n=0,r,o,s,l){let d=H2(),h=_d(),p=o?e+1:null;p!==null&&Qx(d,h,p,o,s,l,null,r);let g=fv(h,V3+e,16,null,r||null);g.projection===null&&(g.projection=n),_z();let v=!d[_y]||gz();d[E4][f4].projection[g.projection]===null&&p!==null?LJ(d,h,p):v&&(g.flags&32)!==32&&$K(h,d,g)}function LJ(e,n,r){let o=V3+r,s=n.data[o],l=e[o],d=Ey(l,s.tView.ssrId),h=hv(e,s,void 0,{dehydratedView:d});pv(l,h,0,My(s,d))}function y3(e,n,r,o){oP(e,n,r,o)}function g0(e,n,r){vQ(e,n,r)}function F2(e){let n=H2(),r=_d(),o=vL();mw(o+1);let s=HL(r,o);if(e.dirty&&aZ(n)===((s.metadata.flags&2)===2)){if(s.matches===null)e.reset([]);else{let l=aP(n,o);e.reset(l,$z),e.notifyOnChanges()}return!0}return!1}function j2(){return UL(H2(),vL())}function IP(e,n,r,o,s){MQ(n,oP(e,r,o,s))}function NP(e=1){mw(vL()+e)}function AJ(e,n,r,o){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),n[r]=o}function B6(e){let n=yZ();return fz(n,V3+e)}function e2(e,n=""){let r=H2(),o=_d(),s=e+V3,l=o.firstCreatePass?fv(o,s,1,n,null):o.data[s],d=kJ(o,r,l,n,e);r[s]=d,xL()&&OL(o,r,d,l),rv(l,!1)}var kJ=(e,n,r,o,s)=>(wL(!0),IK(n[_u],o));function D3(e){return v3("",e,""),D3}function v3(e,n,r){let o=H2(),s=xP(o,e,n,r);return s!==H4&&$R(o,p8(),s),v3}function Dw(e,n,r,o,s){let l=H2(),d=ZQ(l,e,n,r,o,s);return d!==H4&&$R(l,p8(),d),Dw}function p6(e,n,r){cP(n)&&(n=n());let o=H2(),s=s5();if(V4(o,s,n)){let l=_d(),d=ov();Cw(l,d,o,e,n,o[_u],r,!1)}return p6}function V6(e,n){let r=cP(e);return r&&e.set(n),r}function m6(e,n){let r=H2(),o=_d(),s=w3();return $L(o,r,r[_u],s,e,n),m6}function TJ(e,n,r){let o=_d();if(o.firstCreatePass){let s=l8(e);XS(r,o.data,o.blueprint,s,!0),XS(n,o.data,o.blueprint,s,!1)}}function XS(e,n,r,o,s){if(e=t4(e),Array.isArray(e))for(let l=0;l<e.length;l++)XS(e[l],n,r,o,s);else{let l=_d(),d=H2(),h=w3(),p=vy(e)?e:t4(e.provide),g=nz(e),y=h.providerIndexes&1048575,v=h.directiveStart,w=h.providerIndexes>>20;if(vy(e)||!e.multi){let k=new i7(g,s,X1),F=ZE(p,n,s?y:y+w,v);F===-1?(dS(Hx(h,d),l,p),YE(l,e,n.length),n.push(p),h.directiveStart++,h.directiveEnd++,s&&(h.providerIndexes+=1048576),r.push(k),d.push(k)):(r[F]=k,d[F]=k)}else{let k=ZE(p,n,y+w,v),F=ZE(p,n,y,y+w),q=k>=0&&r[k],_r=F>=0&&r[F];if(s&&!_r||!s&&!q){dS(Hx(h,d),l,p);let ga=NJ(s?IJ:DJ,r.length,s,o,g);!s&&_r&&(r[F].providerFactory=ga),YE(l,e,n.length,0),n.push(p),h.directiveStart++,h.directiveEnd++,s&&(h.providerIndexes+=1048576),r.push(ga),d.push(ga)}else{let ga=OP(r[s?F:k],g,!s&&o);YE(l,e,k>-1?k:F,ga)}!s&&o&&_r&&r[F].componentProviders++}}}function YE(e,n,r,o){let s=vy(n),l=YY(n);if(s||l){let p=(l?t4(n.useClass):n).prototype.ngOnDestroy;if(p){let g=e.destroyHooks||(e.destroyHooks=[]);if(!s&&n.multi){let y=g.indexOf(r);y===-1?g.push(r,[o,p]):g[y+1].push(o,p)}else g.push(r,p)}}}function OP(e,n,r){return r&&e.componentProviders++,e.multi.push(n)-1}function ZE(e,n,r,o){for(let s=r;s<o;s++)if(n[s]===e)return s;return-1}function DJ(e,n,r,o){return QS(this.multi,[])}function IJ(e,n,r,o){let s=this.multi,l;if(this.providerFactory){let d=this.providerFactory.componentProviders,h=r7(r,r[P2],this.providerFactory.index,o);l=h.slice(0,d),QS(s,l);for(let p=d;p<h.length;p++)l.push(h[p])}else l=[],QS(s,l);return l}function QS(e,n){for(let r=0;r<e.length;r++){let o=e[r];n.push(o())}return n}function NJ(e,n,r,o,s){let l=new i7(e,r,X1);return l.multi=[],l.index=n,l.componentProviders=0,OP(l,s,o&&!r),l}function V0(e,n=[]){return r=>{r.providersResolver=(o,s)=>TJ(o,s?s(e):e,n)}}function OJ(e,n){let r=e[n];return r===H4?void 0:r}function zJ(e,n,r,o,s,l,d){let h=n+r;return mP(e,h,s,l)?jQ(e,h+2,d?o.call(d,s,l):o(s,l)):OJ(e,h+2)}function qL(e,n){let r=_d(),o,s=e+V3;r.firstCreatePass?(o=RJ(n,r.pipeRegistry),r.data[s]=o,o.onDestroy&&(r.destroyHooks??=[]).push(s,o.onDestroy)):o=r.data[s];let l=o.factory||(o.factory=X5(o.type,!0)),d,h=u4(X1);try{let p=Ux(!1),g=l();return Ux(p),AJ(r,H2(),s,g),g}finally{u4(h)}}function RJ(e,n){if(n)for(let r=n.length-1;r>=0;r--){let o=n[r];if(e===o.name)return o}}function WL(e,n,r,o){let s=e+V3,l=H2(),d=fz(l,s);return PJ(l,s)?zJ(l,vZ(),n,d.transform,r,o,d):d.transform(r,o)}function PJ(e,n){return e[P2].data[n].pure}function YL(e,n){return Ew(e,n)}var f8=class{full;major;minor;patch;constructor(n){this.full=n;let r=n.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}};var JS=class{ngModuleFactory;componentFactories;constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}},ZL=(()=>{class e{compileModuleSync(r){return new VS(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let o=this.compileModuleSync(r),s=ZO(r),l=hR(s.declarations).reduce((d,h)=>{let p=t5(h);return p&&d.push(new Ly(p)),d},[]);return new JS(o,l)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var FJ=(()=>{class e{zone=Ua(c2);changeDetectionScheduler=Ua(o7);applicationRef=Ua(f6);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),jJ=new I1("",{factory:()=>!1});function zP({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:r}){return e??=()=>new c2(R2(E1({},PP()),{scheduleInRootZone:r})),[{provide:c2,useFactory:e},{provide:yy,multi:!0,useFactory:()=>{let o=Ua(FJ,{optional:!0});return()=>o.initialize()}},{provide:yy,multi:!0,useFactory:()=>{let o=Ua(BJ);return()=>{o.initialize()}}},n===!0?{provide:Bz,useValue:!0}:[],{provide:Vz,useValue:r??jz}]}function RP(e){let n=e?.ignoreChangesOutsideZone,r=e?.scheduleInRootZone,o=zP({ngZoneFactory:()=>{let s=PP(e);return s.scheduleInRootZone=r,s.shouldCoalesceEventChangeDetection&&L4("NgZone_CoalesceEvent"),new c2(s)},ignoreChangesOutsideZone:n,scheduleInRootZone:r});return cw([{provide:jJ,useValue:!0},{provide:yw,useValue:!1},o])}function PP(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var BJ=(()=>{class e{subscription=new A2;initialized=!1;zone=Ua(c2);pendingTasks=Ua(u7);initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{c2.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{c2.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var VJ=(()=>{class e{appRef=Ua(f6);taskService=Ua(u7);ngZone=Ua(c2);zonelessEnabled=Ua(yw);tracing=Ua(vw,{optional:!0});disableScheduling=Ua(Bz,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new A2;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get($x):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Ua(Vz,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof mS||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;let o=!1;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,o=!0;break}case 13:{this.appRef.dirtyFlags|=16,o=!0;break}case 14:{this.appRef.dirtyFlags|=2,o=!0;break}case 12:{o=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(o))return;let s=this.useMicrotaskScheduler?rO:Uz;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>s(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>s(()=>this.tick()))}shouldScheduleTick(r){return!(this.disableScheduling&&!r||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get($x+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(r),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,rO(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function UJ(){return typeof $localize<"u"&&$localize.locale||iw}var Iy=new I1("",{providedIn:"root",factory:()=>Ua(Iy,Q2.Optional|Q2.SkipSelf)||UJ()});var eL=new I1("");function Mx(e){return!e.moduleRef}function HJ(e){let n=Mx(e)?e.r3Injector:e.moduleRef.injector,r=n.get(c2);return r.run(()=>{Mx(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let o=n.get(d4,null),s;if(r.runOutsideAngular(()=>{s=r.onError.subscribe({next:l=>{o.handleError(l)}})}),Mx(e)){let l=()=>n.destroy(),d=e.platformInjector.get(eL);d.add(l),n.onDestroy(()=>{s.unsubscribe(),d.delete(l)})}else{let l=()=>e.moduleRef.destroy(),d=e.platformInjector.get(eL);d.add(l),e.moduleRef.onDestroy(()=>{Tx(e.allPlatformModules,e.moduleRef),s.unsubscribe(),d.delete(l)})}return WQ(o,r,()=>{let l=n.get(_P);return l.runInitializers(),l.donePromise.then(()=>{let d=n.get(Iy,iw);if(CJ(d||iw),Mx(e)){let h=n.get(f6);return e.rootComponent!==void 0&&h.bootstrap(e.rootComponent),h}else return GJ(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function GJ(e,n){let r=e.injector.get(f6);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(r);else throw new z1(-403,!1);n.push(e)}var Dx=null;function $J(e=[],n){return w0.create({name:n,providers:[{provide:lw,useValue:"platform"},{provide:eL,useValue:new Set([()=>Dx=null])},...e]})}function qJ(e=[]){if(Dx)return Dx;let n=$J(e);return Dx=n,GQ(),WJ(n),n}function WJ(e){let n=e.get(AL,null);u6(e,()=>{n?.forEach(r=>r())})}var k0=(()=>{class e{static __NG_ELEMENT_ID__=YJ}return e})();function YJ(e){return ZJ(w3(),H2(),(e&16)===16)}function ZJ(e,n,r){if(hw(e)&&!r){let o=o5(e.index,n);return new a7(o,o)}else if(e.type&175){let o=n[E4];return new a7(o,n)}return null}var tL=class{constructor(){}supports(n){return pP(n)}create(n){return new nL(n)}},KJ=(e,n)=>n,nL=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||KJ}forEachItem(n){let r;for(r=this._itHead;r!==null;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,o=this._removalsHead,s=0,l=null;for(;r||o;){let d=!o||r&&r.currentIndex<DO(o,s,l)?r:o,h=DO(d,s,l),p=d.currentIndex;if(d===o)s--,o=o._nextRemoved;else if(r=r._next,d.previousIndex==null)s++;else{l||(l=[]);let g=h-s,y=p-s;if(g!=y){for(let w=0;w<g;w++){let k=w<l.length?l[w]:l[w]=0,F=k+w;y<=F&&F<g&&(l[w]=k+1)}let v=d.previousIndex;l[v]=y-g}}h!==p&&n(d,h,p)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;r!==null;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;r!==null;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;r!==null;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;r!==null;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;r!==null;r=r._nextIdentityChange)n(r)}diff(n){if(n==null&&(n=[]),!pP(n))throw new z1(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._itHead,o=!1,s,l,d;if(Array.isArray(n)){this.length=n.length;for(let h=0;h<this.length;h++)l=n[h],d=this._trackByFn(h,l),r===null||!Object.is(r.trackById,d)?(r=this._mismatch(r,l,d,h),o=!0):(o&&(r=this._verifyReinsertion(r,l,d,h)),Object.is(r.item,l)||this._addIdentityChange(r,l)),r=r._next}else s=0,PQ(n,h=>{d=this._trackByFn(s,h),r===null||!Object.is(r.trackById,d)?(r=this._mismatch(r,h,d,s),o=!0):(o&&(r=this._verifyReinsertion(r,h,d,s)),Object.is(r.item,h)||this._addIdentityChange(r,h)),r=r._next,s++}),this.length=s;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,o,s){let l;return n===null?l=this._itTail:(l=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(o,null),n!==null?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,l,s)):(n=this._linkedRecords===null?null:this._linkedRecords.get(o,s),n!==null?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,l,s)):n=this._addAfter(new iL(r,o),l,s)),n}_verifyReinsertion(n,r,o,s){let l=this._unlinkedRecords===null?null:this._unlinkedRecords.get(o,null);return l!==null?n=this._reinsertAfter(l,n._prev,s):n.currentIndex!=s&&(n.currentIndex=s,this._addToMoves(n,s)),n}_truncate(n){for(;n!==null;){let r=n._next;this._addToRemovals(this._unlink(n)),n=r}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,o){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let s=n._prevRemoved,l=n._nextRemoved;return s===null?this._removalsHead=l:s._nextRemoved=l,l===null?this._removalsTail=s:l._prevRemoved=s,this._insertAfter(n,r,o),this._addToMoves(n,o),n}_moveAfter(n,r,o){return this._unlink(n),this._insertAfter(n,r,o),this._addToMoves(n,o),n}_addAfter(n,r,o){return this._insertAfter(n,r,o),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,r,o){let s=r===null?this._itHead:r._next;return n._next=s,n._prev=r,s===null?this._itTail=n:s._prev=n,r===null?this._itHead=n:r._next=n,this._linkedRecords===null&&(this._linkedRecords=new rw),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let r=n._prev,o=n._next;return r===null?this._itHead=o:r._next=o,o===null?this._itTail=r:o._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new rw),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},iL=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,r){this.item=n,this.trackById=r}},rL=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let o;for(o=this._head;o!==null;o=o._nextDup)if((r===null||r<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){let r=n._prevDup,o=n._nextDup;return r===null?this._head=o:r._nextDup=o,o===null?this._tail=r:o._prevDup=r,this._head===null}},rw=class{map=new Map;put(n){let r=n.trackById,o=this.map.get(r);o||(o=new rL,this.map.set(r,o)),o.add(n)}get(n,r){let o=n,s=this.map.get(o);return s?s.get(n,r):null}remove(n){let r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function DO(e,n,r){let o=e.previousIndex;if(o===null)return o;let s=0;return r&&o<r.length&&(s=r[o]),o+n+s}function IO(){return new Iw([new tL])}var Iw=(()=>{class e{factories;static \u0275prov=C1({token:e,providedIn:"root",factory:IO});constructor(r){this.factories=r}static create(r,o){if(o!=null){let s=o.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||IO()),deps:[[e,new tv,new l7]]}}find(r){let o=this.factories.find(s=>s.supports(r));if(o!=null)return o;throw new z1(901,!1)}}return e})();function FP(e){try{let{rootComponent:n,appProviders:r,platformProviders:o}=e,s=qJ(o),l=[zP({}),{provide:o7,useExisting:VJ},...r||[]],d=new Xx({providers:l,parent:s,debugName:"",runEnvironmentInitializers:!1});return HJ({r3Injector:d.injector,platformInjector:s,rootComponent:n})}catch(n){return Promise.reject(n)}}function p2(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Ny(e,n=NaN){return!isNaN(parseFloat(e))&&!isNaN(Number(e))?Number(e):n}function y8(e,n){L4("NgSignals");let r=bE(e);return n?.equal&&(r[R3].equal=n.equal),r}function $4(e){let n=r0(null);try{return e()}finally{r0(n)}}var jP=(()=>{class e{view;node;constructor(r,o){this.view=r,this.node=o}static __NG_ELEMENT_ID__=XJ}return e})();function XJ(){return new jP(H2(),w3())}var QJ=!1,JJ=(()=>{class e extends Jx{pendingTasks=Ua(u7);taskId=null;schedule(r){super.schedule(r),this.taskId===null&&(this.taskId=this.pendingTasks.add(),queueMicrotask(()=>this.flush()))}flush(){try{super.flush()}finally{this.taskId!==null&&(this.pendingTasks.remove(this.taskId),this.taskId=null)}}static \u0275prov=C1({token:e,providedIn:"root",factory:()=>new e})}return e})(),oL=class{scheduler;effectFn;zone;injector;unregisterOnDestroy;watcher;constructor(n,r,o,s,l,d){this.scheduler=n,this.effectFn=r,this.zone=o,this.injector=l,this.watcher=yN(h=>this.runEffect(h),()=>this.schedule(),d),this.unregisterOnDestroy=s?.onDestroy(()=>this.destroy())}runEffect(n){try{this.effectFn(n)}catch(r){this.injector.get(d4,null,{optional:!0})?.handleError(r)}}run(){this.watcher.run()}schedule(){this.scheduler.schedule(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function eee(){}function tee(e,n){L4("NgSignals"),!n?.injector&&dw(eee);let r=n?.injector??Ua(w0),o=n?.manualCleanup!==!0?r.get(sv):null,s=new oL(r.get(JJ),e,typeof Zone>"u"?null:Zone.current,o,r,n?.allowSignalWrites??!1),l=r.get(k0,null,{optional:!0});return!l||!(l._lView[v2]&8)?s.watcher.notify():(l._lView[Sx]??=[]).push(s.watcher.notify),s}var nee=QJ;var sL=class{[R3];constructor(n){this[R3]=n}destroy(){this[R3].destroy()}};function gv(e,n){if(nee)return tee(e,n);L4("NgSignals"),!n?.injector&&dw(gv);let r=n?.injector??Ua(w0),o=n?.manualCleanup!==!0?r.get(sv):null,s,l=r.get(jP,null,{optional:!0}),d=r.get(o7);return l!==null&&!n?.forceRoot?(s=oee(l.view,d,e),o instanceof Gx&&o._lView===l.view&&(o=null)):s=see(e,r.get(bP),d),s.injector=r,o!==null&&(s.onDestroyFn=o.onDestroy(()=>s.destroy())),new sL(s)}var BP=R2(E1({},B5),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,onDestroyFn:K9,run(){if(this.dirty=!1,this.hasRun&&!N9(this))return;this.hasRun=!0;let e=o=>(this.cleanupFns??=[]).push(o),n=Z7(this),r=jx(!1);try{this.maybeCleanup(),this.fn(e)}finally{jx(r),I9(this,n)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),iee=R2(E1({},BP),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(13)},destroy(){K7(this),this.onDestroyFn(),this.maybeCleanup()}}),ree=R2(E1({},BP),{consumerMarkedDirty(){this.view[v2]|=8192,iv(this.view),this.notifier.notify(14)},destroy(){K7(this),this.onDestroyFn(),this.maybeCleanup(),this.view[J5]?.delete(this)}});function oee(e,n,r){let o=Object.create(ree);return o.view=e,o.zone=typeof Zone<"u"?Zone.current:null,o.notifier=n,o.fn=r,e[J5]??=new Set,e[J5].add(o),o.consumerMarkedDirty(o),o}function see(e,n,r){let o=Object.create(iee);return o.fn=e,o.scheduler=n,o.notifier=r,o.zone=typeof Zone<"u"?Zone.current:null,o.scheduler.schedule(o),o.notifier.notify(13),o}function Nw(e,n){let r=t5(e),o=n.elementInjector||uw();return new Ly(r).create(o,n.projectableNodes,n.hostElement,n.environmentInjector)}var WP=null;function x8(){return WP}function YP(e){WP??=e}var Uw=class{};var T2=new I1(""),ZP=(()=>{class e{historyGo(r){throw new Error("")}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:()=>Ua(cee),providedIn:"platform"})}return e})();var cee=(()=>{class e extends ZP{_location;_history;_doc=Ua(T2);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return x8().getBaseHref(this._doc)}onPopState(r){let o=x8().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",r,!1),()=>o.removeEventListener("popstate",r)}onHashChange(r){let o=x8().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",r,!1),()=>o.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,o,s){this._history.pushState(r,o,s)}replaceState(r,o,s){this._history.replaceState(r,o,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function KP(e,n){if(e.length==0)return n;if(n.length==0)return e;let r=0;return e.endsWith("/")&&r++,n.startsWith("/")&&r++,r==2?e+n.substring(1):r==1?e+n:e+"/"+n}function VP(e){let n=e.match(/#|\?|$/),r=n&&n.index||e.length,o=r-(e[r-1]==="/"?1:0);return e.slice(0,o)+e.slice(r)}function f7(e){return e&&e[0]!=="?"?"?"+e:e}var $w=(()=>{class e{historyGo(r){throw new Error("")}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:()=>Ua(XP),providedIn:"root"})}return e})(),lee=new I1(""),XP=(()=>{class e extends $w{_platformLocation;_baseHref;_removeListenerFns=[];constructor(r,o){super(),this._platformLocation=r,this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??Ua(T2).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return KP(this._baseHref,r)}path(r=!1){let o=this._platformLocation.pathname+f7(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${o}${s}`:o}pushState(r,o,s,l){let d=this.prepareExternalUrl(s+f7(l));this._platformLocation.pushState(r,o,d)}replaceState(r,o,s,l){let d=this.prepareExternalUrl(s+f7(l));this._platformLocation.replaceState(r,o,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}static \u0275fac=function(o){return new(o||e)(K1(ZP),K1(lee,8))};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var h7=(()=>{class e{_subject=new W1;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(r){this._locationStrategy=r;let o=this._locationStrategy.getBaseHref();this._basePath=fee(VP(UP(o))),this._locationStrategy.onPopState(s=>{this._subject.next({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,o=""){return this.path()==this.normalize(r+f7(o))}normalize(r){return e.stripTrailingSlash(dee(this._basePath,UP(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,o="",s=null){this._locationStrategy.pushState(s,"",r,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+f7(o)),s)}replaceState(r,o="",s=null){this._locationStrategy.replaceState(s,"",r,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+f7(o)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}),()=>{let o=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(o,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",o){this._urlChangeListeners.forEach(s=>s(r,o))}subscribe(r,o,s){return this._subject.subscribe({next:r,error:o??void 0,complete:s??void 0})}static normalizeQueryParams=f7;static joinWithSlash=KP;static stripTrailingSlash=VP;static \u0275fac=function(o){return new(o||e)(K1($w))};static \u0275prov=C1({token:e,factory:()=>uee(),providedIn:"root"})}return e})();function uee(){return new h7(K1($w))}function dee(e,n){if(!e||!n.startsWith(e))return n;let r=n.substring(e.length);return r===""||["/",";","?","#"].includes(r[0])?r:n}function UP(e){return e.replace(/\/index.html$/,"")}function fee(e){if(new RegExp("^(https?:)?//").test(e)){let[,r]=e.split(/\/\/[^\/]+/);return r}return e}var s4=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(s4||{}),R0=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(R0||{}),A4=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(A4||{}),u5={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function hee(e){return G4(e)[o3.LocaleId]}function pee(e,n,r){let o=G4(e),s=[o[o3.DayPeriodsFormat],o[o3.DayPeriodsStandalone]],l=q4(s,n);return q4(l,r)}function mee(e,n,r){let o=G4(e),s=[o[o3.DaysFormat],o[o3.DaysStandalone]],l=q4(s,n);return q4(l,r)}function gee(e,n,r){let o=G4(e),s=[o[o3.MonthsFormat],o[o3.MonthsStandalone]],l=q4(s,n);return q4(l,r)}function yee(e,n){let o=G4(e)[o3.Eras];return q4(o,n)}function Ow(e,n){let r=G4(e);return q4(r[o3.DateFormat],n)}function zw(e,n){let r=G4(e);return q4(r[o3.TimeFormat],n)}function Rw(e,n){let o=G4(e)[o3.DateTimeFormat];return q4(o,n)}function qw(e,n){let r=G4(e),o=r[o3.NumberSymbols][n];if(typeof o>"u"){if(n===u5.CurrencyDecimal)return r[o3.NumberSymbols][u5.Decimal];if(n===u5.CurrencyGroup)return r[o3.NumberSymbols][u5.Group]}return o}function QP(e){if(!e[o3.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[o3.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function vee(e){let n=G4(e);return QP(n),(n[o3.ExtraData][2]||[]).map(o=>typeof o=="string"?KL(o):[KL(o[0]),KL(o[1])])}function _ee(e,n,r){let o=G4(e);QP(o);let s=[o[o3.ExtraData][0],o[o3.ExtraData][1]],l=q4(s,n)||[];return q4(l,r)||[]}function q4(e,n){for(let r=n;r>-1;r--)if(typeof e[r]<"u")return e[r];throw new Error("Locale data API: locale data undefined")}function KL(e){let[n,r]=e.split(":");return{hours:+n,minutes:+r}}var bee=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Pw={},xee=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,b8=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}(b8||{}),_0=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(_0||{}),v0=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(v0||{});function wee(e,n,r,o){let s=Dee(e);n=_8(r,n)||n;let d=[],h;for(;n;)if(h=xee.exec(n),h){d=d.concat(h.slice(1));let y=d.pop();if(!y)break;n=y}else{d.push(n);break}let p=s.getTimezoneOffset();o&&(p=eF(o,p),s=Tee(s,o,!0));let g="";return d.forEach(y=>{let v=Aee(y);g+=v?v(s,r,p):y==="''"?"'":y.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),g}function Hw(e,n,r){let o=new Date(0);return o.setFullYear(e,n,r),o.setHours(0,0,0),o}function _8(e,n){let r=hee(e);if(Pw[r]??={},Pw[r][n])return Pw[r][n];let o="";switch(n){case"shortDate":o=Ow(e,A4.Short);break;case"mediumDate":o=Ow(e,A4.Medium);break;case"longDate":o=Ow(e,A4.Long);break;case"fullDate":o=Ow(e,A4.Full);break;case"shortTime":o=zw(e,A4.Short);break;case"mediumTime":o=zw(e,A4.Medium);break;case"longTime":o=zw(e,A4.Long);break;case"fullTime":o=zw(e,A4.Full);break;case"short":let s=_8(e,"shortTime"),l=_8(e,"shortDate");o=Fw(Rw(e,A4.Short),[s,l]);break;case"medium":let d=_8(e,"mediumTime"),h=_8(e,"mediumDate");o=Fw(Rw(e,A4.Medium),[d,h]);break;case"long":let p=_8(e,"longTime"),g=_8(e,"longDate");o=Fw(Rw(e,A4.Long),[p,g]);break;case"full":let y=_8(e,"fullTime"),v=_8(e,"fullDate");o=Fw(Rw(e,A4.Full),[y,v]);break}return o&&(Pw[r][n]=o),o}function Fw(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(r,o){return n!=null&&o in n?n[o]:r})),e}function g6(e,n,r="-",o,s){let l="";(e<0||s&&e<=0)&&(s?e=-e+1:(e=-e,l=r));let d=String(e);for(;d.length<n;)d="0"+d;return o&&(d=d.slice(d.length-n)),l+d}function Cee(e,n){return g6(e,3).substring(0,n)}function l3(e,n,r=0,o=!1,s=!1){return function(l,d){let h=Mee(e,l);if((r>0||h>-r)&&(h+=r),e===_0.Hours)h===0&&r===-12&&(h=12);else if(e===_0.FractionalSeconds)return Cee(h,n);let p=qw(d,u5.MinusSign);return g6(h,n,p,o,s)}}function Mee(e,n){switch(e){case _0.FullYear:return n.getFullYear();case _0.Month:return n.getMonth();case _0.Date:return n.getDate();case _0.Hours:return n.getHours();case _0.Minutes:return n.getMinutes();case _0.Seconds:return n.getSeconds();case _0.FractionalSeconds:return n.getMilliseconds();case _0.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function U0(e,n,r=s4.Format,o=!1){return function(s,l){return Eee(s,l,e,n,r,o)}}function Eee(e,n,r,o,s,l){switch(r){case v0.Months:return gee(n,s,o)[e.getMonth()];case v0.Days:return mee(n,s,o)[e.getDay()];case v0.DayPeriods:let d=e.getHours(),h=e.getMinutes();if(l){let g=vee(n),y=_ee(n,s,o),v=g.findIndex(w=>{if(Array.isArray(w)){let[k,F]=w,q=d>=k.hours&&h>=k.minutes,_r=d<F.hours||d===F.hours&&h<F.minutes;if(k.hours<F.hours){if(q&&_r)return!0}else if(q||_r)return!0}else if(w.hours===d&&w.minutes===h)return!0;return!1});if(v!==-1)return y[v]}return pee(n,s,o)[d<12?0:1];case v0.Eras:return yee(n,o)[e.getFullYear()<=0?0:1];default:let p=r;throw new Error(`unexpected translation type ${p}`)}}function jw(e){return function(n,r,o){let s=-1*o,l=qw(r,u5.MinusSign),d=s>0?Math.floor(s/60):Math.ceil(s/60);switch(e){case b8.Short:return(s>=0?"+":"")+g6(d,2,l)+g6(Math.abs(s%60),2,l);case b8.ShortGMT:return"GMT"+(s>=0?"+":"")+g6(d,1,l);case b8.Long:return"GMT"+(s>=0?"+":"")+g6(d,2,l)+":"+g6(Math.abs(s%60),2,l);case b8.Extended:return o===0?"Z":(s>=0?"+":"")+g6(d,2,l)+":"+g6(Math.abs(s%60),2,l);default:throw new Error(`Unknown zone width "${e}"`)}}}var See=0,Vw=4;function Lee(e){let n=Hw(e,See,1).getDay();return Hw(e,0,1+(n<=Vw?Vw:Vw+7)-n)}function JP(e){let n=e.getDay(),r=n===0?-3:Vw-n;return Hw(e.getFullYear(),e.getMonth(),e.getDate()+r)}function XL(e,n=!1){return function(r,o){let s;if(n){let l=new Date(r.getFullYear(),r.getMonth(),1).getDay()-1,d=r.getDate();s=1+Math.floor((d+l)/7)}else{let l=JP(r),d=Lee(l.getFullYear()),h=l.getTime()-d.getTime();s=1+Math.round(h/6048e5)}return g6(s,e,qw(o,u5.MinusSign))}}function Bw(e,n=!1){return function(r,o){let l=JP(r).getFullYear();return g6(l,e,qw(o,u5.MinusSign),n)}}var QL={};function Aee(e){if(QL[e])return QL[e];let n;switch(e){case"G":case"GG":case"GGG":n=U0(v0.Eras,R0.Abbreviated);break;case"GGGG":n=U0(v0.Eras,R0.Wide);break;case"GGGGG":n=U0(v0.Eras,R0.Narrow);break;case"y":n=l3(_0.FullYear,1,0,!1,!0);break;case"yy":n=l3(_0.FullYear,2,0,!0,!0);break;case"yyy":n=l3(_0.FullYear,3,0,!1,!0);break;case"yyyy":n=l3(_0.FullYear,4,0,!1,!0);break;case"Y":n=Bw(1);break;case"YY":n=Bw(2,!0);break;case"YYY":n=Bw(3);break;case"YYYY":n=Bw(4);break;case"M":case"L":n=l3(_0.Month,1,1);break;case"MM":case"LL":n=l3(_0.Month,2,1);break;case"MMM":n=U0(v0.Months,R0.Abbreviated);break;case"MMMM":n=U0(v0.Months,R0.Wide);break;case"MMMMM":n=U0(v0.Months,R0.Narrow);break;case"LLL":n=U0(v0.Months,R0.Abbreviated,s4.Standalone);break;case"LLLL":n=U0(v0.Months,R0.Wide,s4.Standalone);break;case"LLLLL":n=U0(v0.Months,R0.Narrow,s4.Standalone);break;case"w":n=XL(1);break;case"ww":n=XL(2);break;case"W":n=XL(1,!0);break;case"d":n=l3(_0.Date,1);break;case"dd":n=l3(_0.Date,2);break;case"c":case"cc":n=l3(_0.Day,1);break;case"ccc":n=U0(v0.Days,R0.Abbreviated,s4.Standalone);break;case"cccc":n=U0(v0.Days,R0.Wide,s4.Standalone);break;case"ccccc":n=U0(v0.Days,R0.Narrow,s4.Standalone);break;case"cccccc":n=U0(v0.Days,R0.Short,s4.Standalone);break;case"E":case"EE":case"EEE":n=U0(v0.Days,R0.Abbreviated);break;case"EEEE":n=U0(v0.Days,R0.Wide);break;case"EEEEE":n=U0(v0.Days,R0.Narrow);break;case"EEEEEE":n=U0(v0.Days,R0.Short);break;case"a":case"aa":case"aaa":n=U0(v0.DayPeriods,R0.Abbreviated);break;case"aaaa":n=U0(v0.DayPeriods,R0.Wide);break;case"aaaaa":n=U0(v0.DayPeriods,R0.Narrow);break;case"b":case"bb":case"bbb":n=U0(v0.DayPeriods,R0.Abbreviated,s4.Standalone,!0);break;case"bbbb":n=U0(v0.DayPeriods,R0.Wide,s4.Standalone,!0);break;case"bbbbb":n=U0(v0.DayPeriods,R0.Narrow,s4.Standalone,!0);break;case"B":case"BB":case"BBB":n=U0(v0.DayPeriods,R0.Abbreviated,s4.Format,!0);break;case"BBBB":n=U0(v0.DayPeriods,R0.Wide,s4.Format,!0);break;case"BBBBB":n=U0(v0.DayPeriods,R0.Narrow,s4.Format,!0);break;case"h":n=l3(_0.Hours,1,-12);break;case"hh":n=l3(_0.Hours,2,-12);break;case"H":n=l3(_0.Hours,1);break;case"HH":n=l3(_0.Hours,2);break;case"m":n=l3(_0.Minutes,1);break;case"mm":n=l3(_0.Minutes,2);break;case"s":n=l3(_0.Seconds,1);break;case"ss":n=l3(_0.Seconds,2);break;case"S":n=l3(_0.FractionalSeconds,1);break;case"SS":n=l3(_0.FractionalSeconds,2);break;case"SSS":n=l3(_0.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=jw(b8.Short);break;case"ZZZZZ":n=jw(b8.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=jw(b8.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=jw(b8.Long);break;default:return null}return QL[e]=n,n}function eF(e,n){e=e.replace(/:/g,"");let r=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(r)?n:r}function kee(e,n){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+n),e}function Tee(e,n,r){let o=r?-1:1,s=e.getTimezoneOffset(),l=eF(n,s);return kee(e,o*(l-s))}function Dee(e){if(HP(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[s,l=1,d=1]=e.split("-").map(h=>+h);return Hw(s,l-1,d)}let r=parseFloat(e);if(!isNaN(e-r))return new Date(r);let o;if(o=e.match(bee))return Iee(o)}let n=new Date(e);if(!HP(n))throw new Error(`Unable to convert "${e}" into a date`);return n}function Iee(e){let n=new Date(0),r=0,o=0,s=e[8]?n.setUTCFullYear:n.setFullYear,l=e[8]?n.setUTCHours:n.setHours;e[9]&&(r=Number(e[9]+e[10]),o=Number(e[9]+e[11])),s.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));let d=Number(e[4]||0)-r,h=Number(e[5]||0)-o,p=Number(e[6]||0),g=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return l.call(n,d,h,p,g),n}function HP(e){return e instanceof Date&&!isNaN(e.valueOf())}function tF(e,n){n=encodeURIComponent(n);for(let r of e.split(";")){let o=r.indexOf("="),[s,l]=o==-1?[r,""]:[r.slice(0,o),r.slice(o+1)];if(s.trim()===n)return decodeURIComponent(l)}return null}var JL=/\s+/,GP=[],U6=(()=>{class e{_ngEl;_renderer;initialClasses=GP;rawClass;stateMap=new Map;constructor(r,o){this._ngEl=r,this._renderer=o}set klass(r){this.initialClasses=r!=null?r.trim().split(JL):GP}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(JL):r}ngDoCheck(){for(let o of this.initialClasses)this._updateState(o,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let o of r)this._updateState(o,!0);else if(r!=null)for(let o of Object.keys(r))this._updateState(o,!!r[o]);this._applyStateDiff()}_updateState(r,o){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==o&&(s.changed=!0,s.enabled=o),s.touched=!0):this.stateMap.set(r,{enabled:o,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let o=r[0],s=r[1];s.changed?(this._toggleClass(o,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(o,!1),this.stateMap.delete(o)),s.touched=!1}}_toggleClass(r,o){r=r.trim(),r.length>0&&r.split(JL).forEach(s=>{o?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}static \u0275fac=function(o){return new(o||e)(X1(l2),X1(F6))};static \u0275dir=n2({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var eA=class{$implicit;ngForOf;index;count;constructor(n,r,o,s){this.$implicit=n,this.ngForOf=r,this.index=o,this.count=s}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},nF=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(r,o,s){this._viewContainer=r,this._template=o,this._differs=s}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let o=this._viewContainer;r.forEachOperation((s,l,d)=>{if(s.previousIndex==null)o.createEmbeddedView(this._template,new eA(s.item,this._ngForOf,-1,-1),d===null?void 0:d);else if(d==null)o.remove(l===null?void 0:l);else if(l!==null){let h=o.get(l);o.move(h,d),$P(h,s)}});for(let s=0,l=o.length;s<l;s++){let h=o.get(s).context;h.index=s,h.count=l,h.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let l=o.get(s.currentIndex);$P(l,s)})}static ngTemplateContextGuard(r,o){return!0}static \u0275fac=function(o){return new(o||e)(X1(H3),X1(B4),X1(Iw))};static \u0275dir=n2({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function $P(e,n){e.context.$implicit=n.item}var iF=(()=>{class e{_viewContainer;_context=new tA;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(r,o){this._viewContainer=r,this._thenTemplateRef=o}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){qP("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){qP("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(r,o){return!0}static \u0275fac=function(o){return new(o||e)(X1(H3),X1(B4))};static \u0275dir=n2({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),tA=class{$implicit=null;ngIf=null};function qP(e,n){if(!!!(!n||n.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${i4(n)}'.`)}var rF=(()=>{class e{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(r){this._viewContainerRef=r}ngOnChanges(r){if(this._shouldRecreateView(r)){let o=this._viewContainerRef;if(this._viewRef&&o.remove(o.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=o.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(r){return!!r.ngTemplateOutlet||!!r.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(r,o,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,o,s):!1,get:(r,o,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,o,s)}})}static \u0275fac=function(o){return new(o||e)(X1(H3))};static \u0275dir=n2({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[A0]})}return e})();function Nee(e,n){return new z1(2100,!1)}var Oee="mediumDate",zee=new I1(""),Ree=new I1(""),oF=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(r,o,s){this.locale=r,this.defaultTimezone=o,this.defaultOptions=s}transform(r,o,s,l){if(r==null||r===""||r!==r)return null;try{let d=o??this.defaultOptions?.dateFormat??Oee,h=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return wee(r,d,l||this.locale,h)}catch(d){throw Nee(e,d.message)}}static \u0275fac=function(o){return new(o||e)(X1(Iy,16),X1(zee,24),X1(Ree,24))};static \u0275pipe=dP({name:"date",type:e,pure:!0})}return e})();var yv=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=r2({type:e});static \u0275inj=i2({})}return e})(),nA="browser",Pee="server";function w8(e){return e===nA}function C8(e){return e===Pee}var Gw=class{};var rA=class{};var Oy=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(r=>{let o=r.indexOf(":");if(o>0){let s=r.slice(0,o),l=r.slice(o+1).trim();this.addHeaderEntry(s,l)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((r,o)=>{this.addHeaderEntry(o,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([r,o])=>{this.setHeaderEntries(r,o)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let r=this.headers.get(n.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,r){return this.clone({name:n,value:r,op:"a"})}set(n,r){return this.clone({name:n,value:r,op:"s"})}delete(n,r){return this.clone({name:n,value:r,op:"d"})}maybeSetNormalizedName(n,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,n)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(r=>{this.headers.set(r,n.headers.get(r)),this.normalizedNames.set(r,n.normalizedNames.get(r))})}clone(n){let r=new e;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([n]),r}applyUpdate(n){let r=n.name.toLowerCase();switch(n.op){case"a":case"s":let o=n.value;if(typeof o=="string"&&(o=[o]),o.length===0)return;this.maybeSetNormalizedName(n.name,r);let s=(n.op==="a"?this.headers.get(r):void 0)||[];s.push(...o),this.headers.set(r,s);break;case"d":let l=n.value;if(!l)this.headers.delete(r),this.normalizedNames.delete(r);else{let d=this.headers.get(r);if(!d)return;d=d.filter(h=>l.indexOf(h)===-1),d.length===0?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,d)}break}}addHeaderEntry(n,r){let o=n.toLowerCase();this.maybeSetNormalizedName(n,o),this.headers.has(o)?this.headers.get(o).push(r):this.headers.set(o,[r])}setHeaderEntries(n,r){let o=(Array.isArray(r)?r:[r]).map(l=>l.toString()),s=n.toLowerCase();this.headers.set(s,o),this.maybeSetNormalizedName(n,s)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>n(this.normalizedNames.get(r),this.headers.get(r)))}};var oA=class{encodeKey(n){return aF(n)}encodeValue(n){return aF(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function Fee(e,n){let r=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(s=>{let l=s.indexOf("="),[d,h]=l==-1?[n.decodeKey(s),""]:[n.decodeKey(s.slice(0,l)),n.decodeValue(s.slice(l+1))],p=r.get(d)||[];p.push(h),r.set(d,p)}),r}var jee=/%(\d[a-f0-9])/gi,Bee={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function aF(e){return encodeURIComponent(e).replace(jee,(n,r)=>Bee[r]??n)}function Ww(e){return`${e}`}var d5=class e{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new oA,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Fee(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(r=>{let o=n.fromObject[r],s=Array.isArray(o)?o.map(Ww):[Ww(o)];this.map.set(r,s)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let r=this.map.get(n);return r?r[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,r){return this.clone({param:n,value:r,op:"a"})}appendAll(n){let r=[];return Object.keys(n).forEach(o=>{let s=n[o];Array.isArray(s)?s.forEach(l=>{r.push({param:o,value:l,op:"a"})}):r.push({param:o,value:s,op:"a"})}),this.clone(r)}set(n,r){return this.clone({param:n,value:r,op:"s"})}delete(n,r){return this.clone({param:n,value:r,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let r=this.encoder.encodeKey(n);return this.map.get(n).map(o=>r+"="+this.encoder.encodeValue(o)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let r=new e({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(n),r}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let r=(n.op==="a"?this.map.get(n.param):void 0)||[];r.push(Ww(n.value)),this.map.set(n.param,r);break;case"d":if(n.value!==void 0){let o=this.map.get(n.param)||[],s=o.indexOf(Ww(n.value));s!==-1&&o.splice(s,1),o.length>0?this.map.set(n.param,o):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var sA=class{map=new Map;set(n,r){return this.map.set(n,r),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function Vee(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function cF(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function lF(e){return typeof Blob<"u"&&e instanceof Blob}function uF(e){return typeof FormData<"u"&&e instanceof FormData}function Uee(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var vv=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(n,r,o,s){this.url=r,this.method=n.toUpperCase();let l;if(Vee(this.method)||s?(this.body=o!==void 0?o:null,l=s):l=o,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params),this.transferCache=l.transferCache),this.headers??=new Oy,this.context??=new sA,!this.params)this.params=new d5,this.urlWithParams=r;else{let d=this.params.toString();if(d.length===0)this.urlWithParams=r;else{let h=r.indexOf("?"),p=h===-1?"?":h<r.length-1?"&":"";this.urlWithParams=r+p+d}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||cF(this.body)||lF(this.body)||uF(this.body)||Uee(this.body)?this.body:this.body instanceof d5?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||uF(this.body)?null:lF(this.body)?this.body.type||null:cF(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof d5?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(n={}){let r=n.method||this.method,o=n.url||this.url,s=n.responseType||this.responseType,l=n.transferCache??this.transferCache,d=n.body!==void 0?n.body:this.body,h=n.withCredentials??this.withCredentials,p=n.reportProgress??this.reportProgress,g=n.headers||this.headers,y=n.params||this.params,v=n.context??this.context;return n.setHeaders!==void 0&&(g=Object.keys(n.setHeaders).reduce((w,k)=>w.set(k,n.setHeaders[k]),g)),n.setParams&&(y=Object.keys(n.setParams).reduce((w,k)=>w.set(k,n.setParams[k]),y)),new e(r,o,d,{params:y,headers:g,context:v,reportProgress:p,responseType:s,withCredentials:h,transferCache:l})}},dF=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(dF||{}),aA=class{headers;status;statusText;url;ok;type;constructor(n,r=200,o="OK"){this.headers=n.headers||new Oy,this.status=n.status!==void 0?n.status:r,this.statusText=n.statusText||o,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}};var cA=class e extends aA{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=dF.Response;clone(n={}){return new e({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}};function iA(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var fF=(()=>{class e{handler;constructor(r){this.handler=r}request(r,o,s={}){let l;if(r instanceof vv)l=r;else{let p;s.headers instanceof Oy?p=s.headers:p=new Oy(s.headers);let g;s.params&&(s.params instanceof d5?g=s.params:g=new d5({fromObject:s.params})),l=new vv(r,o,s.body!==void 0?s.body:null,{headers:p,context:s.context,params:g,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let d=s2(l).pipe(K8(p=>this.handler.handle(p)));if(r instanceof vv||s.observe==="events")return d;let h=d.pipe(d0(p=>p instanceof cA));switch(s.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return h.pipe(a2(p=>{if(p.body!==null&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return h.pipe(a2(p=>{if(p.body!==null&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return h.pipe(a2(p=>{if(p.body!==null&&typeof p.body!="string")throw new Error("Response is not a string.");return p.body}));case"json":default:return h.pipe(a2(p=>p.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,o={}){return this.request("DELETE",r,o)}get(r,o={}){return this.request("GET",r,o)}head(r,o={}){return this.request("HEAD",r,o)}jsonp(r,o){return this.request("JSONP",r,{params:new d5().append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,o={}){return this.request("OPTIONS",r,o)}patch(r,o,s={}){return this.request("PATCH",r,iA(s,o))}post(r,o,s={}){return this.request("POST",r,iA(s,o))}put(r,o,s={}){return this.request("PUT",r,iA(s,o))}static \u0275fac=function(o){return new(o||e)(K1(rA))};static \u0275prov=C1({token:e,factory:e.\u0275fac})}return e})();var uA=class extends Uw{supportsDOMEvents=!0},dA=class e extends uA{static makeCurrent(){YP(new e)}onAndCancel(n,r,o){return n.addEventListener(r,o),()=>{n.removeEventListener(r,o)}}dispatchEvent(n,r){n.dispatchEvent(r)}remove(n){n.remove()}createElement(n,r){return r=r||this.getDefaultDocument(),r.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,r){return r==="window"?window:r==="document"?n:r==="body"?n.body:null}getBaseHref(n){let r=Gee();return r==null?null:$ee(r)}resetBaseElement(){_v=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return tF(document.cookie,n)}},_v=null;function Gee(){return _v=_v||document.querySelector("base"),_v?_v.getAttribute("href"):null}function $ee(e){return new URL(e,document.baseURI).pathname}var qee=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac})}return e})(),fA=new I1(""),yF=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(r,o){this._zone=o,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,o,s){return this._findPluginFor(o).addEventListener(r,o,s)}getZone(){return this._zone}_findPluginFor(r){let o=this._eventNameToPlugin.get(r);if(o)return o;if(o=this._plugins.find(l=>l.supports(r)),!o)throw new z1(5101,!1);return this._eventNameToPlugin.set(r,o),o}static \u0275fac=function(o){return new(o||e)(K1(fA),K1(c2))};static \u0275prov=C1({token:e,factory:e.\u0275fac})}return e})(),Yw=class{_doc;constructor(n){this._doc=n}manager},hA="ng-app-id";function hF(e){for(let n of e)n.remove()}function pF(e,n){let r=n.createElement("style");return r.textContent=e,r}function Wee(e,n,r){let o=e.head?.querySelectorAll(`style[${hA}="${n}"]`);if(o)for(let s of o)s.textContent&&(s.removeAttribute(hA),r.set(s.textContent,{usage:0,elements:[s]}))}function pA(e,n){let r=n.createElement("link");return r.setAttribute("rel","stylesheet"),r.setAttribute("href",e),r}var vF=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(r,o,s,l={}){this.doc=r,this.appId=o,this.nonce=s,this.isServer=C8(l),Wee(r,o,this.inline),this.hosts.add(r.head)}addStyles(r,o){for(let s of r)this.addUsage(s,this.inline,pF);o?.forEach(s=>this.addUsage(s,this.external,pA))}removeStyles(r,o){for(let s of r)this.removeUsage(s,this.inline);o?.forEach(s=>this.removeUsage(s,this.external))}addUsage(r,o,s){let l=o.get(r);l?l.usage++:o.set(r,{usage:1,elements:[...this.hosts].map(d=>this.addElement(d,s(r,this.doc)))})}removeUsage(r,o){let s=o.get(r);s&&(s.usage--,s.usage<=0&&(hF(s.elements),o.delete(r)))}ngOnDestroy(){for(let[,{elements:r}]of[...this.inline,...this.external])hF(r);this.hosts.clear()}addHost(r){this.hosts.add(r);for(let[o,{elements:s}]of this.inline)s.push(this.addElement(r,pF(o,this.doc)));for(let[o,{elements:s}]of this.external)s.push(this.addElement(r,pA(o,this.doc)))}removeHost(r){this.hosts.delete(r)}addElement(r,o){return this.nonce&&o.setAttribute("nonce",this.nonce),this.isServer&&o.setAttribute(hA,this.appId),r.appendChild(o)}static \u0275fac=function(o){return new(o||e)(K1(T2),K1(cv),K1(lv,8),K1(U3))};static \u0275prov=C1({token:e,factory:e.\u0275fac})}return e})(),lA={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},gA=/%COMP%/g,_F="%COMP%",Yee=`_nghost-${_F}`,Zee=`_ngcontent-${_F}`,Kee=!0,Xee=new I1("",{providedIn:"root",factory:()=>Kee});function Qee(e){return Zee.replace(gA,e)}function Jee(e){return Yee.replace(gA,e)}function bF(e,n){return n.map(r=>r.replace(gA,e))}var Zw=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(r,o,s,l,d,h,p,g=null){this.eventManager=r,this.sharedStylesHost=o,this.appId=s,this.removeStylesOnCompDestroy=l,this.doc=d,this.platformId=h,this.ngZone=p,this.nonce=g,this.platformIsServer=C8(h),this.defaultRenderer=new bv(r,d,p,this.platformIsServer)}createRenderer(r,o){if(!r||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===z6.ShadowDom&&(o=R2(E1({},o),{encapsulation:z6.Emulated}));let s=this.getOrCreateRenderer(r,o);return s instanceof Kw?s.applyToHost(r):s instanceof xv&&s.applyStyles(),s}getOrCreateRenderer(r,o){let s=this.rendererByCompId,l=s.get(o.id);if(!l){let d=this.doc,h=this.ngZone,p=this.eventManager,g=this.sharedStylesHost,y=this.removeStylesOnCompDestroy,v=this.platformIsServer;switch(o.encapsulation){case z6.Emulated:l=new Kw(p,g,o,this.appId,y,d,h,v);break;case z6.ShadowDom:return new mA(p,g,r,o,d,h,this.nonce,v);default:l=new xv(p,g,o,y,d,h,v);break}s.set(o.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}static \u0275fac=function(o){return new(o||e)(K1(yF),K1(vF),K1(cv),K1(Xee),K1(T2),K1(U3),K1(c2),K1(lv))};static \u0275prov=C1({token:e,factory:e.\u0275fac})}return e})(),bv=class{eventManager;doc;ngZone;platformIsServer;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,r,o,s){this.eventManager=n,this.doc=r,this.ngZone=o,this.platformIsServer=s}destroy(){}destroyNode=null;createElement(n,r){return r?this.doc.createElementNS(lA[r]||r,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,r){(mF(n)?n.content:n).appendChild(r)}insertBefore(n,r,o){n&&(mF(n)?n.content:n).insertBefore(r,o)}removeChild(n,r){r.remove()}selectRootElement(n,r){let o=typeof n=="string"?this.doc.querySelector(n):n;if(!o)throw new z1(-5104,!1);return r||(o.textContent=""),o}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,r,o,s){if(s){r=s+":"+r;let l=lA[s];l?n.setAttributeNS(l,r,o):n.setAttribute(r,o)}else n.setAttribute(r,o)}removeAttribute(n,r,o){if(o){let s=lA[o];s?n.removeAttributeNS(s,r):n.removeAttribute(`${o}:${r}`)}else n.removeAttribute(r)}addClass(n,r){n.classList.add(r)}removeClass(n,r){n.classList.remove(r)}setStyle(n,r,o,s){s&(d8.DashCase|d8.Important)?n.style.setProperty(r,o,s&d8.Important?"important":""):n.style[r]=o}removeStyle(n,r,o){o&d8.DashCase?n.style.removeProperty(r):n.style[r]=""}setProperty(n,r,o){n!=null&&(n[r]=o)}setValue(n,r){n.nodeValue=r}listen(n,r,o){if(typeof n=="string"&&(n=x8().getGlobalEventTarget(this.doc,n),!n))throw new Error(`Unsupported event target ${n} for event ${r}`);return this.eventManager.addEventListener(n,r,this.decoratePreventDefault(o))}decoratePreventDefault(n){return r=>{if(r==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(r)):n(r))===!1&&r.preventDefault()}}};function mF(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var mA=class extends bv{sharedStylesHost;hostEl;shadowRoot;constructor(n,r,o,s,l,d,h,p){super(n,l,d,p),this.sharedStylesHost=r,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let g=bF(s.id,s.styles);for(let v of g){let w=document.createElement("style");h&&w.setAttribute("nonce",h),w.textContent=v,this.shadowRoot.appendChild(w)}let y=s.getExternalStyles?.();if(y)for(let v of y){let w=pA(v,l);h&&w.setAttribute("nonce",h),this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,r){return super.appendChild(this.nodeOrShadowRoot(n),r)}insertBefore(n,r,o){return super.insertBefore(this.nodeOrShadowRoot(n),r,o)}removeChild(n,r){return super.removeChild(null,r)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},xv=class extends bv{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,r,o,s,l,d,h,p){super(n,l,d,h),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=s,this.styles=p?bF(p,o.styles):o.styles,this.styleUrls=o.getExternalStyles?.(p)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Kw=class extends xv{contentAttr;hostAttr;constructor(n,r,o,s,l,d,h,p){let g=s+"-"+o.id;super(n,r,o,l,d,h,p,g),this.contentAttr=Qee(g),this.hostAttr=Jee(g)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,r){let o=super.createElement(n,r);return super.setAttribute(o,this.contentAttr,""),o}},ete=(()=>{class e extends Yw{constructor(r){super(r)}supports(r){return!0}addEventListener(r,o,s){return r.addEventListener(o,s,!1),()=>this.removeEventListener(r,o,s)}removeEventListener(r,o,s){return r.removeEventListener(o,s)}static \u0275fac=function(o){return new(o||e)(K1(T2))};static \u0275prov=C1({token:e,factory:e.\u0275fac})}return e})(),gF=["alt","control","meta","shift"],tte={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nte={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},ite=(()=>{class e extends Yw{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,o,s){let l=e.parseEventName(o),d=e.eventCallback(l.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>x8().onAndCancel(r,l.domEventName,d))}static parseEventName(r){let o=r.toLowerCase().split("."),s=o.shift();if(o.length===0||!(s==="keydown"||s==="keyup"))return null;let l=e._normalizeKey(o.pop()),d="",h=o.indexOf("code");if(h>-1&&(o.splice(h,1),d="code."),gF.forEach(g=>{let y=o.indexOf(g);y>-1&&(o.splice(y,1),d+=g+".")}),d+=l,o.length!=0||l.length===0)return null;let p={};return p.domEventName=s,p.fullKey=d,p}static matchEventFullKeyCode(r,o){let s=tte[r.key]||r.key,l="";return o.indexOf("code.")>-1&&(s=r.code,l="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),gF.forEach(d=>{if(d!==s){let h=nte[d];h(r)&&(l+=d+".")}}),l+=s,l===o)}static eventCallback(r,o,s){return l=>{e.matchEventFullKeyCode(l,r)&&s.runGuarded(()=>o(l))}}static _normalizeKey(r){return r==="esc"?"escape":r}static \u0275fac=function(o){return new(o||e)(K1(T2))};static \u0275prov=C1({token:e,factory:e.\u0275fac})}return e})();function xF(e,n){return FP(E1({rootComponent:e},rte(n)))}function rte(e){return{appProviders:[...lte,...e?.providers??[]],platformProviders:cte}}function ote(){dA.makeCurrent()}function ste(){return new d4}function ate(){return Qz(document),document}var cte=[{provide:U3,useValue:nA},{provide:AL,useValue:ote,multi:!0},{provide:T2,useFactory:ate,deps:[]}];var lte=[{provide:lw,useValue:"root"},{provide:d4,useFactory:ste,deps:[]},{provide:fA,useClass:ete,multi:!0,deps:[T2,c2,U3]},{provide:fA,useClass:ite,multi:!0,deps:[T2]},Zw,vF,yF,{provide:r5,useExisting:Zw},{provide:Gw,useClass:qee,deps:[]},[]];var wF=(()=>{class e{_doc;constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}static \u0275fac=function(o){return new(o||e)(K1(T2))};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var yA=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:function(o){let s=null;return o?s=new(o||e):s=K1(ute),s},providedIn:"root"})}return e})(),ute=(()=>{class e extends yA{_doc;constructor(r){super(),this._doc=r}sanitize(r,o){if(o==null)return null;switch(r){case o4.NONE:return o;case o4.HTML:return Dy(o,"HTML")?m8(o):fR(this._doc,String(o)).toString();case o4.STYLE:return Dy(o,"Style")?m8(o):o;case o4.SCRIPT:if(Dy(o,"Script"))return m8(o);throw new z1(5200,!1);case o4.URL:return Dy(o,"URL")?m8(o):DL(String(o));case o4.RESOURCE_URL:if(Dy(o,"ResourceURL"))return m8(o);throw new z1(5201,!1);default:throw new z1(5202,!1)}}bypassSecurityTrustHtml(r){return nR(r)}bypassSecurityTrustStyle(r){return iR(r)}bypassSecurityTrustScript(r){return rR(r)}bypassSecurityTrustUrl(r){return oR(r)}bypassSecurityTrustResourceUrl(r){return sR(r)}static \u0275fac=function(o){return new(o||e)(K1(T2))};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Y2="primary",Fv=Symbol("RouteTitle"),wA=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let r=this.params[n];return Array.isArray(r)?r[0]:r}return null}getAll(n){if(this.has(n)){let r=this.params[n];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}};function By(e){return new wA(e)}function dte(e,n,r){let o=r.path.split("/");if(o.length>e.length||r.pathMatch==="full"&&(n.hasChildren()||o.length<e.length))return null;let s={};for(let l=0;l<o.length;l++){let d=o[l],h=e[l];if(d[0]===":")s[d.substring(1)]=h;else if(d!==h.path)return null}return{consumed:e.slice(0,o.length),posParams:s}}function fte(e,n){if(e.length!==n.length)return!1;for(let r=0;r<e.length;++r)if(!H6(e[r],n[r]))return!1;return!0}function H6(e,n){let r=e?CA(e):void 0,o=n?CA(n):void 0;if(!r||!o||r.length!=o.length)return!1;let s;for(let l=0;l<r.length;l++)if(s=r[l],!DF(e[s],n[s]))return!1;return!0}function CA(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function DF(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let r=[...e].sort(),o=[...n].sort();return r.every((s,l)=>o[l]===s)}else return e===n}function IF(e){return e.length>0?e[e.length-1]:null}function f5(e){return ry(e)?e:d7(e)?X0(Promise.resolve(e)):s2(e)}var hte={exact:OF,subset:zF},NF={exact:pte,subset:mte,ignored:()=>!0};function MF(e,n,r){return hte[r.paths](e.root,n.root,r.matrixParams)&&NF[r.queryParams](e.queryParams,n.queryParams)&&!(r.fragment==="exact"&&e.fragment!==n.fragment)}function pte(e,n){return H6(e,n)}function OF(e,n,r){if(!m7(e.segments,n.segments)||!Jw(e.segments,n.segments,r)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let o in n.children)if(!e.children[o]||!OF(e.children[o],n.children[o],r))return!1;return!0}function mte(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(r=>DF(e[r],n[r]))}function zF(e,n,r){return RF(e,n,n.segments,r)}function RF(e,n,r,o){if(e.segments.length>r.length){let s=e.segments.slice(0,r.length);return!(!m7(s,r)||n.hasChildren()||!Jw(s,r,o))}else if(e.segments.length===r.length){if(!m7(e.segments,r)||!Jw(e.segments,r,o))return!1;for(let s in n.children)if(!e.children[s]||!zF(e.children[s],n.children[s],o))return!1;return!0}else{let s=r.slice(0,e.segments.length),l=r.slice(e.segments.length);return!m7(e.segments,s)||!Jw(e.segments,s,o)||!e.children[Y2]?!1:RF(e.children[Y2],n,l,o)}}function Jw(e,n,r){return n.every((o,s)=>NF[r](e[s].parameters,o.parameters))}var E8=class{root;queryParams;fragment;_queryParamMap;constructor(n=new M0([],{}),r={},o=null){this.root=n,this.queryParams=r,this.fragment=o}get queryParamMap(){return this._queryParamMap??=By(this.queryParams),this._queryParamMap}toString(){return vte.serialize(this)}},M0=class{segments;children;parent=null;constructor(n,r){this.segments=n,this.children=r,Object.values(r).forEach(o=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return eC(this)}},p7=class{path;parameters;_parameterMap;constructor(n,r){this.path=n,this.parameters=r}get parameterMap(){return this._parameterMap??=By(this.parameters),this._parameterMap}toString(){return FF(this)}};function gte(e,n){return m7(e,n)&&e.every((r,o)=>H6(r.parameters,n[o].parameters))}function m7(e,n){return e.length!==n.length?!1:e.every((r,o)=>r.path===n[o].path)}function yte(e,n){let r=[];return Object.entries(e.children).forEach(([o,s])=>{o===Y2&&(r=r.concat(n(s,o)))}),Object.entries(e.children).forEach(([o,s])=>{o!==Y2&&(r=r.concat(n(s,o)))}),r}var ZA=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:()=>new Av,providedIn:"root"})}return e})(),Av=class{parse(n){let r=new EA(n);return new E8(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(n){let r=`/${wv(n.root,!0)}`,o=xte(n.queryParams),s=typeof n.fragment=="string"?`#${_te(n.fragment)}`:"";return`${r}${o}${s}`}},vte=new Av;function eC(e){return e.segments.map(n=>FF(n)).join("/")}function wv(e,n){if(!e.hasChildren())return eC(e);if(n){let r=e.children[Y2]?wv(e.children[Y2],!1):"",o=[];return Object.entries(e.children).forEach(([s,l])=>{s!==Y2&&o.push(`${s}:${wv(l,!1)}`)}),o.length>0?`${r}(${o.join("//")})`:r}else{let r=yte(e,(o,s)=>s===Y2?[wv(e.children[Y2],!1)]:[`${s}:${wv(o,!1)}`]);return Object.keys(e.children).length===1&&e.children[Y2]!=null?`${eC(e)}/${r[0]}`:`${eC(e)}/(${r.join("//")})`}}function PF(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xw(e){return PF(e).replace(/%3B/gi,";")}function _te(e){return encodeURI(e)}function MA(e){return PF(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tC(e){return decodeURIComponent(e)}function EF(e){return tC(e.replace(/\+/g,"%20"))}function FF(e){return`${MA(e.path)}${bte(e.parameters)}`}function bte(e){return Object.entries(e).map(([n,r])=>`;${MA(n)}=${MA(r)}`).join("")}function xte(e){let n=Object.entries(e).map(([r,o])=>Array.isArray(o)?o.map(s=>`${Xw(r)}=${Xw(s)}`).join("&"):`${Xw(r)}=${Xw(o)}`).filter(r=>r);return n.length?`?${n.join("&")}`:""}var wte=/^[^\/()?;#]+/;function vA(e){let n=e.match(wte);return n?n[0]:""}var Cte=/^[^\/()?;=#]+/;function Mte(e){let n=e.match(Cte);return n?n[0]:""}var Ete=/^[^=?&#]+/;function Ste(e){let n=e.match(Ete);return n?n[0]:""}var Lte=/^[^&#]+/;function Ate(e){let n=e.match(Lte);return n?n[0]:""}var EA=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new M0([],{}):new M0([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(n.length>0||Object.keys(r).length>0)&&(o[Y2]=new M0(n,r)),o}parseSegment(){let n=vA(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new z1(4009,!1);return this.capture(n),new p7(tC(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let r=Mte(this.remaining);if(!r)return;this.capture(r);let o="";if(this.consumeOptional("=")){let s=vA(this.remaining);s&&(o=s,this.capture(o))}n[tC(r)]=tC(o)}parseQueryParam(n){let r=Ste(this.remaining);if(!r)return;this.capture(r);let o="";if(this.consumeOptional("=")){let d=Ate(this.remaining);d&&(o=d,this.capture(o))}let s=EF(r),l=EF(o);if(n.hasOwnProperty(s)){let d=n[s];Array.isArray(d)||(d=[d],n[s]=d),d.push(l)}else n[s]=l}parseParens(n){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let o=vA(this.remaining),s=this.remaining[o.length];if(s!=="/"&&s!==")"&&s!==";")throw new z1(4010,!1);let l;o.indexOf(":")>-1?(l=o.slice(0,o.indexOf(":")),this.capture(l),this.capture(":")):n&&(l=Y2);let d=this.parseChildren();r[l]=Object.keys(d).length===1?d[Y2]:new M0([],d),this.consumeOptional("//")}return r}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new z1(4011,!1)}};function jF(e){return e.segments.length>0?new M0([],{[Y2]:e}):e}function BF(e){let n={};for(let[o,s]of Object.entries(e.children)){let l=BF(s);if(o===Y2&&l.segments.length===0&&l.hasChildren())for(let[d,h]of Object.entries(l.children))n[d]=h;else(l.segments.length>0||l.hasChildren())&&(n[o]=l)}let r=new M0(e.segments,n);return kte(r)}function kte(e){if(e.numberOfChildren===1&&e.children[Y2]){let n=e.children[Y2];return new M0(e.segments.concat(n.segments),n.children)}return e}function kv(e){return e instanceof E8}function Tte(e,n,r=null,o=null){let s=VF(e);return UF(s,n,r,o)}function VF(e){let n;function r(l){let d={};for(let p of l.children){let g=r(p);d[p.outlet]=g}let h=new M0(l.url,d);return l===e&&(n=h),h}let o=r(e.root),s=jF(o);return n??s}function UF(e,n,r,o){let s=e;for(;s.parent;)s=s.parent;if(n.length===0)return _A(s,s,s,r,o);let l=Dte(n);if(l.toRoot())return _A(s,s,new M0([],{}),r,o);let d=Ite(l,s,e),h=d.processChildren?Ev(d.segmentGroup,d.index,l.commands):GF(d.segmentGroup,d.index,l.commands);return _A(s,d.segmentGroup,h,r,o)}function nC(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Tv(e){return typeof e=="object"&&e!=null&&e.outlets}function _A(e,n,r,o,s){let l={};o&&Object.entries(o).forEach(([p,g])=>{l[p]=Array.isArray(g)?g.map(y=>`${y}`):`${g}`});let d;e===n?d=r:d=HF(e,n,r);let h=jF(BF(d));return new E8(h,l,s)}function HF(e,n,r){let o={};return Object.entries(e.children).forEach(([s,l])=>{l===n?o[s]=r:o[s]=HF(l,n,r)}),new M0(e.segments,o)}var iC=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,r,o){if(this.isAbsolute=n,this.numberOfDoubleDots=r,this.commands=o,n&&o.length>0&&nC(o[0]))throw new z1(4003,!1);let s=o.find(Tv);if(s&&s!==IF(o))throw new z1(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Dte(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new iC(!0,0,e);let n=0,r=!1,o=e.reduce((s,l,d)=>{if(typeof l=="object"&&l!=null){if(l.outlets){let h={};return Object.entries(l.outlets).forEach(([p,g])=>{h[p]=typeof g=="string"?g.split("/"):g}),[...s,{outlets:h}]}if(l.segmentPath)return[...s,l.segmentPath]}return typeof l!="string"?[...s,l]:d===0?(l.split("/").forEach((h,p)=>{p==0&&h==="."||(p==0&&h===""?r=!0:h===".."?n++:h!=""&&s.push(h))}),s):[...s,l]},[]);return new iC(r,n,o)}var Py=class{segmentGroup;processChildren;index;constructor(n,r,o){this.segmentGroup=n,this.processChildren=r,this.index=o}};function Ite(e,n,r){if(e.isAbsolute)return new Py(n,!0,0);if(!r)return new Py(n,!1,NaN);if(r.parent===null)return new Py(r,!0,0);let o=nC(e.commands[0])?0:1,s=r.segments.length-1+o;return Nte(r,s,e.numberOfDoubleDots)}function Nte(e,n,r){let o=e,s=n,l=r;for(;l>s;){if(l-=s,o=o.parent,!o)throw new z1(4005,!1);s=o.segments.length}return new Py(o,!1,s-l)}function Ote(e){return Tv(e[0])?e[0].outlets:{[Y2]:e}}function GF(e,n,r){if(e??=new M0([],{}),e.segments.length===0&&e.hasChildren())return Ev(e,n,r);let o=zte(e,n,r),s=r.slice(o.commandIndex);if(o.match&&o.pathIndex<e.segments.length){let l=new M0(e.segments.slice(0,o.pathIndex),{});return l.children[Y2]=new M0(e.segments.slice(o.pathIndex),e.children),Ev(l,0,s)}else return o.match&&s.length===0?new M0(e.segments,{}):o.match&&!e.hasChildren()?SA(e,n,r):o.match?Ev(e,0,s):SA(e,n,r)}function Ev(e,n,r){if(r.length===0)return new M0(e.segments,{});{let o=Ote(r),s={};if(Object.keys(o).some(l=>l!==Y2)&&e.children[Y2]&&e.numberOfChildren===1&&e.children[Y2].segments.length===0){let l=Ev(e.children[Y2],n,r);return new M0(e.segments,l.children)}return Object.entries(o).forEach(([l,d])=>{typeof d=="string"&&(d=[d]),d!==null&&(s[l]=GF(e.children[l],n,d))}),Object.entries(e.children).forEach(([l,d])=>{o[l]===void 0&&(s[l]=d)}),new M0(e.segments,s)}}function zte(e,n,r){let o=0,s=n,l={match:!1,pathIndex:0,commandIndex:0};for(;s<e.segments.length;){if(o>=r.length)return l;let d=e.segments[s],h=r[o];if(Tv(h))break;let p=`${h}`,g=o<r.length-1?r[o+1]:null;if(s>0&&p===void 0)break;if(p&&g&&typeof g=="object"&&g.outlets===void 0){if(!LF(p,g,d))return l;o+=2}else{if(!LF(p,{},d))return l;o++}s++}return{match:!0,pathIndex:s,commandIndex:o}}function SA(e,n,r){let o=e.segments.slice(0,n),s=0;for(;s<r.length;){let l=r[s];if(Tv(l)){let p=Rte(l.outlets);return new M0(o,p)}if(s===0&&nC(r[0])){let p=e.segments[n];o.push(new p7(p.path,SF(r[0]))),s++;continue}let d=Tv(l)?l.outlets[Y2]:`${l}`,h=s<r.length-1?r[s+1]:null;d&&h&&nC(h)?(o.push(new p7(d,SF(h))),s+=2):(o.push(new p7(d,{})),s++)}return new M0(o,{})}function Rte(e){let n={};return Object.entries(e).forEach(([r,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(n[r]=SA(new M0([],{}),0,o))}),n}function SF(e){let n={};return Object.entries(e).forEach(([r,o])=>n[r]=`${o}`),n}function LF(e,n,r){return e==r.path&&H6(n,r.parameters)}var Sv="imperative",I3=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(I3||{}),W4=class{id;url;constructor(n,r){this.id=n,this.url=r}},Dv=class extends W4{type=I3.NavigationStart;navigationTrigger;restoredState;constructor(n,r,o="imperative",s=null){super(n,r),this.navigationTrigger=o,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},g7=class extends W4{urlAfterRedirects;type=I3.NavigationEnd;constructor(n,r,o){super(n,r),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},T4=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(T4||{}),LA=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(LA||{}),M8=class extends W4{reason;code;type=I3.NavigationCancel;constructor(n,r,o,s){super(n,r),this.reason=o,this.code=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},y7=class extends W4{reason;code;type=I3.NavigationSkipped;constructor(n,r,o,s){super(n,r),this.reason=o,this.code=s}},Iv=class extends W4{error;target;type=I3.NavigationError;constructor(n,r,o,s){super(n,r),this.error=o,this.target=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},rC=class extends W4{urlAfterRedirects;state;type=I3.RoutesRecognized;constructor(n,r,o,s){super(n,r),this.urlAfterRedirects=o,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},AA=class extends W4{urlAfterRedirects;state;type=I3.GuardsCheckStart;constructor(n,r,o,s){super(n,r),this.urlAfterRedirects=o,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kA=class extends W4{urlAfterRedirects;state;shouldActivate;type=I3.GuardsCheckEnd;constructor(n,r,o,s,l){super(n,r),this.urlAfterRedirects=o,this.state=s,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},TA=class extends W4{urlAfterRedirects;state;type=I3.ResolveStart;constructor(n,r,o,s){super(n,r),this.urlAfterRedirects=o,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},DA=class extends W4{urlAfterRedirects;state;type=I3.ResolveEnd;constructor(n,r,o,s){super(n,r),this.urlAfterRedirects=o,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},IA=class{route;type=I3.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},NA=class{route;type=I3.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},OA=class{snapshot;type=I3.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zA=class{snapshot;type=I3.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},RA=class{snapshot;type=I3.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},PA=class{snapshot;type=I3.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Nv=class{},Vy=class{url;navigationBehaviorOptions;constructor(n,r){this.url=n,this.navigationBehaviorOptions=r}};function Pte(e,n){return e.providers&&!e._injector&&(e._injector=GL(e.providers,n,`Route: ${e.path}`)),e._injector??n}function y6(e){return e.outlet||Y2}function Fte(e,n){let r=e.filter(o=>y6(o)===n);return r.push(...e.filter(o=>y6(o)!==n)),r}function jv(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let r=n.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}var FA=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return jv(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new dC(this.rootInjector)}},dC=(()=>{class e{rootInjector;contexts=new Map;constructor(r){this.rootInjector=r}onChildOutletCreated(r,o){let s=this.getOrCreateContext(r);s.outlet=o,this.contexts.set(r,s)}onChildOutletDestroyed(r){let o=this.getContext(r);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let o=this.getContext(r);return o||(o=new FA(this.rootInjector),this.contexts.set(r,o)),o}getContext(r){return this.contexts.get(r)||null}static \u0275fac=function(o){return new(o||e)(K1(T3))};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),oC=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let r=this.pathFromRoot(n);return r.length>1?r[r.length-2]:null}children(n){let r=jA(n,this._root);return r?r.children.map(o=>o.value):[]}firstChild(n){let r=jA(n,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(n){let r=BA(n,this._root);return r.length<2?[]:r[r.length-2].children.map(s=>s.value).filter(s=>s!==n)}pathFromRoot(n){return BA(n,this._root).map(r=>r.value)}};function jA(e,n){if(e===n.value)return n;for(let r of n.children){let o=jA(e,r);if(o)return o}return null}function BA(e,n){if(e===n.value)return[n];for(let r of n.children){let o=BA(e,r);if(o.length)return o.unshift(n),o}return[]}var k4=class{value;children;constructor(n,r){this.value=n,this.children=r}toString(){return`TreeNode(${this.value})`}};function Ry(e){let n={};return e&&e.children.forEach(r=>n[r.value.outlet]=r),n}var sC=class extends oC{snapshot;constructor(n,r){super(n),this.snapshot=r,KA(this,n)}toString(){return this.snapshot.toString()}};function $F(e){let n=jte(e),r=new i3([new p7("",{})]),o=new i3({}),s=new i3({}),l=new i3({}),d=new i3(""),h=new Uy(r,o,l,d,s,Y2,e,n.root);return h.snapshot=n.root,new sC(new k4(h,[]),n)}function jte(e){let n={},r={},o={},s="",l=new Fy([],n,o,s,r,Y2,e,null,{});return new cC("",new k4(l,[]))}var Uy=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,r,o,s,l,d,h,p){this.urlSubject=n,this.paramsSubject=r,this.queryParamsSubject=o,this.fragmentSubject=s,this.dataSubject=l,this.outlet=d,this.component=h,this._futureSnapshot=p,this.title=this.dataSubject?.pipe(a2(g=>g[Fv]))??s2(void 0),this.url=n,this.params=r,this.queryParams=o,this.fragment=s,this.data=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(a2(n=>By(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(a2(n=>By(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function aC(e,n,r="emptyOnly"){let o,{routeConfig:s}=e;return n!==null&&(r==="always"||s?.path===""||!n.component&&!n.routeConfig?.loadComponent)?o={params:E1(E1({},n.params),e.params),data:E1(E1({},n.data),e.data),resolve:E1(E1(E1(E1({},e.data),n.data),s?.data),e._resolvedData)}:o={params:E1({},e.params),data:E1({},e.data),resolve:E1(E1({},e.data),e._resolvedData??{})},s&&WF(s)&&(o.resolve[Fv]=s.title),o}var Fy=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Fv]}constructor(n,r,o,s,l,d,h,p,g){this.url=n,this.params=r,this.queryParams=o,this.fragment=s,this.data=l,this.outlet=d,this.component=h,this.routeConfig=p,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=By(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=By(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(o=>o.toString()).join("/"),r=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${r}')`}},cC=class extends oC{url;constructor(n,r){super(r),this.url=n,KA(this,r)}toString(){return qF(this._root)}};function KA(e,n){n.value._routerState=e,n.children.forEach(r=>KA(e,r))}function qF(e){let n=e.children.length>0?` { ${e.children.map(qF).join(", ")} } `:"";return`${e.value}${n}`}function bA(e){if(e.snapshot){let n=e.snapshot,r=e._futureSnapshot;e.snapshot=r,H6(n.queryParams,r.queryParams)||e.queryParamsSubject.next(r.queryParams),n.fragment!==r.fragment&&e.fragmentSubject.next(r.fragment),H6(n.params,r.params)||e.paramsSubject.next(r.params),fte(n.url,r.url)||e.urlSubject.next(r.url),H6(n.data,r.data)||e.dataSubject.next(r.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function VA(e,n){let r=H6(e.params,n.params)&&gte(e.url,n.url),o=!e.parent!=!n.parent;return r&&!o&&(!e.parent||VA(e.parent,n.parent))}function WF(e){return typeof e.title=="string"||e.title===null}var Bte=new I1(""),XA=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Y2;activateEvents=new Z1;deactivateEvents=new Z1;attachEvents=new Z1;detachEvents=new Z1;routerOutletData=Gz(void 0);parentContexts=Ua(dC);location=Ua(H3);changeDetector=Ua(k0);inputBinder=Ua(QA,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(r){if(r.name){let{firstChange:o,previousValue:s}=r.name;if(o)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z1(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z1(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z1(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,o){this.activated=r,this._activatedRoute=o,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,o){if(this.isActivated)throw new z1(4013,!1);this._activatedRoute=r;let s=this.location,d=r.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,p=new UA(r,h,s.injector,this.routerOutletData);this.activated=s.createComponent(d,{index:s.length,injector:p,environmentInjector:o}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(o){return new(o||e)};static \u0275dir=n2({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[A0]})}return e})(),UA=class e{route;childContexts;parent;outletData;__ngOutletInjector(n){return new e(this.route,this.childContexts,n,this.outletData)}constructor(n,r,o,s){this.route=n,this.childContexts=r,this.parent=o,this.outletData=s}get(n,r){return n===Uy?this.route:n===dC?this.childContexts:n===Bte?this.outletData:this.parent.get(n,r)}},QA=new I1("");function Vte(e,n,r){let o=Ov(e,n._root,r?r._root:void 0);return new sC(o,n)}function Ov(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){let o=r.value;o._futureSnapshot=n.value;let s=Ute(e,n,r);return new k4(o,s)}else{if(e.shouldAttach(n.value)){let l=e.retrieve(n.value);if(l!==null){let d=l.route;return d.value._futureSnapshot=n.value,d.children=n.children.map(h=>Ov(e,h)),d}}let o=Hte(n.value),s=n.children.map(l=>Ov(e,l));return new k4(o,s)}}function Ute(e,n,r){return n.children.map(o=>{for(let s of r.children)if(e.shouldReuseRoute(o.value,s.value.snapshot))return Ov(e,o,s);return Ov(e,o)})}function Hte(e){return new Uy(new i3(e.url),new i3(e.params),new i3(e.queryParams),new i3(e.fragment),new i3(e.data),e.outlet,e.component,e)}var zv=class{redirectTo;navigationBehaviorOptions;constructor(n,r){this.redirectTo=n,this.navigationBehaviorOptions=r}},YF="ngNavigationCancelingError";function lC(e,n){let{redirectTo:r,navigationBehaviorOptions:o}=kv(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,s=ZF(!1,T4.Redirect);return s.url=r,s.navigationBehaviorOptions=o,s}function ZF(e,n){let r=new Error(`NavigationCancelingError: ${e||""}`);return r[YF]=!0,r.cancellationCode=n,r}function Gte(e){return KF(e)&&kv(e.url)}function KF(e){return!!e&&e[YF]}var $te=(e,n,r,o)=>a2(s=>(new HA(n,s.targetRouterState,s.currentRouterState,r,o).activate(e),s)),HA=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,r,o,s,l){this.routeReuseStrategy=n,this.futureState=r,this.currState=o,this.forwardEvent=s,this.inputBindingEnabled=l}activate(n){let r=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,o,n),bA(this.futureState.root),this.activateChildRoutes(r,o,n)}deactivateChildRoutes(n,r,o){let s=Ry(r);n.children.forEach(l=>{let d=l.value.outlet;this.deactivateRoutes(l,s[d],o),delete s[d]}),Object.values(s).forEach(l=>{this.deactivateRouteAndItsChildren(l,o)})}deactivateRoutes(n,r,o){let s=n.value,l=r?r.value:null;if(s===l)if(s.component){let d=o.getContext(s.outlet);d&&this.deactivateChildRoutes(n,r,d.children)}else this.deactivateChildRoutes(n,r,o);else l&&this.deactivateRouteAndItsChildren(r,o)}deactivateRouteAndItsChildren(n,r){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,r):this.deactivateRouteAndOutlet(n,r)}detachAndStoreRouteSubtree(n,r){let o=r.getContext(n.value.outlet),s=o&&n.value.component?o.children:r,l=Ry(n);for(let d of Object.values(l))this.deactivateRouteAndItsChildren(d,s);if(o&&o.outlet){let d=o.outlet.detach(),h=o.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:d,route:n,contexts:h})}}deactivateRouteAndOutlet(n,r){let o=r.getContext(n.value.outlet),s=o&&n.value.component?o.children:r,l=Ry(n);for(let d of Object.values(l))this.deactivateRouteAndItsChildren(d,s);o&&(o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated()),o.attachRef=null,o.route=null)}activateChildRoutes(n,r,o){let s=Ry(r);n.children.forEach(l=>{this.activateRoutes(l,s[l.value.outlet],o),this.forwardEvent(new PA(l.value.snapshot))}),n.children.length&&this.forwardEvent(new zA(n.value.snapshot))}activateRoutes(n,r,o){let s=n.value,l=r?r.value:null;if(bA(s),s===l)if(s.component){let d=o.getOrCreateContext(s.outlet);this.activateChildRoutes(n,r,d.children)}else this.activateChildRoutes(n,r,o);else if(s.component){let d=o.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){let h=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),d.children.onOutletReAttached(h.contexts),d.attachRef=h.componentRef,d.route=h.route.value,d.outlet&&d.outlet.attach(h.componentRef,h.route.value),bA(h.route.value),this.activateChildRoutes(n,null,d.children)}else d.attachRef=null,d.route=s,d.outlet&&d.outlet.activateWith(s,d.injector),this.activateChildRoutes(n,null,d.children)}else this.activateChildRoutes(n,null,o)}},uC=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},jy=class{component;route;constructor(n,r){this.component=n,this.route=r}};function qte(e,n,r){let o=e._root,s=n?n._root:null;return Cv(o,s,r,[o.value])}function Wte(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function Gy(e,n){let r=Symbol(),o=n.get(e,r);return o===r?typeof e=="function"&&!jO(e)?e:n.get(e):o}function Cv(e,n,r,o,s={canDeactivateChecks:[],canActivateChecks:[]}){let l=Ry(n);return e.children.forEach(d=>{Yte(d,l[d.value.outlet],r,o.concat([d.value]),s),delete l[d.value.outlet]}),Object.entries(l).forEach(([d,h])=>Lv(h,r.getContext(d),s)),s}function Yte(e,n,r,o,s={canDeactivateChecks:[],canActivateChecks:[]}){let l=e.value,d=n?n.value:null,h=r?r.getContext(e.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){let p=Zte(d,l,l.routeConfig.runGuardsAndResolvers);p?s.canActivateChecks.push(new uC(o)):(l.data=d.data,l._resolvedData=d._resolvedData),l.component?Cv(e,n,h?h.children:null,o,s):Cv(e,n,r,o,s),p&&h&&h.outlet&&h.outlet.isActivated&&s.canDeactivateChecks.push(new jy(h.outlet.component,d))}else d&&Lv(n,h,s),s.canActivateChecks.push(new uC(o)),l.component?Cv(e,null,h?h.children:null,o,s):Cv(e,null,r,o,s);return s}function Zte(e,n,r){if(typeof r=="function")return r(e,n);switch(r){case"pathParamsChange":return!m7(e.url,n.url);case"pathParamsOrQueryParamsChange":return!m7(e.url,n.url)||!H6(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!VA(e,n)||!H6(e.queryParams,n.queryParams);case"paramsChange":default:return!VA(e,n)}}function Lv(e,n,r){let o=Ry(e),s=e.value;Object.entries(o).forEach(([l,d])=>{s.component?n?Lv(d,n.children.getContext(l),r):Lv(d,null,r):Lv(d,n,r)}),s.component?n&&n.outlet&&n.outlet.isActivated?r.canDeactivateChecks.push(new jy(n.outlet.component,s)):r.canDeactivateChecks.push(new jy(null,s)):r.canDeactivateChecks.push(new jy(null,s))}function Bv(e){return typeof e=="function"}function Kte(e){return typeof e=="boolean"}function Xte(e){return e&&Bv(e.canLoad)}function Qte(e){return e&&Bv(e.canActivate)}function Jte(e){return e&&Bv(e.canActivateChild)}function ene(e){return e&&Bv(e.canDeactivate)}function tne(e){return e&&Bv(e.canMatch)}function XF(e){return e instanceof a8||e?.name==="EmptyError"}var Qw=Symbol("INITIAL_VALUE");function Hy(){return k3(e=>sy(e.map(n=>n.pipe(g3(1),e4(Qw)))).pipe(a2(n=>{for(let r of n)if(r!==!0){if(r===Qw)return Qw;if(r===!1||nne(r))return r}return!0}),d0(n=>n!==Qw),g3(1)))}function nne(e){return kv(e)||e instanceof zv}function ine(e,n){return r3(r=>{let{targetSnapshot:o,currentSnapshot:s,guards:{canActivateChecks:l,canDeactivateChecks:d}}=r;return d.length===0&&l.length===0?s2(R2(E1({},r),{guardsResult:!0})):rne(d,o,s,e).pipe(r3(h=>h&&Kte(h)?one(o,l,e,n):s2(h)),a2(h=>R2(E1({},r),{guardsResult:h})))})}function rne(e,n,r,o){return X0(e).pipe(r3(s=>une(s.component,s.route,r,n,o)),D6(s=>s!==!0,!0))}function one(e,n,r,o){return X0(n).pipe(K8(s=>Z8(ane(s.route.parent,o),sne(s.route,o),lne(e,s.path,r),cne(e,s.route,r))),D6(s=>s!==!0,!0))}function sne(e,n){return e!==null&&n&&n(new RA(e)),s2(!0)}function ane(e,n){return e!==null&&n&&n(new OA(e)),s2(!0)}function cne(e,n,r){let o=n.routeConfig?n.routeConfig.canActivate:null;if(!o||o.length===0)return s2(!0);let s=o.map(l=>ay(()=>{let d=jv(n)??r,h=Gy(l,d),p=Qte(h)?h.canActivate(n,e):u6(d,()=>h(n,e));return f5(p).pipe(D6())}));return s2(s).pipe(Hy())}function lne(e,n,r){let o=n[n.length-1],l=n.slice(0,n.length-1).reverse().map(d=>Wte(d)).filter(d=>d!==null).map(d=>ay(()=>{let h=d.guards.map(p=>{let g=jv(d.node)??r,y=Gy(p,g),v=Jte(y)?y.canActivateChild(o,e):u6(g,()=>y(o,e));return f5(v).pipe(D6())});return s2(h).pipe(Hy())}));return s2(l).pipe(Hy())}function une(e,n,r,o,s){let l=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!l||l.length===0)return s2(!0);let d=l.map(h=>{let p=jv(n)??s,g=Gy(h,p),y=ene(g)?g.canDeactivate(e,n,r,o):u6(p,()=>g(e,n,r,o));return f5(y).pipe(D6())});return s2(d).pipe(Hy())}function dne(e,n,r,o){let s=n.canLoad;if(s===void 0||s.length===0)return s2(!0);let l=s.map(d=>{let h=Gy(d,e),p=Xte(h)?h.canLoad(n,r):u6(e,()=>h(n,r));return f5(p)});return s2(l).pipe(Hy(),QF(o))}function QF(e){return LE(B0(n=>{if(typeof n!="boolean")throw lC(e,n)}),a2(n=>n===!0))}function fne(e,n,r,o){let s=n.canMatch;if(!s||s.length===0)return s2(!0);let l=s.map(d=>{let h=Gy(d,e),p=tne(h)?h.canMatch(n,r):u6(e,()=>h(n,r));return f5(p)});return s2(l).pipe(Hy(),QF(o))}var Rv=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},Pv=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function zy(e){return Y8(new Rv(e))}function hne(e){return Y8(new z1(4e3,!1))}function pne(e){return Y8(ZF(!1,T4.GuardRejected))}var GA=class{urlSerializer;urlTree;constructor(n,r){this.urlSerializer=n,this.urlTree=r}lineralizeSegments(n,r){let o=[],s=r.root;for(;;){if(o=o.concat(s.segments),s.numberOfChildren===0)return s2(o);if(s.numberOfChildren>1||!s.children[Y2])return hne(`${n.redirectTo}`);s=s.children[Y2]}}applyRedirectCommands(n,r,o,s,l){if(typeof r!="string"){let h=r,{queryParams:p,fragment:g,routeConfig:y,url:v,outlet:w,params:k,data:F,title:q}=s,_r=u6(l,()=>h({params:k,data:F,queryParams:p,fragment:g,routeConfig:y,url:v,outlet:w,title:q}));if(_r instanceof E8)throw new Pv(_r);r=_r}let d=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),n,o);if(r[0]==="/")throw new Pv(d);return d}applyRedirectCreateUrlTree(n,r,o,s){let l=this.createSegmentGroup(n,r.root,o,s);return new E8(l,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(n,r){let o={};return Object.entries(n).forEach(([s,l])=>{if(typeof l=="string"&&l[0]===":"){let h=l.substring(1);o[s]=r[h]}else o[s]=l}),o}createSegmentGroup(n,r,o,s){let l=this.createSegments(n,r.segments,o,s),d={};return Object.entries(r.children).forEach(([h,p])=>{d[h]=this.createSegmentGroup(n,p,o,s)}),new M0(l,d)}createSegments(n,r,o,s){return r.map(l=>l.path[0]===":"?this.findPosParam(n,l,s):this.findOrReturn(l,o))}findPosParam(n,r,o){let s=o[r.path.substring(1)];if(!s)throw new z1(4001,!1);return s}findOrReturn(n,r){let o=0;for(let s of r){if(s.path===n.path)return r.splice(o),s;o++}return n}},$A={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mne(e,n,r,o,s){let l=JF(e,n,r);return l.matched?(o=Pte(n,o),fne(o,n,r,s).pipe(a2(d=>d===!0?l:E1({},$A)))):s2(l)}function JF(e,n,r){if(n.path==="**")return gne(r);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||r.length>0)?E1({},$A):{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};let s=(n.matcher||dte)(r,e,n);if(!s)return E1({},$A);let l={};Object.entries(s.posParams??{}).forEach(([h,p])=>{l[h]=p.path});let d=s.consumed.length>0?E1(E1({},l),s.consumed[s.consumed.length-1].parameters):l;return{matched:!0,consumedSegments:s.consumed,remainingSegments:r.slice(s.consumed.length),parameters:d,positionalParamSegments:s.posParams??{}}}function gne(e){return{matched:!0,parameters:e.length>0?IF(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function AF(e,n,r,o){return r.length>0&&_ne(e,r,o)?{segmentGroup:new M0(n,vne(o,new M0(r,e.children))),slicedSegments:[]}:r.length===0&&bne(e,r,o)?{segmentGroup:new M0(e.segments,yne(e,r,o,e.children)),slicedSegments:r}:{segmentGroup:new M0(e.segments,e.children),slicedSegments:r}}function yne(e,n,r,o){let s={};for(let l of r)if(fC(e,n,l)&&!o[y6(l)]){let d=new M0([],{});s[y6(l)]=d}return E1(E1({},o),s)}function vne(e,n){let r={};r[Y2]=n;for(let o of e)if(o.path===""&&y6(o)!==Y2){let s=new M0([],{});r[y6(o)]=s}return r}function _ne(e,n,r){return r.some(o=>fC(e,n,o)&&y6(o)!==Y2)}function bne(e,n,r){return r.some(o=>fC(e,n,o))}function fC(e,n,r){return(e.hasChildren()||n.length>0)&&r.pathMatch==="full"?!1:r.path===""}function xne(e,n,r){return n.length===0&&!e.children[r]}var qA=class{};function wne(e,n,r,o,s,l,d="emptyOnly"){return new WA(e,n,r,o,s,d,l).recognize()}var Cne=31,WA=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,r,o,s,l,d,h){this.injector=n,this.configLoader=r,this.rootComponentType=o,this.config=s,this.urlTree=l,this.paramsInheritanceStrategy=d,this.urlSerializer=h,this.applyRedirects=new GA(this.urlSerializer,this.urlTree)}noMatchError(n){return new z1(4002,`'${n.segmentGroup}'`)}recognize(){let n=AF(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(a2(({children:r,rootSnapshot:o})=>{let s=new k4(o,r),l=new cC("",s),d=Tte(o,[],this.urlTree.queryParams,this.urlTree.fragment);return d.queryParams=this.urlTree.queryParams,l.url=this.urlSerializer.serialize(d),{state:l,tree:d}}))}match(n){let r=new Fy([],Object.freeze({}),Object.freeze(E1({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Y2,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,Y2,r).pipe(a2(o=>({children:o,rootSnapshot:r})),T6(o=>{if(o instanceof Pv)return this.urlTree=o.urlTree,this.match(o.urlTree.root);throw o instanceof Rv?this.noMatchError(o):o}))}processSegmentGroup(n,r,o,s,l){return o.segments.length===0&&o.hasChildren()?this.processChildren(n,r,o,l):this.processSegment(n,r,o,o.segments,s,!0,l).pipe(a2(d=>d instanceof k4?[d]:[]))}processChildren(n,r,o,s){let l=[];for(let d of Object.keys(o.children))d==="primary"?l.unshift(d):l.push(d);return X0(l).pipe(K8(d=>{let h=o.children[d],p=Fte(r,d);return this.processSegmentGroup(n,p,h,d,s)}),OE((d,h)=>(d.push(...h),d)),X8(null),NE(),r3(d=>{if(d===null)return zy(o);let h=_j(d);return Mne(h),s2(h)}))}processSegment(n,r,o,s,l,d,h){return X0(r).pipe(K8(p=>this.processSegmentAgainstRoute(p._injector??n,r,p,o,s,l,d,h).pipe(T6(g=>{if(g instanceof Rv)return s2(null);throw g}))),D6(p=>!!p),T6(p=>{if(XF(p))return xne(o,s,l)?s2(new qA):zy(o);throw p}))}processSegmentAgainstRoute(n,r,o,s,l,d,h,p){return y6(o)!==d&&(d===Y2||!fC(s,l,o))?zy(s):o.redirectTo===void 0?this.matchSegmentAgainstRoute(n,s,o,l,d,p):this.allowRedirects&&h?this.expandSegmentAgainstRouteUsingRedirect(n,s,r,o,l,d,p):zy(s)}expandSegmentAgainstRouteUsingRedirect(n,r,o,s,l,d,h){let{matched:p,parameters:g,consumedSegments:y,positionalParamSegments:v,remainingSegments:w}=JF(r,s,l);if(!p)return zy(r);typeof s.redirectTo=="string"&&s.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Cne&&(this.allowRedirects=!1));let k=new Fy(l,g,Object.freeze(E1({},this.urlTree.queryParams)),this.urlTree.fragment,kF(s),y6(s),s.component??s._loadedComponent??null,s,TF(s)),F=aC(k,h,this.paramsInheritanceStrategy);k.params=Object.freeze(F.params),k.data=Object.freeze(F.data);let q=this.applyRedirects.applyRedirectCommands(y,s.redirectTo,v,k,n);return this.applyRedirects.lineralizeSegments(s,q).pipe(r3(_r=>this.processSegment(n,o,r,_r.concat(w),d,!1,h)))}matchSegmentAgainstRoute(n,r,o,s,l,d){let h=mne(r,o,s,n,this.urlSerializer);return o.path==="**"&&(r.children={}),h.pipe(k3(p=>p.matched?(n=o._injector??n,this.getChildConfig(n,o,s).pipe(k3(({routes:g})=>{let y=o._loadedInjector??n,{parameters:v,consumedSegments:w,remainingSegments:k}=p,F=new Fy(w,v,Object.freeze(E1({},this.urlTree.queryParams)),this.urlTree.fragment,kF(o),y6(o),o.component??o._loadedComponent??null,o,TF(o)),q=aC(F,d,this.paramsInheritanceStrategy);F.params=Object.freeze(q.params),F.data=Object.freeze(q.data);let{segmentGroup:_r,slicedSegments:ga}=AF(r,w,k,g);if(ga.length===0&&_r.hasChildren())return this.processChildren(y,g,_r,F).pipe(a2(jc=>new k4(F,jc)));if(g.length===0&&ga.length===0)return s2(new k4(F,[]));let La=y6(o)===l;return this.processSegment(y,g,_r,ga,La?Y2:l,!0,F).pipe(a2(jc=>new k4(F,jc instanceof k4?[jc]:[])))}))):zy(r)))}getChildConfig(n,r,o){return r.children?s2({routes:r.children,injector:n}):r.loadChildren?r._loadedRoutes!==void 0?s2({routes:r._loadedRoutes,injector:r._loadedInjector}):dne(n,r,o,this.urlSerializer).pipe(r3(s=>s?this.configLoader.loadChildren(n,r).pipe(B0(l=>{r._loadedRoutes=l.routes,r._loadedInjector=l.injector})):pne(r))):s2({routes:[],injector:n})}};function Mne(e){e.sort((n,r)=>n.value.outlet===Y2?-1:r.value.outlet===Y2?1:n.value.outlet.localeCompare(r.value.outlet))}function Ene(e){let n=e.value.routeConfig;return n&&n.path===""}function _j(e){let n=[],r=new Set;for(let o of e){if(!Ene(o)){n.push(o);continue}let s=n.find(l=>o.value.routeConfig===l.value.routeConfig);s!==void 0?(s.children.push(...o.children),r.add(s)):n.push(o)}for(let o of r){let s=_j(o.children);n.push(new k4(o.value,s))}return n.filter(o=>!r.has(o))}function kF(e){return e.data||{}}function TF(e){return e.resolve||{}}function Sne(e,n,r,o,s,l){return r3(d=>wne(e,n,r,o,d.extractedUrl,s,l).pipe(a2(({state:h,tree:p})=>R2(E1({},d),{targetSnapshot:h,urlAfterRedirects:p}))))}function Lne(e,n){return r3(r=>{let{targetSnapshot:o,guards:{canActivateChecks:s}}=r;if(!s.length)return s2(r);let l=new Set(s.map(p=>p.route)),d=new Set;for(let p of l)if(!d.has(p))for(let g of $j(p))d.add(g);let h=0;return X0(d).pipe(K8(p=>l.has(p)?Ane(p,o,e,n):(p.data=aC(p,p.parent,e).resolve,s2(void 0))),B0(()=>h++),ly(1),r3(p=>h===d.size?s2(r):A3))})}function $j(e){let n=e.children.map(r=>$j(r)).flat();return[e,...n]}function Ane(e,n,r,o){let s=e.routeConfig,l=e._resolve;return s?.title!==void 0&&!WF(s)&&(l[Fv]=s.title),kne(l,e,n,o).pipe(a2(d=>(e._resolvedData=d,e.data=aC(e,e.parent,r).resolve,null)))}function kne(e,n,r,o){let s=CA(e);if(s.length===0)return s2({});let l={};return X0(s).pipe(r3(d=>Tne(e[d],n,r,o).pipe(D6(),B0(h=>{if(h instanceof zv)throw lC(new Av,h);l[d]=h}))),ly(1),IE(l),T6(d=>XF(d)?A3:Y8(d)))}function Tne(e,n,r,o){let s=jv(n)??o,l=Gy(e,s),d=l.resolve?l.resolve(n,r):u6(s,()=>l(n,r));return f5(d)}function xA(e){return k3(n=>{let r=e(n);return r?X0(r).pipe(a2(()=>n)):s2(n)})}var eB=(()=>{class e{buildTitle(r){let o,s=r.root;for(;s!==void 0;)o=this.getResolvedTitleForRoute(s)??o,s=s.children.find(l=>l.outlet===Y2);return o}getResolvedTitleForRoute(r){return r.data[Fv]}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:()=>Ua(Dne),providedIn:"root"})}return e})(),Dne=(()=>{class e extends eB{title;constructor(r){super(),this.title=r}updateTitle(r){let o=this.buildTitle(r);o!==void 0&&this.title.setTitle(o)}static \u0275fac=function(o){return new(o||e)(K1(wF))};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),JA=new I1("",{providedIn:"root",factory:()=>({})}),Ine=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275cmp=C2({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(o,s){o&1&&E2(0,"router-outlet")},dependencies:[XA],encapsulation:2})}return e})();function _k(e){let n=e.children&&e.children.map(_k),r=n?R2(E1({},e),{children:n}):E1({},e);return!r.component&&!r.loadComponent&&(n||r.loadChildren)&&r.outlet&&r.outlet!==Y2&&(r.component=Ine),r}var eT=new I1(""),Nne=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=Ua(ZL);loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return s2(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=f5(r.loadComponent()).pipe(a2(tB),B0(l=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=l}),Q8(()=>{this.componentLoaders.delete(r)})),s=new G5(o,()=>new W1).pipe(ty());return this.componentLoaders.set(r,s),s}loadChildren(r,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return s2({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);let l=One(o,this.compiler,r,this.onLoadEndListener).pipe(Q8(()=>{this.childrenLoaders.delete(o)})),d=new G5(l,()=>new W1).pipe(ty());return this.childrenLoaders.set(o,d),d}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function One(e,n,r,o){return f5(e.loadChildren()).pipe(a2(tB),r3(s=>s instanceof Q9||Array.isArray(s)?s2(s):X0(n.compileModuleAsync(s))),a2(s=>{o&&o(e);let l,d,h=!1;return Array.isArray(s)?(d=s,h=!0):(l=s.create(r).injector,d=l.get(eT,[],{optional:!0,self:!0}).flat()),{routes:d.map(_k),injector:l}}))}function zne(e){return e&&typeof e=="object"&&"default"in e}function tB(e){return zne(e)?e.default:e}var tT=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:()=>Ua(Rne),providedIn:"root"})}return e})(),Rne=(()=>{class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,o){return r}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Pne=new I1("");var Fne=new I1(""),jne=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new W1;transitionAbortSubject=new W1;configLoader=Ua(Nne);environmentInjector=Ua(T3);urlSerializer=Ua(ZA);rootContexts=Ua(dC);location=Ua(h7);inputBindingEnabled=Ua(QA,{optional:!0})!==null;titleStrategy=Ua(eB);options=Ua(JA,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=Ua(tT);createViewTransition=Ua(Pne,{optional:!0});navigationErrorHandler=Ua(Fne,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>s2(void 0);rootComponentType=null;constructor(){let r=s=>this.events.next(new IA(s)),o=s=>this.events.next(new NA(s));this.configLoader.onLoadEndListener=o,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let o=++this.navigationId;this.transitions?.next(R2(E1(E1({},this.transitions.value),r),{id:o}))}setupNavigations(r,o,s){return this.transitions=new i3({id:0,currentUrlTree:o,currentRawUrl:o,extractedUrl:this.urlHandlingStrategy.extract(o),urlAfterRedirects:this.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Sv,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(d0(l=>l.id!==0),a2(l=>R2(E1({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),k3(l=>{let d=!1,h=!1;return s2(l).pipe(k3(p=>{if(this.navigationId>l.id)return this.cancelNavigationTransition(l,"",T4.SupersededByNewNavigation),A3;this.currentTransition=l,this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,targetBrowserUrl:typeof p.extras.browserUrl=="string"?this.urlSerializer.parse(p.extras.browserUrl):p.extras.browserUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?R2(E1({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let g=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),y=p.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!g&&y!=="reload"){let v="";return this.events.next(new y7(p.id,this.urlSerializer.serialize(p.rawUrl),v,LA.IgnoredSameUrlNavigation)),p.resolve(!1),A3}if(this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return s2(p).pipe(k3(v=>{let w=this.transitions?.getValue();return this.events.next(new Dv(v.id,this.urlSerializer.serialize(v.extractedUrl),v.source,v.restoredState)),w!==this.transitions?.getValue()?A3:Promise.resolve(v)}),Sne(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),B0(v=>{l.targetSnapshot=v.targetSnapshot,l.urlAfterRedirects=v.urlAfterRedirects,this.currentNavigation=R2(E1({},this.currentNavigation),{finalUrl:v.urlAfterRedirects});let w=new rC(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(w)}));if(g&&this.urlHandlingStrategy.shouldProcessUrl(p.currentRawUrl)){let{id:v,extractedUrl:w,source:k,restoredState:F,extras:q}=p,_r=new Dv(v,this.urlSerializer.serialize(w),k,F);this.events.next(_r);let ga=$F(this.rootComponentType).snapshot;return this.currentTransition=l=R2(E1({},p),{targetSnapshot:ga,urlAfterRedirects:w,extras:R2(E1({},q),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=w,s2(l)}else{let v="";return this.events.next(new y7(p.id,this.urlSerializer.serialize(p.extractedUrl),v,LA.IgnoredByUrlHandlingStrategy)),p.resolve(!1),A3}}),B0(p=>{let g=new AA(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}),a2(p=>(this.currentTransition=l=R2(E1({},p),{guards:qte(p.targetSnapshot,p.currentSnapshot,this.rootContexts)}),l)),ine(this.environmentInjector,p=>this.events.next(p)),B0(p=>{if(l.guardsResult=p.guardsResult,p.guardsResult&&typeof p.guardsResult!="boolean")throw lC(this.urlSerializer,p.guardsResult);let g=new kA(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.events.next(g)}),d0(p=>p.guardsResult?!0:(this.cancelNavigationTransition(p,"",T4.GuardRejected),!1)),xA(p=>{if(p.guards.canActivateChecks.length)return s2(p).pipe(B0(g=>{let y=new TA(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(y)}),k3(g=>{let y=!1;return s2(g).pipe(Lne(this.paramsInheritanceStrategy,this.environmentInjector),B0({next:()=>y=!0,complete:()=>{y||this.cancelNavigationTransition(g,"",T4.NoDataFromResolver)}}))}),B0(g=>{let y=new DA(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(y)}))}),xA(p=>{let g=y=>{let v=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(y.routeConfig).pipe(B0(w=>{y.component=w}),a2(()=>{})));for(let w of y.children)v.push(...g(w));return v};return sy(g(p.targetSnapshot.root)).pipe(X8(null),g3(1))}),xA(()=>this.afterPreactivation()),k3(()=>{let{currentSnapshot:p,targetSnapshot:g}=l,y=this.createViewTransition?.(this.environmentInjector,p.root,g.root);return y?X0(y).pipe(a2(()=>l)):s2(l)}),a2(p=>{let g=Vte(r.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return this.currentTransition=l=R2(E1({},p),{targetRouterState:g}),this.currentNavigation.targetRouterState=g,l}),B0(()=>{this.events.next(new Nv)}),$te(this.rootContexts,r.routeReuseStrategy,p=>this.events.next(p),this.inputBindingEnabled),g3(1),B0({next:p=>{d=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new g7(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects))),this.titleStrategy?.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:()=>{d=!0}}),I0(this.transitionAbortSubject.pipe(B0(p=>{throw p}))),Q8(()=>{!d&&!h&&this.cancelNavigationTransition(l,"",T4.SupersededByNewNavigation),this.currentTransition?.id===l.id&&(this.currentNavigation=null,this.currentTransition=null)}),T6(p=>{if(h=!0,KF(p))this.events.next(new M8(l.id,this.urlSerializer.serialize(l.extractedUrl),p.message,p.cancellationCode)),Gte(p)?this.events.next(new Vy(p.url,p.navigationBehaviorOptions)):l.resolve(!1);else{let g=new Iv(l.id,this.urlSerializer.serialize(l.extractedUrl),p,l.targetSnapshot??void 0);try{let y=u6(this.environmentInjector,()=>this.navigationErrorHandler?.(g));if(y instanceof zv){let{message:v,cancellationCode:w}=lC(this.urlSerializer,y);this.events.next(new M8(l.id,this.urlSerializer.serialize(l.extractedUrl),v,w)),this.events.next(new Vy(y.redirectTo,y.navigationBehaviorOptions))}else throw this.events.next(g),p}catch(y){this.options.resolveNavigationPromiseOnError?l.resolve(!1):l.reject(y)}}return A3}))}))}cancelNavigationTransition(r,o,s){let l=new M8(r.id,this.urlSerializer.serialize(r.extractedUrl),o,s);this.events.next(l),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),o=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==o?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Bne(e){return e!==Sv}var Vne=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:()=>Ua(Une),providedIn:"root"})}return e})(),YA=class{shouldDetach(n){return!1}store(n,r){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,r){return n.routeConfig===r.routeConfig}},Une=(()=>{class e extends YA{static \u0275fac=(()=>{let r;return function(s){return(r||(r=O0(e)))(s||e)}})();static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),nB=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:()=>Ua(Hne),providedIn:"root"})}return e})(),Hne=(()=>{class e extends nB{location=Ua(h7);urlSerializer=Ua(ZA);options=Ua(JA,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=Ua(tT);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new E8;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=$F(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(o=>{o.type==="popstate"&&r(o.url,o.state)})}handleRouterEvent(r,o){if(r instanceof Dv)this.stateMemento=this.createStateMemento();else if(r instanceof y7)this.rawUrlTree=o.initialUrl;else if(r instanceof rC){if(this.urlUpdateStrategy==="eager"&&!o.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl);this.setBrowserUrl(o.targetBrowserUrl??s,o)}}else r instanceof Nv?(this.currentUrlTree=o.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl),this.routerState=o.targetRouterState,this.urlUpdateStrategy==="deferred"&&!o.extras.skipLocationChange&&this.setBrowserUrl(o.targetBrowserUrl??this.rawUrlTree,o)):r instanceof M8&&(r.code===T4.GuardRejected||r.code===T4.NoDataFromResolver)?this.restoreHistory(o):r instanceof Iv?this.restoreHistory(o,!0):r instanceof g7&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,o){let s=r instanceof E8?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||o.extras.replaceUrl){let l=this.browserPageId,d=E1(E1({},o.extras.state),this.generateNgRouterState(o.id,l));this.location.replaceState(s,"",d)}else{let l=E1(E1({},o.extras.state),this.generateNgRouterState(o.id,this.browserPageId+1));this.location.go(s,"",l)}}restoreHistory(r,o=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,l=this.currentPageId-s;l!==0?this.location.historyGo(l):this.currentUrlTree===r.finalUrl&&l===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(o&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,o){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:o}:{navigationId:r}}static \u0275fac=(()=>{let r;return function(s){return(r||(r=O0(e)))(s||e)}})();static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Mv=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Mv||{});function Gne(e,n){e.events.pipe(d0(r=>r instanceof g7||r instanceof M8||r instanceof Iv||r instanceof y7),a2(r=>r instanceof g7||r instanceof y7?Mv.COMPLETE:(r instanceof M8?r.code===T4.Redirect||r.code===T4.SupersededByNewNavigation:!1)?Mv.REDIRECTING:Mv.FAILED),d0(r=>r!==Mv.REDIRECTING),g3(1)).subscribe(()=>{n()})}var $ne={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qne={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},iB=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=Ua(Sw);stateManager=Ua(nB);options=Ua(JA,{optional:!0})||{};pendingTasks=Ua(u7);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=Ua(jne);urlSerializer=Ua(ZA);location=Ua(h7);urlHandlingStrategy=Ua(tT);_events=new W1;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=Ua(Vne);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=Ua(eT,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!Ua(QA,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}eventsSubscription=new A2;subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(o=>{try{let s=this.navigationTransitions.currentTransition,l=this.navigationTransitions.currentNavigation;if(s!==null&&l!==null){if(this.stateManager.handleRouterEvent(o,l),o instanceof M8&&o.code!==T4.Redirect&&o.code!==T4.SupersededByNewNavigation)this.navigated=!0;else if(o instanceof g7)this.navigated=!0;else if(o instanceof Vy){let d=o.navigationBehaviorOptions,h=this.urlHandlingStrategy.merge(o.url,s.currentRawUrl),p=E1({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Bne(s.source)},d);this.scheduleNavigation(h,Sv,null,p,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}Yne(o)&&this._events.next(o)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Sv,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",o)},0)})}navigateToSyncWithBrowser(r,o,s){let l={replaceUrl:!0},d=s?.navigationId?s:null;if(s){let p=E1({},s);delete p.navigationId,delete p.\u0275routerPageId,Object.keys(p).length!==0&&(l.state=p)}let h=this.parseUrl(r);this.scheduleNavigation(h,o,d,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(_k),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,o={}){let{relativeTo:s,queryParams:l,fragment:d,queryParamsHandling:h,preserveFragment:p}=o,g=p?this.currentUrlTree.fragment:d,y=null;switch(h??this.options.defaultQueryParamsHandling){case"merge":y=E1(E1({},this.currentUrlTree.queryParams),l);break;case"preserve":y=this.currentUrlTree.queryParams;break;default:y=l||null}y!==null&&(y=this.removeEmptyProps(y));let v;try{let w=s?s.snapshot:this.routerState.snapshot.root;v=VF(w)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),v=this.currentUrlTree.root}return UF(v,r,y,g??null)}navigateByUrl(r,o={skipLocationChange:!1}){let s=kv(r)?r:this.parseUrl(r),l=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(l,Sv,null,o)}navigate(r,o={skipLocationChange:!1}){return Wne(r),this.navigateByUrl(this.createUrlTree(r,o),o)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,o){let s;if(o===!0?s=E1({},$ne):o===!1?s=E1({},qne):s=o,kv(r))return MF(this.currentUrlTree,r,s);let l=this.parseUrl(r);return MF(this.currentUrlTree,l,s)}removeEmptyProps(r){return Object.entries(r).reduce((o,[s,l])=>(l!=null&&(o[s]=l),o),{})}scheduleNavigation(r,o,s,l,d){if(this.disposed)return Promise.resolve(!1);let h,p,g;d?(h=d.resolve,p=d.reject,g=d.promise):g=new Promise((v,w)=>{h=v,p=w});let y=this.pendingTasks.add();return Gne(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(y))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:l,resolve:h,reject:p,promise:g,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),g.catch(v=>Promise.reject(v))}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Wne(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new z1(4008,!1)}function Yne(e){return!(e instanceof Nv)&&!(e instanceof Vy)}var Zne=new I1("");function rB(e,...n){return cw([{provide:eT,multi:!0,useValue:e},[],{provide:Uy,useFactory:Kne,deps:[iB]},{provide:mv,multi:!0,useFactory:Xne},n.map(r=>r.\u0275providers)])}function Kne(e){return e.routerState.root}function Xne(){let e=Ua(w0);return n=>{let r=e.get(f6);if(n!==r.components[0])return;let o=e.get(iB),s=e.get(Qne);e.get(Jne)===1&&o.initialNavigation(),e.get(eie,null,Q2.Optional)?.setUpPreloading(),e.get(Zne,null,Q2.Optional)?.init(),o.resetRootComponentType(r.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}var Qne=new I1("",{factory:()=>new W1}),Jne=new I1("",{providedIn:"root",factory:()=>1});var eie=new I1("");var oB=[];var B2=function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e}(B2||{}),G6="*";function p5(e,n){return{type:B2.Trigger,name:e,definitions:n,options:{}}}function $6(e,n=null){return{type:B2.Animate,styles:n,timings:e}}function sB(e,n=null){return{type:B2.Sequence,steps:e,options:n}}function C3(e){return{type:B2.Style,styles:e,offset:null}}function v7(e,n,r){return{type:B2.State,name:e,styles:n,options:r}}function nT(e){return{type:B2.Keyframes,steps:e}}function v6(e,n,r=null){return{type:B2.Transition,expr:e,animation:n,options:r}}function aB(e=null){return{type:B2.AnimateChild,options:e}}function cB(e,n,r=null){return{type:B2.Query,selector:e,animation:n,options:r}}var h5=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(n=0,r=0){this.totalTime=n+r}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){let r=n=="start"?this._onStartFns:this._onDoneFns;r.forEach(o=>o()),r.length=0}},Vv=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(n){this.players=n;let r=0,o=0,s=0,l=this.players.length;l==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++r==l&&this._onFinish()}),d.onDestroy(()=>{++o==l&&this._onDestroy()}),d.onStart(()=>{++s==l&&this._onStart()})}),this.totalTime=this.players.reduce((d,h)=>Math.max(d,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){let r=n*this.totalTime;this.players.forEach(o=>{let s=o.totalTime?Math.min(1,r/o.totalTime):1;o.setPosition(s)})}getPosition(){let n=this.players.reduce((r,o)=>r===null||o.totalTime>r.totalTime?o:r,null);return n!=null?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){let r=n=="start"?this._onStartFns:this._onDoneFns;r.forEach(o=>o()),r.length=0}},hC="!";function lB(e){return new z1(3e3,!1)}function tie(){return new z1(3100,!1)}function nie(){return new z1(3101,!1)}function iie(e){return new z1(3001,!1)}function rie(e){return new z1(3003,!1)}function oie(e){return new z1(3004,!1)}function sie(e,n){return new z1(3005,!1)}function aie(){return new z1(3006,!1)}function cie(){return new z1(3007,!1)}function lie(e,n){return new z1(3008,!1)}function uie(e){return new z1(3002,!1)}function die(e,n,r,o,s){return new z1(3010,!1)}function fie(){return new z1(3011,!1)}function hie(){return new z1(3012,!1)}function pie(){return new z1(3200,!1)}function mie(){return new z1(3202,!1)}function gie(){return new z1(3013,!1)}function yie(e){return new z1(3014,!1)}function vie(e){return new z1(3015,!1)}function _ie(e){return new z1(3016,!1)}function bie(e,n){return new z1(3404,!1)}function xie(e){return new z1(3502,!1)}function wie(e){return new z1(3503,!1)}function Cie(){return new z1(3300,!1)}function Mie(e){return new z1(3504,!1)}function Eie(e){return new z1(3301,!1)}function Sie(e,n){return new z1(3302,!1)}function Lie(e){return new z1(3303,!1)}function Aie(e,n){return new z1(3400,!1)}function kie(e){return new z1(3401,!1)}function Tie(e){return new z1(3402,!1)}function Die(e,n){return new z1(3505,!1)}function m5(e){switch(e.length){case 0:return new h5;case 1:return e[0];default:return new Vv(e)}}function CB(e,n,r=new Map,o=new Map){let s=[],l=[],d=-1,h=null;if(n.forEach(p=>{let g=p.get("offset"),y=g==d,v=y&&h||new Map;p.forEach((w,k)=>{let F=k,q=w;if(k!=="offset")switch(F=e.normalizePropertyName(F,s),q){case hC:q=r.get(k);break;case G6:q=o.get(k);break;default:q=e.normalizeStyleValue(k,F,q,s);break}v.set(F,q)}),y||l.push(v),h=v,d=g}),s.length)throw xie(s);return l}function MT(e,n,r,o){switch(n){case"start":e.onStart(()=>o(r&&iT(r,"start",e)));break;case"done":e.onDone(()=>o(r&&iT(r,"done",e)));break;case"destroy":e.onDestroy(()=>o(r&&iT(r,"destroy",e)));break}}function iT(e,n,r){let o=r.totalTime,s=!!r.disabled,l=ET(e.element,e.triggerName,e.fromState,e.toState,n||e.phaseName,o??e.totalTime,s),d=e._data;return d!=null&&(l._data=d),l}function ET(e,n,r,o,s="",l=0,d){return{element:e,triggerName:n,fromState:r,toState:o,phaseName:s,totalTime:l,disabled:!!d}}function I4(e,n,r){let o=e.get(n);return o||e.set(n,o=r),o}function uB(e){let n=e.indexOf(":"),r=e.substring(1,n),o=e.slice(n+1);return[r,o]}var Iie=typeof document>"u"?null:document.documentElement;function ST(e){let n=e.parentNode||e.host||null;return n===Iie?null:n}function Nie(e){return e.substring(1,6)=="ebkit"}var _7=null,dB=!1;function Oie(e){_7||(_7=zie()||{},dB=_7.style?"WebkitAppearance"in _7.style:!1);let n=!0;return _7.style&&!Nie(e)&&(n=e in _7.style,!n&&dB&&(n="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in _7.style)),n}function zie(){return typeof document<"u"?document.body:null}function MB(e,n){for(;n;){if(n===e)return!0;n=ST(n)}return!1}function EB(e,n,r){if(r)return Array.from(e.querySelectorAll(n));let o=e.querySelector(n);return o?[o]:[]}var LT=(()=>{class e{validateStyleProperty(r){return Oie(r)}containsElement(r,o){return MB(r,o)}getParentElement(r){return ST(r)}query(r,o,s){return EB(r,o,s)}computeStyle(r,o,s){return s||""}animate(r,o,s,l,d,h=[],p){return new h5(s,l)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac})}return e})(),w7=class{static NOOP=new LT},C7=class{};var Rie=1e3,SB="{{",Pie="}}",LB="ng-enter",lT="ng-leave",pC="ng-trigger",_C=".ng-trigger",fB="ng-animating",uT=".ng-animating";function S8(e){if(typeof e=="number")return e;let n=e.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:dT(parseFloat(n[1]),n[2])}function dT(e,n){switch(n){case"s":return e*Rie;default:return e}}function bC(e,n,r){return e.hasOwnProperty("duration")?e:Fie(e,n,r)}function Fie(e,n,r){let o=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,s,l=0,d="";if(typeof e=="string"){let h=e.match(o);if(h===null)return n.push(lB(e)),{duration:0,delay:0,easing:""};s=dT(parseFloat(h[1]),h[2]);let p=h[3];p!=null&&(l=dT(parseFloat(p),h[4]));let g=h[5];g&&(d=g)}else s=e;if(!r){let h=!1,p=n.length;s<0&&(n.push(tie()),h=!0),l<0&&(n.push(nie()),h=!0),h&&n.splice(p,0,lB(e))}return{duration:s,delay:l,easing:d}}function jie(e){return e.length?e[0]instanceof Map?e:e.map(n=>new Map(Object.entries(n))):[]}function q6(e,n,r){n.forEach((o,s)=>{let l=AT(s);r&&!r.has(s)&&r.set(s,e.style[l]),e.style[l]=o})}function x7(e,n){n.forEach((r,o)=>{let s=AT(o);e.style[s]=""})}function Uv(e){return Array.isArray(e)?e.length==1?e[0]:sB(e):e}function Bie(e,n,r){let o=n.params||{},s=AB(e);s.length&&s.forEach(l=>{o.hasOwnProperty(l)||r.push(iie(l))})}var fT=new RegExp(`${SB}\\s*(.+?)\\s*${Pie}`,"g");function AB(e){let n=[];if(typeof e=="string"){let r;for(;r=fT.exec(e);)n.push(r[1]);fT.lastIndex=0}return n}function Gv(e,n,r){let o=`${e}`,s=o.replace(fT,(l,d)=>{let h=n[d];return h==null&&(r.push(rie(d)),h=""),h.toString()});return s==o?e:s}var Vie=/-+([a-z0-9])/g;function AT(e){return e.replace(Vie,(...n)=>n[1].toUpperCase())}function Uie(e,n){return e===0||n===0}function Hie(e,n,r){if(r.size&&n.length){let o=n[0],s=[];if(r.forEach((l,d)=>{o.has(d)||s.push(d),o.set(d,l)}),s.length)for(let l=1;l<n.length;l++){let d=n[l];s.forEach(h=>d.set(h,kT(e,h)))}}return n}function D4(e,n,r){switch(n.type){case B2.Trigger:return e.visitTrigger(n,r);case B2.State:return e.visitState(n,r);case B2.Transition:return e.visitTransition(n,r);case B2.Sequence:return e.visitSequence(n,r);case B2.Group:return e.visitGroup(n,r);case B2.Animate:return e.visitAnimate(n,r);case B2.Keyframes:return e.visitKeyframes(n,r);case B2.Style:return e.visitStyle(n,r);case B2.Reference:return e.visitReference(n,r);case B2.AnimateChild:return e.visitAnimateChild(n,r);case B2.AnimateRef:return e.visitAnimateRef(n,r);case B2.Query:return e.visitQuery(n,r);case B2.Stagger:return e.visitStagger(n,r);default:throw oie(n.type)}}function kT(e,n){return window.getComputedStyle(e)[n]}var Gie=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),xC=class extends C7{normalizePropertyName(n,r){return AT(n)}normalizeStyleValue(n,r,o,s){let l="",d=o.toString().trim();if(Gie.has(r)&&o!==0&&o!=="0")if(typeof o=="number")l="px";else{let h=o.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&h[1].length==0&&s.push(sie(n,o))}return d+l}};var wC="*";function $ie(e,n){let r=[];return typeof e=="string"?e.split(/\s*,\s*/).forEach(o=>qie(o,r,n)):r.push(e),r}function qie(e,n,r){if(e[0]==":"){let p=Wie(e,r);if(typeof p=="function"){n.push(p);return}e=p}let o=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(o==null||o.length<4)return r.push(vie(e)),n;let s=o[1],l=o[2],d=o[3];n.push(hB(s,d));let h=s==wC&&d==wC;l[0]=="<"&&!h&&n.push(hB(d,s))}function Wie(e,n){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(r,o)=>parseFloat(o)>parseFloat(r);case":decrement":return(r,o)=>parseFloat(o)<parseFloat(r);default:return n.push(_ie(e)),"* => *"}}var mC=new Set(["true","1"]),gC=new Set(["false","0"]);function hB(e,n){let r=mC.has(e)||gC.has(e),o=mC.has(n)||gC.has(n);return(s,l)=>{let d=e==wC||e==s,h=n==wC||n==l;return!d&&r&&typeof s=="boolean"&&(d=s?mC.has(e):gC.has(e)),!h&&o&&typeof l=="boolean"&&(h=l?mC.has(n):gC.has(n)),d&&h}}var kB=":self",Yie=new RegExp(`s*${kB}s*,?`,"g");function TB(e,n,r,o){return new hT(e).build(n,r,o)}var pB="",hT=class{_driver;constructor(n){this._driver=n}build(n,r,o){let s=new pT(r);return this._resetContextStyleTimingState(s),D4(this,Uv(n),s)}_resetContextStyleTimingState(n){n.currentQuerySelector=pB,n.collectedStyles=new Map,n.collectedStyles.set(pB,new Map),n.currentTime=0}visitTrigger(n,r){let o=r.queryCount=0,s=r.depCount=0,l=[],d=[];return n.name.charAt(0)=="@"&&r.errors.push(aie()),n.definitions.forEach(h=>{if(this._resetContextStyleTimingState(r),h.type==B2.State){let p=h,g=p.name;g.toString().split(/\s*,\s*/).forEach(y=>{p.name=y,l.push(this.visitState(p,r))}),p.name=g}else if(h.type==B2.Transition){let p=this.visitTransition(h,r);o+=p.queryCount,s+=p.depCount,d.push(p)}else r.errors.push(cie())}),{type:B2.Trigger,name:n.name,states:l,transitions:d,queryCount:o,depCount:s,options:null}}visitState(n,r){let o=this.visitStyle(n.styles,r),s=n.options&&n.options.params||null;if(o.containsDynamicStyles){let l=new Set,d=s||{};o.styles.forEach(h=>{h instanceof Map&&h.forEach(p=>{AB(p).forEach(g=>{d.hasOwnProperty(g)||l.add(g)})})}),l.size&&r.errors.push(lie(n.name,[...l.values()]))}return{type:B2.State,name:n.name,style:o,options:s?{params:s}:null}}visitTransition(n,r){r.queryCount=0,r.depCount=0;let o=D4(this,Uv(n.animation),r),s=$ie(n.expr,r.errors);return{type:B2.Transition,matchers:s,animation:o,queryCount:r.queryCount,depCount:r.depCount,options:b7(n.options)}}visitSequence(n,r){return{type:B2.Sequence,steps:n.steps.map(o=>D4(this,o,r)),options:b7(n.options)}}visitGroup(n,r){let o=r.currentTime,s=0,l=n.steps.map(d=>{r.currentTime=o;let h=D4(this,d,r);return s=Math.max(s,r.currentTime),h});return r.currentTime=s,{type:B2.Group,steps:l,options:b7(n.options)}}visitAnimate(n,r){let o=Qie(n.timings,r.errors);r.currentAnimateTimings=o;let s,l=n.styles?n.styles:C3({});if(l.type==B2.Keyframes)s=this.visitKeyframes(l,r);else{let d=n.styles,h=!1;if(!d){h=!0;let g={};o.easing&&(g.easing=o.easing),d=C3(g)}r.currentTime+=o.duration+o.delay;let p=this.visitStyle(d,r);p.isEmptyStep=h,s=p}return r.currentAnimateTimings=null,{type:B2.Animate,timings:o,style:s,options:null}}visitStyle(n,r){let o=this._makeStyleAst(n,r);return this._validateStyleAst(o,r),o}_makeStyleAst(n,r){let o=[],s=Array.isArray(n.styles)?n.styles:[n.styles];for(let h of s)typeof h=="string"?h===G6?o.push(h):r.errors.push(uie(h)):o.push(new Map(Object.entries(h)));let l=!1,d=null;return o.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(d=h.get("easing"),h.delete("easing")),!l)){for(let p of h.values())if(p.toString().indexOf(SB)>=0){l=!0;break}}}),{type:B2.Style,styles:o,easing:d,offset:n.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(n,r){let o=r.currentAnimateTimings,s=r.currentTime,l=r.currentTime;o&&l>0&&(l-=o.duration+o.delay),n.styles.forEach(d=>{typeof d!="string"&&d.forEach((h,p)=>{let g=r.collectedStyles.get(r.currentQuerySelector),y=g.get(p),v=!0;y&&(l!=s&&l>=y.startTime&&s<=y.endTime&&(r.errors.push(die(p,y.startTime,y.endTime,l,s)),v=!1),l=y.startTime),v&&g.set(p,{startTime:l,endTime:s}),r.options&&Bie(h,r.options,r.errors)})})}visitKeyframes(n,r){let o={type:B2.Keyframes,styles:[],options:null};if(!r.currentAnimateTimings)return r.errors.push(fie()),o;let s=1,l=0,d=[],h=!1,p=!1,g=0,y=n.steps.map(ga=>{let La=this._makeStyleAst(ga,r),jc=La.offset!=null?La.offset:Xie(La.styles),_l=0;return jc!=null&&(l++,_l=La.offset=jc),p=p||_l<0||_l>1,h=h||_l<g,g=_l,d.push(_l),La});p&&r.errors.push(hie()),h&&r.errors.push(pie());let v=n.steps.length,w=0;l>0&&l<v?r.errors.push(mie()):l==0&&(w=s/(v-1));let k=v-1,F=r.currentTime,q=r.currentAnimateTimings,_r=q.duration;return y.forEach((ga,La)=>{let jc=w>0?La==k?1:w*La:d[La],_l=jc*_r;r.currentTime=F+q.delay+_l,q.duration=_l,this._validateStyleAst(ga,r),ga.offset=jc,o.styles.push(ga)}),o}visitReference(n,r){return{type:B2.Reference,animation:D4(this,Uv(n.animation),r),options:b7(n.options)}}visitAnimateChild(n,r){return r.depCount++,{type:B2.AnimateChild,options:b7(n.options)}}visitAnimateRef(n,r){return{type:B2.AnimateRef,animation:this.visitReference(n.animation,r),options:b7(n.options)}}visitQuery(n,r){let o=r.currentQuerySelector,s=n.options||{};r.queryCount++,r.currentQuery=n;let[l,d]=Zie(n.selector);r.currentQuerySelector=o.length?o+" "+l:l,I4(r.collectedStyles,r.currentQuerySelector,new Map);let h=D4(this,Uv(n.animation),r);return r.currentQuery=null,r.currentQuerySelector=o,{type:B2.Query,selector:l,limit:s.limit||0,optional:!!s.optional,includeSelf:d,animation:h,originalSelector:n.selector,options:b7(n.options)}}visitStagger(n,r){r.currentQuery||r.errors.push(gie());let o=n.timings==="full"?{duration:0,delay:0,easing:"full"}:bC(n.timings,r.errors,!0);return{type:B2.Stagger,animation:D4(this,Uv(n.animation),r),timings:o,options:null}}};function Zie(e){let n=!!e.split(/\s*,\s*/).find(r=>r==kB);return n&&(e=e.replace(Yie,"")),e=e.replace(/@\*/g,_C).replace(/@\w+/g,r=>_C+"-"+r.slice(1)).replace(/:animating/g,uT),[e,n]}function Kie(e){return e?E1({},e):null}var pT=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(n){this.errors=n}};function Xie(e){if(typeof e=="string")return null;let n=null;if(Array.isArray(e))e.forEach(r=>{if(r instanceof Map&&r.has("offset")){let o=r;n=parseFloat(o.get("offset")),o.delete("offset")}});else if(e instanceof Map&&e.has("offset")){let r=e;n=parseFloat(r.get("offset")),r.delete("offset")}return n}function Qie(e,n){if(e.hasOwnProperty("duration"))return e;if(typeof e=="number"){let l=bC(e,n).duration;return rT(l,0,"")}let r=e;if(r.split(/\s+/).some(l=>l.charAt(0)=="{"&&l.charAt(1)=="{")){let l=rT(0,0,"");return l.dynamic=!0,l.strValue=r,l}let s=bC(r,n);return rT(s.duration,s.delay,s.easing)}function b7(e){return e?(e=E1({},e),e.params&&(e.params=Kie(e.params))):e={},e}function rT(e,n,r){return{duration:e,delay:n,easing:r}}function TT(e,n,r,o,s,l,d=null,h=!1){return{type:1,element:e,keyframes:n,preStyleProps:r,postStyleProps:o,duration:s,delay:l,totalTime:s+l,easing:d,subTimeline:h}}var $v=class{_map=new Map;get(n){return this._map.get(n)||[]}append(n,r){let o=this._map.get(n);o||this._map.set(n,o=[]),o.push(...r)}has(n){return this._map.has(n)}clear(){this._map.clear()}},Jie=1,ere=":enter",tre=new RegExp(ere,"g"),nre=":leave",ire=new RegExp(nre,"g");function DB(e,n,r,o,s,l=new Map,d=new Map,h,p,g=[]){return new mT().buildKeyframes(e,n,r,o,s,l,d,h,p,g)}var mT=class{buildKeyframes(n,r,o,s,l,d,h,p,g,y=[]){g=g||new $v;let v=new gT(n,r,g,s,l,y,[]);v.options=p;let w=p.delay?S8(p.delay):0;v.currentTimeline.delayNextStep(w),v.currentTimeline.setStyles([d],null,v.errors,p),D4(this,o,v);let k=v.timelines.filter(F=>F.containsAnimation());if(k.length&&h.size){let F;for(let q=k.length-1;q>=0;q--){let _r=k[q];if(_r.element===r){F=_r;break}}F&&!F.allowOnlyTimelineStyles()&&F.setStyles([h],null,v.errors,p)}return k.length?k.map(F=>F.buildKeyframes()):[TT(r,[],[],[],0,w,"",!1)]}visitTrigger(n,r){}visitState(n,r){}visitTransition(n,r){}visitAnimateChild(n,r){let o=r.subInstructions.get(r.element);if(o){let s=r.createSubContext(n.options),l=r.currentTimeline.currentTime,d=this._visitSubInstructions(o,s,s.options);l!=d&&r.transformIntoNewTimeline(d)}r.previousNode=n}visitAnimateRef(n,r){let o=r.createSubContext(n.options);o.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],r,o),this.visitReference(n.animation,o),r.transformIntoNewTimeline(o.currentTimeline.currentTime),r.previousNode=n}_applyAnimationRefDelays(n,r,o){for(let s of n){let l=s?.delay;if(l){let d=typeof l=="number"?l:S8(Gv(l,s?.params??{},r.errors));o.delayNextStep(d)}}}_visitSubInstructions(n,r,o){let l=r.currentTimeline.currentTime,d=o.duration!=null?S8(o.duration):null,h=o.delay!=null?S8(o.delay):null;return d!==0&&n.forEach(p=>{let g=r.appendInstructionToTimeline(p,d,h);l=Math.max(l,g.duration+g.delay)}),l}visitReference(n,r){r.updateOptions(n.options,!0),D4(this,n.animation,r),r.previousNode=n}visitSequence(n,r){let o=r.subContextCount,s=r,l=n.options;if(l&&(l.params||l.delay)&&(s=r.createSubContext(l),s.transformIntoNewTimeline(),l.delay!=null)){s.previousNode.type==B2.Style&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=CC);let d=S8(l.delay);s.delayNextStep(d)}n.steps.length&&(n.steps.forEach(d=>D4(this,d,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>o&&s.transformIntoNewTimeline()),r.previousNode=n}visitGroup(n,r){let o=[],s=r.currentTimeline.currentTime,l=n.options&&n.options.delay?S8(n.options.delay):0;n.steps.forEach(d=>{let h=r.createSubContext(n.options);l&&h.delayNextStep(l),D4(this,d,h),s=Math.max(s,h.currentTimeline.currentTime),o.push(h.currentTimeline)}),o.forEach(d=>r.currentTimeline.mergeTimelineCollectedStyles(d)),r.transformIntoNewTimeline(s),r.previousNode=n}_visitTiming(n,r){if(n.dynamic){let o=n.strValue,s=r.params?Gv(o,r.params,r.errors):o;return bC(s,r.errors)}else return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,r){let o=r.currentAnimateTimings=this._visitTiming(n.timings,r),s=r.currentTimeline;o.delay&&(r.incrementTime(o.delay),s.snapshotCurrentStyles());let l=n.style;l.type==B2.Keyframes?this.visitKeyframes(l,r):(r.incrementTime(o.duration),this.visitStyle(l,r),s.applyStylesToKeyframe()),r.currentAnimateTimings=null,r.previousNode=n}visitStyle(n,r){let o=r.currentTimeline,s=r.currentAnimateTimings;!s&&o.hasCurrentStyleProperties()&&o.forwardFrame();let l=s&&s.easing||n.easing;n.isEmptyStep?o.applyEmptyStep(l):o.setStyles(n.styles,l,r.errors,r.options),r.previousNode=n}visitKeyframes(n,r){let o=r.currentAnimateTimings,s=r.currentTimeline.duration,l=o.duration,h=r.createSubContext().currentTimeline;h.easing=o.easing,n.styles.forEach(p=>{let g=p.offset||0;h.forwardTime(g*l),h.setStyles(p.styles,p.easing,r.errors,r.options),h.applyStylesToKeyframe()}),r.currentTimeline.mergeTimelineCollectedStyles(h),r.transformIntoNewTimeline(s+l),r.previousNode=n}visitQuery(n,r){let o=r.currentTimeline.currentTime,s=n.options||{},l=s.delay?S8(s.delay):0;l&&(r.previousNode.type===B2.Style||o==0&&r.currentTimeline.hasCurrentStyleProperties())&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=CC);let d=o,h=r.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!s.optional,r.errors);r.currentQueryTotal=h.length;let p=null;h.forEach((g,y)=>{r.currentQueryIndex=y;let v=r.createSubContext(n.options,g);l&&v.delayNextStep(l),g===r.element&&(p=v.currentTimeline),D4(this,n.animation,v),v.currentTimeline.applyStylesToKeyframe();let w=v.currentTimeline.currentTime;d=Math.max(d,w)}),r.currentQueryIndex=0,r.currentQueryTotal=0,r.transformIntoNewTimeline(d),p&&(r.currentTimeline.mergeTimelineCollectedStyles(p),r.currentTimeline.snapshotCurrentStyles()),r.previousNode=n}visitStagger(n,r){let o=r.parentContext,s=r.currentTimeline,l=n.timings,d=Math.abs(l.duration),h=d*(r.currentQueryTotal-1),p=d*r.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":p=h-p;break;case"full":p=o.currentStaggerTime;break}let y=r.currentTimeline;p&&y.delayNextStep(p);let v=y.currentTime;D4(this,n.animation,r),r.previousNode=n,o.currentStaggerTime=s.currentTime-v+(s.startTime-o.currentTimeline.startTime)}},CC={},gT=class e{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=CC;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(n,r,o,s,l,d,h,p){this._driver=n,this.element=r,this.subInstructions=o,this._enterClassName=s,this._leaveClassName=l,this.errors=d,this.timelines=h,this.currentTimeline=p||new MC(this._driver,r,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,r){if(!n)return;let o=n,s=this.options;o.duration!=null&&(s.duration=S8(o.duration)),o.delay!=null&&(s.delay=S8(o.delay));let l=o.params;if(l){let d=s.params;d||(d=this.options.params={}),Object.keys(l).forEach(h=>{(!r||!d.hasOwnProperty(h))&&(d[h]=Gv(l[h],d,this.errors))})}}_copyOptions(){let n={};if(this.options){let r=this.options.params;if(r){let o=n.params={};Object.keys(r).forEach(s=>{o[s]=r[s]})}}return n}createSubContext(n=null,r,o){let s=r||this.element,l=new e(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,o||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(n),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(n){return this.previousNode=CC,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,r,o){let s={duration:r??n.duration,delay:this.currentTimeline.currentTime+(o??0)+n.delay,easing:""},l=new yT(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,s,n.stretchStartingKeyframe);return this.timelines.push(l),s}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,r,o,s,l,d){let h=[];if(s&&h.push(this.element),n.length>0){n=n.replace(tre,"."+this._enterClassName),n=n.replace(ire,"."+this._leaveClassName);let p=o!=1,g=this._driver.query(this.element,n,p);o!==0&&(g=o<0?g.slice(g.length+o,g.length):g.slice(0,o)),h.push(...g)}return!l&&h.length==0&&d.push(yie(r)),h}},MC=class e{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(n,r,o,s){this._driver=n,this.element=r,this.startTime=o,this._elementTimelineStylesLookup=s,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(r),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(r,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){let r=this._keyframes.size===1&&this._pendingStyles.size;this.duration||r?(this.forwardTime(this.currentTime+n),r&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,r){return this.applyStylesToKeyframe(),new e(this._driver,n,r||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Jie,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,r){this._localTimelineStyles.set(n,r),this._globalTimelineStyles.set(n,r),this._styleSummary.set(n,{time:this.currentTime,value:r})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[r,o]of this._globalTimelineStyles)this._backFill.set(r,o||G6),this._currentKeyframe.set(r,G6);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,r,o,s){r&&this._previousKeyframe.set("easing",r);let l=s&&s.params||{},d=rre(n,this._globalTimelineStyles);for(let[h,p]of d){let g=Gv(p,l,o);this._pendingStyles.set(h,g),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??G6),this._updateStyle(h,g)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((n,r)=>{this._currentKeyframe.set(r,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,r)=>{this._currentKeyframe.has(r)||this._currentKeyframe.set(r,n)}))}snapshotCurrentStyles(){for(let[n,r]of this._localTimelineStyles)this._pendingStyles.set(n,r),this._updateStyle(n,r)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let n=[];for(let r in this._currentKeyframe)n.push(r);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((r,o)=>{let s=this._styleSummary.get(o);(!s||r.time>s.time)&&this._updateStyle(o,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();let n=new Set,r=new Set,o=this._keyframes.size===1&&this.duration===0,s=[];this._keyframes.forEach((h,p)=>{let g=new Map([...this._backFill,...h]);g.forEach((y,v)=>{y===hC?n.add(v):y===G6&&r.add(v)}),o||g.set("offset",p/this.duration),s.push(g)});let l=[...n.values()],d=[...r.values()];if(o){let h=s[0],p=new Map(h);h.set("offset",0),p.set("offset",1),s=[h,p]}return TT(this.element,s,l,d,this.duration,this.startTime,this.easing,!1)}},yT=class extends MC{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(n,r,o,s,l,d,h=!1){super(n,r,d.delay),this.keyframes=o,this.preStyleProps=s,this.postStyleProps=l,this._stretchStartingKeyframe=h,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:r,duration:o,easing:s}=this.timings;if(this._stretchStartingKeyframe&&r){let l=[],d=o+r,h=r/d,p=new Map(n[0]);p.set("offset",0),l.push(p);let g=new Map(n[0]);g.set("offset",mB(h)),l.push(g);let y=n.length-1;for(let v=1;v<=y;v++){let w=new Map(n[v]),k=w.get("offset"),F=r+k*o;w.set("offset",mB(F/d)),l.push(w)}o=d,r=0,s="",n=l}return TT(this.element,n,this.preStyleProps,this.postStyleProps,o,r,s,!0)}};function mB(e,n=3){let r=Math.pow(10,n-1);return Math.round(e*r)/r}function rre(e,n){let r=new Map,o;return e.forEach(s=>{if(s==="*"){o??=n.keys();for(let l of o)r.set(l,G6)}else for(let[l,d]of s)r.set(l,d)}),r}function gB(e,n,r,o,s,l,d,h,p,g,y,v,w){return{type:0,element:e,triggerName:n,isRemovalTransition:s,fromState:r,fromStyles:l,toState:o,toStyles:d,timelines:h,queriedElements:p,preStyleProps:g,postStyleProps:y,totalTime:v,errors:w}}var oT={},EC=class{_triggerName;ast;_stateStyles;constructor(n,r,o){this._triggerName=n,this.ast=r,this._stateStyles=o}match(n,r,o,s){return ore(this.ast.matchers,n,r,o,s)}buildStyles(n,r,o){let s=this._stateStyles.get("*");return n!==void 0&&(s=this._stateStyles.get(n?.toString())||s),s?s.buildStyles(r,o):new Map}build(n,r,o,s,l,d,h,p,g,y){let v=[],w=this.ast.options&&this.ast.options.params||oT,k=h&&h.params||oT,F=this.buildStyles(o,k,v),q=p&&p.params||oT,_r=this.buildStyles(s,q,v),ga=new Set,La=new Map,jc=new Map,_l=s==="void",e1={params:IB(q,w),delay:this.ast.options?.delay},n1=y?[]:DB(n,r,this.ast.animation,l,d,F,_r,e1,g,v),d1=0;return n1.forEach(c1=>{d1=Math.max(c1.duration+c1.delay,d1)}),v.length?gB(r,this._triggerName,o,s,_l,F,_r,[],[],La,jc,d1,v):(n1.forEach(c1=>{let h1=c1.element,N1=I4(La,h1,new Set);c1.preStyleProps.forEach(R1=>N1.add(R1));let k1=I4(jc,h1,new Set);c1.postStyleProps.forEach(R1=>k1.add(R1)),h1!==r&&ga.add(h1)}),gB(r,this._triggerName,o,s,_l,F,_r,n1,[...ga.values()],La,jc,d1))}};function ore(e,n,r,o,s){return e.some(l=>l(n,r,o,s))}function IB(e,n){let r=E1({},n);return Object.entries(e).forEach(([o,s])=>{s!=null&&(r[o]=s)}),r}var vT=class{styles;defaultParams;normalizer;constructor(n,r,o){this.styles=n,this.defaultParams=r,this.normalizer=o}buildStyles(n,r){let o=new Map,s=IB(n,this.defaultParams);return this.styles.styles.forEach(l=>{typeof l!="string"&&l.forEach((d,h)=>{d&&(d=Gv(d,s,r));let p=this.normalizer.normalizePropertyName(h,r);d=this.normalizer.normalizeStyleValue(h,p,d,r),o.set(h,d)})}),o}};function sre(e,n,r){return new _T(e,n,r)}var _T=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(n,r,o){this.name=n,this.ast=r,this._normalizer=o,r.states.forEach(s=>{let l=s.options&&s.options.params||{};this.states.set(s.name,new vT(s.style,l,o))}),yB(this.states,"true","1"),yB(this.states,"false","0"),r.transitions.forEach(s=>{this.transitionFactories.push(new EC(n,s,this.states))}),this.fallbackTransition=are(n,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,r,o,s){return this.transitionFactories.find(d=>d.match(n,r,o,s))||null}matchStyles(n,r,o){return this.fallbackTransition.buildStyles(n,r,o)}};function are(e,n,r){let o=[(d,h)=>!0],s={type:B2.Sequence,steps:[],options:null},l={type:B2.Transition,animation:s,matchers:o,options:null,queryCount:0,depCount:0};return new EC(e,l,n)}function yB(e,n,r){e.has(n)?e.has(r)||e.set(r,e.get(n)):e.has(r)&&e.set(n,e.get(r))}var cre=new $v,bT=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(n,r,o){this.bodyNode=n,this._driver=r,this._normalizer=o}register(n,r){let o=[],s=[],l=TB(this._driver,r,o,s);if(o.length)throw wie(o);s.length&&void 0,this._animations.set(n,l)}_buildPlayer(n,r,o){let s=n.element,l=CB(this._normalizer,n.keyframes,r,o);return this._driver.animate(s,l,n.duration,n.delay,n.easing,[],!0)}create(n,r,o={}){let s=[],l=this._animations.get(n),d,h=new Map;if(l?(d=DB(this._driver,r,l,LB,lT,new Map,new Map,o,cre,s),d.forEach(y=>{let v=I4(h,y.element,new Map);y.postStyleProps.forEach(w=>v.set(w,null))})):(s.push(Cie()),d=[]),s.length)throw Mie(s);h.forEach((y,v)=>{y.forEach((w,k)=>{y.set(k,this._driver.computeStyle(v,k,G6))})});let p=d.map(y=>{let v=h.get(y.element);return this._buildPlayer(y,new Map,v)}),g=m5(p);return this._playersById.set(n,g),g.onDestroy(()=>this.destroy(n)),this.players.push(g),g}destroy(n){let r=this._getPlayer(n);r.destroy(),this._playersById.delete(n);let o=this.players.indexOf(r);o>=0&&this.players.splice(o,1)}_getPlayer(n){let r=this._playersById.get(n);if(!r)throw Eie(n);return r}listen(n,r,o,s){let l=ET(r,"","","");return MT(this._getPlayer(n),o,l,s),()=>{}}command(n,r,o,s){if(o=="register"){this.register(n,s[0]);return}if(o=="create"){let d=s[0]||{};this.create(n,r,d);return}let l=this._getPlayer(n);switch(o){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(n);break}}},vB="ng-animate-queued",lre=".ng-animate-queued",sT="ng-animate-disabled",ure=".ng-animate-disabled",dre="ng-star-inserted",fre=".ng-star-inserted",hre=[],NB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},pre={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},_6="__ng_removed",qv=class{namespaceId;value;options;get params(){return this.options.params}constructor(n,r=""){this.namespaceId=r;let o=n&&n.hasOwnProperty("value"),s=o?n.value:n;if(this.value=gre(s),o){let l=n,{value:d}=l,h=fE(l,["value"]);this.options=h}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){let r=n.params;if(r){let o=this.options.params;Object.keys(r).forEach(s=>{o[s]==null&&(o[s]=r[s])})}}},Hv="void",aT=new qv(Hv),xT=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(n,r,o){this.id=n,this.hostElement=r,this._engine=o,this._hostClassName="ng-tns-"+n,Y4(r,this._hostClassName)}listen(n,r,o,s){if(!this._triggers.has(r))throw Sie(o,r);if(o==null||o.length==0)throw Lie(r);if(!yre(o))throw Aie(o,r);let l=I4(this._elementListeners,n,[]),d={name:r,phase:o,callback:s};l.push(d);let h=I4(this._engine.statesByElement,n,new Map);return h.has(r)||(Y4(n,pC),Y4(n,pC+"-"+r),h.set(r,aT)),()=>{this._engine.afterFlush(()=>{let p=l.indexOf(d);p>=0&&l.splice(p,1),this._triggers.has(r)||h.delete(r)})}}register(n,r){return this._triggers.has(n)?!1:(this._triggers.set(n,r),!0)}_getTrigger(n){let r=this._triggers.get(n);if(!r)throw kie(n);return r}trigger(n,r,o,s=!0){let l=this._getTrigger(r),d=new Wv(this.id,r,n),h=this._engine.statesByElement.get(n);h||(Y4(n,pC),Y4(n,pC+"-"+r),this._engine.statesByElement.set(n,h=new Map));let p=h.get(r),g=new qv(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&p&&g.absorbOptions(p.options),h.set(r,g),p||(p=aT),!(g.value===Hv)&&p.value===g.value){if(!bre(p.params,g.params)){let q=[],_r=l.matchStyles(p.value,p.params,q),ga=l.matchStyles(g.value,g.params,q);q.length?this._engine.reportError(q):this._engine.afterFlush(()=>{x7(n,_r),q6(n,ga)})}return}let w=I4(this._engine.playersByElement,n,[]);w.forEach(q=>{q.namespaceId==this.id&&q.triggerName==r&&q.queued&&q.destroy()});let k=l.matchTransition(p.value,g.value,n,g.params),F=!1;if(!k){if(!s)return;k=l.fallbackTransition,F=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:r,transition:k,fromState:p,toState:g,player:d,isFallbackTransition:F}),F||(Y4(n,vB),d.onStart(()=>{$y(n,vB)})),d.onDone(()=>{let q=this.players.indexOf(d);q>=0&&this.players.splice(q,1);let _r=this._engine.playersByElement.get(n);if(_r){let ga=_r.indexOf(d);ga>=0&&_r.splice(ga,1)}}),this.players.push(d),w.push(d),d}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(r=>r.delete(n)),this._elementListeners.forEach((r,o)=>{this._elementListeners.set(o,r.filter(s=>s.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);let r=this._engine.playersByElement.get(n);r&&(r.forEach(o=>o.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,r){let o=this._engine.driver.query(n,_C,!0);o.forEach(s=>{if(s[_6])return;let l=this._engine.fetchNamespacesByElement(s);l.size?l.forEach(d=>d.triggerLeaveAnimation(s,r,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(n,r,o,s){let l=this._engine.statesByElement.get(n),d=new Map;if(l){let h=[];if(l.forEach((p,g)=>{if(d.set(g,p.value),this._triggers.has(g)){let y=this.trigger(n,g,Hv,s);y&&h.push(y)}}),h.length)return this._engine.markElementAsRemoved(this.id,n,!0,r,d),o&&m5(h).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){let r=this._elementListeners.get(n),o=this._engine.statesByElement.get(n);if(r&&o){let s=new Set;r.forEach(l=>{let d=l.name;if(s.has(d))return;s.add(d);let p=this._triggers.get(d).fallbackTransition,g=o.get(d)||aT,y=new qv(Hv),v=new Wv(this.id,d,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:d,transition:p,fromState:g,toState:y,player:v,isFallbackTransition:!0})})}}removeNode(n,r){let o=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,r),this.triggerLeaveAnimation(n,r,!0))return;let s=!1;if(o.totalAnimations){let l=o.players.length?o.playersByQueriedElement.get(n):[];if(l&&l.length)s=!0;else{let d=n;for(;d=d.parentNode;)if(o.statesByElement.get(d)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(n),s)o.markElementAsRemoved(this.id,n,!1,r);else{let l=n[_6];(!l||l===NB)&&(o.afterFlush(()=>this.clearElementCache(n)),o.destroyInnerAnimations(n),o._onRemovalComplete(n,r))}}insertNode(n,r){Y4(n,this._hostClassName)}drainQueuedTransitions(n){let r=[];return this._queue.forEach(o=>{let s=o.player;if(s.destroyed)return;let l=o.element,d=this._elementListeners.get(l);d&&d.forEach(h=>{if(h.name==o.triggerName){let p=ET(l,o.triggerName,o.fromState.value,o.toState.value);p._data=n,MT(o.player,h.phase,p,h.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):r.push(o)}),this._queue=[],r.sort((o,s)=>{let l=o.transition.ast.depCount,d=s.transition.ast.depCount;return l==0||d==0?l-d:this._engine.driver.containsElement(o.element,s.element)?1:-1})}destroy(n){this.players.forEach(r=>r.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}},wT=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(n,r)=>{};_onRemovalComplete(n,r){this.onRemovalComplete(n,r)}constructor(n,r,o){this.bodyNode=n,this.driver=r,this._normalizer=o}get queuedPlayers(){let n=[];return this._namespaceList.forEach(r=>{r.players.forEach(o=>{o.queued&&n.push(o)})}),n}createNamespace(n,r){let o=new xT(n,r,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,r)?this._balanceNamespaceList(o,r):(this.newHostElements.set(r,o),this.collectEnterElement(r)),this._namespaceLookup[n]=o}_balanceNamespaceList(n,r){let o=this._namespaceList,s=this.namespacesByHostElement;if(o.length-1>=0){let d=!1,h=this.driver.getParentElement(r);for(;h;){let p=s.get(h);if(p){let g=o.indexOf(p);o.splice(g+1,0,n),d=!0;break}h=this.driver.getParentElement(h)}d||o.unshift(n)}else o.push(n);return s.set(r,n),n}register(n,r){let o=this._namespaceLookup[n];return o||(o=this.createNamespace(n,r)),o}registerTrigger(n,r,o){let s=this._namespaceLookup[n];s&&s.register(r,o)&&this.totalAnimations++}destroy(n,r){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let o=this._fetchNamespace(n);this.namespacesByHostElement.delete(o.hostElement);let s=this._namespaceList.indexOf(o);s>=0&&this._namespaceList.splice(s,1),o.destroy(r),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){let r=new Set,o=this.statesByElement.get(n);if(o){for(let s of o.values())if(s.namespaceId){let l=this._fetchNamespace(s.namespaceId);l&&r.add(l)}}return r}trigger(n,r,o,s){if(yC(r)){let l=this._fetchNamespace(n);if(l)return l.trigger(r,o,s),!0}return!1}insertNode(n,r,o,s){if(!yC(r))return;let l=r[_6];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;let d=this.collectedLeaveElements.indexOf(r);d>=0&&this.collectedLeaveElements.splice(d,1)}if(n){let d=this._fetchNamespace(n);d&&d.insertNode(r,o)}s&&this.collectEnterElement(r)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,r){r?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Y4(n,sT)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),$y(n,sT))}removeNode(n,r,o){if(yC(r)){let s=n?this._fetchNamespace(n):null;s?s.removeNode(r,o):this.markElementAsRemoved(n,r,!1,o);let l=this.namespacesByHostElement.get(r);l&&l.id!==n&&l.removeNode(r,o)}else this._onRemovalComplete(r,o)}markElementAsRemoved(n,r,o,s,l){this.collectedLeaveElements.push(r),r[_6]={namespaceId:n,setForRemoval:s,hasAnimation:o,removedBeforeQueried:!1,previousTriggersValues:l}}listen(n,r,o,s,l){return yC(r)?this._fetchNamespace(n).listen(r,o,s,l):()=>{}}_buildInstruction(n,r,o,s,l){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,o,s,n.fromState.options,n.toState.options,r,l)}destroyInnerAnimations(n){let r=this.driver.query(n,_C,!0);r.forEach(o=>this.destroyActiveAnimationsForElement(o)),this.playersByQueriedElement.size!=0&&(r=this.driver.query(n,uT,!0),r.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(n){let r=this.playersByElement.get(n);r&&r.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(n){let r=this.playersByQueriedElement.get(n);r&&r.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return m5(this.players).onDone(()=>n());n()})}processLeaveNode(n){let r=n[_6];if(r&&r.setForRemoval){if(n[_6]=NB,r.namespaceId){this.destroyInnerAnimations(n);let o=this._fetchNamespace(r.namespaceId);o&&o.clearElementCache(n)}this._onRemovalComplete(n,r.setForRemoval)}n.classList?.contains(sT)&&this.markElementAsDisabled(n,!1),this.driver.query(n,ure,!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(n=-1){let r=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,s)=>this._balanceNamespaceList(o,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++){let s=this.collectedEnterElements[o];Y4(s,dre)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let o=[];try{r=this._flushAnimations(o,n)}finally{for(let s=0;s<o.length;s++)o[s]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++){let s=this.collectedLeaveElements[o];this.processLeaveNode(s)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){let o=this._whenQuietFns;this._whenQuietFns=[],r.length?m5(r).onDone(()=>{o.forEach(s=>s())}):o.forEach(s=>s())}}reportError(n){throw Tie(n)}_flushAnimations(n,r){let o=new $v,s=[],l=new Map,d=[],h=new Map,p=new Map,g=new Map,y=new Set;this.disabledNodes.forEach(w1=>{y.add(w1);let B1=this.driver.query(w1,lre,!0);for(let A1=0;A1<B1.length;A1++)y.add(B1[A1])});let v=this.bodyNode,w=Array.from(this.statesByElement.keys()),k=xB(w,this.collectedEnterElements),F=new Map,q=0;k.forEach((w1,B1)=>{let A1=LB+q++;F.set(B1,A1),w1.forEach(H1=>Y4(H1,A1))});let _r=[],ga=new Set,La=new Set;for(let w1=0;w1<this.collectedLeaveElements.length;w1++){let B1=this.collectedLeaveElements[w1],A1=B1[_6];A1&&A1.setForRemoval&&(_r.push(B1),ga.add(B1),A1.hasAnimation?this.driver.query(B1,fre,!0).forEach(H1=>ga.add(H1)):La.add(B1))}let jc=new Map,_l=xB(w,Array.from(ga));_l.forEach((w1,B1)=>{let A1=lT+q++;jc.set(B1,A1),w1.forEach(H1=>Y4(H1,A1))}),n.push(()=>{k.forEach((w1,B1)=>{let A1=F.get(B1);w1.forEach(H1=>$y(H1,A1))}),_l.forEach((w1,B1)=>{let A1=jc.get(B1);w1.forEach(H1=>$y(H1,A1))}),_r.forEach(w1=>{this.processLeaveNode(w1)})});let e1=[],n1=[];for(let w1=this._namespaceList.length-1;w1>=0;w1--)this._namespaceList[w1].drainQueuedTransitions(r).forEach(A1=>{let H1=A1.player,L2=A1.element;if(e1.push(H1),this.collectedEnterElements.length){let p0=L2[_6];if(p0&&p0.setForMove){if(p0.previousTriggersValues&&p0.previousTriggersValues.has(A1.triggerName)){let $0=p0.previousTriggersValues.get(A1.triggerName),M2=this.statesByElement.get(A1.element);if(M2&&M2.has(A1.triggerName)){let J0=M2.get(A1.triggerName);J0.value=$0,M2.set(A1.triggerName,J0)}}H1.destroy();return}}let o0=!v||!this.driver.containsElement(v,L2),$2=jc.get(L2),b1=F.get(L2),X2=this._buildInstruction(A1,o,b1,$2,o0);if(X2.errors&&X2.errors.length){n1.push(X2);return}if(o0){H1.onStart(()=>x7(L2,X2.fromStyles)),H1.onDestroy(()=>q6(L2,X2.toStyles)),s.push(H1);return}if(A1.isFallbackTransition){H1.onStart(()=>x7(L2,X2.fromStyles)),H1.onDestroy(()=>q6(L2,X2.toStyles)),s.push(H1);return}let e3=[];X2.timelines.forEach(p0=>{p0.stretchStartingKeyframe=!0,this.disabledNodes.has(p0.element)||e3.push(p0)}),X2.timelines=e3,o.append(L2,X2.timelines);let d3={instruction:X2,player:H1,element:L2};d.push(d3),X2.queriedElements.forEach(p0=>I4(h,p0,[]).push(H1)),X2.preStyleProps.forEach((p0,$0)=>{if(p0.size){let M2=p.get($0);M2||p.set($0,M2=new Set),p0.forEach((J0,W3)=>M2.add(W3))}}),X2.postStyleProps.forEach((p0,$0)=>{let M2=g.get($0);M2||g.set($0,M2=new Set),p0.forEach((J0,W3)=>M2.add(W3))})});if(n1.length){let w1=[];n1.forEach(B1=>{w1.push(Die(B1.triggerName,B1.errors))}),e1.forEach(B1=>B1.destroy()),this.reportError(w1)}let d1=new Map,c1=new Map;d.forEach(w1=>{let B1=w1.element;o.has(B1)&&(c1.set(B1,B1),this._beforeAnimationBuild(w1.player.namespaceId,w1.instruction,d1))}),s.forEach(w1=>{let B1=w1.element;this._getPreviousPlayers(B1,!1,w1.namespaceId,w1.triggerName,null).forEach(H1=>{I4(d1,B1,[]).push(H1),H1.destroy()})});let h1=_r.filter(w1=>wB(w1,p,g)),N1=new Map;bB(N1,this.driver,La,g,G6).forEach(w1=>{wB(w1,p,g)&&h1.push(w1)});let R1=new Map;k.forEach((w1,B1)=>{bB(R1,this.driver,new Set(w1),p,hC)}),h1.forEach(w1=>{let B1=N1.get(w1),A1=R1.get(w1);N1.set(w1,new Map([...B1?.entries()??[],...A1?.entries()??[]]))});let U1=[],x1=[],m2={};d.forEach(w1=>{let{element:B1,player:A1,instruction:H1}=w1;if(o.has(B1)){if(y.has(B1)){A1.onDestroy(()=>q6(B1,H1.toStyles)),A1.disabled=!0,A1.overrideTotalTime(H1.totalTime),s.push(A1);return}let L2=m2;if(c1.size>1){let $2=B1,b1=[];for(;$2=$2.parentNode;){let X2=c1.get($2);if(X2){L2=X2;break}b1.push($2)}b1.forEach(X2=>c1.set(X2,L2))}let o0=this._buildAnimation(A1.namespaceId,H1,d1,l,R1,N1);if(A1.setRealPlayer(o0),L2===m2)U1.push(A1);else{let $2=this.playersByElement.get(L2);$2&&$2.length&&(A1.parentPlayer=m5($2)),s.push(A1)}}else x7(B1,H1.fromStyles),A1.onDestroy(()=>q6(B1,H1.toStyles)),x1.push(A1),y.has(B1)&&s.push(A1)}),x1.forEach(w1=>{let B1=l.get(w1.element);if(B1&&B1.length){let A1=m5(B1);w1.setRealPlayer(A1)}}),s.forEach(w1=>{w1.parentPlayer?w1.syncPlayerEvents(w1.parentPlayer):w1.destroy()});for(let w1=0;w1<_r.length;w1++){let B1=_r[w1],A1=B1[_6];if($y(B1,lT),A1&&A1.hasAnimation)continue;let H1=[];if(h.size){let o0=h.get(B1);o0&&o0.length&&H1.push(...o0);let $2=this.driver.query(B1,uT,!0);for(let b1=0;b1<$2.length;b1++){let X2=h.get($2[b1]);X2&&X2.length&&H1.push(...X2)}}let L2=H1.filter(o0=>!o0.destroyed);L2.length?vre(this,B1,L2):this.processLeaveNode(B1)}return _r.length=0,U1.forEach(w1=>{this.players.push(w1),w1.onDone(()=>{w1.destroy();let B1=this.players.indexOf(w1);this.players.splice(B1,1)}),w1.play()}),U1}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,r,o,s,l){let d=[];if(r){let h=this.playersByQueriedElement.get(n);h&&(d=h)}else{let h=this.playersByElement.get(n);if(h){let p=!l||l==Hv;h.forEach(g=>{g.queued||!p&&g.triggerName!=s||d.push(g)})}}return(o||s)&&(d=d.filter(h=>!(o&&o!=h.namespaceId||s&&s!=h.triggerName))),d}_beforeAnimationBuild(n,r,o){let s=r.triggerName,l=r.element,d=r.isRemovalTransition?void 0:n,h=r.isRemovalTransition?void 0:s;for(let p of r.timelines){let g=p.element,y=g!==l,v=I4(o,g,[]);this._getPreviousPlayers(g,y,d,h,r.toState).forEach(k=>{let F=k.getRealPlayer();F.beforeDestroy&&F.beforeDestroy(),k.destroy(),v.push(k)})}x7(l,r.fromStyles)}_buildAnimation(n,r,o,s,l,d){let h=r.triggerName,p=r.element,g=[],y=new Set,v=new Set,w=r.timelines.map(F=>{let q=F.element;y.add(q);let _r=q[_6];if(_r&&_r.removedBeforeQueried)return new h5(F.duration,F.delay);let ga=q!==p,La=_re((o.get(q)||hre).map(d1=>d1.getRealPlayer())).filter(d1=>{let c1=d1;return c1.element?c1.element===q:!1}),jc=l.get(q),_l=d.get(q),e1=CB(this._normalizer,F.keyframes,jc,_l),n1=this._buildPlayer(F,e1,La);if(F.subTimeline&&s&&v.add(q),ga){let d1=new Wv(n,h,q);d1.setRealPlayer(n1),g.push(d1)}return n1});g.forEach(F=>{I4(this.playersByQueriedElement,F.element,[]).push(F),F.onDone(()=>mre(this.playersByQueriedElement,F.element,F))}),y.forEach(F=>Y4(F,fB));let k=m5(w);return k.onDestroy(()=>{y.forEach(F=>$y(F,fB)),q6(p,r.toStyles)}),v.forEach(F=>{I4(s,F,[]).push(k)}),k}_buildPlayer(n,r,o){return r.length>0?this.driver.animate(n.element,r,n.duration,n.delay,n.easing,o):new h5(n.duration,n.delay)}},Wv=class{namespaceId;triggerName;element;_player=new h5;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(n,r,o){this.namespaceId=n,this.triggerName=r,this.element=o}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((r,o)=>{r.forEach(s=>MT(n,o,void 0,s))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){let r=this._player;r.triggerCallback&&n.onStart(()=>r.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,r){I4(this._queuedCallbacks,n,[]).push(r)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){let r=this._player;r.triggerCallback&&r.triggerCallback(n)}};function mre(e,n,r){let o=e.get(n);if(o){if(o.length){let s=o.indexOf(r);o.splice(s,1)}o.length==0&&e.delete(n)}return o}function gre(e){return e??null}function yC(e){return e&&e.nodeType===1}function yre(e){return e=="start"||e=="done"}function _B(e,n){let r=e.style.display;return e.style.display=n??"none",r}function bB(e,n,r,o,s){let l=[];r.forEach(p=>l.push(_B(p)));let d=[];o.forEach((p,g)=>{let y=new Map;p.forEach(v=>{let w=n.computeStyle(g,v,s);y.set(v,w),(!w||w.length==0)&&(g[_6]=pre,d.push(g))}),e.set(g,y)});let h=0;return r.forEach(p=>_B(p,l[h++])),d}function xB(e,n){let r=new Map;if(e.forEach(h=>r.set(h,[])),n.length==0)return r;let o=1,s=new Set(n),l=new Map;function d(h){if(!h)return o;let p=l.get(h);if(p)return p;let g=h.parentNode;return r.has(g)?p=g:s.has(g)?p=o:p=d(g),l.set(h,p),p}return n.forEach(h=>{let p=d(h);p!==o&&r.get(p).push(h)}),r}function Y4(e,n){e.classList?.add(n)}function $y(e,n){e.classList?.remove(n)}function vre(e,n,r){m5(r).onDone(()=>e.processLeaveNode(n))}function _re(e){let n=[];return OB(e,n),n}function OB(e,n){for(let r=0;r<e.length;r++){let o=e[r];o instanceof Vv?OB(o.players,n):n.push(o)}}function bre(e,n){let r=Object.keys(e),o=Object.keys(n);if(r.length!=o.length)return!1;for(let s=0;s<r.length;s++){let l=r[s];if(!n.hasOwnProperty(l)||e[l]!==n[l])return!1}return!0}function wB(e,n,r){let o=r.get(e);if(!o)return!1;let s=n.get(e);return s?o.forEach(l=>s.add(l)):n.set(e,o),r.delete(e),!0}var qy=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(n,r)=>{};constructor(n,r,o){this._driver=r,this._normalizer=o,this._transitionEngine=new wT(n.body,r,o),this._timelineEngine=new bT(n.body,r,o),this._transitionEngine.onRemovalComplete=(s,l)=>this.onRemovalComplete(s,l)}registerTrigger(n,r,o,s,l){let d=n+"-"+s,h=this._triggerCache[d];if(!h){let p=[],g=[],y=TB(this._driver,l,p,g);if(p.length)throw bie(s,p);g.length&&void 0,h=sre(s,y,this._normalizer),this._triggerCache[d]=h}this._transitionEngine.registerTrigger(r,s,h)}register(n,r){this._transitionEngine.register(n,r)}destroy(n,r){this._transitionEngine.destroy(n,r)}onInsert(n,r,o,s){this._transitionEngine.insertNode(n,r,o,s)}onRemove(n,r,o){this._transitionEngine.removeNode(n,r,o)}disableAnimations(n,r){this._transitionEngine.markElementAsDisabled(n,r)}process(n,r,o,s){if(o.charAt(0)=="@"){let[l,d]=uB(o),h=s;this._timelineEngine.command(l,r,d,h)}else this._transitionEngine.trigger(n,r,o,s)}listen(n,r,o,s,l){if(o.charAt(0)=="@"){let[d,h]=uB(o);return this._timelineEngine.listen(d,r,h,l)}return this._transitionEngine.listen(n,r,o,s,l)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}};function xre(e,n){let r=null,o=null;return Array.isArray(n)&&n.length?(r=cT(n[0]),n.length>1&&(o=cT(n[n.length-1]))):n instanceof Map&&(r=cT(n)),r||o?new wre(e,r,o):null}var wre=(()=>{class e{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(r,o,s){this._element=r,this._startStyles=o,this._endStyles=s;let l=e.initialStylesByElement.get(r);l||e.initialStylesByElement.set(r,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&q6(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(q6(this._element,this._initialStyles),this._endStyles&&(q6(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(x7(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(x7(this._element,this._endStyles),this._endStyles=null),q6(this._element,this._initialStyles),this._state=3)}}return e})();function cT(e){let n=null;return e.forEach((r,o)=>{Cre(o)&&(n=n||new Map,n.set(o,r))}),n}function Cre(e){return e==="display"||e==="position"}var SC=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(n,r,o,s){this.element=n,this.keyframes=r,this.options=o,this._specialStyles=s,this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map;let r=()=>this._onFinish();this.domPlayer.addEventListener("finish",r),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",r)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){let r=[];return n.forEach(o=>{r.push(Object.fromEntries(o))}),r}_triggerWebAnimation(n,r,o){return n.animate(this._convertKeyframesToObject(r),o)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((o,s)=>{s!=="offset"&&n.set(s,this._finished?o:kT(this.element,s))}),this.currentSnapshot=n}triggerCallback(n){let r=n==="start"?this._onStartFns:this._onDoneFns;r.forEach(o=>o()),r.length=0}},LC=class{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}containsElement(n,r){return MB(n,r)}getParentElement(n){return ST(n)}query(n,r,o){return EB(n,r,o)}computeStyle(n,r,o){return kT(n,r)}animate(n,r,o,s,l,d=[]){let h=s==0?"both":"forwards",p={duration:o,delay:s,fill:h};l&&(p.easing=l);let g=new Map,y=d.filter(k=>k instanceof SC);Uie(o,s)&&y.forEach(k=>{k.currentSnapshot.forEach((F,q)=>g.set(q,F))});let v=jie(r).map(k=>new Map(k));v=Hie(n,v,g);let w=xre(n,v);return new SC(n,v,p,w)}};var vC="@",zB="@.disabled",AC=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(n,r,o,s){this.namespaceId=n,this.delegate=r,this.engine=o,this._onDestroy=s}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,r){return this.delegate.createElement(n,r)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,r){this.delegate.appendChild(n,r),this.engine.onInsert(this.namespaceId,r,n,!1)}insertBefore(n,r,o,s=!0){this.delegate.insertBefore(n,r,o),this.engine.onInsert(this.namespaceId,r,n,s)}removeChild(n,r,o){this.parentNode(r)&&this.engine.onRemove(this.namespaceId,r,this.delegate)}selectRootElement(n,r){return this.delegate.selectRootElement(n,r)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,r,o,s){this.delegate.setAttribute(n,r,o,s)}removeAttribute(n,r,o){this.delegate.removeAttribute(n,r,o)}addClass(n,r){this.delegate.addClass(n,r)}removeClass(n,r){this.delegate.removeClass(n,r)}setStyle(n,r,o,s){this.delegate.setStyle(n,r,o,s)}removeStyle(n,r,o){this.delegate.removeStyle(n,r,o)}setProperty(n,r,o){r.charAt(0)==vC&&r==zB?this.disableAnimations(n,!!o):this.delegate.setProperty(n,r,o)}setValue(n,r){this.delegate.setValue(n,r)}listen(n,r,o){return this.delegate.listen(n,r,o)}disableAnimations(n,r){this.engine.disableAnimations(n,r)}},CT=class extends AC{factory;constructor(n,r,o,s,l){super(r,o,s,l),this.factory=n,this.namespaceId=r}setProperty(n,r,o){r.charAt(0)==vC?r.charAt(1)=="."&&r==zB?(o=o===void 0?!0:!!o,this.disableAnimations(n,o)):this.engine.process(this.namespaceId,n,r.slice(1),o):this.delegate.setProperty(n,r,o)}listen(n,r,o){if(r.charAt(0)==vC){let s=Mre(n),l=r.slice(1),d="";return l.charAt(0)!=vC&&([l,d]=Ere(l)),this.engine.listen(this.namespaceId,s,l,d,h=>{let p=h._data||-1;this.factory.scheduleListenerCallback(p,o,h)})}return this.delegate.listen(n,r,o)}};function Mre(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}function Ere(e){let n=e.indexOf("."),r=e.substring(0,n),o=e.slice(n+1);return[r,o]}var kC=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(n,r,o){this.delegate=n,this.engine=r,this._zone=o,r.onRemovalComplete=(s,l)=>{l?.removeChild(null,s)}}createRenderer(n,r){let o="",s=this.delegate.createRenderer(n,r);if(!n||!r?.data?.animation){let g=this._rendererCache,y=g.get(s);if(!y){let v=()=>g.delete(s);y=new AC(o,s,this.engine,v),g.set(s,y)}return y}let l=r.id,d=r.id+"-"+this._currentId;this._currentId++,this.engine.register(d,n);let h=g=>{Array.isArray(g)?g.forEach(h):this.engine.registerTrigger(l,d,n,g.name,g)};return r.data.animation.forEach(h),new CT(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,r,o){if(n>=0&&n<this._microtaskId){this._zone.run(()=>r(o));return}let s=this._animationCallbacksBuffer;s.length==0&&queueMicrotask(()=>{this._zone.run(()=>{s.forEach(l=>{let[d,h]=l;d(h)}),this._animationCallbacksBuffer=[]})}),s.push([r,o])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var Lre=(()=>{class e extends qy{constructor(r,o,s){super(r,o,s)}ngOnDestroy(){this.flush()}static \u0275fac=function(o){return new(o||e)(K1(T2),K1(w7),K1(C7))};static \u0275prov=C1({token:e,factory:e.\u0275fac})}return e})();function Are(){return new xC}function kre(e,n,r){return new kC(e,n,r)}var RB=[{provide:C7,useFactory:Are},{provide:qy,useClass:Lre},{provide:r5,useFactory:kre,deps:[Zw,qy,c2]}],Tre=[{provide:w7,useFactory:()=>new LC},{provide:r4,useValue:"BrowserAnimations"},...RB],P6e=[{provide:w7,useClass:LT},{provide:r4,useValue:"NoopAnimations"},...RB];function PB(){return L4("NgEagerAnimations"),[...Tre]}var FB={providers:[PB(),RP({eventCoalescing:!0}),rB(oB)]};var jB={prefix:"fas",iconName:"circle",icon:[512,512,[128308,128309,128992,128993,128994,128995,128996,9679,9898,9899,11044,61708,61915],"f111","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z"]};(function(){var m,ba=[];function ca(e){return function(){return ba[e].apply(this,arguments)}}function da(e,n){return ba[e]=n}function ea(e){var n=0;return function(){return n<e.length?{done:!1,value:e[n++]}:{done:!0}}}function fa(e){var n=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];return n?n.call(e):{next:ea(e)}}function ha(e){for(var n,r=[];!(n=e.next()).done;)r.push(n.value);return r}function ia(e){e=[typeof globalThis=="object"&&globalThis,e,typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global];for(var n=0;n<e.length;++n){var r=e[n];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}var ja=ia(this),ka=typeof Object.defineProperties=="function"?Object.defineProperty:function(e,n,r){return e==Array.prototype||e==Object.prototype||(e[n]=r.value),e};function la(e,n){if(n)e:{var r=ja;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in r))break e;r=r[s]}e=e[e.length-1],o=r[e],n=n(o),n!=o&&n!=null&&ka(r,e,{configurable:!0,writable:!0,value:n})}}la("Symbol",function(e){function n(l){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return new r(o+(l||"")+"_"+s++,l)}function r(l,d){this.Sx=l,ka(this,"description",{configurable:!0,writable:!0,value:d})}if(e)return e;r.prototype.toString=function(){return this.Sx};var o="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",s=0;return n}),la("Symbol.iterator",function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var n="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),r=0;r<n.length;r++){var o=ja[n[r]];typeof o=="function"&&typeof o.prototype[e]!="function"&&ka(o.prototype,e,{configurable:!0,writable:!0,value:function(){return ma(ea(this))}})}return e});function ma(e){return e={next:e},e[Symbol.iterator]=function(){return this},e}la("globalThis",function(e){return e||ja});function na(e,n){e instanceof String&&(e+="");var r=0,o=!1,s={next:function(){if(!o&&r<e.length){var l=r++;return{value:n(l,e[l]),done:!1}}return o=!0,{done:!0,value:void 0}}};return s[Symbol.iterator]=function(){return s},s}la("Array.prototype.keys",function(e){return e||function(){return na(this,function(n){return n})}});function oa(e,n,r){e instanceof String&&(e=String(e));for(var o=e.length,s=0;s<o;s++){var l=e[s];if(n.call(r,l,s,e))return{Hu:s,Ix:l}}return{Hu:-1,Ix:void 0}}la("Array.prototype.find",function(e){return e||function(n,r){return oa(this,n,r).Ix}});var pa;if(typeof Object.setPrototypeOf=="function")pa=Object.setPrototypeOf;else{var qa;e:{var ra={a:!0},sa={};try{sa.__proto__=ra,qa=sa.a;break e}catch{}qa=!1}pa=qa?function(e,n){if(e.__proto__=n,e.__proto__!==n)throw new TypeError(e+" is not extensible");return e}:null}var ta=pa;la("Object.setPrototypeOf",function(e){return e||ta}),la("Array.prototype.entries",function(e){return e||function(){return na(this,function(n,r){return[n,r]})}}),la("Promise",function(e){function n(d){this.s=0,this.rf=void 0,this.Uh=[],this.Yu=!1;var h=this.ap();try{d(h.resolve,h.reject)}catch(p){h.reject(p)}}function r(){this.Ie=null}function o(d){return d instanceof n?d:new n(function(h){h(d)})}if(e)return e;r.prototype.ft=function(d){if(this.Ie==null){this.Ie=[];var h=this;this.gt(function(){h.cz()})}this.Ie.push(d)};var s=ja.setTimeout;r.prototype.gt=function(d){s(d,0)},r.prototype.cz=function(){for(;this.Ie&&this.Ie.length;){var d=this.Ie;this.Ie=[];for(var h=0;h<d.length;++h){var p=d[h];d[h]=null;try{p()}catch(g){this.py(g)}}}this.Ie=null},r.prototype.py=function(d){this.gt(function(){throw d})},n.prototype.ap=function(){function d(g){return function(y){p||(p=!0,g.call(h,y))}}var h=this,p=!1;return{resolve:d(this.SC),reject:d(this.zr)}},n.prototype.SC=function(d){if(d===this)this.zr(new TypeError("A Promise cannot resolve to itself"));else if(d instanceof n)this.hD(d);else{e:switch(typeof d){case"object":var h=d!=null;break e;case"function":h=!0;break e;default:h=!1}h?this.RC(d):this.au(d)}},n.prototype.RC=function(d){var h=void 0;try{h=d.then}catch(p){this.zr(p);return}typeof h=="function"?this.iD(h,d):this.au(d)},n.prototype.zr=function(d){this.bx(2,d)},n.prototype.au=function(d){this.bx(1,d)},n.prototype.bx=function(d,h){if(this.s!=0)throw Error("Cannot settle("+d+", "+h+"): Promise already settled in state"+this.s);this.s=d,this.rf=h,this.s===2&&this.VC(),this.ez()},n.prototype.VC=function(){var d=this;s(function(){if(d.QB()){var h=ja.console;typeof h<"u"&&h.error(d.rf)}},1)},n.prototype.QB=function(){if(this.Yu)return!1;var d=ja.CustomEvent,h=ja.Event,p=ja.dispatchEvent;return typeof p>"u"?!0:(typeof d=="function"?d=new d("unhandledrejection",{cancelable:!0}):typeof h=="function"?d=new h("unhandledrejection",{cancelable:!0}):(d=ja.document.createEvent("CustomEvent"),d.initCustomEvent("unhandledrejection",!1,!0,d)),d.promise=this,d.reason=this.rf,p(d))},n.prototype.ez=function(){if(this.Uh!=null){for(var d=0;d<this.Uh.length;++d)l.ft(this.Uh[d]);this.Uh=null}};var l=new r;return n.prototype.hD=function(d){var h=this.ap();d.Jl(h.resolve,h.reject)},n.prototype.iD=function(d,h){var p=this.ap();try{d.call(h,p.resolve,p.reject)}catch(g){p.reject(g)}},n.prototype.then=function(d,h){function p(w,k){return typeof w=="function"?function(F){try{g(w(F))}catch(q){y(q)}}:k}var g,y,v=new n(function(w,k){g=w,y=k});return this.Jl(p(d,g),p(h,y)),v},n.prototype.catch=function(d){return this.then(void 0,d)},n.prototype.Jl=function(d,h){function p(){switch(g.s){case 1:d(g.rf);break;case 2:h(g.rf);break;default:throw Error("Unexpected state: "+g.s)}}var g=this;this.Uh==null?l.ft(p):this.Uh.push(p),this.Yu=!0},n.resolve=o,n.reject=function(d){return new n(function(h,p){p(d)})},n.race=function(d){return new n(function(h,p){for(var g=fa(d),y=g.next();!y.done;y=g.next())o(y.value).Jl(h,p)})},n.all=function(d){var h=fa(d),p=h.next();return p.done?o([]):new n(function(g,y){function v(F){return function(q){w[F]=q,k--,k==0&&g(w)}}var w=[],k=0;do w.push(void 0),k++,o(p.value).Jl(v(w.length-1),y),p=h.next();while(!p.done)})},n}),la("Object.values",function(e){return e||function(n){var r=[],o;for(o in n)Object.prototype.hasOwnProperty.call(n,o)&&r.push(n[o]);return r}}),la("Object.is",function(e){return e||function(n,r){return n===r?n!==0||1/n===1/r:n!==n&&r!==r}}),la("Array.prototype.includes",function(e){return e||function(n,r){var o=this;o instanceof String&&(o=String(o));var s=o.length;for(r=r||0,0>r&&(r=Math.max(r+s,0));r<s;r++){var l=o[r];if(l===n||Object.is(l,n))return!0}return!1}}),la("String.prototype.includes",function(e){return e||function(n,r){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(n instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return(this+"").indexOf(n,r||0)!==-1}}),la("Object.entries",function(e){return e||function(n){var r=[],o;for(o in n)Object.prototype.hasOwnProperty.call(n,o)&&r.push([o,n[o]]);return r}});var ua=typeof Object.assign=="function"?Object.assign:function(e,n){for(var r=1;r<arguments.length;r++){var o=arguments[r];if(o)for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])}return e};la("Object.assign",function(e){return e||ua}),la("Array.prototype.fill",function(e){return e||function(n,r,o){var s=this.length||0;for(0>r&&(r=Math.max(0,s+r)),(o==null||o>s)&&(o=s),o=Number(o),0>o&&(o=Math.max(0,s+o)),r=Number(r||0);r<o;r++)this[r]=n;return this}});function va(e){return e||Array.prototype.fill}la("Int8Array.prototype.fill",va),la("Uint8Array.prototype.fill",va),la("Uint8ClampedArray.prototype.fill",va),la("Int16Array.prototype.fill",va),la("Uint16Array.prototype.fill",va),la("Int32Array.prototype.fill",va),la("Uint32Array.prototype.fill",va),la("Float32Array.prototype.fill",va),la("Float64Array.prototype.fill",va),la("Math.log2",function(e){return e||function(n){return Math.log(n)/Math.LN2}}),la("Array.prototype.findIndex",function(e){return e||function(n,r){return oa(this,n,r).Hu}});var wa=this||self;function xa(e,n,r,o){e=e.split("."),o=o||wa,e[0]in o||typeof o.execScript>"u"||o.execScript("var "+e[0]);for(var s;e.length&&(s=e.shift());)if(e.length||n===void 0)o=o[s]&&o[s]!==Object.prototype[s]?o[s]:o[s]={};else if(!r&&ya(n)&&ya(o[s]))for(var l in n)n.hasOwnProperty(l)&&(o[s][l]=n[l]);else o[s]=n}function za(){}function Aa(e){var n=typeof e;return n!="object"?n:e?Array.isArray(e)?"array":n:"null"}function Ca(e){var n=Aa(e);return n=="array"||n=="object"&&typeof e.length=="number"}function ya(e){var n=typeof e;return n=="object"&&e!=null||n=="function"}function Da(e){return Object.prototype.hasOwnProperty.call(e,Ea)&&e[Ea]||(e[Ea]=++Fa)}var Ea="closure_uid_"+(1e9*Math.random()>>>0),Fa=0;function Ga(e,n,r){return e.call.apply(e.bind,arguments)}function Ha(e,n,r){if(!e)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,o),e.apply(n,s)}}return function(){return e.apply(n,arguments)}}function Ia(e,n,r){return Ia=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ga:Ha,Ia.apply(null,arguments)}function Ja(e,n){var r=Array.prototype.slice.call(arguments,1);return function(){var o=r.slice();return o.push.apply(o,arguments),e.apply(this,o)}}function t(e,n){xa(e,n,!0,void 0)}function u(e,n){function r(){}r.prototype=n.prototype,e.g=n.prototype,e.prototype=new r,e.prototype.constructor=e,e.WD=function(o,s,l){for(var d=Array(arguments.length-2),h=2;h<arguments.length;h++)d[h-2]=arguments[h];return n.prototype[s].apply(o,d)}}var Ka,Ma,Na;function Oa(){}t("H.util.ICharStream",Oa),Oa.prototype.next=function(){},Oa.prototype.yi=function(){},Oa.prototype.mh=function(){},Oa.prototype.eb=function(){};function Qa(e){this.Lu=String(e),this.kw=0,this.Ec=[],this.Yf=!1}t("H.util.CharStream",Qa),Qa.prototype.next=function(){var e=this.Lu.charCodeAt(this.kw++);return e=isNaN(e)?-1:e,this.Yf&&this.Ec.push(e),e},Qa.prototype.yi=function(){this.Yf=!0,this.Ec=[]},Qa.prototype.mh=function(){var e=this.Ec.slice();return this.Yf=!1,this.Ec=[],e},Qa.prototype.eb=function(){var e=this.Lu.charCodeAt(this.kw+0);return isNaN(e)?-1:e};function Ra(e,n){for(var r in e)if(n.call(void 0,e[r],r,e))return!0;return!1}function Sa(e){for(var n in e)return!1;return!0}function Ta(e){var n={},r;for(r in e)n[r]=e[r];return n}var Va="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Wa(e,n){for(var r,o,s=1;s<arguments.length;s++){o=arguments[s];for(r in o)e[r]=o[r];for(var l=0;l<Va.length;l++)r=Va[l],Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}}function Xa(e,n){if(Error.captureStackTrace)Error.captureStackTrace(this,Xa);else{var r=Error().stack;r&&(this.stack=r)}e&&(this.message=String(e)),n&&(this.YD=n)}u(Xa,Error),Xa.prototype.name="CustomError";var Ya=Array.prototype.indexOf?function(e,n){return Array.prototype.indexOf.call(e,n,void 0)}:function(e,n){if(typeof e=="string")return typeof n!="string"||n.length!=1?-1:e.indexOf(n,0);for(var r=0;r<e.length;r++)if(r in e&&e[r]===n)return r;return-1};function Za(){return Object.create(x,void 0)}var z=Ia,$a=String,ab=globalThis.Object.freeze||function(e){return e};function bb(e){for(var n=Object.keys(e),r=n.length,o;r--;)o=e[n[r]],ya(o)&&bb(o);return ab(e)}function cb(e){var n=Aa(e);if(n=="object"||n=="array"){if(db(e.clone))return e.clone();n=n=="array"?[]:{};for(var r in e)e.hasOwnProperty(r)&&(n[r]=cb(e[r]));return n}return e}var A=[].pop(),x=/x/.exec(""),eb="prototype constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(e,n,r,o,s){if(!(n=e instanceof n)&&r)throw new C(r,o,fb(s)?s:e);return n}function gb(e,n){if((B(e,n)&&e.constructor===n)===!0)throw new TypeError("Illegal constructor "+hb(n))}function db(e){return Aa(e)=="function"}function ib(e,n,r,o,s){if(!(n=jb(e)===n)&&r)throw new C(r,o,fb(s)?s:e);return n}function kb(e,n,r,o){return ib(e,"Array",n,r,o)}t("H.lang.isArray",kb);function fb(e){return e!==A}function lb(e){return typeof e=="string"}t("H.lang.isString",lb);var mb=parseInt,nb=parseFloat,D=isNaN;function ob(e){return e===+e}t("H.lang.isNumber",ob),t("H.lang.isInteger",Number.isInteger?Number.isInteger:function(e){return typeof e=="number"&&e%1===0});function pb(e){return!D(+e)}function jb(e){var n=Object[eb[0]][eb[6]].call(e).match(/^\[object (\w+)\]$/);return n?n[1]:typeof e}var qb=[];function rb(e){0>qb.indexOf(e)&&qb.push(e)}rb(qb);function hb(e,n,r,o){var s="",l=2>arguments.length,d;return l&&(n={H:globalThis.H},r="",o=qb.slice()),sb(n,!0,function(h,p){try{if(d=h[p],p=tb(h,d),!(ya(d)&&d.window===d&&d.self===d||ya(d)&&0<d.nodeType&&db(d.cloneNode))&&ya(d)){if(d===e)return s=r+"."+p,!0;if(0>o.indexOf(d)&&(o.push(d),s=hb(e,d,r+"."+p,o)))return!0}}catch{}}),l&&(s=s?s.substr(1).replace("."+eb[0]+".","#"):"~"+(db(e)?ub(e)+"()":jb(e))),s}function tb(e,n){var r=[];return sb(e,!1,function(o,s){o[s]===n&&r.push(s)}),r.sort(wb)[0]}function wb(e,n){return n.length-e.length}var xb=Object[eb[0]][eb[2]];function sb(e,n,r){var o;if(e){for(s in e)if((!n||xb.call(e,s))&&r(e,s,!0))return;for(o=eb.length;o--;){var s=eb[o];if((!n||xb.call(e,s))&&r(e,s,!1))break}}}function ub(e){return(e=/^\s*function ([^\( ]+)/.exec(e))?e[1]:"anonymous"}function yb(e,n,r){r[n]="#"+n}var zb=!!globalThis.__karma__;function Ab(){throw Error("unimplemented method")}function C(e,n,r){var o=arguments.length,s;n=n!==A?+n:n,n!==A&&((s=/^.*?\(([^\)]+)/.exec((""+e).replace(/(\/\*([\s\S]*?)\*\/)|(\/\/(.*)$)/gm,"")))?(s=s[1].replace(/\s+/g,""),s=$a(s).split(A!==","?",":" ")):s=[],s.forEach(yb),s=s[n]||"#"+n);var l=e?hb(e):"";return o=2<o?$a(r):"",(s||o)&&(l+=" (Argument "+(s||"")+(o?" "+o:"")+")"),o=Error(l),Object.setPrototypeOf(o,C.prototype),o}u(C,Error),t("H.lang.InvalidArgumentError",C),C.prototype.name="InvalidArgumentError";function Bb(e,n){var r=[];return e&&r.push(hb(e)),1<arguments.length&&r.push(""+n),r=Error(r.join(" ")),Object.setPrototypeOf(r,Bb.prototype),r}u(Bb,Error),t("H.lang.IllegalOperationError",Bb),Bb.prototype.name="IllegalOperationError";function Cb(e,n,r){var o=[],s=arguments.length;return e&&o.push(hb(e)),1<s&&(s=2<s&&kb(r)?" out of ["+r[0]+"..."+r[1]+"]":"",o.push("("+n+s+")")),o=Error(o.join(" ")),Object.setPrototypeOf(o,Cb.prototype),o}u(Cb,Error),t("H.lang.OutOfRangeError",Cb),Cb.prototype.name="OutOfRangeError";var Db=Math,Eb=Db.min,Fb=Db.max,Gb=Db.round,Hb=Db.floor,Ib=Db.ceil,Jb=Db.abs,Kb=Db.log,Lb=Db.sqrt,Mb=Db.pow,Nb=Db.exp,Ob=Db.sin,Pb=Db.asin,Qb=Db.cos,Rb=Db.tan,Sb=Db.atan,Tb=Db.atan2,Ub=Db.LN2,Vb=Db.PI,Wb=Vb/2,Xb=Vb/4,Yb=2*Vb,Zb=3*Vb,$b=Vb/180,ac=180/Vb,bc=1/0,cc=Mb(-2,53),dc=dc||function(e){return Kb(e)/Ub};function ec(e,n){var r;return 0>(r=e%n)==0>n?r:r+n}function fc(e,n,r){return n-=r=r||0,e-=r,e-Hb(e/n)*n+r}t("H.math.normalize",fc);function gc(e,n,r){return(e-=0)>r?r:e<n?n:e}t("H.math.clamp",gc);function hc(e,n,r,o){return(o-=0)||(o=0),n<r?e>=n-o&&e<=r+o:e>=r-o&&e<=n+o}var kc={NONE:0,VERTEX:1,EDGE:2,SURFACE:3};t("H.math.CoverType",kc);function lc(e,n,r,o,s,l){var d=r.length,h=d,p=r[0],g=0,y=0,v=0;o=o/2||0;var w=l||2;l=w*(s?0:1)+1;for(var k=w-2;g!=1&&h>l;){h-=k;var F=r[--h];w=r[--h];var q=r[h?h-k-1:(d+(h-k-1))%d],_r=r[h?h-k-2:(d+(h-k-2))%d];w>=e-o&&w<=e+o&&F>=n-o&&F<=n+o||_r>=e-o&&_r<=e+o&&q>=n-o&&q<=n+o?g=1:!g&&w===e?(_r===e&&(F<n&&q>n||F>n&&q<n)||(p<=e&&_r>e||p>=e&&_r<e)&&(F>=n?++y:++v),g=hc(n,F,q,o)&&Lb(Mb((e-_r)*(F-q)-(n-q)*(w-_r),2)/(Mb(w-_r,2)+Mb(F-q,2)))<=o?2:0):!g&&hc(e,w,_r,o)&&((w<e&&_r>e||w>e&&_r<e)&&(p=F+(e-w)/(_r-w)*(q-F),y+=p>n,v+=p<n),g=hc(n,F,q,o)&&Lb(Mb((e-_r)*(F-q)-(n-q)*(w-_r),2)/(Mb(w-_r,2)+Mb(F-q,2)))<=o?2:0),p=w}return!g&&s&&v!==0&&y%2!==0&&(g=3),g}function mc(e,n){return lc(e.x,e.y,n,0,!0)!==kc.NONE}t("H.math.isPointInsidePolygon",mc);function nc(e){for(var n=e.length,r=new Float64Array(2*n),o=n&&fb(e[0].x);n--;){var s=e[n],l=n<<1;r[l]=o?s.x:s[0],r[l+1]=o?s.y:s[1]}return r}t("H.math.flatten",nc);function oc(e,n,r){var o=gc(+e,-90,90);if(n&&D(o))throw new C(n,r,e);return o}function pc(e,n,r){var o=+e;if((-180>o||180<o)&&(o=ec(o+180,360)-180),n&&D(o))throw new C(n,r,e);return o}function qc(e,n,r){var o;if(e!==A&&D(o=+e)&&n)throw new C(n,r,e);return o}function rc(e,n){return 0>e!=0>n&&180<Jb(n-e)}t("H.geo.isDBC",rc);function sc(){gb(this,sc)}t("H.geo.AbstractGeometry",sc),sc.prototype.getBoundingBox=sc.prototype.C,sc.prototype.equals=sc.prototype.da,sc.prototype.ac="",sc.prototype.Kc="",sc.prototype.toString=function(){return this.yf([this.ac.toUpperCase()," "]).join("")},sc.prototype.toString=sc.prototype.toString,sc.prototype.ze=function(){return{type:this.Kc,coordinates:this.xf()}},sc.prototype.toGeoJSON=sc.prototype.ze,sc.prototype.P=function(){return{type:this.ac,coordinates:this.Rd(),boundingBox:this.C().P()}},sc.prototype.forWorkerMessage=sc.prototype.P;function tc(e,n,r){this.lat=oc(e,tc,0),this.lng=pc(n,tc,1),r!==A&&(this.alt=qc(r,tc,2))}u(tc,sc),t("H.geo.Point",tc),tc.prototype.da=function(e){return this===e||!!e&&this.lat===e.lat&&this.lng===e.lng&&(this.alt||0)===(e.alt||0)},tc.prototype.equals=tc.prototype.da,tc.prototype.kb=function(e){if(this===e||this.lat===e.lat&&this.lng===e.lng)e=0;else{var n=this.lat*$b,r=e.lat*$b;e=1274200158e-2*Pb(Eb(1,Lb(Mb(Ob((n-r)/2),2)+Qb(n)*Qb(r)*Mb(Ob((this.lng*$b-e.lng*$b)/2),2))))}return e},tc.prototype.distance=tc.prototype.kb,tc.prototype.mo=function(e,n,r){var o;if(r){if(o=n/637100079e-2){n=e*$b,e=$b*this.lat;var s=Ob(e);r=Ob(o);var l=Qb(o);o=$b*this.lng;var d=Qb(e);e=Pb(d*Qb(n)*r+s*l),n=Tb(Ob(n)*d*r,l-s*Ob(e)),n=(o+n+Vb)%(2*Vb)-Vb,n*=ac,s=new tc(e*ac,(n+540)%360-180)}return s||this}return e=(e%360+360)%360,(e+90)%180===0?(e=this.lng+n/(637100079e-2*Yb*Qb(this.lat*$b))*(e===270?-360:360),new tc(this.lat,(e+540)%360-180)):((n/=637100079e-2)&&(e*=$b,s=this.lat*$b,r=this.lng*$b,o=s+n*Qb(e),l=o-s,d=Kb(Rb(o/2+Xb)/Rb(s/2+Xb)),d=D(l/d)?Qb(s):l/d,e=n*Ob(e)/d,Jb(o)>Wb&&(o=0<o?Vb-o:-(Vb+o)),o=new tc(o*ac,((r+e+Zb+(Jb(s+l)>Wb?Vb:0))%Yb-Vb)*ac)),o||this)},tc.prototype.walk=tc.prototype.mo,tc.prototype.C=function(){return new E(this.lat,this.lng,this.lat,this.lng)},tc.prototype.getBoundingBox=tc.prototype.C;function uc(e,n,r){var o=ya(e)&&!(D(e.lat=oc(e.lat))||D(e.lng=pc(e.lng))||e.alt!==A&&D(e.alt=qc(e.alt)));if(!o&&n)throw new C(n,r,e);return o}tc.validate=uc;function vc(e){if(!e)throw new C(vc,0,e);return new tc(e.lat,e.lng,e.alt)}tc.fromIPoint=vc,m=tc.prototype,m.ac="Point",m.yf=function(e){return e.push("(",this.lng," ",this.lat,")"),e},m.Kc="Point",m.xf=function(){return[this.lng,this.lat,this.alt||0]},m.Rd=function(){return[this.lat,this.lng,this.alt||0]};var wc=[62,-1,-1,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,63,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],xc=typeof BigInt<"u"?BigInt:Number;function yc(e){var n=xc(0),r=xc(0),o=[];if(e.split("").forEach(function(s){s=xc(wc[s.charCodeAt(0)-45]),n|=(s&xc(31))<<r,(s&xc(32))===xc(0)?(o.push(n),n=xc(0),r=xc(0)):r+=xc(5)}),0<r)throw Error("Invalid encoding");return o}function zc(e){return e&xc(1)&&(e=~e),e>>=xc(1),+e.toString()}function Ac(e){var n=e.precision===void 0?5:e.precision,r=e.hl===void 0?0:e.hl,o=e.il===void 0?0:e.il;e=e.kr;var s=Math.pow(10,n),l=Math.pow(10,o);if(0>n||15<n)throw Error("precision out of range. Should be between 0 and 15");if(0>o||15<o)throw Error("thirdDimPrecision out of range. Should be between 0 and 15");if(0>r||7<r||r===4||r===5)throw Error("thirdDim should be between 0, 1, 2, 3, 6 or 7");n=Bc(1)+Bc(o<<7|r<<4|n);var d=[],h=xc(0),p=xc(0),g=xc(0);return e.forEach(function(y){var v=xc(Math.round(y[0]*s));d.push(Dc(v-h)),h=v,v=xc(Math.round(y[1]*s)),d.push(Dc(v-p)),p=v,r&&(y=xc(Math.round(y[2]*l)),d.push(Dc(y-g)),g=y)}),[].concat(n instanceof Array?n:ha(fa(n)),d instanceof Array?d:ha(fa(d))).join("")}function Bc(e){var n="";for(e=xc(e);31<e;)n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[e&xc(31)|xc(32)],e>>=xc(5);return n+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[e]}function Dc(e){e=xc(e);var n=0>e;return e<<=xc(1),n&&(e=~e),Bc(e)}function Ec(e){return Ac({kr:e.polyline,precision:e.precision,hl:e.thirdDim,il:e.thirdDimPrecision})}t("H.util.flexiblePolyline.encode",Ec);function Fc(e){if(e=yc(e),+e[0].toString()!=1)throw Error("Invalid format version");var n=+e[1].toString();n={precision:n&15,hl:n>>4&7,il:n>>7&15};for(var r=Math.pow(10,n.precision),o=Math.pow(10,n.il),s=n.hl,l=0,d=0,h=0,p=[],g=2;g<e.length;){var y=zc(e[g+1])/r;l+=zc(e[g])/r,d+=y,s?(h+=zc(e[g+2])/o,p.push([l,d,h]),g+=3):(p.push([l,d]),g+=2)}if(g!==e.length)throw Error("Invalid encoding. Premature ending reached");return e=Object.assign({},n,{kr:p}),{polyline:e.kr,precision:e.precision,thirdDim:e.hl,thirdDimPrecision:e.il}}t("H.util.flexiblePolyline.decode",Fc);function Gc(e,n,r,o,s,l){gb(this,Gc),this.Ph=e||10,this.xj=null,this.Yi=o||0,this.Zi=s||0,this.Bk=n||1,this.Ck=r||1,this.Mx=!!l,this.flush()}function Hc(e){var n=e.xj;if(e.Mx&&!n){var r=e.head;(r.entries||r[0]||r[1]||r[2]||r[3])&&(n=[r],n=Ic([n,n,n,n],[r[6],r[7],r[4],r[5]]),e.xj=n)}return n}function Ic(e,n){var r,o,s,l,d=0;for(r=3;0<=r;r--){var h=r+4,p=0<r%3,g=[],y=n[r],v=e[r];for(o=v.length;o--;){var w=v[o];if(s=w.entries)for(l=s.length;l--;){var k=s[l].Of(r);(p?k>y:k<y)&&(y=k)}for(l=4;l--;)(s=w[l])&&(p?s[h]>y:s[h]<y)&&g.push(s)}d+=g.length,n[r]=y,e[r]=g}return d&&(n=Ic(e,n)),n}function Jc(e,n,r){var o,s;if(e.Mx&&(o=e.xj))for(s=3;0<=s;s--){var l=n.Of(s);if(s%3?l>=o[s]:l<=o[s])if(r)o[s]=l;else{e.xj=null;break}}}m=Gc.prototype,m.remove=function(e){var n,r,o,s=!1;return e&&(n=e.node)&&n.nl===this&&(r=n.entries)&&0<=(o=r.indexOf(e))&&(r.splice(o,1),this.Ll(n),Jc(this,e,!1),s=!0),s},m.flush=function(){var e=new Lc(A,NaN,this.Yi-this.Bk,this.Zi-this.Ck,this.Yi+this.Bk,this.Zi+this.Ck);e.nl=this,this.head=this.root=e,this.xj=null},m.ld=function(e){var n=this.head,r;if(e){var o=e;if(o!==n)for(n=o;o=o.parent;)(o.entries||1<o.hb)&&(n=o)}else for(;!n.entries&&2>(r=n.hb)&&r;)n=o;this.head=n},m.ob=function(e,n,r,o,s,l){var d=[],h=this.head,p=this.root;return e<=h[5]&&n<=h[6]&&(s?r>=h[7]:r>h[7])&&(l?o>=h[4]:o>h[4])&&Mc(this,h,d,e,n,r,o,l||o>=p[6],s||r>=p[5]),d};function Mc(e,n,r,o,s,l,d,h,p){var g=n.entries,y=n[7],v=n[4],w=n[5],k=n[6],F=n[8],q=n[9],_r;if(g){var ga=g.length;if(s>v||o>y||d<k||l<w)for(;ga--;){y=g[ga],v=y.Of(3),w=y.Of(0),k=y.Of(1);var La=y.Of(2);La>=s&&k>=o&&(w<d||h&&w==d)&&(v<l||p&&v==l)&&r.push(y)}else for(;ga--;)r.push(g[ga])}(l>F||p&&l==F)&&(s<q&&(_r=n[1])&&Mc(e,_r,r,o,s,l,d,h,p),(d>q||h&&d==q)&&(_r=n[3])&&Mc(e,_r,r,o,s,l,d,h,p)),o<F&&(s<q&&(_r=n[0])&&Mc(e,_r,r,o,s,l,d,h,p),(d>q||h&&d==q)&&(_r=n[2])&&Mc(e,_r,r,o,s,l,d,h,p))}m.Ae=ca(1);var Nc=0;function Lc(e,n,r,o,s,l){this.Co=n,e&&(this.parent=e,this.nl=e.nl,n&1?(r=e[8],s=e[5]):(r=e[7],s=e[8]),n&2?(o=e[9],l=e[6]):(o=e[4],l=e[9])),this[7]=r,this[5]=s,this[8]=(r+s)/2,this[4]=o,this[6]=l,this[9]=(o+l)/2}m=Lc.prototype,m.hb=0,m.th=function(e){return this[e]||(++this.hb,this[e]=new Lc(this,e))},m.removeChild=function(e){var n=e.Co;this[n]===e&&(delete this[n],delete e.parent,--this.hb)},m.Ae=ca(0),m.Qg=function(e){(this.entries||(this.entries=[])).push(e),e.node=this};function Oc(e,n,r,o,s){var l=e[5],d=e[6];return e[7]<=n&&e[4]<=r&&(l>o||l===o&&l===e.nl.root[5])&&(d>s||d===s&&d===e.nl.root[6])}function Pc(e,n,r,o,s,l){Pc.g.constructor.apply(this,arguments)}u(Pc,Gc),Pc.prototype.Ll=function(e){for(var n,r,o=this.head;e;){if((!(n=e.entries)||!n.length)&&(n&&delete e.entries,!e.hb&&(r=e.parent))){r.removeChild(e),o===e&&(o=r),e=r;continue}break}this.head!==o&&(this.head=o,this.ld())};function Qc(e,n,r,o,s){if(Oc(e.root,n,r,o,s))return e.Vb(e.root,n,r,o,s,e.Ph);throw Error("Coordinates out of bounds")}Pc.prototype.Ou=function(e,n,r,o){if(e>r){var s=e;e=r,r=s}return n>o&&(s=n,n=o,o=s),Qc(this,e,n,r,o)},Pc.prototype.Zd=function(e,n){return Qc(this,e,n,e,n)},Pc.prototype.Vb=function(e,n,r,o,s,l){var d=e[8],h=e[9],p=0,g=0;return l&&(o<d||(p=+(n>=d)))&&(s<h||(g=+(r>=h)))?n=this.Vb(e.th(p|g<<1),n,r,o,s,l-1):(e.Qg(n=new Rc(n,r,o,s)),Jc(this,n,!0),this.ld(e)),n};function Rc(e,n,r,o){this.id=Nc++,this[0]=n,this[1]=r,this[2]=o,this[3]=e}Rc.prototype.Of=function(e){return this[e]};function E(e,n,r,o){Sc(this,oc(e,E,0),pc(n,E,1),oc(r,E,2),pc(o,E,3))}u(E,sc),t("H.geo.Rect",E),E.prototype.ac="Polygon",E.prototype.yf=function(e){var n=this.fa,r=this.W,o=this.ga,s=this.ca;return e.push("(","(",r," ",n,",",s," ",n,",",s," ",o,",",r," ",o,",",r," ",n,")",")"),e},E.prototype.da=function(e){var n=this===e;return!n&&B(e,E)&&(n=this.fa===e.fa&&this.W===e.W&&this.ga===e.ga&&this.ca===e.ca),n},E.prototype.equals=E.prototype.da,E.prototype.clone=function(){return new E(this.fa,this.W,this.ga,this.ca)},E.prototype.clone=E.prototype.clone;function Sc(e,n,r,o,s){return e.W=r,e.ca=s,n<o&&(r=n,n=o,o=r),e.fa=n,e.ga=o,e.ll=e.Ri=e.Ef=null,e}E.prototype.Oc=function(){return this.ll||(this.ll=new tc(this.fa,this.W)),this.ll},E.prototype.getTopLeft=E.prototype.Oc,E.prototype.Mc=function(){return this.Ri||(this.Ri=new tc(this.ga,this.ca)),this.Ri},E.prototype.getBottomRight=E.prototype.Mc,E.prototype.KA=function(){return this.fa},E.prototype.getTop=E.prototype.KA,E.prototype.yz=function(){return this.ga},E.prototype.getBottom=E.prototype.yz,E.prototype.eA=function(){return this.W},E.prototype.getLeft=E.prototype.eA,E.prototype.AA=function(){return this.ca},E.prototype.getRight=E.prototype.AA,E.prototype.wb=function(){return this.Ef||(this.Ef=new tc(this.ga+(this.fa-this.ga)/2,Tc(this.W,this.oc()))),this.Ef},E.prototype.getCenter=E.prototype.wb,E.prototype.oc=function(){return Uc(this.W,this.ca)},E.prototype.getWidth=E.prototype.oc,E.prototype.yh=function(){return this.fa-this.ga},E.prototype.getHeight=E.prototype.yh,E.prototype.qc=function(){return this.W>this.ca},E.prototype.isCDB=E.prototype.qc,E.prototype.Im=function(){return!this.oc()&&!this.yh()},E.prototype.isEmpty=E.prototype.Im,E.prototype.C=function(){return new E(this.fa,this.W,this.ga,this.ca)},E.prototype.getBoundingBox=E.prototype.C,E.prototype.Pl=function(e,n,r){var o=this.wb();return r||(e=oc(e,this.Pl,0),n=pc(n,this.Pl,1)),n=this.df(e,n,r),e=n.wb(),e.lat===o.lat&&e.lng===o.lng&&this.yh()===n.yh()&&this.oc()===n.oc()},E.prototype.containsLatLng=E.prototype.Pl,E.prototype.Gf=function(e,n){return n||uc(e,this.Gf,0),this.Pl(e.lat,e.lng,n)},E.prototype.containsPoint=E.prototype.Gf,E.prototype.Vo=function(e,n){var r=this.wb();if(!n&&!B(e,E))throw new C(this.Vo,0,e);return n=this.zd(e,n),e=n.wb(),e.lat===r.lat&&e.lng===r.lng&&this.yh()===n.yh()&&this.oc()===n.oc()},E.prototype.containsRect=E.prototype.Vo,E.prototype.df=function(e,n,r,o){if(!r){if(D(e=oc(e)))throw new C(this.df,0,e);if(D(n=pc(n)))throw new C(this.df,1,n)}return Vc(this.fa,this.W,this.ga,this.ca,e,n,e,n,o)},E.prototype.mergeLatLng=E.prototype.df,E.prototype.zv=function(e,n,r){return n||uc(e,this.zv,0),this.df(e.lat,e.lng,n,r)},E.prototype.mergePoint=E.prototype.zv,E.prototype.zd=function(e,n,r){if(!n&&!B(e,E))throw new C(this.zd,0,e);return Vc(this.fa,this.W,this.ga,this.ca,e.fa,e.W,e.ga,e.ca,r)},E.prototype.mergeRect=E.prototype.zd,E.prototype.de=function(e,n,r,o,s,l){return s||(e=oc(e,this.de,0),n=pc(n,this.de,1),r=oc(r,this.de,2),o=pc(o,this.de,3)),Vc(this.fa,this.W,this.ga,this.ca,e,n,r,o,l)},E.prototype.mergeTopLeftBottomRight=E.prototype.de,E.prototype.Wf=function(e,n){var r=this.W<=this.ca,o=e.W<=e.ca,s=this.W<e.ca,l=e.W<this.ca;if(!n&&!B(e,E))throw new C(this.Wf,0,e);return this.ga<=e.fa&&e.ga<=this.fa&&(!r&&(!o||s||l)||!o&&(s||l)||s&&l)},E.prototype.intersects=E.prototype.Wf;function Uc(e,n){return e=n-e,e+(0>e?360:0)}function Tc(e,n){return e+=n/2,e-(180<e?360:0)}function Vc(e,n,r,o,s,l,d,h,p){r=Eb(r,d),e=Fb(e,s),s=Uc(n,o);var g=Tc(n,s);d=Uc(l,h);var y=Tc(l,d)-g;if(y+=0>y-1e-6?360:0,180>y-1e-6){g=n;var v=h}else y=360-y,g=l,v=o;return y=y+s/2+d/2,360<=y+5e-7?(g=-180,v=180):y-5e-7<s?(g=n,v=o):y-5e-7<d&&(g=l,v=h),p?Sc(p,e,g,r,v):new E(e,g,r,v)}E.merge=Vc;function Wc(e,n,r){return r||(uc(e,Wc,0),uc(n,Wc,1)),new E(e.lat,e.lng,n.lat,n.lng)}E.fromPoints=Wc;function Xc(e,n){var r=1,o=e.length,s=null;if(!Ca(e))throw new C(Xc,0,e);if(0<o){var l=e[0];for(s=Wc(l,l,n);r<o;r++)l=e[r],s.df(l.lat,l.lng,n,s)}return s}E.coverPoints=Xc;function Yc(e,n){var r=3,o=e.length,s;if(!(n||e&&e.length!=null))throw new C(Yc,0,e);if(0<o)for(s=new E(e[0],e[1],e[0],e[1]);r<o;r+=3)s.df(e[r],e[r+1],n,s);return s}E.coverLatLngAlts=Yc;function Zc(e,n){var r=1,o=e.length,s;if(n&&(!e||e.length==null))throw new C(Zc,0,e);if(0<o)for(s=new E(e[0].fa,e[0].W,e[0].ga,e[0].ca);r<o;r++)s.zd(e[r],n,s);return s}E.coverRects=Zc,E.prototype.Jw=function(e,n){var r=this.W,o=this.fa,s=this.ca,l=this.ga,d=this.wb().lng;uc(e,this.Jw,0);var h=e.lat-l-(o-l)/2,p=e.lng-d;return p=180<p||-180>p?-(d+e.lng):p,e=r+(0>p?2*p:0),e=-180>e?360+e:e,s+=0<p?2*p:0,s=180<s?s-360:s,o=0<h?o+2*h:o,90<=o&&(o=90),l=0>h?l+2*h:l,-90>=l&&(l=-90),n?Sc(n,o,e,l,s):new E(o,e,l,s)},E.prototype.resizeToCenter=E.prototype.Jw,E.prototype.Kc="Polygon",E.prototype.xf=function(){return[[this.W,this.fa,0],[this.ca,this.fa,0],[this.ca,this.ga,0],[this.W,this.ga,0],[this.W,this.fa,0]]},E.prototype.P=function(){return this.Rd()},E.prototype.Rd=function(){return[this.fa,this.W,this.ga,this.ca]};function $c(e){this.Be=new Pc(+e||10,180,90,0,0,!0),this.Kl=[],this.kq=!1,this.Df=this.Mg=this.J=null}t("H.geo.QuadTree",$c),m=$c.prototype,m.jc=0,m.qc=function(){return this.kq},m.C=function(){var e,n;if(!this.J){var r=[];!this.Mg&&(e=Hc(this.Be))&&(this.Mg=new E(-e[0],e[3],-e[2],e[1])),(n=this.Mg)&&r.push(n);var o,s,l;if(!this.Df&&(l=(s=this.Kl).length)){e=90;var d=360,h=-90;for(o=0;l--;){var p=s[l];e=Eb(e,p[0]),d=Eb(d,p[3]),h=Fb(h,p[2]),o=Fb(o,p[1])}this.Df=new E(-e,d,-h,o-360)}(n=this.Df)&&r.push(n),(n=r[0])&&(r[1]&&(n=n.zd(r[1],!0)),this.J=n)}return this.J},m.Vb=function(e,n,r,o,s){return s?(s=new Rc(o,-e,n+360,-r),this.Kl.push(s),this.kq=!0,this.Df&&this.Df.de(e,n,r,o,!0,this.Df)):(s=Qc(this.Be,n,-e,o,-r),this.Mg&&this.Mg.de(e,n,r,o,!0,this.Mg)),++this.jc,this.J=null,s},m.Zd=function(e){var n=e.lng;return e=e.lat,this.Vb(e,n,e,n,!1)},m.Mu=function(e){var n=e.Oc(),r=e.Mc();return(e=e.qc())?this.Vb(n.lat,r.lng,r.lat,n.lng,e):this.Vb(n.lat,n.lng,r.lat,r.lng,e)},$c.prototype.insertBoundingBox=$c.prototype.Mu,$c.prototype.Ou=function(e,n,r,o){if(n<o)var s=n;else s=o,o=n;return e<r?n=r:(n=e,e=r),this.Vb(n,s,e,o,180<o-s)},$c.prototype.remove=function(e){var n;if(e.node){var r=this.Be.remove(e);this.Mg=null}else e=(n=this.Kl).indexOf(e),(r=0<=e)&&(n.splice(e,1),this.kq=0<n.length,this.Df=null);return r&&(--this.jc,this.J=null),r},$c.prototype.remove=$c.prototype.remove;function ad(e,n,r,o,s,l,d){e=e.Kl;var h=e.length,p=[],g;if(h){var y=r+360;for(g=s+360;h--;){var v=e[h];(bd(v,n,r,o,s,l,d)||bd(v,n,y,o,g,l,d))&&p.push(v)}}return p}function bd(e,n,r,o,s,l,d){var h=e[3],p=e[0],g=e[1];return e=e[2],(l?p<=o:p<o)&&(d?h<=s:h<s)&&e>=n&&g>=r}function cd(e,n){var r,o,s;if(r=n.length){var l=e.length;for(o={};l--;)o[e[l].id]=1;for(;r--;)(s=n[r]).id in o||e.push(s)}}$c.prototype.Fm=function(e,n,r){var o=this.Be,s=e.Oc(),l=e.Mc(),d=-s.lat;s=s.lng;var h=-l.lat;return l=l.lng,!n&&d===h||!r&&s===l?e=[]:e.qc()?(e=o.ob(-180,d,l,h,r,n),cd(e,o.ob(s,d,180,h,!1,n)),cd(e,ad(this,d,l,h,s+360,n,r))):(e=o.ob(s,d,l,h,r,n),cd(e,ad(this,d,s,h,l,n,r))),e},$c.prototype.intersectBoundingBox=$c.prototype.Fm;function dd(e){e&&typeof e.l=="function"&&e.l()}function ed(){fd!=0&&(gd[Da(this)]=this),this.jh=this.jh,this.fe=this.fe}var fd=0,gd={};ed.prototype.jh=!1,ed.prototype.l=function(){if(!this.jh&&(this.jh=!0,this.disposeInternal(),fd!=0)){var e=Da(this);if(fd!=0&&this.fe&&0<this.fe.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete gd[e]}},ed.prototype.bc=function(e,n){this.jh?n!==void 0?e.call(n):e():(this.fe||(this.fe=[]),this.fe.push(n!==void 0?Ia(e,n):e))},ed.prototype.disposeInternal=function(){if(this.fe)for(;this.fe.length;)this.fe.shift()()};function hd(e,n){return e.indexOf(n)!=-1}var id;e:{var jd=wa.navigator;if(jd){var kd=jd.userAgent;if(kd){id=kd;break e}}id=""}function ld(e){return ld[" "](e),e}ld[" "]=za;var md=hd(id,"Gecko")&&!(hd(id.toLowerCase(),"webkit")&&!hd(id,"Edge"))&&!(hd(id,"Trident")||hd(id,"MSIE"))&&!hd(id,"Edge"),nd=hd(id.toLowerCase(),"webkit")&&!hd(id,"Edge"),od=function(){if(!wa.addEventListener||!Object.defineProperty)return!1;var e=!1,n=Object.defineProperty({},"passive",{get:function(){e=!0}});try{wa.addEventListener("test",za,n),wa.removeEventListener("test",za,n)}catch{}return e}();function pd(e,n){this.type=e,this.currentTarget=this.target=n,this.defaultPrevented=this.yk=!1}pd.prototype.stopPropagation=function(){this.yk=!0},pd.prototype.preventDefault=function(){this.defaultPrevented=!0};function qd(e,n){pd.call(this,e?e.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.key="",this.charCode=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.uj=null,e&&this.Em(e,n)}u(qd,pd);var rd={2:"touch",3:"pen",4:"mouse"};qd.prototype.Em=function(e,n){var r=this.type=e.type,o=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.currentTarget=n,n=e.relatedTarget){if(md){e:{try{ld(n.nodeName);var s=!0;break e}catch{}s=!1}s||(n=null)}}else r=="mouseover"?n=e.fromElement:r=="mouseout"&&(n=e.toElement);this.relatedTarget=n,o?(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.offsetX=nd||e.offsetX!==void 0?e.offsetX:e.layerX,this.offsetY=nd||e.offsetY!==void 0?e.offsetY:e.layerY,this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.keyCode=e.keyCode||0,this.key=e.key||"",this.charCode=e.charCode||(r=="keypress"?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:rd[e.pointerType]||"",this.state=e.state,this.uj=e,e.defaultPrevented&&qd.g.preventDefault.call(this)},qd.prototype.stopPropagation=function(){qd.g.stopPropagation.call(this),this.uj.stopPropagation?this.uj.stopPropagation():this.uj.cancelBubble=!0},qd.prototype.preventDefault=function(){qd.g.preventDefault.call(this);var e=this.uj;e.preventDefault?e.preventDefault():e.returnValue=!1};var sd="closure_listenable_"+(1e6*Math.random()|0);function td(e){return!(!e||!e[sd])}var ud=0;function vd(e,n,r,o,s){this.listener=e,this.proxy=null,this.src=n,this.type=r,this.capture=!!o,this.vm=s,this.key=++ud,this.ii=this.Il=!1}function wd(e){e.ii=!0,e.listener=null,e.proxy=null,e.src=null,e.vm=null}function xd(e){this.src=e,this.pb={},this.ol=0}m=xd.prototype,m.add=function(e,n,r,o,s){var l=e.toString();e=this.pb[l],e||(e=this.pb[l]=[],this.ol++);var d=yd(e,n,o,s);return-1<d?(n=e[d],r||(n.Il=!1)):(n=new vd(n,this.src,l,!!o,s),n.Il=r,e.push(n)),n},m.remove=function(e,n,r,o){if(e=e.toString(),!(e in this.pb))return!1;var s=this.pb[e];return n=yd(s,n,r,o),-1<n?(wd(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete this.pb[e],this.ol--),!0):!1};function zd(e,n){var r=n.type;if(!(r in e.pb))return!1;var o=e.pb[r],s=Ya(o,n),l;return(l=0<=s)&&Array.prototype.splice.call(o,s,1),l&&(wd(n),e.pb[r].length==0&&(delete e.pb[r],e.ol--)),l}m.ia=function(e){e=e&&e.toString();var n=0,r;for(r in this.pb)if(!e||r==e){for(var o=this.pb[r],s=0;s<o.length;s++)++n,wd(o[s]);delete this.pb[r],this.ol--}return n},m.Jp=function(e,n,r,o){e=this.pb[e.toString()];var s=-1;return e&&(s=yd(e,n,r,o)),-1<s?e[s]:null},m.bq=function(e,n){var r=e!==void 0,o=r?e.toString():"",s=n!==void 0;return Ra(this.pb,function(l){for(var d=0;d<l.length;++d)if(!(r&&l[d].type!=o||s&&l[d].capture!=n))return!0;return!1})};function yd(e,n,r,o){for(var s=0;s<e.length;++s){var l=e[s];if(!l.ii&&l.listener==n&&l.capture==!!r&&l.vm==o)return s}return-1}var Ad="closure_lm_"+(1e6*Math.random()|0),Bd={},Cd=0;function Dd(e,n,r,o,s){if(o&&o.once)return Ed(e,n,r,o,s);if(Array.isArray(n)){for(var l=0;l<n.length;l++)Dd(e,n[l],r,o,s);return null}return r=Fd(r),td(e)?e.rd.add(String(n),r,!1,ya(o)?!!o.capture:!!o,s):Gd(e,n,r,!1,o,s)}function Gd(e,n,r,o,s,l){if(!n)throw Error("Invalid event type");var d=ya(s)?!!s.capture:!!s,h=Hd(e);if(h||(e[Ad]=h=new xd(e)),r=h.add(n,r,o,d,l),r.proxy)return r;if(o=Id(),r.proxy=o,o.src=e,o.listener=r,e.addEventListener)od||(s=d),s===void 0&&(s=!1),e.addEventListener(n.toString(),o,s);else if(e.attachEvent)e.attachEvent(Jd(n.toString()),o);else if(e.addListener&&e.removeListener)e.addListener(o);else throw Error("addEventListener and attachEvent are unavailable.");return Cd++,r}function Id(){function e(r){return n.call(e.src,e.listener,r)}var n=Kd;return e}function Ed(e,n,r,o,s){if(Array.isArray(n)){for(var l=0;l<n.length;l++)Ed(e,n[l],r,o,s);return null}return r=Fd(r),td(e)?e.rd.add(String(n),r,!0,ya(o)?!!o.capture:!!o,s):Gd(e,n,r,!0,o,s)}function Ld(e,n,r,o,s){if(Array.isArray(n)){for(var l=0;l<n.length;l++)Ld(e,n[l],r,o,s);return null}return o=ya(o)?!!o.capture:!!o,r=Fd(r),td(e)?e.rd.remove(String(n),r,o,s):e&&(e=Hd(e))&&(n=e.Jp(n,r,o,s))?Md(n):!1}function Md(e){if(typeof e=="number"||!e||e.ii)return!1;var n=e.src;if(td(n))return zd(n.rd,e);var r=e.type,o=e.proxy;return n.removeEventListener?n.removeEventListener(r,o,e.capture):n.detachEvent?n.detachEvent(Jd(r),o):n.addListener&&n.removeListener&&n.removeListener(o),Cd--,(r=Hd(n))?(zd(r,e),r.ol==0&&(r.src=null,n[Ad]=null)):wd(e),!0}function Jd(e){return e in Bd?Bd[e]:Bd[e]="on"+e}function Nd(e,n){var r=e.listener,o=e.vm||e.src;return e.Il&&Md(e),r.call(o,n)}function Kd(e,n){return e.ii?!0:Nd(e,new qd(n,this))}function Hd(e){return e=e[Ad],e instanceof xd?e:null}var Od="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fd(e){return typeof e=="function"?e:(e[Od]||(e[Od]=function(n){return e.handleEvent(n)}),e[Od])}t("H.util.Event",pd),pd.prototype.stopPropagation=pd.prototype.stopPropagation,pd.prototype.stopPropagation=pd.prototype.stopPropagation,pd.prototype.CAPTURING_PHASE=1,pd.prototype.CAPTURING_PHASE=pd.prototype.CAPTURING_PHASE,pd.prototype.AT_TARGET=2,pd.prototype.AT_TARGET=pd.prototype.AT_TARGET,pd.prototype.BUBBLING_PHASE=3,pd.prototype.BUBBLING_PHASE=pd.prototype.BUBBLING_PHASE,pd.prototype.eventPhase=0,pd.prototype.eventPhase=pd.prototype.eventPhase;function Pd(e,n,r){Pd.g.constructor.call(this,e,r),this.message=n}u(Pd,pd),t("H.util.ErrorEvent",Pd);function Qd(e,n,r){Qd.g.constructor.call(this,e,r),this.data=n}u(Qd,pd),t("H.util.DataEvent",Qd);function Rd(e){wa.setTimeout(function(){throw e},0)}function Sd(){var e=document,n="IFRAME";return e.contentType==="application/xhtml+xml"&&(n=n.toLowerCase()),e.createElement(n)}var Td;function Ud(){var e=wa.MessageChannel;if(typeof e>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!hd(id,"Presto")&&(e=function(){var s=Sd();s.style.display="none",document.documentElement.appendChild(s);var l=s.contentWindow;s=l.document,s.open(),s.close();var d="callImmediate"+Math.random(),h=l.location.protocol=="file:"?"*":l.location.protocol+"//"+l.location.host;s=Ia(function(p){(h=="*"||p.origin==h)&&p.data==d&&this.port1.onmessage()},this),l.addEventListener("message",s,!1),this.port1={},this.port2={postMessage:function(){l.postMessage(d,h)}}}),typeof e<"u"&&!hd(id,"Trident")&&!hd(id,"MSIE")){var n=new e,r={},o=r;return n.port1.onmessage=function(){if(r.next!==void 0){r=r.next;var s=r.lt;r.lt=null,s()}},function(s){o.next={lt:s},o=o.next,n.port2.postMessage(0)}}return function(s){wa.setTimeout(s,0)}}function Vd(e,n){this.sB=100,this.Ky=e,this.Ag=n,this.an=0,this.zm=null}Vd.prototype.get=function(){if(0<this.an){this.an--;var e=this.zm;this.zm=e.next,e.next=null}else e=this.Ky();return e},Vd.prototype.put=function(e){this.Ag(e),this.an<this.sB&&(this.an++,e.next=this.zm,this.zm=e)};function Wd(){this.no=this.Gi=null}Wd.prototype.add=function(e,n){var r=Xd.get();r.set(e,n),this.no?this.no.next=r:this.Gi=r,this.no=r},Wd.prototype.remove=function(){var e=null;return this.Gi&&(e=this.Gi,this.Gi=this.Gi.next,this.Gi||(this.no=null),e.next=null),e};var Xd=new Vd(function(){return new Yd},function(e){return e.reset()});function Yd(){this.next=this.scope=this.tp=null}Yd.prototype.set=function(e,n){this.tp=e,this.scope=n,this.next=null},Yd.prototype.reset=function(){this.next=this.scope=this.tp=null};function Zd(e,n){$d||ae(),be||($d(),be=!0),ce.add(e,n)}var $d;function ae(){if(wa.Promise&&wa.Promise.resolve){var e=wa.Promise.resolve(void 0);$d=function(){e.then(de)}}else $d=function(){var n=de;typeof wa.setImmediate!="function"||wa.Window&&wa.Window.prototype&&!hd(id,"Edge")&&wa.Window.prototype.setImmediate==wa.setImmediate?(Td||(Td=Ud()),Td(n)):wa.setImmediate(n)}}var be=!1,ce=new Wd;function de(){for(var e;e=ce.remove();){try{e.tp.call(e.scope)}catch(n){Rd(n)}Xd.put(e)}be=!1}function ee(e){if(this.s=fe,this.rf=void 0,this.Yg=this.Le=this.pg=null,this.tm=this.op=!1,e!=za)try{var n=this;e.call(void 0,function(r){ge(n,he,r)},function(r){ge(n,ie,r)})}catch(r){ge(this,ie,r)}}var fe=0,he=2,ie=3;function je(){this.next=this.context=this.Th=this.nk=this.Ff=null,this.Cl=!1}je.prototype.reset=function(){this.context=this.Th=this.nk=this.Ff=null,this.Cl=!1};var ke=new Vd(function(){return new je},function(e){e.reset()});function le(e,n,r){var o=ke.get();return o.nk=e,o.Th=n,o.context=r,o}function me(e){if(e instanceof ee)return e;var n=new ee(za);return ge(n,he,e),n}function ne(e){return new ee(function(n,r){r(e)})}function oe(){var e,n,r=new ee(function(o,s){e=o,n=s});return new pe(r,e,n)}ee.prototype.then=function(e,n,r){return qe(this,typeof e=="function"?e:null,typeof n=="function"?n:null,r)},ee.prototype.$goog_Thenable=!0,ee.prototype.cancel=function(e){if(this.s==fe){var n=new re(e);Zd(function(){se(this,n)},this)}};function se(e,n){if(e.s==fe)if(e.pg){var r=e.pg;if(r.Le){for(var o=0,s=null,l=null,d=r.Le;d&&(d.Cl||(o++,d.Ff==e&&(s=d),!(s&&1<o)));d=d.next)s||(l=d);s&&(r.s==fe&&o==1?se(r,n):(l?(o=l,o.next==r.Yg&&(r.Yg=o),o.next=o.next.next):te(r),ue(r,s,ie,n)))}e.pg=null}else ge(e,ie,n)}function ve(e,n){e.Le||e.s!=he&&e.s!=ie||we(e),e.Yg?e.Yg.next=n:e.Le=n,e.Yg=n}function qe(e,n,r,o){var s=le(null,null,null);return s.Ff=new ee(function(l,d){s.nk=n?function(h){try{var p=n.call(o,h);l(p)}catch(g){d(g)}}:l,s.Th=r?function(h){try{var p=r.call(o,h);p===void 0&&h instanceof re?d(h):l(p)}catch(g){d(g)}}:d}),s.Ff.pg=e,ve(e,s),s.Ff}ee.prototype.GD=function(e){this.s=fe,ge(this,he,e)},ee.prototype.HD=function(e){this.s=fe,ge(this,ie,e)};function ge(e,n,r){if(e.s==fe){e===r&&(n=ie,r=new TypeError("Promise cannot resolve to itself")),e.s=1;e:{var o=r,s=e.GD,l=e.HD;if(o instanceof ee){ve(o,le(s||za,l||null,e));var d=!0}else{if(o)try{var h=!!o.$goog_Thenable}catch{h=!1}else h=!1;if(h)o.then(s,l,e),d=!0;else{if(ya(o))try{var p=o.then;if(typeof p=="function"){xe(o,p,s,l,e),d=!0;break e}}catch(g){l.call(e,g),d=!0;break e}d=!1}}}d||(e.rf=r,e.s=n,e.pg=null,we(e),n!=ie||r instanceof re||ye(e,r))}}function xe(e,n,r,o,s){function l(p){h||(h=!0,o.call(s,p))}function d(p){h||(h=!0,r.call(s,p))}var h=!1;try{n.call(e,d,l)}catch(p){l(p)}}function we(e){e.op||(e.op=!0,Zd(e.dz,e))}function te(e){var n=null;return e.Le&&(n=e.Le,e.Le=n.next,n.next=null),e.Le||(e.Yg=null),n}ee.prototype.dz=function(){for(var e;e=te(this);)ue(this,e,this.s,this.rf);this.op=!1};function ue(e,n,r,o){if(r==ie&&n.Th&&!n.Cl)for(;e&&e.tm;e=e.pg)e.tm=!1;if(n.Ff)n.Ff.pg=null,ze(n,r,o);else try{n.Cl?n.nk.call(n.context):ze(n,r,o)}catch(s){Ae.call(null,s)}ke.put(n)}function ze(e,n,r){n==he?e.nk.call(e.context,r):e.Th&&e.Th.call(e.context,r)}function ye(e,n){e.tm=!0,Zd(function(){e.tm&&Ae.call(null,n)})}var Ae=Rd;function re(e){Xa.call(this,e)}u(re,Xa),re.prototype.name="cancel";function pe(e,n,r){this.promise=e,this.resolve=n,this.reject=r}function Be(){}t("H.util.ICancelable",Be),Be.prototype.cancel=function(){},Be.prototype.cancel=Be.prototype.cancel;function Ce(e,n,r){this.type=e,this.data=n,this.Er=oe(),this.resolve=z(this.resolve,this),this.reject=z(this.reject,this),this.priority=De,r!==A&&(this.priority=r),this.Fp().add(this)}var De=1,Ee={QD:0,TD:De,OD:2};m=Ce.prototype,m.then=function(e,n,r){return this.Er.promise.then(e,n,r)},m.resolve=function(e){this.state=3,this.Er.resolve(e)},m.reject=function(e){this.state=5,this.Er.reject(e)},m.state=0,m.cancel=function(){3>this.state&&(this.Wi(),this.Fp().remove(this),this.state=4)},Ce.prototype.cancel=Ce.prototype.cancel;function Fe(e){var n;this.ug={};for(n in Ee)this.ug[Ee[n]]=[];this.Ik=e,this.Ik.addEventListener("allocatable",z(this.St,this))}t("H.util.JobManager",Fe);var Ge=Object.keys(Ee).map(function(e){return Ee[e]}).sort().reverse();Fe.prototype.add=function(e){B(e,Ce,this.add,0),this.ug[e.priority].push(e),this.St()},Fe.prototype.contains=function(e){return-1<this.ug[e.priority].indexOf(e)},Fe.prototype.remove=function(e){var n=e.priority,r=this.ug[n].indexOf(e);return-1<r?(this.ug[n].splice(r,1),!0):(e.Ds&&this.Ik.$l(e.Ds),!1)},Fe.prototype.St=function(){Ge.forEach(function(e){this.ug[e]=this.ug[e].filter(function(n){var r;if((r=this.Ik.Eo(n))!==x){var o=z(this.Ik.$l,this.Ik,r,n);n.Ds=r,n.then(o,o),n.state=n.Rt(r)?1:5}else return!0},this)},this)};function I(){ed.call(this),this.rd=new xd(this),this.iy=this,this.er=null}u(I,ed),I.prototype[sd]=!0,m=I.prototype,m.Jb=function(){return this.er},m.ea=function(e){this.er=e},m.addEventListener=function(e,n,r,o){Dd(this,e,n,r,o)},m.removeEventListener=function(e,n,r,o){Ld(this,e,n,r,o)},m.dispatchEvent=function(e){var n,r=this.Jb();if(r)for(n=[];r;r=r.Jb())n.push(r);r=this.iy;var o=e.type||e;if(typeof e=="string")e=new pd(e,r);else if(e instanceof pd)e.target=e.target||r;else{var s=e;e=new pd(o,r),Wa(e,s)}if(s=!0,n)for(var l=n.length-1;!e.yk&&0<=l;l--){var d=e.currentTarget=n[l];s=d.Lf(o,!0,e)&&s}if(e.yk||(d=e.currentTarget=r,s=d.Lf(o,!0,e)&&s,e.yk||(s=d.Lf(o,!1,e)&&s)),n)for(l=0;!e.yk&&l<n.length;l++)d=e.currentTarget=n[l],s=d.Lf(o,!1,e)&&s;return s},m.disposeInternal=function(){I.g.disposeInternal.call(this),this.rd&&this.rd.ia(void 0),this.er=null},m.Lf=function(e,n,r){if(e=this.rd.pb[String(e)],!e)return!0;e=e.concat();for(var o=!0,s=0;s<e.length;++s){var l=e[s];if(l&&!l.ii&&l.capture==n){var d=l.listener,h=l.vm||l.src;l.Il&&zd(this.rd,l),o=d.call(h,r)!==!1&&o}}return o&&!r.defaultPrevented},m.Jp=function(e,n,r,o){return this.rd.Jp(String(e),n,r,o)},m.bq=function(e,n){return this.rd.bq(e!==void 0?String(e):void 0,n)},t("H.util.EventTarget",I),I.prototype.ea=I.prototype.ea,I.prototype.setParentEventTarget=I.prototype.ea,I.prototype.Jb=I.prototype.Jb,I.prototype.getParentEventTarget=I.prototype.Jb,I.prototype.addEventListener=I.prototype.addEventListener,I.prototype.addEventListener=I.prototype.addEventListener,I.prototype.removeEventListener=I.prototype.removeEventListener,I.prototype.removeEventListener=I.prototype.removeEventListener,I.prototype.dispatchEvent=I.prototype.dispatchEvent,I.prototype.dispatchEvent=I.prototype.dispatchEvent,I.prototype.l=I.prototype.l,I.prototype.dispose=I.prototype.l,I.prototype.bc=I.prototype.bc,I.prototype.addOnDisposeCallback=I.prototype.bc,I.prototype.iz=I.prototype.Lf,I.prototype.Lf=function(e,n,r){var o,s,l=!0,d=r[r.currentTarget===r.target?"AT_TARGET":n?"CAPTURING_PHASE":(o=!0,"BUBBLING_PHASE")];return(!o||(s=r.type)!=="pointerenter"&&s!=="pointerleave")&&(r.eventPhase=d,l=I.prototype.iz.apply(this,arguments),o&&this.Jb&&this.Jb()===null&&delete r.eventPhase),l},I.prototype.Yw=function(e){for(var n,r=this;r&&(n=r.Jb())&&n!==e;)r=n;n||r.ea(e)},I.prototype.setRootParentEventTarget=I.prototype.Yw;function He(e){e=e||{};var n=e.callback;this.Wb=e.label,db(n)&&(this.callback=n),this.ub=!!e.disabled,He.g.constructor.call(this)}u(He,I),t("H.util.ContextItem",He),He.prototype.Gp=function(){return this.Wb},He.prototype.getLabel=He.prototype.Gp,He.prototype.xe=function(e){return this.Wb!==e&&(this.Wb=e,this.dispatchEvent("update")),this},He.prototype.setLabel=He.prototype.xe,He.prototype.mq=function(){return this.ub},He.prototype.isDisabled=He.prototype.mq,He.prototype.wa=function(e){return e!==this.ub&&(this.ub=e,this.dispatchEvent("update")),this},He.prototype.setDisabled=He.prototype.wa;var Ie=new He;He.SEPARATOR=Ie;function Je(e){if(globalThis.document){var n=document.createElement("canvas");return n.width=n.height=1,n.getContext("2d",{aE:e})}return null}function Ke(){return window.devicePixelRatio||1}t("H.util.getPixelRatio",Ke);var Le=/^rgba\(([^,]+),([^,]+),([^,]+),([^)]+)\)$/;function Me(e){var n=Ne[e],r=globalThis.RegExp;return n||(globalThis.Uint8ClampedArray||(globalThis.Uint8ClampedArray=function(o){return o instanceof Number?Array(o):o.map(function(s){return gc(Gb(s),0,255)})}),e==="none"?n=new Uint8ClampedArray([0,0,0,0]):(Oe.fillStyle="black",Oe.fillStyle=e,Le.test(Oe.fillStyle)?n=new Uint8ClampedArray([r.$1,r.$2,r.$3,255*r.$4]):(Oe.clearRect(0,0,1,1),Oe.fillRect(0,0,1,1),n=Oe.getImageData(0,0,1,1).data)),Ne[e]=n),n}function Pe(e){return e!=="none"&&0<Me(e)[3]}var Ne=Za(),Qe=!!globalThis.VBArray;t("H.util.eval",function(a){return eval(a)});function Re(e,n){return e!==A?e:n}function Se(e){return/^<svg/.test(e)?"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(e):e}t("H.util.provide",function(e){var n=wa.$jscomp;if(n&&(typeof n.Ez=="function"&&n.Ez()))throw Error("goog.provide cannot be used within a module.");xa(e,void 0,void 0)});function Te(e){this.Ad=0<+e?Db.round(e):0}Te.prototype.next=function(e){if(this.Ad===9007199254740992)throw new Cb(e,this.Ad,[0,9007199254740991]);return this.Ad++};var Ue=new Te,Ve=z(Ue.next,Ue);function We(){return!0}function Xe(){return!1}function Ye(){}var Ze=ab([]),$e=ab({});function af(e){return e.tagName==="CANVAS"?[e]:e.getElementsByTagName("CANVAS")}function bf(e,n,r){var o;if(n=e.ownerDocument===n?e.cloneNode(!0):n.importNode(e,!0),r)for(e=af(e),r=af(n),o=r.length;o--;)r[o].getContext("2d").drawImage(e[o],0,0);return n}var Oe=Je(!0),cf=Je(!1);function df(e){var n=e.complete,r=0<e.naturalWidth;if(n&&!r&&Qe)try{cf.drawImage(e,0,0),r=!0}catch{}return n&&r}var ef=globalThis.BlobBuilder||globalThis.WebKitBlobBuilder||globalThis.MozBlobBuilder;function ff(e,n){if(n=n||"",ef){var r=new ef;r.append(e),e=r.getBlob(n)}else e=new Blob([e],{type:n});return e}var gf=globalThis.navigator;Ma=/Edge\/\d+/.test(gf.appVersion),Na=/(A|a)ndroid/.test(gf.appVersion);function J(e){J.g.constructor.call(this),e&&hf(e,J,0),this.S=e||[],this.jd=jf(this,0,this.S.length)}u(J,sc),t("H.geo.LineString",J);function jf(e,n,r){e=e.S;var o=0;for(n=Fb(n,0),r=Eb(r,e.length),r-=2,n+=1;n<r;)o+=rc(e[n],e[n+=3]);return o}J.prototype.tr=function(e,n,r){kf(this,e,n,r,this.tr)},J.prototype.pushLatLngAlt=J.prototype.tr;function kf(e,n,r,o,s){var l=e.S.length;n=oc(n,s),r=pc(r,s),e.S.push(oc(n,s),pc(r,s),o===A?0:qc(o,s)),l&&(e.jd+=rc(e.S[l-2],r)),delete e.J,delete e.ur}J.prototype.Yk=function(e,n,r){r&&hf(r,this.Yk,2),n===void 0&&(n=this.S.length),n&&(this.jd-=jf(this,e-3,e+n+3));var o=r?this.S.splice.apply(this.S,[e,n].concat(r)):this.S.splice(e,n);return r&&(this.jd+=jf(this,e-3,e+r.length+3)),n&&!r&&(this.jd+=jf(this,e-3,e-3)),delete this.J,delete this.ur,o},J.prototype.spliceLatLngAlts=J.prototype.Yk,J.prototype.Nu=function(e,n,r,o){this.Yk(e,0,[n,r,o])},J.prototype.insertLatLngAlt=J.prototype.Nu,J.prototype.Aw=function(e){this.Yk(e,3)},J.prototype.removeLatLngAlt=J.prototype.Aw,J.prototype.tg=function(e){kf(this,e.lat,e.lng,e.alt,this.tg)},J.prototype.pushPoint=J.prototype.tg,J.prototype.Zd=function(e,n){this.Nu(3*e,n.lat,n.lng,n.alt)},J.prototype.insertPoint=J.prototype.Zd,J.prototype.Ek=function(e){this.Aw(3*e)},J.prototype.removePoint=J.prototype.Ek,J.prototype.wj=function(e,n){var r=this.S,o=3*e;e=r[o];var s=r[o+1];return r=r[o+2],n&&(n.lat=e,n.lng=s,n.alt=r),n||new tc(e,s,r)},J.prototype.extractPoint=J.prototype.wj,J.prototype.$y=function(e,n,r){var o=this.S;n=n||0,r=Re(r,o.length/3);for(var s=3*n;n<r;)e(o[s++],o[s++],o[s++],n++)},J.prototype.eachLatLngAlt=J.prototype.$y,J.isDBC=rc,J.prototype.Cp=function(e){var n=this.jd;return e&&(e=this.S,n+=rc(e[e.length-2],e[1])),n},J.prototype.getDBCs=J.prototype.Cp,J.prototype.Mj=function(){return this.S.length/3},J.prototype.getPointCount=J.prototype.Mj,J.prototype.bA=function(){return this.S},J.prototype.getLatLngAltArray=J.prototype.bA,J.prototype.J=x,J.prototype.C=function(){var e;if(!(e=this.J)){e=this.S;var n=e.length,r=3,o,s,l=x;if(3<=n){var d=o=e[0],h=s=e[1];for(l=new E(d,h,o,s);r<n;r+=3){if(d=e[r-3],h=e[r-2],o=e[r],s=e[r+1],h>s&&180<s-h||h<s&&-180>h-s||s<h&&180>Jb(s-h)){var p=h;h=s,s=p}d<o&&(p=d,d=o,o=p),Vc(l.fa,l.W,l.ga,l.ca,d,h,o,s,l)}}e=this.J=l}return e},J.prototype.getBoundingBox=J.prototype.C,J.prototype.WA=function(){return this.J!==x},J.prototype.hasBoundingBox=J.prototype.WA;function hf(e,n,r){for(var o=e.length,s=!(o%3),l;s&&o;)s=!(D(e[--o]=qc((l=e[o])===A?0:l))||D(e[--o]=pc(e[o]))||D(e[--o]=oc(e[o])));if(!s&&n)throw new C(n,r,e)}function lf(e){var n=new J,r=0,o=e.length;if(o%2)throw new C(lf,0,e);for(;r<o;)kf(n,e[r++],e[r++],0,lf);return n}J.fromLatLngArray=lf,J.prototype.da=function(e){var n=this===e,r;if(!n&&(n=B(e,J))){var o=this.S;for(e=e.S,n=(r=o.length)===e.length;n&&r--;)n=o[r]==e[r]}return n},J.prototype.equals=J.prototype.da;function mf(e,n){return e.to-n.to}function nf(e,n){var r=e.S,o=-2,s=[],l,d=e.ur;if(!d){d=e.ur=new $c;var h=0,p=e.S,g=p.length;for(l=0;l<g;l+=3){var y=p[l],v=p[l+1];if(l){var w=d.Ou(w,k,y,v);w.to=h++}w=y;var k=v}}for(d=d.Fm(n).sort(mf),p=d.length,n=0;n<p;n++){if(h=d[n],h=h.to,g=3*h,h>o+1){var F=[r[g],r[g+1]];s.push(F)}o=h,F.push(r[g+3],r[g+4])}if(e.jd){for(r=[],o=s.length,n=0;n<o;n++)if(F=s[n],d=F.length){for(p=[],e=0;e<d;e+=2)h=F[e],g=F[e+1],p.push(h,g),l=F[e-1],e&&rc(g,l)&&(r.push(p),p=[],l+=0>l?360:-360,p.push(F[e-2],l,h,g));r.push(p)}s=r}return s}m=J.prototype,m.ac="LineString",m.yf=function(e,n){var r=this.S,o=r.length,s;if(o){for(e.push("("),s=0;s<o;s+=3)s&&e.push(","),e.push(r[s+1]," ",r[s]);n&&(r[0]!==r[o-3]||r[1]!==r[o-2])&&e.push(",",r[1]," ",r[0]),e.push(")")}else e.push("EMPTY");return e},m.Kc="LineString",m.xf=function(){var e=[],n=this.S,r=n.length,o;for(o=0;o<r;o+=3)e.push([n[o+1],n[o],n[o+2]]);return e},m.Rd=function(){var e=this.S,n;if(this.C().qc()){e=e.slice();var r=1;for(n=e.length;r<n;r+=3)0>e[r]&&(e[r]+=360)}return e},m.AD=function(e){e=e===void 0?5:e;for(var n=this.S,r=n.length,o=[],s=0;s<r;s+=3)o.push([n[s],n[s+1],n[s+2]]);return Ec({polyline:o,precision:e,thirdDim:2,thirdDimPrecision:e})},J.prototype.toFlexiblePolyline=J.prototype.AD;function of(e){var n=Fc(e);e=n.polyline;var r=n.thirdDim;if(n=r===2||r===3,r=r===0,!e)throw new C(of,0,"data");if(n||r){r=e.length;for(var o=Array(3*r),s=0,l=0;s<r;s++){var d=e[s];o[l++]=d[0],o[l++]=d[1],o[l++]=n?d[2]:0}}if(!o)throw new C(of,0,"only ABSENT, ALTITUDE or ELEVATION are supported as type of the 3rd dimension");return new J(o)}J.fromFlexiblePolyline=of;function K(e,n){this.x=+e,this.y=+n}t("H.math.Point",K),K.prototype.set=K,K.prototype.set=K.prototype.set,K.prototype.clone=function(e){return e?(e.x=this.x,e.y=this.y):e=new K(this.x,this.y),e},K.prototype.clone=K.prototype.clone,K.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},K.prototype.add=K.prototype.add,K.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},K.prototype.sub=K.prototype.sub,K.prototype.scale=function(e,n){return this.x*=e,this.y*=n===void 0?e:n,this},K.prototype.scale=K.prototype.scale,K.prototype.round=function(){return this.x=Gb(this.x),this.y=Gb(this.y),this},K.prototype.round=K.prototype.round,K.prototype.floor=function(){return this.x=Hb(this.x),this.y=Hb(this.y),this},K.prototype.floor=K.prototype.floor,K.prototype.ceil=function(){return this.x=Ib(this.x),this.y=Ib(this.y),this},K.prototype.ceil=K.prototype.ceil,K.prototype.da=function(e){return!(!e||this.x!==e.x||this.y!==e.y)},K.prototype.equals=K.prototype.da,K.prototype.ou=function(e,n){var r=n.x-e.x,o=n.y-e.y,s=e;return(r||o)&&(s=((this.x-e.x)*r+(this.y-e.y)*o)/(r*r+o*o),s=0>=s?e:1<=s?n:new K(e.x+s*r,e.y+s*o)),s},K.prototype.getNearest=K.prototype.ou,K.prototype.kb=function(e){return Lb(Mb(this.x-e.x,2)+Mb(this.y-e.y,2))},K.prototype.distance=K.prototype.kb;function pf(e){if(!e)throw Error("invalid argument");return e instanceof K?e:new K(e.x,e.y)}K.fromIPoint=pf;function qf(e,n,r,o,s,l){var d,h,p=e.length,g,y;if(p)for(d=[];p--;){var v=e[p],w=v.length,k=0;for(g=1;g<w;g++)if(y=rf(v[g-1],v[g],r,n,o,s)){var F=y[0],q=y[1];k&&k.da(F)?h.push(q):d.push(h=y),k=q,l&&(g=w,p=0)}}else d=e;return d}t("H.math.clipping.clipStrips",qf);function rf(e,n,r,o,s,l){var d=e.x;e=-e.y;var h=n.x;if(n=-n.y,r=-r,l=-l,d>h){if(h>s||d<o)return;var p=d,g=e;d=h,e=n,h=p,n=g,p=1}else if(d>s||h<o)return;if(e>n){if(n>r||e<l)return;var y=1;e=-e,n=-n,g=l,l=-r,r=-g}else if(e>r||n<l)return;if(d<o){if((e+=(o-d)*(n-e)/(h-d))>r)return;d=o}if(e<l){if((d+=(l-e)*(h-d)/(n-e))>s)return;e=l}return h>s&&(n=e+(s-d)*(n-e)/(h-d),h=s),n>r&&(h=d+(r-e)*(h-d)/(n-e),n=r),y&&(e=-e,n=-n),p?[new K(h,-n),new K(d,-e)]:[new K(d,-e),new K(h,-n)]}function sf(e,n,r){e=tf(e,!0),n=tf(n,!1);var o,s,l={},d=o=1;switch(~~(1*(r||0))){case 1:d=o=0;break;case 2:o=0,d=1;break;case 3:o=1,d=0}r=o;var h=d;if(n&&e){for(n.kj=new uf(n.x,n.y,null,vf(n)),e.kj=new uf(e.x,e.y,null,vf(e)),d=n;d.next;d=d.next)if(!d.ob){for(o=e;o.next;o=o.next)if(!o.ob){var p=wf(d.next),g=wf(o.next);if(s=xf(d,p,o,g,l)){s=l.my;var y=l.ny,v=l.KD,w=l.LD;s=new uf(v,w,null,null,null,null,!0,0,0,s),yf(s,d,p),p=new uf(v,w,null,null,null,null,!0,0,0,y),yf(p,o,g),s.Mq=p,p.Mq=s}}}for(l=mc(n,zf(e)),r&&(l=!l),d=n;d;d=d.next)d.ob&&(d.nq=l,l=!l);for(l=mc(e,zf(n)),h&&(l=!l),o=e;o.next;o=o.next)o.ob&&(o.nq=l,l=!l);for(Af(n),Af(e);(e=Bf(n))!=n;){for(r=null;!e.ko;e=e.Mq){for(l=e.nq;r=new uf(e.x,e.y,r),r.artificial=e.ob||e.Vu,e.ko=1,e=l?e.next:e.Dd,!!e;)if(e.ob){e.ko=1;break}if(!e)break}r.Nq=k||null;var k=r}return k}}t("H.math.clipping.clipPolygon",sf);function uf(e,n,r,o,s,l,d,h,p,g){this.x=e,this.y=n,this.next=r||null,this.Dd=o||null,this.Nq=s||null,this.Mq=l||null,this.ob=!!d,this.nq=!!h,this.ko=p||0,this.alpha=g||0,o&&(o.next=this),r&&(r.Dd=this),this.Vu=!1,this.kj=null}function wf(e){for(;e&&e.ob;)e=e.next;return e}function vf(e){if(e)for(;e.next;)e=e.next;return e}function Bf(e){var n=e;if(n)do n=n.next;while(n!=e&&(!n.ob||n.ob&&n.ko));return n}function Af(e){var n=vf(e);n.Dd.next=e,e.Dd=n.Dd}function xf(e,n,r,o,s,l){var d,h=n.x-e.x,p=n.y-e.y,g=o.x-r.x,y=o.y-r.y,v=h*y-p*g;return!v||(g=((r.x-e.x)*y-(r.y-e.y)*g)/v,v=(p*(r.x-e.x)-h*(r.y-e.y))/v,0>g||1<g||0>v||1<v)?0:(g===0?d=e:g===1?d=n:v===0?d=r:v===1&&(d=o),d&&!l?(d.x+=2480549651603763e-20,d.y+=7321997314118067e-20,d.kj&&(d.kj.x=d.x,d.kj.y=d.y),xf(e,n,r,o,s)):(s.KD=e.x+g*h,s.LD=e.y+g*p,s.my=g,s.ny=v,1))}function zf(e){for(var n=[];e;)n.push(e.x,e.y),e=e.next;return n}function yf(e,n,r){for(n=n.next;n!==r&&n.alpha<=e.alpha;)n=n.next;e.next=n,e.Dd=n.Dd,e.next.Dd=e,e.Dd.next=e}function tf(e,n){for(var r,o=null,s=0,l=e.length;s<l;s++)r=new uf(e[s].x,e[s].y,o),r.Vu=n,(r.next=o)&&(o.Dd=r),o=r;return o}function L(e,n){var r;if(L.g.constructor.call(this),B(e,J,L,0),n!==A&&kb(n,L,1)){for(r=0;r<n.length;r++)B(n[r],J,L,1,"index "+r);this.cb=n}else this.cb=[];this.Fb=e,this.Tj=[]}u(L,sc),t("H.geo.Polygon",L);function Cf(e){var n=L,r=J,o=e.fa,s=e.W,l=e.ga,d=e.ca;return s=[o,s,A,o,d,A,l,d,A,l,s,A],180<=e.oc()&&(s.splice(9,0,l,e=e.wb().lng,A),s.splice(3,0,o,e,A)),new n(new r(s))}L.fromRect=Cf;var Df={NORTH:90,SOUTH:-90};L.Direction=Df,L.prototype.kf=Df.NORTH,L.prototype.Xw=function(e){return this.kf!==e&&(this.J=x,this.Tj.length=0,this.kf=e),this},L.prototype.setPoleCovering=L.prototype.Xw,L.prototype.sA=function(){return this.kf},L.prototype.getPoleCovering=L.prototype.sA,L.prototype.Oz=function(){return this.Fb},L.prototype.getExterior=L.prototype.Oz,L.prototype.Uw=function(e){if(!B(e,J))throw new C(this.Uw,0,e);this.Fb=e,this.J=x},L.prototype.setExterior=L.prototype.Uw,L.prototype.Zz=function(){return this.cb},L.prototype.getInteriors=L.prototype.Zz,L.prototype.fo=function(e,n,r){var o=arguments.length,s;for(s=2;s<o;s++)B(arguments[s],J,this.fo,s);var l=this.cb.splice.apply(this.cb,arguments);for(s=2;s<o;s++)arguments[s]=A;return this.Tj.splice.apply(this.Tj,arguments),l},L.prototype.spliceInteriors=L.prototype.fo,L.prototype.EC=function(e){return this.fo(e,1)[0]},L.prototype.removeInteriorAt=L.prototype.EC,L.prototype.DC=function(e){return e=this.cb.indexOf(e),0>e?A:this.fo(e,1)[0]},L.prototype.removeInterior=L.prototype.DC,L.prototype.ww=function(e){if(!B(e,J))throw new C(this.ww,0,e);this.cb.push(e)},L.prototype.pushInterior=L.prototype.ww,L.prototype.C=function(){var e=this.J;return e||(this.J=e=Ef(this.Fb,this.kf)),e},L.prototype.getBoundingBox=L.prototype.C,m=L.prototype,m.du=function(e){var n=this.cb.length;if(0>e||e>=n)throw new Cb(this.du,e,[0,n-1]);return(n=this.Tj[e])||(this.Tj[e]=n=Ef(this.cb[e],this.kf)),n};function Ef(e,n){var r,o,s;return(s=e.C())&&((r=e.Cp(!0))&&(o=e.Mj())&&(s=s.zd(Xc([e.wj(0),e.wj(o-1)],!0),!0)),s.oc()===360&&r%2===1&&(s=s.df(n,0))),s}m.ac="Polygon",m.yf=function(e){var n=this.cb,r=n.length,o;if(this.Fb.Mj()){for(e.push("("),this.Fb.yf(e,!0),o=0;o<r;o++)n[o].Mj()&&(e.push(","),n[o].yf(e,!0));e.push(")")}else e.push("EMPTY");return e},m.Kc="Polygon",m.xf=function(){var e,n=[],r=this.cb,o=this.Fb.xf();for(o[0].toString()!==o[o.length-1].toString()&&o.push(o[0]),n.push(o),e=0;e<r.length;e++)o=r[e].xf(),o[0].toString()!==o[o.length-1].toString()&&o.push(o[0]),n.push(o);return n},m.P=function(){var e=L.g.P.call(this);return this.C().qc()&&(e.type="Multi"+e.type),e},m.Rd=function(){var e=[],n=this.cb,r=n.length;for(e.push(this.Fb.Rd());r--;)e[r+1]=n[r].Rd();return this.C().qc()?[e]:e},m.da=function(e){var n=!1;if(B(e,L)){var r=e.cb,o=this.cb.length;n=r.length;var s=0;for(n=this.Fb.da(e.Fb)&&o===n;n&&s<o;)n=n&&this.cb[s].da(r[s]),s++}return n},L.prototype.equals=L.prototype.da;function Ff(e,n,r,o){var s=e.cb,l=Gf.bind(null,n,r);return lc(n,r,e.Fb.S,0,!0,3)!==kc.NONE?o===void 0||o?!s.some(l):!0:!1}function Gf(e,n,r){return lc(e,n,r.S,0,!0,3)===kc.SURFACE}function Hf(e,n){n=n.S,e=e.Fb.S;var r,o,s=n.length-3,l=e.length-3,d={};for(r=0;r<s;r+=3){var h=n[r],p=n[r+1],g=n[r+3],y=n[r+4];for(o=0;o<l;o+=3){var v=e[o],w=e[o+1],k=e[o+3],F=e[o+4];if(xf(new uf(p,h),new uf(y,g),new uf(w,v),new uf(F,k),d,!0))return!0}}return!1}function If(e,n){var r=n.Fb,o=n.cb,s=o.length,l=r.S,d=l.length,h=e.Fb.S,p=h.length;if(Hf(e,r))return!0;for(r=0;r<d;r+=3)if(Ff(e,l[r],l[r+1]))return!0;for(r=0;r<p;r+=3)if(Ff(n,h[r],h[r+1]))return!0;for(r=0;r<s;r++)if(Hf(e,o[r]))return!0;return!1}function Jf(e){gb(this,Jf),Jf.g.constructor.call(this),this.ha=Kf(this,e,this.constructor,0)}u(Jf,sc),t("H.geo.MultiGeometry",Jf),Jf.prototype.splice=function(e,n,r){return e=[e],n!==A&&e.push(n),r&&(n=Kf(this,r,this.splice,2),e=e.concat(n)),this.J=x,this.ha.splice.apply(this.ha,e)},Jf.prototype.splice=Jf.prototype.splice,Jf.prototype.Ed=function(e){var n=this.ha.length;if(!(0<=e&&e<n))throw new Cb(this.Ed,e,[0,n-1]);return this.J=x,this.ha.splice(e,1)[0]},Jf.prototype.removeAt=Jf.prototype.Ed,Jf.prototype.remove=function(e){if(e=this.ha.indexOf(e),0<=e){var n=this.ha.splice(e,1)[0];this.J=x}return n||x},Jf.prototype.remove=Jf.prototype.remove,Jf.prototype.Uz=function(){return this.ha},Jf.prototype.getGeometries=Jf.prototype.Uz,Jf.prototype.push=function(e){var n=Kf(this,[e],this.push,0)[0];this.J&&(this.J=this.J.zd(e.C())),this.ha.push(n)},Jf.prototype.push=Jf.prototype.push,Jf.prototype.C=function(){var e;if(!(e=this.J)){e=x;var n,r;if(this.ha.length)for(e=this.ha[0].C(),r=1;r<this.ha.length;r++)(n=this.ha[r].C())&&(e=e?e.zd(n):n)}return this.J=e},Jf.prototype.getBoundingBox=Jf.prototype.C,Jf.prototype.J=x;function Kf(e,n,r,o){var s,l=[];if(!kb(n))throw new C(r,o);for(s=0;s<n.length;s++)if(e.tq(n[s]))l.push(e.pw(n[s]));else throw new C(r,o);return l}Jf.prototype.pw=function(e){return e},Jf.prototype.da=function(e){var n=this===e,r;if(!n&&(n=B(e,this.constructor))){var o=this.ha;for(e=e.ha,n=(r=o.length)===e.length;n&&r--;)n=o[r].da(e[r])}return n},Jf.prototype.equals=Jf.prototype.da,Jf.prototype.yf=function(e){var n=this.ha,r=n.length,o,s,l=!1;if(r){for(e.push("("),o=0;o<r;o++)(s=0<o&&l)&&e.push(","),n[o].yf(e),e[e.length-1]==="EMPTY"?e.splice(-1-+s,1+ +s):l=!0;l?e.push(")"):e.splice(-1,1,"EMPTY")}else e.push("EMPTY");return e},Jf.prototype.Rd=function(){for(var e=[],n=this.ha,r=n.length;r--;)e[r]=n[r].Rd();return e},Jf.prototype.P=function(){var e=Jf.g.P.call(this);return e.type=this.ac,e},Jf.prototype.xf=function(){for(var e=[],n=this.ha,r=n.length;r--;)e[r]=n[r].xf();return e};function Lf(e){Lf.g.constructor.call(this,e)}u(Lf,Jf),t("H.geo.MultiLineString",Lf),Lf.prototype.tq=function(e){return B(e,J)},Lf.prototype.ac="Multi"+J.prototype.ac,Lf.prototype.Kc="Multi"+J.prototype.Kc;function Mf(e){Mf.g.constructor.call(this,e)}u(Mf,Jf),t("H.geo.MultiPolygon",Mf),Mf.prototype.tq=function(e){return B(e,L)},Mf.prototype.ac="Multi"+L.prototype.ac,Mf.prototype.Kc="Multi"+L.prototype.Kc;function Nf(e){Nf.g.constructor.call(this,e)}u(Nf,Jf),t("H.geo.MultiPoint",Nf),Nf.prototype.tq=function(e){return uc(e)},Nf.prototype.pw=function(e){return B(e,tc)?e:vc(e)},Nf.prototype.ac="Multi"+tc.prototype.ac,Nf.prototype.Kc="Multi"+tc.prototype.Kc;function Of(e,n,r){var o,s=6;if(n){for(o=' expected close to: "'+n;s--;)n=e.nt.next(),n!==-1&&(o+=String.fromCharCode(n));o+='"'}throw new C(Pf,0,"- Malformed WKT: "+(o?r+o:"unexpected end of stream"))}function Qf(e,n){var r=e.next();n=n?")":"(",r!==n&&Of(e,r,'"'+n+'"')}function Rf(e){return e.eb()===","?(e.next(),!0):!1}function Sf(e,n,r,o,s){var l,d,h=2+n+r;for(d=1;d<=h;d++)(r=e.next())?(l=+r)!==l?Of(e,r,"number"):d===1?o[s+1]=l:d===2?o[s+0]=l:d===3&&(o[s+2]=l):Of(e,r);n||(o[s+2]=0)}var Tf=[];function Uf(e,n,r,o){return o||Qf(e,0),Sf(e,n,r,Tf,0),o||Qf(e,1),new tc(Tf[0],Tf[1],n?Tf[2]:A)}function Vf(e,n,r){var o=[];Qf(e,0);do Sf(e,n,r,o,o.length);while(Rf(e));return Qf(e,1),new J(o)}function Wf(e,n,r){Qf(e,0);var o=Vf(e,n,r);if(Rf(e)){var s=[];do s.push(Vf(e,n,r));while(Rf(e))}return Qf(e,1),new L(o,s)}var Xf=[],Yf=[Wf],Zf=[Uf],$f={POINT:Zf,LINESTRING:[Vf],POLYGON:Yf,MULTIPOINT:[Uf,Nf],MULTILINESTRING:[Vf,Lf],MULTIPOLYGON:[Wf,Mf],GEOMETRY:Xf,GEOMETRYCOLLECTION:Xf,CIRCULARSTRING:Xf,COMPOUNDCURVE:Xf,CURVEPOLYGON:Xf,MULTICURVE:Xf,MULTISURFACE:Xf,CURVE:Xf,SURFACE:Xf,POLYHEDRALSURFACE:Xf,TIN:Xf,TRIANGLE:Xf},ag={Z:1,M:2,ZM:3};function Pf(e){e=new bg(e);var n,r=e.next();if((n=$f[r.toUpperCase()])||Of(e,r,"type name"),n!==Xf){r=e.eb(),r=ag[r.toUpperCase()];var o=r&1,s=r>>1;if(o|s&&e.next(),r=e.eb(),r==="EMPTY")if(e.next(),o=n[1])var l=new o([]);else n!==Zf&&(l=new J([]),n===Yf&&(l=new L(l)));else if(r==="("){if(l=n[0],n=n[1],n){var d=[];if(Qf(e,0),l===Uf){var h=e.eb()!=="(";do d.push(l(e,o,s,h));while(Rf(e))}else do d.push(l(e,o,s));while(Rf(e));Qf(e,1),o=new n(d)}else o=l(e,o,s);l=o}else Of(e,r,'"Z", "M", "ZM", "(" or "EMPTY"');e.next()&&Of(e,r,"end of stream")}return l||x}function bg(e){this.nt=e}bg.prototype.eb=function(){var e=this.ew;if(e===A){for(e=this.nt;e.eb()===cg;)e.next();if(dg[e.eb()])e=e.next(),e=e===eg?"":String.fromCharCode(e);else{e.yi();do e.next();while(!dg[e.eb()]);e=String.fromCharCode.apply(null,e.mh())}this.ew=e}return e},bg.prototype.next=function(){var e=this.eb();return e!==""&&delete this.ew,e};var cg=32,eg=-1,fg={VD:cg,PD:40,UD:41,MD:44,ND:eg},dg=Object.keys(fg).reduce(function(e,n){return e[fg[n]]=!0,e},Za());t("H.util.wkt.toGeometry",function(e){return Pf(new Qa(e))});function gg(e,n){n=n||{},"status"in n&&(this.status=+n.status),"statusText"in n&&(this.statusText=n.statusText),this.ok=200<=this.status&&300>this.status,this.Uu=!1,e?typeof e=="string"?this.Ko=e:(n=globalThis.ArrayBuffer)&&n.prototype.isPrototypeOf(e)?this.Cf=e:n&&e.buffer?this.Cf=e.buffer:globalThis.Blob.prototype.isPrototypeOf(e)&&(this.Fl=e):this.Ko=""}t("H.net.Response",gg),gg.prototype.type="default",gg.prototype.type=gg.prototype.type,gg.prototype.status=200,gg.prototype.status=gg.prototype.status,gg.prototype.statusText="OK",gg.prototype.statusText=gg.prototype.statusText;function hg(e){if(e.Uu)return ne(new TypeError("Already read"));e.Uu=!0}gg.error=function(){return gg.mp||(gg.mp=new gg(null,{status:0,statusText:""}),gg.mp.type="error"),gg.mp},gg.error=gg.error,gg.prototype.text=function(){var e=hg(this);if(!e)if(this.Ko)e=me(this.Ko);else if(this.Cf){e=new Uint8Array(this.Cf);var n=e.length,r=Array(n),o;for(o=0;o<n;o++)r[o]=String.fromCharCode(e[o]);e=me(r.join(""))}else e=this.Fl?ig(this.Fl):ne("Unsupported response body");return e},gg.prototype.json=function(){return this.text().then(globalThis.JSON.parse)},gg.prototype.blob=function(){var e,n=hg(this);return n||(this.Fl?e=this.Fl:this.Cf&&(e=new Blob([this.Cf],{type:"application/octet-stream"}))),n||me(e)},gg.prototype.arrayBuffer=function(){return this.Cf?hg(this)||me(this.Cf.slice(0)):this.blob().then(gg.ty)},gg.ty=function(e){var n=new FileReader;return n.readAsArrayBuffer(e),new ee(function(r,o){n.onload=function(){r(n.result)},n.onerror=function(){o(n.error)}})};function ig(e){var n=new FileReader;return n.readAsText(e),new ee(function(r,o){n.onload=function(){r(n.result)},n.onerror=function(){o(n.error)}})}!zb&&globalThis.Response&&globalThis.Response.error&&(gg=globalThis.Response,rb(gg.prototype));function jg(e,n,r){function o(){var y=z(g.Wh,g),v=+p.timeout||0;kg?(lg(g,"timeout",y),s.timeout=v):v&&(g.Nx=setTimeout(function(){s.abort(),g.Wh({type:"timeout"})},v)),lg(g,"error",y),lg(g,"load",y),s.send(p.data)}var s,l,d,h=r&&r.headers||{},p={},g=this;if(!db(n))throw new C(jg,1,"function required");e+="",Wa(h,mg.headers,h),Wa(p,mg,r||{}),p.headers=h,this.kt=n,this.I=s=new XMLHttpRequest,n=p.method;try{s.open(n,e,!0);for(l in h)h.hasOwnProperty(l)&&(d=h[l])&&s.setRequestHeader(l,d);s.withCredentials=!!p.withCredentials,o()}catch{this.Wh({type:"cors"})}}t("H.net.Xhr",jg);var mg={method:"GET",headers:{},data:null},ng="withCredentials"in new XMLHttpRequest,kg="timeout"in new XMLHttpRequest;function lg(e,n,r){ng?e.I.addEventListener(n,r):e.I["on"+n]=r}function og(e,n,r){ng?e.I.removeEventListener(n,r):e.I["on"+n]=null}jg.prototype.abort=function(){this.I&&(this.I.abort(),this.I&&this.Wh({type:"abort"}))},jg.prototype.abort=jg.prototype.abort,jg.prototype.Wh=function(e){var n=e.type;e=this.I;var r;this.Nx&&clearTimeout(this.Nx),n==="load"?e instanceof XMLHttpRequest&&e.status!==200&&(r="network"):r=e.readyState===4&&e.status===0&&n=="error"?"cors":n!="error"?n:"network",n=this.Wh,og(this,"timeout",n),og(this,"error",n),og(this,"load",n),e=e.status===0||r&&r!=="network"?gg.error():new gg(e.responseText||null,e),r=this.kt,delete this.Wh,delete this.kt,delete this.I,r(e)};function pg(){var e=pg.rv;return e||(e=this,pg.rv=e,rb(pg.rv),I.call(e),this.Ag()),e}u(pg,I),m=pg.prototype,m.disposeInternal=function(){pg.g.disposeInternal.call(this),this.Ag()},m.Ag=function(){this.AB=10,this.BB=6,this.ki=Za(),this.Cr=Za(),this.Hr=0},m.Eo=function(e){e=e.type;var n=this.ki[e]||0;if(this.Hr<this.AB&&n<this.BB){var r=++this.pB;return this.Hr++,this.ki[e]=n+1,this.Cr[r+""]=e,r}return x},m.$l=function(e){var n=this.Cr[e];if(!fb(n)||!this.ki[n])throw new Bb(this.$l,"Unknown requestId");this.Hr--,this.ki[n]--,this.ki[n]||delete this.ki[n],delete this.Cr[e],this.dispatchEvent("allocatable")},m.pB=-1;function qg(e,n,r,o){if(!rg[e])throw new C(qg,0,"Mime type is not supported");this.HB=e,e=o?Ta(o):{},"crossOrigin"in e||(e.crossOrigin="anonymous"),this.Fa=e,sg.href=n.toString(),Ce.call(this,sg.protocol+"//"+sg.hostname,n,r)}u(qg,Ce),qg.prototype.Rt=function(){return this.br=rg[this.HB].call(this),!0},qg.prototype.Wi=function(){this.br&&(this.br.abort(),delete this.br)};var rg={"application/json":function(){var e=this,n=tg(this.Fa),r=n.headers;return n.headers=r=r?Ta(r):{},r.Accept="application/json",new jg(this.data,function(o){200<=o.status&&300>o.status?e.resolve(o.json()):e.reject(o)},n)},"text/plain":function(){var e=this;return new jg(this.data,function(n){200<=n.status&&300>n.status?e.resolve(n.text()):e.reject(n)},tg(this.Fa))},image:function(){var e=globalThis.document.createElement("img"),n=this,r=this.data;return e.onload=z(this.resolve,this,e),e.onerror=function(){n.reject(gg.error())},e.crossOrigin=this.Fa.crossOrigin,e.src=r,{abort:function(){e.onerror=e.onload=null,Qe&&df(e)||e.removeAttribute("src")}}}};(function(){try{var e=new XMLHttpRequest;e.open("get","/",!0)}catch{e={}}"response"in e&&(rg.arraybuffer=function(){var n=new XMLHttpRequest,r=this,o=this.Fa,s=o.headers,l;if(n.open("GET",this.data),ug(n,o),n.responseType="arraybuffer",s)for(l in s)n.setRequestHeader(l,s[l]);return n.onerror=n.ontimeout=function(){r.reject(gg.error())},n.onload=function(){r.resolve(new gg(n.response))},n.send(),n})})();var vg=new Fe(new pg);qg.prototype.Fp=function(){return vg};var sg=globalThis.document.createElement("a");function tg(e){var n=Ta(e);return delete n.crossOrigin,ug(n,e),n}function ug(e,n){e.withCredentials=n.crossOrigin==="use-credentials"}var wg;function xg(e,n){if(globalThis.URL)return new globalThis.URL(e,n).toString();if(!e||!yg(e))return e;if(!n||yg(n))throw new TypeError("Failed to construct 'URL': Invalid base URL");wg||(wg=document.createElement("a"),rb(wg));var r=wg;return r.href=n,e[0]!=="/"?e=r.href.replace(/\/[^\/]*$/,"/")+e:((n=r.origin)||(n=r.protocol+"//"+r.host),e=n+e),e}function yg(e){var n=!1;return typeof e=="string"&&(n=!(-1<e.search(/^(http|https|data|blob):/)||e.substr(0,2)==="//")),n}function zg(e,n){if(zg.g.constructor.call(this),n&&yg(n))throw new C(zg,1,"Base URL must be absolute");this.s=Ag.INIT,this.Ia=null,this.md=n}u(zg,I),t("H.map.render.Style",zg),zg.prototype.load=zg.prototype.load,zg.prototype.getState=function(){return this.s},zg.prototype.getState=zg.prototype.getState,zg.prototype.F=function(e){this.s=e},zg.prototype.setState=zg.prototype.F,zg.prototype.Lc=function(){return this.md},zg.prototype.getBaseUrl=zg.prototype.Lc,zg.prototype.Sd=function(){return cb(this.Ia)},zg.prototype.getConfig=zg.prototype.Sd,zg.prototype.Cz=function(){return this.Ia},zg.prototype.getConfigReference=zg.prototype.Cz,zg.prototype.Eg=function(e){this.Ia=e},zg.prototype.setConfig=zg.prototype.Eg,zg.prototype.Ic=function(e){this.Ia=null,this.F(Ag.ERROR),this.bq(Bg)?this.dispatchEvent(new Pd(Bg,e,this)):console.error(e)},zg.prototype.dispatchError=zg.prototype.Ic,zg.prototype.disposeInternal=function(){zg.g.disposeInternal.call(this),this.Ia=null};var Bg="error",Cg={Af:"change",Js:Bg},Ag={ERROR:-1,INIT:0,LOADING:1,READY:2};zg.State=Ag;function Dg(e,n){var r,o=arguments.length,s,l;for(r=1;r<o;r++)if((s=arguments[r])&&s!==e&&s!==d){var d=s;for(l in s){var h=s[l];e[l]!==h&&(Eg(h)?Eg(e[l])?e[l]=Dg(e[l],h):e[l]=cb(h):h!==void 0&&(e[l]=cb(h)))}}return e}t("H.util.webgl.mergeObjects",Dg);var Fg=Za();function Gg(e,n,r){var o=r[e];return n&&o in n&&0>eb.indexOf(o)?(n=n[o],++e<r.length?Gg(e,n,r):n):Fg}var Hg=Gg.bind(null,0),Ig={polygons:1,lines:1,"pattern-lines":1,points:1,text:1,raster:1,custom_icons:1,overlays:1},Jg={data:1,draw:1,enabled:1,filter:1,properties:1},Kg=Object.keys(Jg);function Lg(e,n,r,o,s,l){var d=o[e],h=r[d];if(++e<o.length){var p=n[d]||{};for(r=Kg.length;r--;){var g=Kg[r];if(g!=="draw"||!l){var y=h[g];y!==A&&(p[g]=cb(y))}}Lg(e,p,h,o,s,l)}else s?p=cb(h):(p=h,delete r[d]);n[d]=n[d]?Dg(n[d],p):p}var Mg=Lg.bind(null,0);function Ng(e,n){e in Ig&&(n[e]=1)}function Og(e,n,r){var o,s,l;for(o in e)if(Jg[o]){if(o==="draw"){var d=e[o];for(s in d){var h=d[s];(l=h.style)?(h.style=n+l,Ng(l,r)):(delete d[s],d[n+s]=h,Ng(s,r))}}}else Og(e[o],n,r)}function Pg(e,n){var r={},o,s,l,d;if(n+="_",e=Dg({},e),o=e.styles)for(s in o){var h=o[s];if(delete o[s],o[n+s]=h,l=h.mix)for(lb(l)&&(l=[l]),d=l.length;d--;)Ng(l[d],r),l[d]=n+l[d];(d=h.base)&&(l||(l=h.mix=[]),l.unshift(n+d),delete h.base,Ng(d,r)),Ng(s,r)}else o=e.styles={};if(h=e.layers)for(s in h)l=h[s],delete h[s],(d=l.data)&&!d.layer&&(d.layer=s),h[n+s]=l,Og(l,n,r);for(s in r)o[n+s]={base:s};return e}function Qg(e,n){var r=e.sources,o=Object.keys(r)[0],s=Dg(r[o],{uid:n});r=e.layers;var l;e.sources={},e.sources[n]=s;for(l in r)e=r[l],e.data?e.data.source===o&&(e.data.source=n):e.data={source:n}}function Rg(e,n){var r,o=e.textures;e=e.fonts;for(r in o){var s=o[r];s.url&&(s.url=xg(s.url,n))}for(r in e)if(s=e[r],kb(s))for(o=0;o<s.length;o++){var l=s[o];l.url=l.url&&xg(l.url,n)}else l=s,l.url=l.url&&xg(l.url,n)}function Sg(e,n){return"function(){return "+("feature."+e+(n||""))+";}"}function Tg(e){return Sg("style."+e,void 0)}function Ug(e,n,r,o){return e={base:e,blend:n,blend_order:r},o&&(e.clean_depth=!!o),e}function Vg(e){var n={};return n["translucent-"+(e?"extruded-":"")+"polygons"]={color:Tg("fillColor"),order:1,interactive:!0,extrude:e},n}function Wg(e,n,r,o){return e={data:{source:e,layer:n}},r&&(e.draw=r),o&&(e.filter=o),e}function Eg(e){return ya(e)&&!kb(e)}function Xg(e,n){if(Xg.g.constructor.call(this,e,n),lb(e))Yg.test(e)&&e.indexOf("import:")===-1?(this.yc=e,n||(this.bB=yg(this.yc)?A:this.yc)):this.po=e;else if(ya(e))this.Eg(cb(e));else throw new C(Xg,0,"invalid style configuration")}u(Xg,zg),t("H.map.render.webgl.Style",Xg),Xg.prototype.load=function(){var e=this,n=this.Lc();this.yc?(this.F(Ag.LOADING),new qg("text/plain",this.yc).then(function(r){var o={};return Zg(r,n,!1,(o[n]=!0,o))}).then(function(r){return e.Eg(r)},function(r){return e.Ic(r.message)}),delete this.yc):this.po&&(this.F(Ag.LOADING),Zg(this.po,n).then(function(r){return e.Eg(r)},function(r){return e.Ic(r.message)}),delete this.po)},Xg.prototype.load=Xg.prototype.load,Xg.prototype.Ww=function(e,n,r){var o;for($g(this),e=ah(this,e,this.Ww,r),r=0;r<e.length;r++){var s=e[r].yb.draw;for(o in s){var l=s[o];Eg(l)&&(l.interactive=!!n)}}bh(this)},Xg.prototype.setInteractive=Xg.prototype.Ww,Xg.prototype.setProperty=function(e,n,r){var o,s=e.split("."),l=0,d=s.length;if($g(this),!fb(n))throw new C(this.setProperty,1,"value");if(o=ch(this.Ia,s)){if(!(o.parent instanceof Object)||o.parent instanceof Array)if(r)s.pop(),s=ch(this.Ia,s),o.parent=s.parent[s.En]={};else throw new C(this.setProperty,0,e+" property is not primitive type");o.parent[o.En]=n}else{for(o=this.Ia;l!==d-1;)o[s[l]]={},o=o[s[l++]];o[s[l]]=n}dh(this)&&bh(this)},Xg.prototype.setProperty=Xg.prototype.setProperty,Xg.prototype.Op=function(e){return $g(this),(e=ch(this.Ia,e.split(".")))?cb(e.node):void 0},Xg.prototype.getProperty=Xg.prototype.Op,Xg.prototype.removeProperty=function(e){$g(this),(e=ch(this.Ia,e.split(".")))&&e.parent&&e.parent.hasOwnProperty(e.En)&&(delete e.parent[e.En],dh(this)&&bh(this))},Xg.prototype.removeProperty=Xg.prototype.removeProperty,Xg.prototype.vj=function(e,n,r){var o;$g(this);var s=this.Ia,l=s.layers,d=ah(this,e,this.vj,!1);for(e=d.length,o={};e--;)Mg(o,l,d[e].id,!!n,!!r);for(r={},d=Object.keys(s),e=d.length;e--;){var h=d[e],p=s[h];r[h]=p===l?o:cb(p)}return n||bh(this),r},Xg.prototype.extractConfig=Xg.prototype.vj,Xg.prototype.fk=function(e){if($g(this),!ya(e))throw new C(this.fk,0,"config");this.Eg(Dg(this.Ia,e))},Xg.prototype.mergeConfig=Xg.prototype.fk,Xg.prototype.Yb=ca(2),Xg.prototype.toString=function(){return this.getState()===Ag.READY?globalThis.H.gl.yaml.dump(this.Ia,{lineWidth:120}):""},Xg.prototype.disposeInternal=function(){Xg.g.disposeInternal.call(this),delete this.po,delete this.yc};function dh(e){var n=e.Ia,r;if(ya(n)){var o;if(o=e.ts){n=n&&n.sources,o=!1;for(var s in n)if(n[s].type===e.ts){o=!0;break}o=!(!n||o)}o&&(r="invalid source, the only valid type is "+e.ts)}else r="invalid style configuration";return r&&e.Ic(r),!r}function bh(e){e.dispatchEvent(new pd("change",e))}function $g(e){if(e.getState()!==Ag.READY)throw new Bb(e.fk,"style is not ready yet")}function ah(e,n,r,o){var s=[],l=kb(n)?n:[n],d,h;for(o===void 0&&(o=!0),l=l.sort().reverse();d=l.pop();){n=String(d).split(".");e:{for(var p=e.Ia,g=n.length;g--&&!Jg[n[g]];);if(p&&0>g&&(p=Hg(p.layers,n),Eg(p)))break e;p=Fg}if(p===Fg)throw new C(r,0,'Unresolvable layer ID "'+d+'"');if(s.push({id:n,yb:p}),o)for(h in p)!Jg[h]&&Eg(p[h])&&l.push(d+"."+h)}return s}function ch(e,n){var r=0,o;for(o=n.length;r!==o;){var s=n[r++],l=e;if(e=l[s],!e)break}return r===o?{node:e,parent:l,En:s}:void 0}var Yg=/^(http[s]?)?.*\.ya?ml/i;function Zg(e,n,r,o){r=r===void 0?!1:r,o=o===void 0?{}:o;try{var s=globalThis.H.gl.yaml.load(e,{json:!0})}catch(l){return Promise.reject(l)}return s&&(e=s.import,lb(e)&&(e=[e]),r&&n&&eh(s,n),delete s.import,kb(e)&&e.length)?(r=e.reduce(function(l,d){var h=n?xg(d,n):d;return o[h]||(o[h]=!0,l.push(new qg("text/plain",h).then(function(p){return Zg(p,h,!0,o)}))),l},[]),Promise.all(r).then(function(l){var d={};return l.forEach(function(h){return h&&Dg(d,h)}),Dg(d,s),d})):Promise.resolve(s)}function eh(e,n){function r(d){d.url&&(d.url=xg(d.url,n))}var o=e&&e.fonts;if(o)for(var s in o)kb(o[s])?o[s].forEach(r):r(o[s]);if(e=e&&e.textures)for(var l in e)r(e[l])}Xg.normalize=eh,Xg.prototype.Eg=function(e){Xg.g.Eg.call(this,e),dh(this)&&(this.F(Ag.READY),bh(this))},Xg.prototype.Sd=function(){return Xg.g.Sd.call(this)},Xg.prototype.getConfig=Xg.prototype.Sd,Xg.prototype.Lc=function(){return this.bB||Xg.g.Lc.call(this)},Xg.prototype.getBaseUrl=Xg.prototype.Lc,t("H.map.Style",Xg),Xg.State=Ag;var fh={PENDING:0,ACTIVE:1,DONE:2};t("H.map.render.RenderState",fh);function gh(){}t("H.map.provider.Invalidations",gh),gh.MARK_INITIAL=cc,gh.prototype.update=function(e,n){n!==hh.NONE&&(this.Md=e,n&hh.SPATIAL&&(this.fx=e),n&hh.VISUAL&&(this.Kx=e),n&hh.ADD&&(this.$s=e),n&hh.REMOVE&&(this.Bw=e),n&hh.Z_ORDER&&(this.Ox=e),n&hh.VOLATILITY&&(this.Lx=e))},gh.prototype.update=gh.prototype.update,gh.prototype.iA=function(){return this.Md},gh.prototype.getMark=gh.prototype.iA,gh.prototype.Md=cc,gh.prototype.eB=function(e){return this.Md>e},gh.prototype.isAny=gh.prototype.eB,gh.prototype.Kx=cc,gh.prototype.Kh=function(e){return this.Kx>e},gh.prototype.isVisual=gh.prototype.Kh,gh.prototype.fx=cc,gh.prototype.sq=function(e){return this.fx>e},gh.prototype.isSpatial=gh.prototype.sq,gh.prototype.$s=cc,gh.prototype.Su=function(e){return this.$s>e},gh.prototype.isAdd=gh.prototype.Su,gh.prototype.Bw=cc,gh.prototype.Km=function(e){return this.Bw>e},gh.prototype.isRemove=gh.prototype.Km,gh.prototype.Ox=cc,gh.prototype.uq=function(e){return this.Ox>e},gh.prototype.isZOrder=gh.prototype.uq,gh.prototype.Lx=cc,gh.prototype.jB=function(e){return this.Lx>e},gh.prototype.isVolatility=gh.prototype.jB;var hh={NONE:0,VISUAL:1,SPATIAL:2,ADD:4,REMOVE:8,Z_ORDER:16,VOLATILITY:32};gh.Flag=hh;function ih(e,n,r){this.paths=this.Tc=e,n!==A&&(this.interiorsIndex=this.Uj=n),r!==A&&(this.outlinesIndex=this.sn=r)}ih.prototype.Uj=bc,ih.prototype.interiorsIndex=ih.prototype.Uj,ih.prototype.sn=bc,ih.prototype.outlinesIndex=ih.prototype.sn;var jh=bb(new ih([])),kh=ab([]);function lh(e,n,r,o){this.left=+e,this.top=+n,this.right=+r,this.bottom=+o}t("H.math.Rect",lh),lh.prototype.set=lh,lh.prototype.set=lh.prototype.set,lh.prototype.Oc=function(){return this.ll||(this.ll=new K(this.left,this.top))},lh.prototype.getTopLeft=lh.prototype.Oc,lh.prototype.Mc=function(){return this.Ri||(this.Ri=new K(this.right,this.bottom))},lh.prototype.getBottomRight=lh.prototype.Mc,lh.prototype.Ql=function(e,n){return this.left<=e&&this.right>=e&&this.top<=n&&this.bottom>=n},lh.prototype.containsXY=lh.prototype.Ql;function mh(e,n){return new lh(e.x,e.y,n.x,n.y)}lh.fromPoints=mh,lh.prototype.clone=function(){return new lh(this.left,this.top,this.right,this.bottom)},lh.prototype.clone=lh.prototype.clone;function nh(e){var n;if(e){var r=B(e,nh);for(n in e)if(n in this){var o=e[n];o!==this[n]&&(n==="fillColor"||0<(o=+o))&&(this[n]=o)}e=r?e.Pc:!!(Pe(this.fillColor)&&this.width&&this.width),e||(this.Pc=e)}ab(this)}t("H.map.ArrowStyle",nh),nh.prototype.Pc=!0,nh.prototype.fillColor="rgba(255,255,255,.75)",nh.prototype.width=1.2,nh.prototype.length=1.6,nh.prototype.frequency=5,nh.prototype.eu=function(){return new nh(this)},nh.prototype.da=function(e){var n=this===e;return!n&&e&&(n=e.width===this.width&&e.fillColor===this.fillColor&&e.length===this.length&&e.frequency===this.frequency),n},nh.prototype.equals=nh.prototype.da;function M(e){var n;if(e){var r=oh;for(n=B(e,M);r--;){var o=ph[r];if(e.hasOwnProperty(o)){var s=e[o];if(n)this[o]=s;else{if((s=qh[r](s))===rh)throw new C(M,0,o+": "+e[o]);s!==this[o]&&s!==A&&(this[o]=s)}}}r=n?e.Xj:this.lineWidth&&Pe(this.strokeColor),r||(this.Xj=r),r=n?e.Pc:Pe(this.fillColor),r||(this.Pc=r),r=n?e.Vj:this.strokeColor!=="none"&&this.lineWidth,r||(this.Vj=r)}ab(this)}t("H.map.SpatialStyle",M),M.prototype.Pc=!0,M.prototype.Xj=!0,M.prototype.Vj=!0;var ph="strokeColor fillColor lineWidth lineCap lineJoin miterLimit lineDash lineDashOffset lineDashImage lineHeadCap lineTailCap".split(" ");M.prototype.strokeColor="rgba(0,85,170,.6)",M.prototype.strokeColor=M.prototype.strokeColor,M.prototype.fillColor="rgba(0,85,170,.4)",M.prototype.fillColor=M.prototype.fillColor,M.prototype.lineWidth=2,M.prototype.lineWidth=M.prototype.lineWidth,M.prototype.lineCap="round",M.prototype.lineCap=M.prototype.lineCap,M.prototype.lineJoin="miter",M.prototype.lineJoin=M.prototype.lineJoin,M.prototype.miterLimit=1,M.prototype.miterLimit=M.prototype.miterLimit,M.prototype.tB=Ze,M.prototype.lineDash=M.prototype.tB,M.prototype.lineDashOffset=0,M.prototype.lineDashOffset=M.prototype.lineDashOffset,M.prototype.uB=A,M.prototype.lineDashImage=M.prototype.uB,M.prototype.vB=A,M.prototype.lineHeadCap=M.prototype.vB,M.prototype.wB=A,M.prototype.lineTailCap=M.prototype.wB;var oh=ph.length;M.prototype.da=function(e){var n=this===e;if(!n&&e){for(n=0;n<oh;n++){var r=ph[n];if(this[r]!==e[r])break}n=n===oh}return n},M.prototype.equals=M.prototype.da,M.prototype.fu=function(e){if(e){var n={};Wa(n,this,e)}else n=this;return new M(n)},M.prototype.getCopy=M.prototype.fu;var rh=ab({}),qh=[function(e){return e?$a(e):rh},function(e){return e?$a(e):rh},function(e){return 0<=e&&100>=e?+e:rh},function(e){return e=$a(e),e==="butt"||e==="square"||e==="round"||e==="arrow-head"||e==="arrow-tail"?e:rh},function(e){return e==="round"||e==="bevel"||e==="miter"?e:rh},function(e){return 0<e&&100>=e?+e:rh},function(e){return e&&e.every&&e.every(pb)?e:rh},function(e){return D(+e)?rh:+e},function(e){return e===A||e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||Object.values(sh).includes(e)?e:rh},function(e){return fb(e)?qh[3](e):A},function(e){return fb(e)?qh[3](e):A}],th=new Image;th.src="data:image/svg+xml;base64,"+btoa('<svg width="128" height="128" viewBox="0 0 128 128" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"><g id="arrow"><path style="fill:#ff0000" d="M 0,0 32,64 2,128 128,64 Z"/></g></svg> ');var uh=new Image;uh.src="data:image/svg+xml;base64,"+btoa('<svg width="128" height="128" viewBox="0 0 128 128" xmlns="http://www.w3.org/2000/svg"><circle style="fill:#ffffff" cx="64" cy="64" r="64" /></svg>');var sh={ARROW:th,CIRCLE:uh};M.DashImage=sh,M.MAX_LINE_WIDTH=100;var vh=new M;M.DEFAULT_STYLE=vh;var wh="fillColor strokeColor lineWidth lineCap lineJoin miterLimit lineDashOffset lineDash lineTailCap lineHeadCap".split(" ");M.prototype.P=function(){for(var e={},n=wh.length,r;n--;)r=wh[n],e[r]=this[r];return e},M.prototype.forWorkerMessage=M.prototype.P;function xh(e){xh.g.constructor.call(this),e!==void 0&&(this.data=e)}u(xh,I),t("H.map.Feature",xh),xh.prototype.getData=function(){return this.data},xh.prototype.getData=xh.prototype.getData,xh.prototype.disposeInternal=function(){xh.g.disposeInternal.call(this),delete this.data};function N(e){if(gb(this,N),N.g.constructor.call(this,e?e.data:A),this.Rj=yh.next(),e){var n="min";ob(e[n])&&(this.zb=e[n]),n="max",ob(e[n])&&(this.Qc=e[n]),n="visibility",n in e&&(this.Ld=!!e[n]),n="volatility",n in e&&(this.lo=!!e[n]),n="zIndex",n in e&&(this.Hi=+e[n]||0),n="provider",n in e&&!B(e[n],P)&&(this.D=e[n],this.ra(hh.ADD))}}u(N,xh),t("H.map.Object",N);var yh=new Te(1),zh={ANY:31,OVERLAY:1,SPATIAL:2,MARKER:4,DOM_MARKER:8,GROUP:16};N.Type=zh,N.prototype.xb=function(){return this.Rj},N.prototype.getId=N.prototype.xb,N.prototype.Zr=function(e){if(!ob(e)&&!lb(e))throw new C(this.Zr,0,"id must be a number or a string");return this.gi=e,this},N.prototype.setRemoteId=N.prototype.Zr,N.prototype.zA=function(){return this.gi},N.prototype.getRemoteId=N.prototype.zA,N.prototype.zb=-1/0,N.prototype.Qc=1/0,N.prototype.lu=function(e){var n=this.Qc;if(e)for(e=this;e=e.Na;)n=Eb(n,e.Qc);return n},N.prototype.getMax=N.prototype.lu,N.prototype.nu=function(e){var n=this.zb;if(e)for(e=this;e=e.Na;)n=Fb(n,e.zb);return n},N.prototype.getMin=N.prototype.nu,N.prototype.Ld=!0,N.prototype.Zb=function(e){var n=this.Ld;return(e=!!e)!==n&&(this.Ld=e,this.invalidate(hh.VISUAL)),this},N.prototype.setVisibility=N.prototype.Zb,N.prototype.Wd=function(e){for(var n=this,r;(r=n.Ld)&&e&&(n=n.Na););return r},N.prototype.getVisibility=N.prototype.Wd,N.prototype.lo=!1,N.prototype.sm=function(e){for(var n=this,r;!(r=n.lo)&&e&&(n=n.Na););return r},N.prototype.getVolatility=N.prototype.sm,N.prototype.$w=function(e){var n=this.lo;return n!==!!e&&(this.lo=!n,this.invalidate(hh.VOLATILITY)),this},N.prototype.setVolatility=N.prototype.$w,N.prototype.Hi=A,N.prototype.wu=function(){return this.Hi},N.prototype.getZIndex=N.prototype.wu,N.prototype.ui=function(e){return e!==this.Hi&&(this.Hk(),this.Hi=e,this.invalidate(hh.Z_ORDER)),this},N.prototype.setZIndex=N.prototype.ui,N.prototype.qo=A,N.prototype.We=function(){var e=this.qo,n,r;if(!e){var o=+((n=this.Hi)!==A);(e=this.Na)?(e=e.We().slice(),e[0]|=o):e=[o],e.push(n||0,0>(r=this.ds)?this.Rj:r),this.qo=e}return e},N.prototype.getZInfo=N.prototype.We,N.prototype.Hk=function(){this.qo=A};function Ah(e,n,r){var o,s;if(!r||e[0]|n[0]){var l=e.length,d=n.length,h=Eb(l,d),p=1;for(s=1+ +r;p<h;p+=s)if(o=e[p]-n[p])return o}return r?0:l-d}N.compareZInfo=Ah;function Bh(e,n){return e.qt(n)}N.compareZOrder=Bh,N.prototype.qt=function(e){return this.ro-e.ro||Ah(this.We(),e.We(),!1)},N.prototype.compareZOrder=N.prototype.qt,m=N.prototype,m.previousSibling=x,m.nextSibling=x,m.ds=-1,m.Na=x,m.nA=function(){return this.Na},N.prototype.getParentGroup=N.prototype.nA,N.prototype.sd=function(){for(var e=this,n;n=e.Na;)e=n;return e},N.prototype.getRootGroup=N.prototype.sd,N.prototype.contains=function(e){return this===e},N.prototype.contains=N.prototype.contains,N.prototype.ea=function(e){if(this.Na)throw new Bb(this.ea,"Not allowed for a child of a group");N.g.ea.call(this,e)},N.prototype.setParentEventTarget=N.prototype.ea,N.prototype.draggable=N.prototype.draggable=!1,N.prototype.D=x,N.prototype.Pp=function(){return this.D},N.prototype.getProvider=N.prototype.Pp,N.prototype.ti=function(e,n){var r=this.D,o;if(o=r!==e){if(n&&(r&&!B(r,P)||e&&!B(e,P)))throw new Bb(n,"Only LocalObjectProvider allows an object transfers");n=this.type!==zh.GROUP,r&&(this.invalidate(hh.REMOVE),n&&r.Oa(this)),(this.D=e)&&(n&&e.Y(this),this.Xf=x,this.invalidate(hh.ADD))}return o},N.prototype.Xf=x,N.prototype.Nc=function(){return this.Xf||(this.Xf=new gh)},N.prototype.getInvalidations=N.prototype.Nc,N.prototype.ra=function(e){var n=this.D,r;return(r=!!n)&&n.invalidateObject(this,e),r},N.prototype.invalidate=N.prototype.ra,N.prototype.disposeInternal=function(){this.Na&&this.Na.Oa(this),N.g.disposeInternal.call(this)},N.prototype.setData=function(e){return this.data=e,this},N.prototype.setData=N.prototype.setData,N.prototype.ze=function(e){if(e&&!db(e))throw new C(N.prototype.ze,0,"opt_callback must be a function");return e=Ch(this,e?e(this.data):this.data,!!e),e=db(this.V)?{type:"Feature",properties:e,geometry:this.V().ze()}:{type:"FeatureCollection",features:Ze},this.gi&&(e.id=this.gi),e},N.prototype.toGeoJSON=N.prototype.ze;function Ch(e,n,r){if(n===null||n===A)return null;if(0<=Object.keys(n).length&&Object.prototype.toString.call(n)!=="[object Object]")throw Error(Dh(e,r));try{return JSON.stringify(n),n}catch{throw Error(Dh(e,r))}}function Dh(e,n){return"Object Remote-Id: "+e.gi+" - "+(n?"The value returned by the callback is not a valid JSON object and cannot be set as Feature properties.":"The given object data is not a valid JSON object and cannot be set as Feature properties.")}N.prototype.P=function(){return{id:this.Rj,properties:{min:this.nu(),max:this.lu(),zIdx:this.Hi,sIdx:this.ds,parent:this.Na?this.Na.xb():0,visible:this.Wd(),volatile:this.sm()},type:"Feature"}},N.prototype.forWorkerMessage=N.prototype.P;function Eh(e,n){var r;Eh.g.constructor.call(this,n),n&&this.Cb(n.style),e&&(this.Xe=!0),n&&(r=n.arrows)&&this.Rw(r)}u(Eh,N),t("H.map.Spatial",Eh),Eh.prototype.type=zh.SPATIAL,Eh.prototype.ro=0,Eh.prototype.style=vh,Eh.prototype.K=function(){return this.style},Eh.prototype.getStyle=Eh.prototype.K,Eh.prototype.Cb=function(e){var n=!0;return e?this.style=B(e,M)?e:new M(e):this.style?delete this.style:n=!1,n&&this.invalidate(hh.VISUAL),this},Eh.prototype.setStyle=Eh.prototype.Cb,Eh.prototype.vz=function(){return this.Tg},Eh.prototype.getArrows=Eh.prototype.vz,Eh.prototype.Rw=function(e){var n=this.Tg,r=!1;return!e&&n?(delete this.Tg,r=!0):!e||n&&n.da(e)||(this.Tg=new nh(e),r=!0),r&&this.style.strokeColor!=="none"&&this.ra(1),this},Eh.prototype.setArrows=Eh.prototype.Rw;function Fh(e,n){var r=!1,o=!1,s;if(n.length){for(r=0;r<n.length;r++)if(n[r]!==jh){o=!0;break}n=e.style,r=o?n.Xj||n.Pc&&e.Xe||(s=e.Tg||!1)&&n.Vj&&s.Pc:n.Pc}return r&&e.Wd(!0)}Eh.prototype.Xe=!1,Eh.prototype.fB=function(){return this.Xe},Eh.prototype.isClosed=Eh.prototype.fB,Eh.prototype.getGeometriesForTile=Eh.prototype.xh,Eh.prototype.Hp=function(){return A},Eh.prototype.getLabels=Eh.prototype.Hp;function Gh(e,n){Gh.g.constructor.call(this,e,n)}u(Gh,Eh),t("H.map.GeoShape",Gh),Gh.prototype.getBoundingBox=Gh.prototype.C;function Hh(e,n,r,o){var s=[],l=n.length,d;for(d=0;d<l;d++){var h=n[d];if(h.length){var p=s,g=p.push,y=void 0,v=e,w=r,k=o,F=[],q=h.length,_r=0;for(v.Ft=0,y=y||0;_r<q;)F.push(Ih(v,h[_r++],h[_r++],y,k));w&&F.push(Ih(v,h[0],h[1],y,k)),g.call(p,F)}}return s}function Ih(e,n,r,o,s){var l=e.Ft;return l&&180<Jb(l-r)&&(r+=0>l?-360:360),e.Ft=r,s.wq(n,r+o)}function Jh(e,n,r){for(var o=n,s,l=e.length+n,d,h;o--;){for(n=e[o],d=n.length,s=Array(d);d--;)h=n[d],s[d]=new K(h.x+r,h.y);e[--l]=s}}function Kh(e,n){var r=n&&(+n.extrusion||+n.extrude)||0,o=n&&+n.elevation||0,s=0;if(Kh.g.constructor.call(this,!0,n),0<o&&(s+=o,this.Jf=o),0<r&&(s+=r,this.nh=r),2047<s)throw new Cb(Kh,s,[0,2047]);B(e,J)?this.X(new L(e)):this.X(e)}u(Kh,Gh),t("H.map.Polygon",Kh);var Lh=new L(new J([0,0,0,0,0,0,0,0,0]));Kh.prototype.nh=0,Kh.prototype.Jf=0,Kh.prototype.Hb=Lh,Kh.MAX_EXTRUDE_HEIGHT=2047,Kh.prototype.Pr=function(e){var n=+e;if(n!==e)throw new C(this.Pr,0,e);if(0>n||2047<this.Jf+n)throw new Cb(this.Pr,this.Jf+n,[0,2047]);this.nh=n,this.ra(hh.SPATIAL)},Kh.prototype.setExtrusion=Kh.prototype.Pr,Kh.prototype.Pz=function(){return this.nh},Kh.prototype.getExtrusion=Kh.prototype.Pz,Kh.prototype.Or=function(e){var n=+e;if(n!==e)throw new C(this.Or,0,e);if(0>n||2047<this.nh+n)throw new Cb(this.Or,this.nh+n,[0,2047]);this.Jf=n,this.ra(hh.SPATIAL)},Kh.prototype.setElevation=Kh.prototype.Or,Kh.prototype.Kz=function(){return this.Jf},Kh.prototype.getElevation=Kh.prototype.Kz,Kh.prototype.V=function(){return this.Hb},Kh.prototype.getGeometry=Kh.prototype.V,Kh.prototype.X=function(e){if(B(e,L))var n=!1;else B(e,Mf,this.X,0),n=!0;return this.Vf=n,n=this.Hb,this.Hb=e,n!==Lh&&this.ra(hh.SPATIAL),this},Kh.prototype.setGeometry=Kh.prototype.X,Kh.prototype.C=function(){return this.V().C()},Kh.prototype.getBoundingBox=Kh.prototype.C,Kh.prototype.xh=function(e){var n,r=this.V(),o,s;if(this.Vf){r=r.ha;var l=0;for(s=r.length;l<s;l++)(o=Mh(this,r[l],e,r[l].kf))&&(n||(n=[]),n.push(o))}else o=this.kf,o===A&&(o=this.Vf?Df.NORTH:this.V().kf),(o=Mh(this,r,e,o))&&(n=[o]);return n},Kh.prototype.getGeometriesForTile=Kh.prototype.xh;function Mh(e,n,r,o){var s,l,d=0,h=!0;if(s=Nh(e,n.Fb,r,o,n.C())){var p=new ih(s),g=n.cb;if(l=g.length)for(p.Uj=p.Tc.length;d<l;d++)(s=Nh(e,g[d],r,o,n.du(d)))&&(p.Tc=p.Tc.concat(s));for(l=p.Tc.length,d=0;d<l;d++)if(p.Tc[d]!==kh){h=!1;break}h&&(p=d%2?jh:A)}return p}function Nh(e,n,r,o,s){var l=r.Pj(),d=s,h=d.oc(),p=[[]],g=n.S,y=[],v=g.length,w,k=!1;for(w=0;w<v;w+=3){var F=g[w],q=g[w+1];k||Jb(q)!=180||(y.push(F),y.push(q),y.push(F),y.push(-q),k=!0),y.push(F),y.push(q)}if(g=y,360>h&&d.W==-180&&(d=new E(d.fa,180,d.ga,d.ca)),360>h&&d.ca==180&&(d=new E(d.fa,d.W,d.ga,-180)),d.qc()){for(h=g,F=h.length,g=-1,y=0;y<F-2;y+=2)if(rc(h[y+1],h[y+3])){g=y+2;break}g===-1&&rc(h[F-1],h[1])&&(g=F),g!==-1&&(v=h[g-2],y=h[g-1],w=h[g%F],k=h[(g+1)%F],Jb(v)!==180&&Jb(w)!==180&&(q=Jb(w-v),F=Jb(k-y),F+=180<F?-360:0,k=Jb(180-k),k+=180<k?-360:0,F&&k&&(q/=Jb(F)/Jb(k),v=w+(w>v?-q:q),y=0<y?180:-180,h.splice(g,0,v,y,v,-y)))),g=h}if(p[0]=Oh([].concat(g),d.W),360>d.oc()&&d.Gf(new tc(d.fa,180))&&(g=Oh([].concat(g),d.ca),p.push(g)),d=r.pm(),e=Hh(e,p,!0,d),s.oc()===360&&n.Cp(!0)%2===1){for(n=e,e=r.Pj(),n[0][1].x>n[0][n[0].length-1].x&&(n[0]=n[0].reverse()),g=[],h=n[0].length-1,p=0;p<h;p++)y=n[0][p],g[p]=new K(y.x-2*d.w,y.y),g[p+h]=new K(y.x-d.w,y.y),g[p+2*h]=new K(y.x,y.y),g[p+3*h]=new K(y.x+d.w,y.y),g[p+4*h]=new K(y.x+2*d.w,y.y);n[0]=g,p=d.wq(o,0),p.y=2*e[o===Df.NORTH?"top":"bottom"],o=p.clone(),p.x=n[0][n[0].length-1].x+1,o.x=n[0][0].x-1,n[0].push(p,o),e=n}if(o=l.left,n=l.top,p=l.right,l=l.bottom,qf(e,o,n,p,l,!0).length){if(!r.nm().Vo(s)){for(r=e,s=[new K(o,n),new K(p,n),new K(p,l),new K(o,l)],l=[],e=r.length;e--;)if(o=sf(s,r[e]))for(n=Ph(o),l.push(n);o.Nq;)o=o.Nq,n=Ph(o),l.push(n);e=l}}else r=Qh(o,n,e[0]),e[1]&&(r=r!==Qh(o,n,e[1])),e=r?[kh]:A;return e}function Qh(e,n,r){var o,s,l,d=o=r[0].x,h=s=r[0].y,p=1;for(l=r.length;p<l;p++){var g=r[p].x,y=r[p].y;g>o?o=g:g<d&&(d=g),y>s?s=y:y<h&&(h=y)}return d<=e&&e<=o&&h<=n&&n<=s&&mc({x:e,y:n},nc(r.concat(r[0])))}function Ph(e){var n=[],r=e;do{var o=Gb(100*(r.nC?r.nC:r.x))/100,s=Gb(100*(r.oC?r.oC:r.y))/100;if(!l||.01<Lb(Mb(l.x-o,2)+Mb(l.y-s,2))){var l=new K(o,s);n.push(l)}r=r.next}while(r&&r!==e);return n}Kh.prototype.Si=x;function Oh(e,n){var r,o=Number.POSITIVE_INFINITY,s=-1,l=e.length;for(r=0;r<l;r+=2){var d=Jb(e[r+1]-n);d+=180<d?360-d:d,d<o&&(o=d,s=r)}return 0<r?(n=e.splice(s,e.length-s),n.concat(e)):e}Kh.prototype.P=function(){var e=Kh.g.P.call(this),n=this.V(),r=this.Vf?n.ha:[n],o,s=e.properties,l=e.geometry=n.P();if(s.style=this.K().P(),s.height=this.nh+this.Jf,s.min_height=this.Jf,this.C().qc()&&(l.type="MultiPolygon",this.Vf)){var d=[];r.forEach(function(h,p){o=l.coordinates[p],h.C().qc()?d=d.concat(o):d.push(o)}),l.coordinates=d}return e},Kh.prototype.forWorkerMessage=Kh.prototype.P;function Rh(e,n,r){Rh.g.constructor.call(this,Lh,r),this.Zn(e),this.Yr(n),r&&this.lw in r&&this.Xr(r[this.lw])}u(Rh,Kh),t("H.map.Circle",Rh),Rh.prototype.Zn=function(e){(e=vc(e)).da(this.Ef)||(this.Ef=e,Sh(this))},Rh.prototype.setCenter=Rh.prototype.Zn,Rh.prototype.wb=function(){return this.Ef},Rh.prototype.getCenter=Rh.prototype.wb,Rh.prototype.Yr=function(e){if(D(e=gc(e,0,637100079e-2*Vb/2)))throw new C(this.Yr,0,e);this.wr!==e&&(this.wr=e,Sh(this))},Rh.prototype.setRadius=Rh.prototype.Yr,Rh.prototype.yA=function(){return this.wr},Rh.prototype.getRadius=Rh.prototype.yA,Rh.prototype.zn=60,Rh.prototype.Xr=function(e){if(!ob(e))throw new C(this.Xr,0,e);this.zn!==(e=gc(Gb(e),4,360))&&(this.zn=e,Sh(this))},Rh.prototype.setPrecision=Rh.prototype.Xr,Rh.prototype.lw="precision",Rh.prototype.vA=function(){return this.zn},Rh.prototype.getPrecision=Rh.prototype.vA,Rh.prototype.X=function(){return this},Rh.prototype.setGeometry=Rh.prototype.X,Rh.prototype.V=function(){return this.Hb===Lh&&Rh.g.X.call(this,Th(this)),this.Hb},Rh.prototype.getGeometry=Rh.prototype.V;function Sh(e){e.Hb!==x&&Rh.g.X.call(e,Th(e))}function Th(e){var n=e.Ef,r=n.lat,o=e.wr,s=0,l=new J;if(Jb(r)===90)for(r=n.mo(0,o,!0).lat;360>s;s+=120)l.tr(r,s-180,A);else for(e=e.zn,e=360/e;360>s;s+=e)l.tg(n.mo(s,o,!0));return n=new L(l),0>r&&n.Xw(Df.SOUTH),n}function Uh(e,n,r,o){if(!e||!n||!r)throw new C(Uh,A,"Must specify name, version and revision parameter");this.name=e,this.version=n,this.revision=r,o&&Wa(this,o)}t("H.util.BuildInfo",Uh),Uh.prototype.toString=function(){var e,n=[];for(e in this)lb(this[e])&&n.push(this[e]);return n.join(";")};var Vh={};function Wh(e,n,r,o){if(!e)throw new C(Wh,1,"Must specify a name parameter");return Vh[e]||(Vh[e]=new Uh(e,n,r,o))}Uh.get=Wh;function Xh(e,n){this.w=+e,this.h=+n}t("H.math.Size",Xh);function Yh(e,n,r,o,s){switch(n&&(this.gf=n),fb(r)&&(this.Ho=!!r),this.Ho&&o&&(this.Io=new Xh(o.w,o.h)),fb(s)&&(this.Gk={crossOrigin:s}),Zh[jb(e)]){case 2:this.gb=e,$h(this,1);break;case 1:if(df(e)){this.gb=e,ai(this),$h(this,1);break}e=e.src;case 0:if(e){e=Se(e),this.Cm=new qg("image",e,A,this.Gk),this.Cm.then(z(this.aC,this),z(this.$B,this));break}default:throw $h(this,-1),new C(Yh,0,"No image data")}}Yh.prototype.s=0,Yh.prototype.getState=function(){return this.s};function $h(e,n){e.s=n,delete e.Cm,e.gf&&e.gf(n,e)}Yh.prototype.Ho=!0;function ai(e){if(e.Ho){var n=e.gb,r=bi(e),o=r&&r.w||+n.width,s=r&&r.h||+n.height,l=Ke();if(B(n,globalThis.HTMLCanvasElement))r=n;else{r=n.ownerDocument.createElement("canvas"),r.width=Ib(o*l),r.height=Ib(s*l);var d=r.getContext("2d");d.scale(l,l),d.drawImage(n,0,0,o,s),Ma&&(d.clearRect(0,0,o,s),d.drawImage(n,0,0,o,s))}e.gb=r}}Yh.prototype.getData=function(){return this.gb||x};var Zh={String:0,HTMLImageElement:1,HTMLCanvasElement:2};m=Yh.prototype,m.Io=x,m.mc=function(){return this.s===1?bi(this):x};function bi(e){var n=e.Io,r;if(!n){var o=e.gb;if(n=o.naturalWidth||o.width,n===0&&Qe&&Zh[jb(o)]===1){var s=!0;if(r=o.parentNode)var l=o.nextSibling;document.body.appendChild(o)}e.Io=n=new Xh(o.naturalWidth||o.width,o.naturalHeight||o.height),s&&(r?r.insertBefore(o,l):document.body.removeChild(o))}return n}m.aC=function(e){this.gb=e,ai(this),$h(this,1)},m.$B=function(){$h(this,-1)},m.cancel=function(){this.Cm&&this.Cm.cancel()};function ci(e,n,r){var o="anonymous",s=1;this.Wg=z(this.Wg,this),N.call(this,r),this.X(e),r&&(e="crossOrigin",e in r&&(o=r[e]),e="opacity",e in r&&(s=r[e])),this.Tw(n,o),this.Fd(s)}u(ci,N),t("H.map.Overlay",ci),ci.prototype.type=zh.OVERLAY,ci.prototype.C=function(){return this.J},ci.prototype.getBoundingBox=ci.prototype.C,ci.prototype.si=function(e){return B(e,E,this.si,0,e),this.X(e)},ci.prototype.setBoundingBox=ci.prototype.si,ci.prototype.V=function(){return this.J},ci.prototype.getGeometry=ci.prototype.V,ci.prototype.X=function(e){var n=this.J,r=!n;return B(e,E,this.X,0,e),(r||!n.da(e))&&(this.J=e,r||this.ra(hh.SPATIAL)),this},ci.prototype.setGeometry=ci.prototype.X,ci.prototype.Te=function(){return this.gb.getData()},ci.prototype.getBitmap=ci.prototype.Te,ci.prototype.Tw=function(e,n){var r=this.gb;return r&&r.getState()!==1&&r.cancel(),this.gb=new Yh(e,this.Wg,!0,A,n),this},ci.prototype.setBitmap=ci.prototype.Tw,ci.prototype.Wg=function(e,n){this.gb=n,e===1&&this.ra(hh.VISUAL)},ci.prototype.Ve=function(){return this.Sc},ci.prototype.getOpacity=ci.prototype.Ve,ci.prototype.Fd=function(e){var n=this.Sc,r=2>n;if(e-=0,0<=e&&1>=e)e!==n&&(this.Sc=e,r&&this.ra(hh.VISUAL));else throw new C(this.Fd,0);return this},ci.prototype.setOpacity=ci.prototype.Fd,ci.prototype.P=function(){var e=ci.g.P.call(this);return e.geometry=Cf(this.J).P(),e.properties.overlay=!0,e},ci.prototype.forWorkerMessage=ci.prototype.P;var di={PROVIDES_BY_VIEWPORT:1,PROVIDES_RASTERS:2,PROVIDES_SPATIALS:4,PROVIDES_OVERLAYS:8,PROVIDES_MARKERS:16,PROVIDES_DOM_MARKERS:32,PROVIDES_GEOJSON:64,PROVIDES_OMV:128,CROP_LINES_BY_TILE:256,CROP_POLYGONS_BY_TILE:512,HAS_VOLATILE_DATA:1024};t("H.map.provider.Capabilities",di),di.PROVIDES_WEBGL_RENDERABLE_OBJECTS=di.PROVIDES_SPATIALS|di.PROVIDES_OVERLAYS|di.PROVIDES_MARKERS;function ei(e){this.Ba=e}ei.prototype.Ke=function(){var e={};if(this.Ba&di.PROVIDES_RASTERS&&(e={"translucent-raster":Ug("raster","inlay",1)}),this.Ba&di.PROVIDES_WEBGL_RENDERABLE_OBJECTS){var n=!!(this.Ba&di.CROP_LINES_BY_TILE),r={"translucent-polygons":Ug("polygons","inlay",2),"translucent-extruded-polygons":Ug("polygons","translucent",3),"translucent-pattern-lines":Ug("pattern-lines","translucent",4),"translucent-overlays":Ug("overlays","inlay",5),markers:Ug("custom_icons","overlay",6,!1)};r["translucent-polygons"].crop_by_tile=!!(this.Ba&di.CROP_POLYGONS_BY_TILE),r["translucent-pattern-lines"].crop_by_tile=n,r.markers.suppress_fade=!0,r.markers.stick=!0,Wa(e,r)}return e};function fi(e,n,r,o,s){this.Ba=e,this.uid=n,this.Dv=r,this.Kq=o,this.tileSize=s}fi.prototype.Ke=function(){var e={};return e[this.uid]=this.Ba&di.PROVIDES_BY_VIEWPORT?gi(this,"ObjectSource",!1,{progressiveUpdate:!0,has_volatile_data:!!(this.Ba&di.HAS_VOLATILE_DATA)}):this.Ba&di.PROVIDES_RASTERS?gi(this,"RemoteRasterTileSource",!0,{url:""}):gi(this,"ObjectTileSource",!0,{tile_size:this.tileSize}),e};function gi(e,n,r,o){return e={type:n,uid:e.uid,tiled:r,max_zoom:e.Kq},o&&Wa(e,o),e}function hi(e,n,r){this.Ba=e,this.uid=n,this.opacity=r,this.$m=this.Ba&di.PROVIDES_BY_VIEWPORT?"function(){return sources[$source].isInMinMaxRange(feature, $zoom) && feature.ref.effectiveVisibility;}":A,this.bg={}}hi.prototype.Ke=function(){if(this.Ba&di.PROVIDES_RASTERS&&(this.bg["tile_layer_"+this.uid]=Wg(this.uid,"_default",{"translucent-raster":{color:[1,1,1,this.opacity],order:0}})),this.Ba&di.PROVIDES_SPATIALS){var e={"translucent-pattern-lines":{color:Tg("strokeColor"),width:Tg("lineWidth * $meters_per_pixel"),join:Tg("lineJoin"),cap:Tg("lineCap"),tail_cap:Tg("lineTailCap"),head_cap:Tg("lineHeadCap"),miter_limit:Tg("miterLimit"),order:"function() { return 2 + feature.effectiveZIdx / 2; }",interactive:!0,dash:Tg("lineDash"),extrude:!0,dash_phase:Tg("lineDashOffset")}},n=this.bg,r="polygon_layer_"+this.uid,o=Wg(this.uid,"polygons",void 0,this.$m);o.flat={filter:"function(){return !feature.height && !feature.min_height;}",draw:Vg(!1)},o.extruded={filter:"function(){return feature.height || feature.min_height;}",draw:Vg(!0)},n[r]=o,this.bg["outline_layer_"+this.uid]=Wg(this.uid,"outlines",e,this.$m),this.bg["polyline_layer_"+this.uid]=Wg(this.uid,"polylines",e,this.$m)}return this.Ba&di.PROVIDES_OVERLAYS&&(this.bg["overlay_layer_"+this.uid]=Wg(this.uid,"overlays",{"translucent-overlays":{color:[1,1,1,this.opacity],order:8190,interactive:!0}})),this.Ba&di.PROVIDES_MARKERS&&(this.bg["marker_layer_"+this.uid]=Wg(this.uid,"markers",{markers:{sprite:Sg("icon.id"),offset:Sg("icon.offset"),collide:!1,priority:8191,elevate_by_altitude:!0,interactive:!0,stick:{color:Sg("icon.stick_color"),height:Sg("icon.stick_height")}}},this.$m)),this.bg};function ii(e,n,r,o,s,l){this.Ba=e,this.uid=n,this.Dv=r,this.Kq=o,this.opacity=s,this.tileSize=l}ii.prototype.Ke=function(){if(this.Ba&di.PROVIDES_DOM_MARKERS&&!(this.Ba&di.PROVIDES_MARKERS))return{};var e=new fi(this.Ba,this.uid,this.Dv,this.Kq,this.tileSize),n=new ei(this.Ba),r=new hi(this.Ba,this.uid,this.opacity);return e=e.Ke(),n=n.Ke(),r=r.Ke(),{sources:e,styles:n,layers:r}};function ji(e,n,r){ji.g.constructor.call(this,e),this.oldValue=r,this.newValue=n}u(ji,pd),t("H.util.ChangeEvent",ji),t("H.util.constants.DEFAULT_MIN_ZOOM_LEVEL",0),t("H.util.constants.DEFAULT_MAX_ZOOM_LEVEL",22);var ki={FEATURE:1,SOURCE:2,PROVIDER:3};t("H.map.provider.PickingMode",ki);function Q(e){var n=""+Ve(),r;if(Q.g.constructor.call(this),e=e||{},this.min=e.min||0,this.max=e.max||22,r=e.uri){if(/_/.test(r))throw new C(Q,0,"uri "+r)}else r=n;if(this.uri=r||n,this.uid=n,e.getCopyrights&&ib(e.getCopyrights,"Function",Q)&&(this.getCopyrights=e.getCopyrights),this.Eb=this.Eb.bind(this),this.lq=!0,this.vb=e.engineType||li,this.vb===mi.HARP&&!H.map.render.harp)throw new C(Q,0,"HARP engine is not supported, module not found")}u(Q,I),t("H.map.provider.Provider",Q),m=Q.prototype,m.j={Li:"configchange",Aa:"update"},m.jb=function(e,n){this.dispatchEvent(new Qd(this.j.Aa,n,e))},m.Eb=function(e){e=new ji(this.j.Li,e&&e.newValue,e&&e.oldValue),this.dispatchEvent(e)},m.disposeInternal=function(){I.prototype.disposeInternal.call(this),this.Ya&&(this.Ya.removeEventListener("change",this.Eb),this.Ya.l(),delete this.Ya)},m.U=function(){return null},Q.prototype.getCopyrights=Q.prototype.U,Q.prototype.getCapabilities=function(){var e=0;return this.qr()&&(e|=di.PROVIDES_BY_VIEWPORT),this.providesRasters()&&(e|=di.PROVIDES_RASTERS),this.providesSpatials()&&(e|=di.PROVIDES_SPATIALS),this.providesOverlays()&&(e|=di.PROVIDES_OVERLAYS),this.providesMarkers()&&(e|=di.PROVIDES_MARKERS),this.providesDomMarkers()&&(e|=di.PROVIDES_DOM_MARKERS),this.providesGeoJSON()&&(e|=di.PROVIDES_GEOJSON),this.providesOMV()&&(e|=di.PROVIDES_OMV),e},Q.prototype.getCapabilities=Q.prototype.getCapabilities,Q.prototype.qr=Xe,Q.prototype.zk=Xe,Q.prototype.providesRasters=Q.prototype.zk,Q.prototype.ne=Xe,Q.prototype.providesSpatials=Q.prototype.ne,Q.prototype.sr=Xe,Q.prototype.providesOverlays=Q.prototype.sr,Q.prototype.Wc=Xe,Q.prototype.providesMarkers=Q.prototype.Wc,Q.prototype.Vc=Xe,Q.prototype.providesDomMarkers=Q.prototype.Vc,Q.prototype.rr=Xe,Q.prototype.providesGeoJSON=Q.prototype.rr,Q.prototype.Xc=Xe,Q.prototype.providesOMV=Q.prototype.Xc,Q.prototype.Mz=function(){return this.vb},Q.prototype.getEngineType=Q.prototype.Mz,Q.prototype.$C=function(e){this.vb=e},Q.prototype.setEngineType=Q.prototype.$C,Q.prototype.xk=Ye,Q.prototype.preprocessData=Q.prototype.xk,Q.prototype.Sc=1,Q.prototype.Fg=function(e){e=gc(e,0,1),D(e)&&(e=1),this.Sc!==e&&(this.Sc=e,this.lq&&ni(this),this.Eb(),this.jb())},Q.prototype.mA=function(){return this.Sc},Q.prototype.getOpacityInternal=Q.prototype.mA,Q.prototype.Xa=function(e,n){var r=this;if(this.vb===mi.WEBGL&&!B(e,Xg)||this.vb===mi.HARP&&!B(e,H.map.render.harp.Style))throw e=Object.entries(mi).find(function(o){return o[1]===r.vb}),new C(this.Xa,0,"Invalid style for engineType "+e);this.Ya&&(this.Ya.removeEventListener("change",this.Eb),this.Ya.removeEventListener(Bg,this.Eb),this.Ya.l()),this.Ya=e,this.Ya.addEventListener("change",this.Eb),this.Ya.addEventListener(Bg,this.Eb),n||this.Eb(),this.lq=!1},Q.prototype.setStyleInternal=Q.prototype.Xa,Q.prototype.mb=function(){return this.Ya||ni(this),this.Ya},Q.prototype.getStyleInternal=Q.prototype.mb;function ni(e){if(e.vb===mi.WEBGL){var n=new ii(e.getCapabilities(),e.uid,e.min,e.max,e.Sc,e.tileSize);e.Ya=new Xg(n.Ke())}else e.vb===mi.HARP&&H.map.render.harp&&(e.Ya=new H.map.render.harp.Style({}));e.lq=!0}Q.prototype.ru=function(){var e=this.getCapabilities(),n=ki.FEATURE;return e&di.PROVIDES_BY_VIEWPORT?n=ki.SOURCE:e&di.PROVIDES_RASTERS?n=null:e&di.PROVIDES_WEBGL_RENDERABLE_OBJECTS&&(n=ki.PROVIDER),n},Q.prototype.getPickingMode=Q.prototype.ru,Q.prototype.Rz=function(){return!1},Q.prototype.getFeatureProxy=Q.prototype.Rz;function oi(){}function pi(e){return Eb(1,Fb(0,.5-Kb(Rb(Xb+Wb*e/180))/Vb/2))}oi.prototype.Sm=function(e,n,r){return r?(r.x=n/360+.5,r.y=pi(e)):r=new K(n/360+.5,pi(e)),r},oi.prototype.latLngToPoint=oi.prototype.Sm,oi.prototype.Se=function(e,n){return this.Sm(e.lat,e.lng,n)},oi.prototype.geoToPoint=oi.prototype.Se;function qi(e){return 0>=e?90:1<=e?-90:ac*(2*Sb(Nb(Vb*(1-2*e)))-Wb)}oi.prototype.Za=function(e,n,r){return r?(r.lat=qi(n),r.lng=360*(e===1?1:ec(e,1))-180):r=new tc(qi(n),360*(e===1?1:ec(e,1))-180),r},oi.prototype.xyToGeo=oi.prototype.Za,oi.prototype.wn=function(e,n){return this.Za(e.x,e.y,n)},oi.prototype.pointToGeo=oi.prototype.wn;var ri=new oi;t("H.geo.mercator",ri);function si(e,n){this.projection=e||ri,this.Ii=0,this.jl=this.exp=Kb(n||256)/Ub,ti(this),this.y=this.x=0}t("H.geo.PixelProjection",si);var ui=Jb(24)+Jb(-8);si.prototype.Dn=ri,si.prototype.projection=si.prototype.Dn,si.prototype.x=0,si.prototype.x=si.prototype.x,si.prototype.y=0,si.prototype.y=si.prototype.y,si.prototype.w=Mb(2,ui),si.prototype.w=si.prototype.w,si.prototype.UA=Mb(2,ui),si.prototype.h=si.prototype.UA,si.prototype.Va=function(e){if(D(e))throw new C(this.Va,0,e);var n=this.x/this.w,r=this.y/this.h;this.Ii=e,this.jl=this.exp+e,ti(this),this.x=n*this.w,this.y=r*this.h},si.prototype.rescale=si.prototype.Va;function ti(e){e.jl>ui&&(e.jl=ui),e.w=Mb(2,e.jl),e.h=Mb(2,e.jl)}si.prototype.xu=function(){return this.Ii||0},si.prototype.getZoomScale=si.prototype.xu,si.prototype.Gb=function(e,n){return e=this.projection.Sm(e.lat,e.lng,n),e.x=e.x*this.w-this.x,e.y=e.y*this.h-this.y,e},si.prototype.geoToPixel=si.prototype.Gb,si.prototype.sk=function(e,n){return this.projection.Za((e.x+this.x)/this.w,(e.y+this.y)/this.h,n)},si.prototype.pixelToGeo=si.prototype.sk,si.prototype.Za=function(e,n,r){return this.projection.Za((e+this.x)/this.w,(n+this.y)/this.h,r)},si.prototype.xyToGeo=si.prototype.Za,si.prototype.wq=function(e,n,r){return e=this.projection.Sm(e,n,r),e.x=e.x*this.w-this.x,e.y=e.y*this.h-this.y,e},si.prototype.latLngToPixel=si.prototype.wq,si.prototype.bi=function(e){return new K(e.x*this.w-this.x,e.y*this.h-this.y)},si.prototype.pointToPixel=si.prototype.bi;function vi(e){e=e||{},vi.g.constructor.call(this),this.min=0,this.max=22,this.Ny=this.dark=!!e.dark,e.min&&this.Tr(e.min),e.max&&this.Rr(e.max),this.pixelProjection=new si(e.projection,e.minWorldSize),e.provider&&(this.D=e.provider,this.jb=z(this.jb,this),this.D.addEventListener(Q.prototype.j.Aa,this.jb,!1,this),this.Eb=z(this.Eb,this),this.D.addEventListener(Q.prototype.j.Li,this.Eb,!1,this))}u(vi,I),t("H.map.layer.Layer",vi),vi.prototype.min=0,vi.prototype.min=vi.prototype.min,vi.prototype.max=22,vi.prototype.max=vi.prototype.max,vi.prototype.j={Aa:"update",Li:"configchange",Qs:"minchange",Ps:"maxchange"},vi.prototype.Pp=function(){return this.D},vi.prototype.getProvider=vi.prototype.Pp,vi.prototype.iB=function(e){return this.min<=e&&e<=this.max},vi.prototype.isValid=vi.prototype.iB;function wi(e,n,r){var o=e[n],s=n==="min",l=s?e.Tr:e.Rr;if(r!==o)if(s?r<=e.max:r>=e.min)e[n]=r,e.jb(),e.Eb(),e.dispatchEvent(new ji(s?e.j.Qs:e.j.Ps,r,o));else throw new C(l,0,"Invalid condition min <= max");return e}vi.prototype.Tr=function(e){return wi(this,"min",+e)},vi.prototype.setMin=vi.prototype.Tr,vi.prototype.Rr=function(e){return wi(this,"max",+e)},vi.prototype.setMax=vi.prototype.Rr,vi.prototype.jb=function(){this.dispatchEvent(this.j.Aa)},vi.prototype.Eb=function(e){e=new ji(this.j.Li,e&&e.newValue,e&&e.oldValue),this.dispatchEvent(e)},vi.prototype.disposeInternal=function(){vi.g.disposeInternal.call(this)},vi.prototype.U=function(){return null},vi.prototype.getCopyrights=vi.prototype.U;function xi(e,n){xi.g.constructor.call(this,n),ib(e,"Function",xi,0,"invalid render callback"),this.Ar=e}u(xi,vi),t("H.map.layer.DomLayer",xi),xi.prototype.L=function(e,n){return this.Ar(e,n)},t("H.util.Disposable",ed),ed.prototype.bc=ed.prototype.bc,ed.prototype.addOnDisposeCallback=ed.prototype.bc,t("H.util.dispose",dd),ed.prototype.l=ed.prototype.l,ed.prototype.dispose=ed.prototype.l,ed.prototype.disposeInternal=ed.prototype.disposeInternal,ed.prototype.disposeInternal=ed.prototype.disposeInternal;function yi(e,n,r,o){yi.g.constructor.call(this),this.nd=e,this.ja=o,this.element=e.appendChild(this.createElement(e.ownerDocument)),this.Uk(n,r)}u(yi,ed),yi.prototype.B=function(){return this.element},yi.prototype.Uk=function(e,n){this.size?(this.size.w=e,this.size.h=n):this.size=new Xh(e,n),this.Zw(this.element,this.element.style,e,n,this.ja)},yi.prototype.setSize=yi.prototype.Uk,m=yi.prototype,m.mc=function(){return this.size},m.lb=function(){return this.ja},m.$u=!0,m.Zb=function(e){e!==this.$u&&(this.element.style.display=e?"block":"none",this.$u=e)},m.opacity=1,m.Fd=function(e){this.opacity!==e&&(this.Fg(e),this.opacity=e)},m.Ve=function(){return this.opacity},m.ui=function(e){this.element.style.zIndex=e},yi.prototype.setZIndex=yi.prototype.ui,yi.prototype.wu=function(){return+this.element.style.zIndex},yi.prototype.Re=function(){},yi.prototype.clear=function(){},yi.prototype.disposeInternal=function(){this.clear(),this.nd.removeChild(this.element),this.Uk(0,0),delete this.element,delete this.nd,yi.g.disposeInternal.call(this)},yi.prototype.disposeInternal=yi.prototype.disposeInternal,yi.prototype.yw=0,yi.prototype.Sn=function(){++this.yw},yi.prototype.release=function(){--this.yw||this.l()};function zi(e,n){var r=n||{},o=r.contextType;if(r=r.contextAttributes,zi.g.constructor.call(this,n),ib(e,"Function",zi,0,"invalid render callback"),o){if(Ai.indexOf(o)===-1)throw new C(zi,1,"invalid context type");this.ij=o}r&&(this.hj=r),this.Ar=e}u(zi,vi),t("H.map.layer.CanvasLayer",zi);var Ai=["2d","webgl","webgl2","experimental-webgl"];m=zi.prototype,m.ij="2d",m.uh=function(){return this.ij},m.getContextAttributes=function(){return this.hj},m.L=function(e,n){return this.Sl&&this.Sl.canvas===e||(this.Sl=e.getContext(this.ij,this.hj)),this.Ar(this.Sl,n)},m.disposeInternal=function(){zi.g.disposeInternal.call(this),delete this.Sl};function Bi(e,n){Bi.g.constructor.call(this,!1,n),this.X(e)}u(Bi,Gh),t("H.map.Polyline",Bi),Bi.prototype.C=function(){return this.Hb.C()},Bi.prototype.getBoundingBox=Bi.prototype.C,Bi.prototype.X=function(e){var n=this.X,r,o;if(B(e,Lf)){var s=e.ha;if(r=s.length)for(o=0;o<r;o++)Ci(s[o],n);else throw new C(n,0)}else Ci(e,n);return this.Vf=!!s,this.Hb=e,this.ra(hh.SPATIAL),this},Bi.prototype.setGeometry=Bi.prototype.X,Bi.prototype.V=function(){return this.Hb},Bi.prototype.getGeometry=Bi.prototype.V,Bi.prototype.clip=function(e){var n=this.Hb;return nf(this.Vf?n.ha[0]:n,e)},Bi.prototype.clip=Bi.prototype.clip,Bi.prototype.xh=function(e){var n=this.Hb,r,o=[];if(this.Vf)for(n=n.ha,r=n.length;r--;)Di(this,n[r],e,o);else Di(this,n,e,o);return o.length?o:A},Bi.prototype.getGeometriesForTile=Bi.prototype.xh;function Ci(e,n){if(!B(e,J)||2>e.Mj())throw new C(n,0)}function Di(e,n,r,o){var s=nf(n,r.nm());if(s.length&&(n=r.pm(),e=Hh(e,s,!1,n),s=e.length)){var l=r.Pj();n=n.w,r.x||Jh(e,s,-n),r.x===(1<<r.z)-1&&Jh(e,s,n),r=qf(e,l.left,l.top,l.right,l.bottom,!1),r.length&&o.push(new ih(r))}}Bi.prototype.P=function(){var e=Bi.g.P.call(this),n=e.properties;return e.geometry=this.V().P(),n.style=this.K().P(),n.height=0,e},Bi.prototype.forWorkerMessage=Bi.prototype.P;function Ei(e,n){if(!B(e,Element)){if(Fi.innerHTML=e,e=Fi.firstElementChild,!e)throw new C(Ei,0,"No element data");Fi.removeChild(e);var r=!0;Fi.innerHTML=""}this.Uo=af(e).length!==0,this.Nt=r?e:bf(e,globalThis.document,this.Uo),n&&(r="onAttach",r in n&&ib(e=n[r],"Function",Ei,1,r)&&(this.Oq=e),r="onDetach",r in n&&ib(e=n[r],"Function",Ei,1,r)&&(this.Sq=e))}t("H.map.DomIcon",Ei);var Fi=document.createElement("DIV");Ei.prototype.Oq=null,Ei.prototype.Sq=null,Ei.prototype.eu=function(e){return bf(this.Nt,e,this.Uo)},Ei.prototype.Uo=!1;function Gi(e,n){var r,o=e,s=n||[];if(e!==Hi.NONE){if(n=r=s.length,Ii.indexOf(o)===-1)throw new C(Gi,0,e);if(!s)throw new C(Gi,1,s);for(;r--;)if(D(s[r]))throw new C(Gi,1,s);if(o===Hi.RECT&&3<n&&(s=[s[0],s[1],s[2],s[1],s[2],s[3],s[0],s[3]],o=Hi.POLYGON),o===Hi.CIRCLE&&2<n&&(e=s[2],0<e)){o=s[0];var l=s[1];r=Eb(2*Ib(e),40);var d=360/r;for(s=[];r--;){var h=d*r*$b;s.push(o+Ob(h)*e,l+Qb(h)*e)}o=Hi.POLYGON}if(o!==Hi.POLYGON||!n||s.length%2)throw new C(Gi,1,s);this.jw=s}}t("H.map.HitArea",Gi);var Hi={NONE:0,RECT:1,CIRCLE:2,POLYGON:3};Gi.ShapeType=Hi;var Ii=[Hi.RECT,Hi.CIRCLE,Hi.POLYGON];Gi.prototype.Bm=function(e,n,r){return this.jw?lc(e,n,this.jw,r,!0):kc.NONE},Gi.prototype.hitTest=Gi.prototype.Bm;function Ji(e,n){var r;gb(this,Ji),Ji.g.constructor.call(this,n),this.X(e),n&&"icon"in n&&(r=n.icon),this.we(r||this.Dp())}u(Ji,N),t("H.map.AbstractMarker",Ji),Ji.prototype.V=function(){return this.hm},Ji.prototype.getGeometry=Ji.prototype.V,Ji.prototype.X=function(e){var n=this.hm;return B(e,tc)||B(e,Nf)?this.hm=e:(uc(e,this.X,0),this.hm=vc(e)),n&&this.ra(hh.SPATIAL),this},Ji.prototype.setGeometry=Ji.prototype.X,Ji.prototype.C=function(){return this.hm.C()},Ji.prototype.kc=function(){return this.icon},Ji.prototype.getIcon=Ji.prototype.kc,Ji.prototype.we=function(e){var n=this.icon,r=!n;if(n!==e){if(!this.Zu(e))throw r?new C(this.constructor,1,e):new C(this.we,0,e);this.icon=e,r||this.ra(hh.VISUAL)}return this},Ji.prototype.setIcon=Ji.prototype.we,Ji.prototype.Dp=function(){var e=this.Py;return e||(e=this.constructor.prototype.Py=this.tt(Ki)),e};var Ki={svg:'<svg xmlns="http://www.w3.org/2000/svg" width="38" height="47" viewBox="0 0 38 47"><g fill="none"><path fill="#0F1621" fill-opacity=".4" d="M15 46c0 .317 1.79.574 4 .574s4-.257 4-.574c0-.317-1.79-.574-4-.574s-4 .257-4 .574z"></path><path fill="#01b6b2" d="M33.25 31.652A19.015 19.015 0 0 0 38 19.06C38 8.549 29.478 0 19 0S0 8.55 0 19.059c0 4.823 1.795 9.233 4.75 12.593L18.975 46 33.25 31.652z"></path><path fill="#6A6D74" fill-opacity=".5" d="M26.862 37.5l4.714-4.77c3.822-3.576 5.924-8.411 5.924-13.62C37.5 8.847 29.2.5 19 .5S.5 8.848.5 19.11c0 5.209 2.102 10.044 5.919 13.614l4.719 4.776h15.724zM19 0c10.493 0 19 8.525 19 19.041 0 5.507-2.348 10.454-6.079 13.932L19 46 6.079 32.973C2.348 29.495 0 24.548 0 19.04 0 8.525 8.507 0 19 0z"></path></g></svg>',size:new Xh(38,47),anchor:new K(19,45),hitArea:new Gi(Hi.POLYGON,[19,46,2,27,0,18,5,6,19,0,32,5,38,15,36,27,19,47])};Ji.prototype.P=function(){var e=Ji.g.P.call(this),n=this.kc(),r=n.mc(),o=n.Db;return e.geometry=this.V().P(),r&&(n=e.properties.icon={id:n.uid},n.size={w:r.w,h:r.h},n.offset=[r.w/2-(o?o.x:0),r.h/2-(o?o.y:0)]),e},Ji.prototype.forWorkerMessage=Ji.prototype.P;function Li(e,n){Li.g.constructor.call(this,e,n)}u(Li,Ji),t("H.map.DomMarker",Li),Li.prototype.type=zh.DOM_MARKER,Li.prototype.ro=2,Li.prototype.tt=function(e){var n=new Ei(e.svg,e);return e=e.anchor,n.Nt.style.margin=-e.y+"px 0 0 -"+e.x+"px",n},Li.prototype.Zu=function(e){return B(e,Ei)};function Mi(e,n){Mi.g.constructor.call(this,Lh,n),this.si(e)}u(Mi,Kh),t("H.map.Rect",Mi),Mi.prototype.si=function(e){if(!B(e,E))throw new C(this.si,0,e);e.da(this.Si)||(this.Si=this.J=e,this.Hb!==x&&Mi.g.X.call(this,Cf(e)))},Mi.prototype.setBoundingBox=Mi.prototype.si,Mi.prototype.C=function(){return this.J},Mi.prototype.getBoundingBox=Mi.prototype.C,Mi.prototype.X=function(){return this},Mi.prototype.setGeometry=Mi.prototype.X,Mi.prototype.V=function(){return this.Hb===Lh&&Mi.g.X.call(this,Cf(this.Si)),this.Hb},Mi.prototype.getGeometry=Mi.prototype.V;function Ni(e,n,r,o){Ni.g.constructor.call(this,e,n,r),this.modifiers=o}u(Ni,ji),t("H.map.ChangeEvent",Ni);var Oi={SIZE:1,POSITION:2,HEADING:4,TILT:8,INCLINE:16,ZOOM:32,BOUNDS:64};Ni.Type=Oi,Ni.prototype.ey=Oi.SIZE,Ni.prototype.SIZE=Ni.prototype.ey,Ni.prototype.Ss=Oi.POSITION,Ni.prototype.POSITION=Ni.prototype.Ss,Ni.prototype.Ks=Oi.HEADING,Ni.prototype.HEADING=Ni.prototype.Ks,Ni.prototype.Vs=Oi.TILT,Ni.prototype.TILT=Ni.prototype.Vs,Ni.prototype.Ls=Oi.INCLINE,Ni.prototype.INCLINE=Ni.prototype.Ls,Ni.prototype.Ws=Oi.ZOOM,Ni.prototype.ZOOM=Ni.prototype.Ws,Ni.prototype.Es=Oi.BOUNDS,Ni.prototype.BOUNDS=Ni.prototype.Es;function Pi(e,n){db(e)&&(this.Vv=e),ob(n)&&(this.ml=n)}t("H.util.Request",Pi),Pi.State={PENDING:0,PROCESSING:1,COMPLETE:2,CANCELLED:3,ERROR:4};var Qi=[0,1,2,3,4];Pi.prototype.s=0,Pi.prototype.getState=function(){return this.s},Pi.prototype.getState=Pi.prototype.getState,Pi.prototype.F=function(e){if(0>Qi.indexOf(e))throw new C(this.F,0,e);(this.s!==e||e===1&&1<this.ml)&&(this.s=e,this.Vv&&this.Vv(this))},Pi.prototype.ml=1,Pi.prototype.LA=function(){return this.ml},Pi.prototype.getTotal=Pi.prototype.LA,Pi.prototype.Bn=0,Pi.prototype.wA=function(){return this.Bn},Pi.prototype.getProcessed=Pi.prototype.wA,Pi.prototype.Vt=0,Pi.prototype.Qz=function(){return this.Vt},Pi.prototype.getFailed=Pi.prototype.Qz;function Ri(e,n){e.Bn<e.ml&&(fb(n)||(n=2),n===0||n===1||e.s!==0&&e.s!==1||(e.Bn++,n!==2&&e.Vt++,e.F(e.Bn<e.ml?1:2)))}Pi.prototype.Wi=function(){},Pi.prototype.cancel=function(){this.s!==3&&(this.Wi(),this.F(3))},Pi.prototype.cancel=Pi.prototype.cancel;function Si(e,n,r,o,s,l){var d;for(d=[];o<=s;o++){var h=d.concat,p=e,g=r,y=Hb(o);p.pixelProjection.Va(y);var v=p.Bj(g);g=p.Fh(v,y),y=Ti(p,g,v.left>v.right,y),d=h.call(d,y)}for(e=d.length,Pi.call(this,l,e),this.lx=r=[],this.Zq=z(this.Zq,this),this.Yq=z(this.Yq,this),this.F(1);e--;)l=d[e],r.push(Ui(n,l[0],l[1],l[2],this.Zq,this.Yq))}u(Si,Pi),Si.prototype.Zq=function(){Ri(this,2)},Si.prototype.Yq=function(){Ri(this,4)},Si.prototype.Wi=function(){for(var e=this.lx,n=e.length;n--;)e[n].cancel();delete this.lx};function Vi(e,n){n=n||{};var r;if(!B(e,Element))throw new C(Vi,0,e);var o=e.ownerDocument.createElement("div");this.G=e,Vi.g.constructor.call(this),this.padding=new lh(0,0,0,0),this.center=new K(0,0),this.margin=0,this.element=o,o.style.zIndex=0,o.style.height=o.style.width="100%",o.style.direction="ltr",o.style.position=e.style.position==="relative"?"absolute":"relative",this.resize(),e.appendChild(o),(r=n.padding)!==A&&this.Vr(r.top,r.right,r.bottom,r.left),this.Qr((r=n.margin)!==A?r:0)}u(Vi,I),t("H.map.ViewPort",Vi),Vi.prototype.j={Aa:"update",Oi:"sync"},Vi.prototype.Qr=function(e){if(this.margin!==+e){if(D(this.margin=+e))throw new C(this.Qr,0,e);this.De(),this.dispatchEvent(this.j.Aa)}},Vi.prototype.setMargin=Vi.prototype.Qr,Vi.prototype.Vr=function(e,n,r,o){var s=this.padding;if(s.top!==e||s.right!==n||s.bottom!==r||s.left!==o){if(D(e+n+r+o))throw new C(this.Vr);s.top=e,s.right=n,s.bottom=r,s.left=o,this.De(),this.dispatchEvent(this.j.Aa)}},Vi.prototype.setPadding=Vi.prototype.Vr,Vi.prototype.De=function(){var e=this.padding;this.center.set((this.width+e.left-e.right)/2<<0,(this.height+e.top-e.bottom)/2<<0)},Vi.prototype.resize=function(){var e=this.G.offsetWidth,n=this.G.offsetHeight;(this.width!==e||this.height!==n)&&(this.SB=new Xh(this.width,this.height),this.width=e,this.height=n,this.De(),this.dispatchEvent(this.j.Aa))},Vi.prototype.resize=Vi.prototype.resize,Vi.prototype.rb=function(e){this.dispatchEvent(new Ni(this.j.Oi,this.SB,e,Oi.SIZE))},Vi.prototype.synchronize=Vi.prototype.rb,Vi.prototype.disposeInternal=function(){this.G.removeChild(this.element),delete this.G,delete this.element,Vi.g.disposeInternal.call(this)},Vi.prototype.Jd=Ab,Vi.prototype.startInteraction=Vi.prototype.Jd,Vi.prototype.wd=Ab,Vi.prototype.interaction=Vi.prototype.wd,Vi.prototype.ic=Ab,Vi.prototype.endInteraction=Vi.prototype.ic;function Wi(e,n){if(n=n||{},!e)throw new C(Wi,0,e);this.tileSize=e.tileSize,this.ux={},vi.call(this,{min:n.min!==void 0?n.min:e.min,max:n.max!==void 0?n.max:e.max,minWorldSize:this.tileSize,projection:n.Dn,dark:n.dark,provider:e})}u(Wi,vi),t("H.map.layer.BaseTileLayer",Wi),Wi.prototype.Bj=function(e,n){var r=this.pixelProjection;if(!B(e,E))throw new C(this.Bj,0,e);if(!D(n)){var o=r.xu();r.Va(n)}return e=mh(r.Gb(e.Oc()),r.Gb(e.Mc())),!D(o)&&r.Va(o),e},Wi.prototype.geoRectToRect=Wi.prototype.Bj,Wi.prototype.Fh=function(e,n){var r=Mb(2,Hb(n)),o=this.tileSize;if(!B(e,lh))throw new C(this.Fh,0,e);if(D(n=+n))throw new C(this.Fh,1,n);n=Hb(e.left/o),n===r&&--n;var s=Hb(e.right/o);return s===r&&--s,new lh(n,gc(Hb(e.top/o),0,r-1),s,gc(Hb(e.bottom/o),0,r-1))},Wi.prototype.getTileBounds=Wi.prototype.Fh,Wi.prototype.Pa=function(e,n,r,o){return this.D.requestTile(e,n,r,o)},Wi.prototype.requestTile=Wi.prototype.Pa,Wi.prototype.Nd=function(e,n,r){this.D.cancelTile(e,n,r)},Wi.prototype.cancelTile=Wi.prototype.Nd,Wi.prototype.U=function(e,n){return this.D.getCopyrights?this.D.getCopyrights(e,n):null},Wi.prototype.getCopyrights=Wi.prototype.U;function Ti(e,n,r,o,s){o=Hb(o);var l=Mb(2,o),d=n.left,h=n.top,p=n.right;r=p+(r?l+(p===n.left?0:1):1);var g=n.bottom,y=[];if(s)var v=d+(1+p-d)/2+s.x/e.tileSize-.5,w=h+(1+g-h)/2+s.y/e.tileSize-.5;for(;d<r;){for(h=n.top;h<=g;)e=d%l,y.push([e,h,o,s?Jb(v-d)+Jb(w-h):0]),h++;d++}return y}Wi.prototype.Oj=function(e,n,r,o,s,l){var d,h=[],p,g=this.D;l=l??"__default__";var y=g.requestTile;if(!B(e,lh))throw new C(this.Oj,0,e);if(D(r=+r))throw new C(this.Oj,1,r);if(o||(d={}),n=Ti(this,e,n,r,s),e=n.length)for(o||n.sort(Xi),r=e;r--;)s=n[r],o||(d[g.Vd.apply(g,s)]=!0),s[3]=+o,(p=y.apply(g,s))&&h.push(p);if(!o){o=d;var v;d=this.ux[l]||{};for(v in d)d.hasOwnProperty(v)&&d[v]&&!o[v]&&this.D.cancelTileByKey(v);this.ux[l]=o}return{total:e,tiles:h}},Wi.prototype.getProviderTiles=Wi.prototype.Oj;function Xi(e,n){return n[3]-e[3]}function Yi(){}t("H.util.ICapturable",Yi),Yi.prototype.capture=function(){},Yi.prototype.capture=Yi.prototype.capture;function Zi(e,n){var r=e.B(),o=r.ownerDocument;Zi.g.constructor.call(this),this.v=e,this.G=r=r.appendChild($i(o,"DIV","position:absolute;bottom:0;right:0;left:0px;z-index:1;direction:ltr;pointer-events:none;height:40px-webkit-touch-callout: none;-webkit-user-select:none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select:none;",null,"H_imprint")),this.Gl=$i(o,"DIV","margin: 0 0 16px 16px;display:inline-block;",'<svg height="40" viewBox="0 0 47 40" width="47" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="m45.2054149 8.82876345.6003191.40637037-.2240425.6914074-.4490426 1.38570368c-.1024468.3148889-.6998936 1.9596297-2.43 3.5918519l-.017234.0163704c-.188617.1887407-.3801064.3659259-.5467021.5084444l-.4605319.4285185-.486383.4516296-.1407447-.0702963c-.7257447.4583704-1.4926596.7886667-2.2796809.9831852l.5840426.5864445-.6769149.6817778-2.052766 2.0636296-.169468.1704444-.019149.0192593-2.3821276 2.3958518c-.4902128.8493334-1.1202128 1.6331852-1.8497873 2.3111112-.6031915.6047407-1.2504255 1.1054814-1.935 1.4954814l-.4777659.4805186-4.3247873 4.3506666-.0296808.0298519-.0315958.0269629-2.1532978 1.8171111-.2661702.2253334h-.3485107-3.8948936l-3.968617 3.9914815-1.3547873 1.3616296-.6769148.6808148-.6769149-.6808148-1.3538298-1.3616296-4.80925535-4.837926-3.2687234-3.2875555-1.63436171-1.6437778h2.3112766 4.62255319 2.67223407l-4.71063832-4.7368148-.6769149-.6808148.6769149-.6808148 4.93851062-4.9650371.6769149-.6798518.6769149.6808148 2.7296809 2.7454074c.9363829-.8820741 2.1485106-1.4685185 3.4037234-1.6562963.278617-1.4694815 1.0187234-2.834963 2.168617-3.9885926.5696808-.572 1.1843617-1.0438519 1.8335106-1.4107407l.2901064-.2917778 4.3094681-4.31985187c.5830851-1.0582963 1.4256383-1.78918519 2.0364893-2.12718519l.4471277-.24748148c.3829787-.7617037.9047872-1.47622222 1.5539362-2.12622222 1.510851-1.51666667 3.3165957-2.31881482 5.22-2.31881482.0871276 0 .1752127.00192593.2594681.00577778 1.9484042.06933334 3.8441489.97933334 5.4775532 2.62792593.1512765.15022222.3303191.34859259.5361702.5797037l.0526595.05874074c.1120213.12518519.2345745.26192593.370532.40733334l1.2657446 1.36066666.6328724.67985185-.6548936.65866667-.2508511.25325926zm-27.9288192 22.17414815h-9.57446804l4.78723404 4.8148148zm23.1864894-21.70422223c-.9220213 1.38666663-2.5180851 3.63037033-4.1984042 1.94133333l4.2510638-4.27651851c-.3810638-.41022222-.6711702-.754-.8923404-.97740741-2.2921277-2.31207407-4.8743617-2.34192593-6.8984043-.312-1.3528723 1.35681481-1.7071277 2.91007407-1.313617 4.38533332l-1.332766-1.52629628c-.385851.21474074-2.0182979 1.65918518-.7937234 3.84703708l-1.5252127-1.274963-2.0240426 2.0299259 2.7344681 2.7502222c-2.1121277-1.6861481-4.3889362-1.5205185-6.2157447.312-1.9560638 1.9615556-1.8181915 4.3381482-.3532979 6.293926l-.295851-.2946667c-1.9321277-1.9432593-4.0318085-1.2576296-5.0706383-.2128148-.8023405.8079259-1.2944681 1.9191852-1.0924468 2.6905185l-4.195532-4.2187407-2.22893613 2.2408148 8.25893613 8.3065185h4.4339362l-2.9767021-2.9938519c-.5893908-.6029568-.9604155-1.0987731-1.1531529-1.5232627-.3182349-.7008886-.1504161-1.2073234.3230465-1.680515.7334043-.7318519 1.583617-.2763704 3.0829787 1.2277777l2.9412766 2.9562963 2.2164894-2.2292592-2.7909575-2.8060741c2.0125532 1.5291852 4.4224468 1.612 6.5728724-.545037 1.3567021-1.2653334 1.7425532-2.4565185 1.7425532-2.4565185l-1.6755319-1.1314815c-.9229788 1.3866666-2.5152128 3.6361481-4.195532 1.9461481l4.2606383-4.2851852 2.655 2.6712593 2.3160639-2.3294074-3.3223405-3.3424445c-1.5520212-1.5609629-.6328723-3.0275555.0124469-3.5793333.3025531.6442222.7448936 1.2624445 1.3078723 1.8296296 2.1485106 2.1676297 4.9260638 2.6038519 7.3685106.1550371 1.3567022-1.2643704 1.7425532-2.4565185 1.7425532-2.4565185zm-3.6564894-1.35537321-2.0211702 2.03377777c-.9890425-1.18251851-.9392553-1.81422222-.3245744-2.43051851.7439361-.7462963 1.4993617-.43044445 2.3457446.39674074zm-12.4879787 12.56088884c-.9890425-1.1825185-.9411702-1.819037-.3284042-2.4353333.7448936-.7462963 1.5003191-.4304444 2.3467021.3967408z" fill="#0f1621" fill-opacity=".7"/><path d="m17.2765957 31.0029116-4.787234 4.8148148-4.78723404-4.8148148zm23.1864894-21.70422223 1.6755319 1.13148153s-.385851 1.1921481-1.7425532 2.4565185c-2.4424468 2.4488148-5.22 2.0125926-7.3685106-.1550371-.5629787-.5671851-1.0053192-1.1854074-1.3078723-1.8296296-.6453192.5517778-1.5644681 2.0183704-.0124469 3.5793333l3.3223405 3.3424445-2.3160639 2.3294074-2.655-2.6712593-4.2606383 4.2851852c1.6803192 1.69 3.2725532-.5594815 4.195532-1.9461481l1.6755319 1.1314815s-.3858511 1.1911851-1.7425532 2.4565185c-2.1504256 2.157037-4.5603192 2.0742222-6.5728724.545037l2.7909575 2.8060741-2.2164894 2.2292592-2.9412766-2.9562963c-1.4993617-1.5041481-2.3495744-1.9596296-3.0829787-1.2277777-.4734626.4731916-.6412814.9796264-.3230465 1.680515.1927374.4244896.5637621.9203059 1.1531529 1.5232627l2.9767021 2.9938519h-4.4339362l-8.25893613-8.3065185 2.22893613-2.2408148 4.195532 4.2187407c-.2020213-.7713333.2901063-1.8825926 1.0924468-2.6905185 1.0388298-1.0448148 3.1385106-1.7304445 5.0706383.2128148l.295851.2946667c-1.4648936-1.9557778-1.6027659-4.3323704.3532979-6.293926 1.8268085-1.8325185 4.103617-1.9981481 6.2157447-.312l-2.7344681-2.7502222 2.0240426-2.0299259 1.5252127 1.274963c-1.2245745-2.1878519.4078724-3.63229634.7937234-3.84703708l1.332766 1.52629628c-.3935107-1.47525925-.0392553-3.02851851 1.313617-4.38533332 2.0240426-2.02992593 4.6062766-2.00007407 6.8984043.312.2211702.22340741.5112766.56718519.8923404.97740741l-4.2510638 4.27651851c1.6803191 1.689037 3.2763829-.5546667 4.1984042-1.94133333zm-16.1444681 11.20551563 2.0182979-2.0385925c-.846383-.8271852-1.6018085-1.1430371-2.3467021-.3967408-.612766.6162963-.6606383 1.2528148.3284042 2.4353333zm12.4879787-12.56088884c-.8463829-.82718519-1.6018085-1.14303704-2.3457446-.39674074-.6146809.61629629-.6644681 1.248.3245744 2.43051851z" fill="#fff" fill-opacity=".3"/></g></svg>',"H_logo"),r.appendChild(this.Gl),r=r.appendChild($i(o,"DIV","right:0;bottom:0;position:absolute;background-color:rgba(255,255,255,.8);color:#0F1621;padding:2px 16px",null,"H_copyright")),this.ho=r.appendChild($i(o,"A","color:inherit; margin:0px 8px; text-decoration:none; pointer-events:all;","Terms of use")),this.ho.target="_blank",this.ho.tabIndex=1,this.Ul=r.appendChild($i(o,"SPAN","margin:0px 8px")),this.dg=r.appendChild($i(o,"SPAN")),this.dv=Ta(aj),this.Ur(n),this.Di=z(this.Di,this),this.ge=z(this.ge,this),this.v.addEventListener(this.v.j.Os,this.Di),this.v.O.addEventListener("add",this.ge),this.v.O.addEventListener("remove",this.ge),this.v.O.addEventListener("set",this.ge),this.ge()}var bj;u(Zi,ed),t("H.map.Imprint",Zi);var aj={font:'11px "Lucida Grande", Arial, Helvetica, sans-serif',href:"https://legal.here.com/{LN}/terms/serviceterms/{CN}",invert:!1,reportHref:"https://wego.here.com/",locale:"en-US",mark:""};Zi.prototype.Ur=function(e){var n,r=this.Gl.firstElementChild.firstElementChild.children;e||(this.dv=Ta(aj));var o=this.dv;for(n in o)e&&n in e&&(o[n]=e[n]);e=(this.oq=e=o.invert)?cj:dj,r[0].style.fill=e.cx,r[0].style.fillOpacity=""+e.dx,r[1].style.fill=e.qx,r[1].style.fillOpacity=""+e.rx,e=o.locale,ej[e]||(e="en-US",o.locale=e),this.ho.innerHTML=ej[e],e=e.split("-"),this.ho.href=o.href.replace("{LN}",e[0]).replace("{CN}",e[1].toLowerCase()),o.mark?(this.dg.innerHTML=o.mark,this.dg.style.margin="0px 8px"):(this.dg.innerHTML="",this.dg.style.margin="0px"),this.G.style.font=o.font},Zi.prototype.setOptions=Zi.prototype.Ur;function $i(e,n,r,o,s){return e=e.createElement(n),r&&(e.style.cssText=r),o&&(e.innerHTML=o),s&&(e.className=s),e}Zi.prototype.B=function(){return this.G},Zi.prototype.Di=function(){this.Ul.innerHTML=this.Gs+" "+this.U()},Zi.prototype.ge=function(){this.Di(),setTimeout(this.Di,5e3)};var dj={qx:"#0F1621",rx:.3,cx:"#fff",dx:.6},cj={qx:"#fff",rx:1,cx:"#0F1621",dx:.7},fj="1987&ndash;"+Fb(2015,new Date().getFullYear())+" HERE";Zi.prototype.U=function(){var e=this.v,n=e.Ub(),r=e.xa.Ib().bounds;e=e.O;var o=e.aa.length,s={},l=0,d,h,p,g=[fj];if(r){for(;l<o;l++)if(h=e.get(l).getCopyrights(r.C(),n))for(d=0;d<h.length;d++)s[p=h[d].label]||(g.push(p),s[p]=1)}return g.join(", ")},Zi.prototype.getCopyrights=Zi.prototype.U,Zi.prototype.K=function(){return this.G.style},Zi.prototype.Gs="\xA9",Zi.prototype.disposeInternal=function(){if(this.v.removeEventListener(this.v.j.Os,this.Di),this.v.O.removeEventListener("add",this.ge),this.v.O.removeEventListener("remove",this.ge),this.v.O.removeEventListener("set",this.ge),this.G.parentNode){var e=this.G;e.parentNode.removeChild(e)}},Zi.prototype.disposeInternal=Zi.prototype.disposeInternal,Zi.prototype.capture=function(e,n,r,o){var s=e.getContext("2d"),l=window.getComputedStyle(this.Ul.parentElement),d=2*mb(l.paddingLeft,10),h=(this.Ul.offsetWidth+2*d)*n,p=this.Ul.offsetHeight*n,g=this.dg.innerHTML.length!==0?this.dg.offsetWidth*n:0,y=nb(l.getPropertyValue("font-size")),v=this.G.ownerDocument,w=+e.width,k=+e.height,F=16*n,q=this.Gl.childNodes[0].getBoundingClientRect(),_r=q.width*n,ga=q.height*n,La=Ye;db(o)&&(La=function(){o("capture_error")}),s.fillStyle=l.backgroundColor,s.fillRect(w-h-g,k-p,h+g,p),h=this.dg.innerHTML,h=this.Gs+" "+function(jc){return jc=$i(v,"div",null,jc),jc.textContent||jc.innerText||""}(this.U())+(h?" "+h:""),s.font=y*n+"px "+l.getPropertyValue("font-family"),s.fillStyle=l.getPropertyValue("color"),s.textBaseline="bottom",s.textAlign="right",s.fillText(h,w-d*n,k),gj(this,s.font,function(jc){new qg("image",jc).then(function(_l){s.drawImage(_l,F,k-(ga+F),_r,ga),r(e)},La)},La)},Zi.prototype.capture=Zi.prototype.capture;function gj(e,n,r,o){hj(z(function(s){s?this.oq?r("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAeCAYAAABe3VzdAAADNklEQVRYR82XW6hVVRSGv7+rmJfSMKSnSkMEfY7EogcJC7tilGRopBAiSaI+SBARQSCIIqgFISih2YW0oAgLCsKXojA0RB+81VugZEFZv/yHuWTt7d7Hfc4+6+h4OWefNfcc3xlj/v+YS1zjoab5bE8DZgGngB8keSg5GwO0PQ54F3i2BnQIWCLpx14hGwG0fT3wOfBwB5DzwOOSDvQC2RTgM8Ae4D/gaeA3YDdwN5AWvyxp+6gD2r4OmAq8AbwInAMmA/OAT4CbgBWStvYClzUjWkHbrwHLgF8LVHJ8DDxah7P9JHCil7M40oA/A7OBC8ANtSqlrQOVs30/8CWQat8r6cxg1RwRQNvPA88Bk4D7gJzBV4A5teSp5MlS4VuA/ZIeu1Kr+wa0/QTwIRDlRhT5eTswBvi2CKOd42AULilndNAYCcA7gK+BmbVMiyXtsh3Qt4FFBTgW8w6wXtLfV4LrSyS2FwAvAWOBX+JtwF0laUDmS/oun23fDNwJnJb0Ty9g1ZphVdB2qrK2LdFfBbb685/AIxXkUKDqa4cMaDs2kjalRe8Fola57J3qRQSJviGHA3gMuAdYI2lDUfDOArQLWAd8VTuTOW9vjUoFy6TIGYpS9wKfAjuK5wVuSfn91iKcvZJeHy5ci0hsZwzNk5Qh3xIFbLyks7aPAtPLgv+L4VZwDwLvA6uKz6XdfcVAi22PBz4q4+lVSRurXW2vKYKIZfwEHCmmXC35HngAyITYD0ys2t8XWflyBfhmvKm24QCk7aVFCPVc7WMszzKucknI+NoHPCUppt13VICZm2nNwjoksByY0SXL72Vi3FieZ97mgrpyqF432H9xScW2O0H+W6oSE/4D2FYuA9kzlUzVTwO3Ad9IOtx3ydo2aLGZLpABm5KW2Z4AfAbMLfsEcpGkKLqRuMwHu0CukrSpCCrvGlF6hBEVL5MUw24kOhp1B8gc+FTqgxpkFLuzSbjk6jpJOkC2tDPeKCkVbDRkO67fDTTC2VK7vgfyBUlfNEpV2zyAK4HNXRLmZfshScdHC6g9T+WDGU2XpkdZdNXhWs6g7dXAhmsJ7jKR2M77bG4kV7Wt9TZfBLgYEC7PSpcIAAAAAElFTkSuQmCC"):r("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAeCAYAAABe3VzdAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIMSURBVFiFzdZPiE1RGADwXzPTTPIMQoodVpbKgpoUG5qExUi8DSVJQv4slJJsbNjYWFhNETWLUUosRDRLUVLCYhIiojFojHkW997uvefNGIuZc99Xp/fOO6/Or++c75xDi0d7hDlWYQNqeB9hvv+OGq6jUWjPsKZKVBbtuKOMy9p3bKqOlsROCWYc27AWr9PfJnCgKlgbluNqivmGDmzBrxR3sCocnMEw7sqXdEAzboeK9uLTFPVbed8VcesxglFJtqNEHbcxlIL68ChADuCSpEgauBULt11SDI3C5yJJdrLCCNsQumMBl+J5AKinY4slBfNTfsRcxJwYsK0YxD3J0r1RPut6Cv/twgp0xoDBBc3LNhr0RwJktNifAn7gsnLmsuxVinyVTn4i7dcLoH4sU96Tp2Pi2uSVehN75Gdev+QO7pIXztmZnLwTvf+AzU+/v5Rn50+A24gP2IW5M4mbJ7+ejgVjJ/EpHXuCa8p77nGK68FX5eWfsTgfTJoh92qu1vAaa+CtPJuDZuEh3CHZUyHyxSSYrL3DWKE/gStm8aybDDkmKYperJM/BrJMnsJuHMLq2YJNh/wsX7JuPAyQfTFg0yGPFMZreCCv4n2xgTQjxyXP+CxquK8iXBYhMlzOtliQBVg4RVuCG/iSto/YHAuWxWFTHyXDWBkbNFkc1cK4LI5rYVwW57QY7i/pZeJv8QQJRQAAAABJRU5ErkJggg=="):(s=this.Gl.cloneNode(!0),s.firstChild.setAttribute("style","font:"+n),r(Se(s.innerHTML)))},e),o)}Zi.prototype.oq=!1;function hj(e,n){var r="data:image/svg+xml;charset=utf-8,"+encodeURIComponent('<svg height="40" viewBox="0 0 47 40" width="47" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="m45.2054149 8.82876345.6003191.40637037-.2240425.6914074-.4490426 1.38570368c-.1024468.3148889-.6998936 1.9596297-2.43 3.5918519l-.017234.0163704c-.188617.1887407-.3801064.3659259-.5467021.5084444l-.4605319.4285185-.486383.4516296-.1407447-.0702963c-.7257447.4583704-1.4926596.7886667-2.2796809.9831852l.5840426.5864445-.6769149.6817778-2.052766 2.0636296-.169468.1704444-.019149.0192593-2.3821276 2.3958518c-.4902128.8493334-1.1202128 1.6331852-1.8497873 2.3111112-.6031915.6047407-1.2504255 1.1054814-1.935 1.4954814l-.4777659.4805186-4.3247873 4.3506666-.0296808.0298519-.0315958.0269629-2.1532978 1.8171111-.2661702.2253334h-.3485107-3.8948936l-3.968617 3.9914815-1.3547873 1.3616296-.6769148.6808148-.6769149-.6808148-1.3538298-1.3616296-4.80925535-4.837926-3.2687234-3.2875555-1.63436171-1.6437778h2.3112766 4.62255319 2.67223407l-4.71063832-4.7368148-.6769149-.6808148.6769149-.6808148 4.93851062-4.9650371.6769149-.6798518.6769149.6808148 2.7296809 2.7454074c.9363829-.8820741 2.1485106-1.4685185 3.4037234-1.6562963.278617-1.4694815 1.0187234-2.834963 2.168617-3.9885926.5696808-.572 1.1843617-1.0438519 1.8335106-1.4107407l.2901064-.2917778 4.3094681-4.31985187c.5830851-1.0582963 1.4256383-1.78918519 2.0364893-2.12718519l.4471277-.24748148c.3829787-.7617037.9047872-1.47622222 1.5539362-2.12622222 1.510851-1.51666667 3.3165957-2.31881482 5.22-2.31881482.0871276 0 .1752127.00192593.2594681.00577778 1.9484042.06933334 3.8441489.97933334 5.4775532 2.62792593.1512765.15022222.3303191.34859259.5361702.5797037l.0526595.05874074c.1120213.12518519.2345745.26192593.370532.40733334l1.2657446 1.36066666.6328724.67985185-.6548936.65866667-.2508511.25325926zm-27.9288192 22.17414815h-9.57446804l4.78723404 4.8148148zm23.1864894-21.70422223c-.9220213 1.38666663-2.5180851 3.63037033-4.1984042 1.94133333l4.2510638-4.27651851c-.3810638-.41022222-.6711702-.754-.8923404-.97740741-2.2921277-2.31207407-4.8743617-2.34192593-6.8984043-.312-1.3528723 1.35681481-1.7071277 2.91007407-1.313617 4.38533332l-1.332766-1.52629628c-.385851.21474074-2.0182979 1.65918518-.7937234 3.84703708l-1.5252127-1.274963-2.0240426 2.0299259 2.7344681 2.7502222c-2.1121277-1.6861481-4.3889362-1.5205185-6.2157447.312-1.9560638 1.9615556-1.8181915 4.3381482-.3532979 6.293926l-.295851-.2946667c-1.9321277-1.9432593-4.0318085-1.2576296-5.0706383-.2128148-.8023405.8079259-1.2944681 1.9191852-1.0924468 2.6905185l-4.195532-4.2187407-2.22893613 2.2408148 8.25893613 8.3065185h4.4339362l-2.9767021-2.9938519c-.5893908-.6029568-.9604155-1.0987731-1.1531529-1.5232627-.3182349-.7008886-.1504161-1.2073234.3230465-1.680515.7334043-.7318519 1.583617-.2763704 3.0829787 1.2277777l2.9412766 2.9562963 2.2164894-2.2292592-2.7909575-2.8060741c2.0125532 1.5291852 4.4224468 1.612 6.5728724-.545037 1.3567021-1.2653334 1.7425532-2.4565185 1.7425532-2.4565185l-1.6755319-1.1314815c-.9229788 1.3866666-2.5152128 3.6361481-4.195532 1.9461481l4.2606383-4.2851852 2.655 2.6712593 2.3160639-2.3294074-3.3223405-3.3424445c-1.5520212-1.5609629-.6328723-3.0275555.0124469-3.5793333.3025531.6442222.7448936 1.2624445 1.3078723 1.8296296 2.1485106 2.1676297 4.9260638 2.6038519 7.3685106.1550371 1.3567022-1.2643704 1.7425532-2.4565185 1.7425532-2.4565185zm-3.6564894-1.35537321-2.0211702 2.03377777c-.9890425-1.18251851-.9392553-1.81422222-.3245744-2.43051851.7439361-.7462963 1.4993617-.43044445 2.3457446.39674074zm-12.4879787 12.56088884c-.9890425-1.1825185-.9411702-1.819037-.3284042-2.4353333.7448936-.7462963 1.5003191-.4304444 2.3467021.3967408z" fill="#0f1621" fill-opacity=".7"/><path d="m17.2765957 31.0029116-4.787234 4.8148148-4.78723404-4.8148148zm23.1864894-21.70422223 1.6755319 1.13148153s-.385851 1.1921481-1.7425532 2.4565185c-2.4424468 2.4488148-5.22 2.0125926-7.3685106-.1550371-.5629787-.5671851-1.0053192-1.1854074-1.3078723-1.8296296-.6453192.5517778-1.5644681 2.0183704-.0124469 3.5793333l3.3223405 3.3424445-2.3160639 2.3294074-2.655-2.6712593-4.2606383 4.2851852c1.6803192 1.69 3.2725532-.5594815 4.195532-1.9461481l1.6755319 1.1314815s-.3858511 1.1911851-1.7425532 2.4565185c-2.1504256 2.157037-4.5603192 2.0742222-6.5728724.545037l2.7909575 2.8060741-2.2164894 2.2292592-2.9412766-2.9562963c-1.4993617-1.5041481-2.3495744-1.9596296-3.0829787-1.2277777-.4734626.4731916-.6412814.9796264-.3230465 1.680515.1927374.4244896.5637621.9203059 1.1531529 1.5232627l2.9767021 2.9938519h-4.4339362l-8.25893613-8.3065185 2.22893613-2.2408148 4.195532 4.2187407c-.2020213-.7713333.2901063-1.8825926 1.0924468-2.6905185 1.0388298-1.0448148 3.1385106-1.7304445 5.0706383.2128148l.295851.2946667c-1.4648936-1.9557778-1.6027659-4.3323704.3532979-6.293926 1.8268085-1.8325185 4.103617-1.9981481 6.2157447-.312l-2.7344681-2.7502222 2.0240426-2.0299259 1.5252127 1.274963c-1.2245745-2.1878519.4078724-3.63229634.7937234-3.84703708l1.332766 1.52629628c-.3935107-1.47525925-.0392553-3.02851851 1.313617-4.38533332 2.0240426-2.02992593 4.6062766-2.00007407 6.8984043.312.2211702.22340741.5112766.56718519.8923404.97740741l-4.2510638 4.27651851c1.6803191 1.689037 3.2763829-.5546667 4.1984042-1.94133333zm-16.1444681 11.20551563 2.0182979-2.0385925c-.846383-.8271852-1.6018085-1.1430371-2.3467021-.3967408-.612766.6162963-.6606383 1.2528148.3284042 2.4353333zm12.4879787-12.56088884c-.8463829-.82718519-1.6018085-1.14303704-2.3457446-.39674074-.6146809.61629629-.6644681 1.248.3245744 2.43051851z" fill="#fff" fill-opacity=".3"/></g></svg>'),o=bj;fb(o)?e(o):new qg("image",r).then(function(s){Oe.drawImage(s,0,0);try{Oe.getImageData(0,0,1,1),o=!1}catch(l){o=l.code===18}finally{bj=o,e(o)}},n)}Zi.prototype.jy=function(e,n){ej[e]=n},Zi.prototype.addL11NString=Zi.prototype.jy;var ej={"de-DE":"Nutzungsbedingungen","en-US":"Terms of use","en-GB":"Terms of use","es-ES":"Condiciones de uso","fi-FI":"Palveluehdot","fr-FR":"Conditions d'utilisation","it-IT":"Condizioni di utilizzo","nl-NL":"Dienstvoorwaarden","pl-PL":"Warunki \u015Bwiadczenia us\u0142ugi","pt-BR":"Termos de servi\xE7o","pt-PT":"Termos do servi\xE7o","ru-RU":"\u0423\u0441\u043B\u043E\u0432\u0438\u044F \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u0438\u044F","tr-TR":"Servis Ko\u015Fullar\u0131","zh-CN":"\u4F7F\u7528\u6761\u6B3E"};function ij(e){return e}t("H.util.animation.ease.LINEAR",ij),t("H.util.animation.ease.EASE_IN_QUAD",function(e){return e*e});function jj(e){return-e*(e-2)}t("H.util.animation.ease.EASE_OUT_QUAD",jj),t("H.util.animation.ease.EASE_IN_OUT_QUINT",function(e){return e*=2,1>e?Mb(e,5)/2:(e-=2,Mb(e,5)/2+1)});function kj(e){return 1-Math.sqrt(1-e*e)}function lj(e){return Lb(2*e-e*e)}t("H.util.animation.ease.EASE_OUT_CIRC",lj);function mj(e){return 1-Math.cos(e*Math.PI/2)}function nj(e){return Math.sin(e*Math.PI/2)}function oj(e,n){this.cg={tilt:pj(e.tilt,n.tilt),heading:pj(e.heading,n.heading),zoom:n.zoom-e.zoom};var r=this.bp=vc(e.position),o=n.position;e=o.lat*$b;var s=r.lat*$b;r=o.lng*$b-r.lng*$b,e=Math.atan2(Ob(r)*Qb(e),Qb(s)*Ob(e)-Ob(s)*Qb(e)*Qb(r)),this.sy=(0<=e?e:Yb+e)*ac,this.kh=this.bp.kb(n.position),n=this.cg.zoom,this.Fv=n===0?qj:Object.assign({},qj,{zoom:0>n?lj:kj,position:0>n?mj:nj}),this.hv=Object.assign({},{tilt:0,heading:0,zoom:0})}function pj(e,n){return e=n-e,-180<e&&180>=e?e:180<e?e-360:e+360}var qj={tilt:ij,heading:ij,zoom:ij,position:ij};function rj(e){this.yb=e}u(rj,ed),rj.prototype.Tb=function(){return this.yb},rj.prototype.getLayer=rj.prototype.Tb,rj.prototype.GA=function(){return this.Pb},rj.prototype.getSurface=rj.prototype.GA,rj.prototype.tf=function(e){var n=this.Pb;e!==n&&(this.Pb=e,e.Sn(),n&&n.release())},rj.prototype.setSurface=rj.prototype.tf,rj.prototype.disposeInternal=function(){this.Pb.release()},rj.prototype.disposeInternal=rj.prototype.disposeInternal,rj.prototype.Eh=function(){},rj.prototype.render=rj.prototype.L;function sj(e,n){sj.g.constructor.call(this,e),this.Qd=!(!n||!n.Qd),this.Hq={}}u(sj,rj),sj.prototype.tf=function(e){sj.g.tf.call(this,e),this.qC=e.nd.ownerDocument},sj.prototype.setSurface=sj.prototype.tf;var tj=function(e,n){return n=n.V(),B(n,Jf)?n.ha:(e[0]=n,e)}.bind(null,[]);sj.prototype.L=function(e,n,r,o,s,l,d){var h=this.yb,p,g,y,v;if(this.wC=n=this.Hq,this.Hq=r={},o>=h.min&&o<=h.max){var w=this.Xt(e,o,s,l),k=w.markers;if(e=k.length){for(o=[],s=this.Pb,l=0;l<e;l++){h=k[l];var F=tj(h);for(p=F.length;p--;)(g=d(F[p]))&&((v=n[y=h.xb()+"_"+p])?delete n[y]:v={vv:h},r[y]=v,o.push([v,h,h.kc(),s,g.x,g.y]))}for(o.sort(uj),e=o.length,l=0;l<e;l++)this.Fw.apply(this,o[l])}}return!w||w.requested&&w.requested===w.total||!w.requested&&k.length===w.total?fh.DONE:fh.PENDING},sj.prototype.render=sj.prototype.L;function uj(e,n){var r=e[1].We(),o=n[1].We();return Ah(r,o,!0)||e[5]-n[5]||Ah(r,o,!1)}sj.prototype.Ma=function(){},sj.prototype.getObjectsAt=sj.prototype.Ma;function vj(e,n){vj.g.constructor.apply(this,arguments),this.Gq=0,this.Sh=[],this.sp=z(this.sp,this)}u(vj,sj),t("H.map.render.dom.MarkerRenderer",vj),vj.prototype.Xt=function(){return this.yb.pe.apply(this.yb,arguments)},vj.prototype.L=function(e,n,r,o,s,l,d){this.sp(),this.OB=0;var h=vj.g.L.apply(this,arguments),p=this.Pb,g=this.wC,y;for(y in g)wj(this,p,g[y]);return this.Sh.length===0&&h?fh.DONE:fh.PENDING},vj.prototype.render=vj.prototype.L,vj.prototype.tf=function(e){vj.g.tf.call(this,e),this.oa=e.lb()},vj.prototype.setSurface=vj.prototype.tf,vj.prototype.sp=function(){for(var e=this.Sh.length,n,r,o;e--;)o=this.Sh[e],n=o.uo,r=n.kc(),r.Oq(o,r,n);this.Sh.length=0},vj.prototype.Fw=function(e,n,r,o,s,l){var d,h=o.lb(),p=n.Nc();s*=h,l*=h,this.Qd||(s=Gb(s),l=Gb(l)),e.detail&&(p.Kh(e.cB)?wj(this,o,e):d=e.detail),d||(e.detail=d=r.eu(this.qC),this.Gq++,db(r.Oq)&&this.Sh.push(d)),e.cB=p.Md,d.style.zIndex=this.OB++,d.uo=n,o.Re(d,s,l,0,0)};var xj,yj="pointer-events",zj;if(Qe){var Aj;Qe&&Ka!==x&&(Ka=(Aj=/(MSIE\s+|rv:)([^\);]+)(\)|;)/.exec(navigator.userAgent))?+Aj[2]:x),zj=Ka,zj===9?yj="display":zj===10&&(yj="visibility")}xj=yj,vj.prototype.Ma=function(e,n,r){var o=this.oa,s=Ze,l,d,h,p,g;if(this.Gq){e/=o,n/=o,o=this.Pb.nd.getRootNode();var y=o.documentElement,v=this.Pb.B(),w=v.getBoundingClientRect();for(e+=w.left,n+=w.top;(d=h=o.elementFromPoint(e,n))&&d!==v&&d!==y&&d!==o.host&&h!==k;){for(;(p=d.parentNode)&&(!db(p.contains)||!p.contains(v));)d=p;if(p===v&&(d!==h||d.nodeName!=="svg")&&0>s.indexOf(g=d.uo)&&(s===Ze&&(s=[]),s.push(g),r))break;l||(l=[]);var k=d.style;l.push({xt:k.getPropertyValue(xj),YA:k.getPropertyPriority(xj),style:k}),k.setProperty(xj,xj==="visibility"?"hidden":"none","important"),k=h}if(l)for(n=l.length;n--;)e=l[n],e.style.removeProperty(xj),lb(e.xt)&&e.style.setProperty(xj,e.xt,e.YA)}return s},vj.prototype.getObjectsAt=vj.prototype.Ma,vj.prototype.Eh=function(){return"dom"};function wj(e,n,r){n.clear(n=r.detail),delete n.uo,e.Gq--,r=(e=r.vv).kc(),r.Sq&&r.Sq(n,r,e)}vj.prototype.disposeInternal=function(){this.Sh.length=0;var e=this.Pb,n=this.Hq,r;for(r in n)wj(this,e,n[r]);this.Pb.l(),vj.g.disposeInternal.call(this)},vj.prototype.disposeInternal=vj.prototype.disposeInternal;function Bj(){Bj.g.constructor.call(this),this.Pn={},this.ji={position:new tc(0,0),zoom:0,heading:180,incline:0,tilt:0,bounds:new L(lf([90,-180,90,0,90,180,-90,180,-90,-180]))},this.zu=!1}u(Bj,I),t("H.map.ViewModel",Bj),Bj.prototype.j={Aa:"update",Oi:"sync"},Bj.prototype.ad=function(e,n,r){if(!e)throw new C(this.ad,0,e);var o=e[Cj];if(fb(o)&&!uc(o))throw new C(this.ad,0,Cj);var s=e[Dj];if((o=fb(s))&&D(+s))throw new C(this.ad,0,Dj);var l=e[Ej];if((s=fb(l))&&!B(l,sc))throw new C(this.ad,0,Ej);return e=Object.assign({},e),l=Fj(e,this.Pn,this.ji),Gj(this,this.Pn,e),this.zu||Gj(this,this.ji,e),this.dispatchEvent(new Hj(this.Pn,l,!!r&&!o&&s,n)),this},Bj.prototype.setLookAtData=Bj.prototype.ad,Bj.prototype.Ib=function(){var e={};return e[Cj]=vc(this.ji[Cj]),Gj(this,e,this.ji,!0),e},Bj.prototype.getLookAtData=Bj.prototype.Ib;var Cj="position",Dj="zoom",Ej="bounds",Ij={Ss:Cj,Ws:Dj,Ks:"heading",Vs:"tilt",Ls:"incline",Es:Ej},Jj=Object.keys(Ij).map(function(e){return Ij[e]});function Gj(e,n,r,o){e.Hv={},e.Gv={},e.qv=[];for(var s=e.eC,l=e.dC,d=Jj.length,h,p,g;d--;)if(h=Jj[d],g=r[h],p=n[h],p==null||!o)if(g!=null){if(fb(s)&&s.call(e,h,p,g),n[h]=h!=="position"||g&&!D(g.lat)&&!D(g.lng)?g:vc(g),fb(l)){switch(h){case"position":p=g&&p&&(g.lat!==p.lat||g.lng!==p.lng);break;case"bounds":p=g&&p&&!g.da(p);break;default:p=g!==p}p&&l.call(e,h)}}else delete n[h]}Bj.prototype.eC=function(e,n,r){this.Hv[e]=n,this.Gv[e]=r},Bj.prototype.dC=function(e){this.qv.push(Kj[e])};var Kj=Jj.reduce(function(e,n){return e[n]=Oi[n.toUpperCase()],e},{});function Fj(e,n,r){var o=0;return["tilt","incline","heading",Dj].forEach(function(s){D(e[s])?e[s]=D(n[s])?r[s]:n[s]:o|=Kj[s]}),[Cj,Ej].forEach(function(s){e[s]?o|=Kj[s]:e[s]=n[s]||r[s]}),o}Bj.prototype.rb=function(e){var n={},r={};this.zu=!0,Gj(this,this.ji,e),this.Pn={},n.lookAt=this.Gv,r.lookAt=this.Hv,e=this.qv,e=e.length?e.reduce(Lj):0,this.dispatchEvent(new Ni(this.j.Oi,n,r,e))},Bj.prototype.synchronize=Bj.prototype.rb;function Lj(e,n){return e|n}Bj.prototype.Vk=function(e,n){if(D(e=+e))throw new C(this.Vk,0,Dj);this.ad({zoom:e},n)},Bj.prototype.Ub=function(){return this.ji.zoom},Bj.prototype.Id=Ab,Bj.prototype.startControl=Bj.prototype.Id,Bj.prototype.control=Ab,Bj.prototype.control=Bj.prototype.control,Bj.prototype.hc=Ab,Bj.prototype.endControl=Bj.prototype.hc;function Hj(e,n,r,o){Hj.g.constructor.call(this,Bj.prototype.j.Aa,e,null,n),this.Pu=this.integerZoom=!!r,this.animate=this.animate=ob(o)&&0<o&&1/0>o?o:!!o}u(Hj,Ni);function Mj(){this.aa=[],Mj.g.constructor.call(this)}u(Mj,I),t("H.util.OList",Mj);function Nj(e,n,r){if(e=e.aa.length,r)var o=e;else if(D(o=0>(o=+n)?Fb(0,e+o):Eb(e,o)))throw new Cb(Mj,n,[0,e-1]);return o}Mj.prototype.Bo=function(e,n){this.aa.splice(n,0,e),this.dispatchEvent(new Oj(this,this.j.Ki,n,e,null,null))},Mj.prototype.add=function(e,n){this.Bo(e,Nj(this,n,D(n)))},Mj.prototype.add=Mj.prototype.add,Mj.prototype.pf=function(e){var n=this.aa.splice(e,1)[0];return this.dispatchEvent(new Oj(this,this.j.Mi,e,null,n,null)),n},Mj.prototype.Ed=function(e){return this.get(e),this.pf(e)},Mj.prototype.removeAt=Mj.prototype.Ed,Mj.prototype.remove=function(e){return e=this.indexOf(e),0<=e?(this.pf(e),!0):!1},Mj.prototype.remove=Mj.prototype.remove,Mj.prototype.set=function(e,n){if(this.aa.length!==0||e!==0){this.get(e),e=Nj(this,e,!1);var r=this.aa[e]}return this.aa[e]=n,this.dispatchEvent(new Oj(this,this.j.Ni,e,n,r,null)),r},Mj.prototype.set=Mj.prototype.set,Mj.prototype.indexOf=function(e){return this.aa.indexOf(e)},Mj.prototype.indexOf=Mj.prototype.indexOf,Mj.prototype.get=function(e){var n=Nj(this,e,!1),r=this.aa;if(n>=r.length)throw new Cb(this.get,e,[0,r.length-1]);return r[n]},Mj.prototype.get=Mj.prototype.get,Mj.prototype.fA=function(){return this.aa.length},Mj.prototype.getLength=Mj.prototype.fA,Mj.prototype.Ta=function(){return[].concat(this.aa)},Mj.prototype.asArray=Mj.prototype.Ta,Mj.prototype.flush=function(){for(var e=this.aa.length;e--;)this.pf(e)},Mj.prototype.flush=Mj.prototype.flush,Mj.prototype.disposeInternal=function(){this.flush(),Mj.g.disposeInternal.call(this)},Mj.prototype.j={Ki:"add",Mi:"remove",Ni:"set",SD:"move"};function Oj(e,n,r,o,s,l){Oj.g.constructor.call(this,n,e),this.idx=r,this.added=o,this.removed=s,this.moved=l}u(Oj,pd),Mj.Event=Oj;function Pj(e){var n;if(Pj.g.constructor.call(this),this.dispatchEvent=z(this.dispatchEvent,this),e){var r=e.length;for(n=0;n<r;n++)this.add(e[n])}}u(Pj,Mj),t("H.map.DataModel",Pj);function Qj(e,n){var r=n.getProvider&&n.getProvider();r&&(Rj[r.uid]=r),n.ea(e)}function Sj(e){var n=e.getProvider&&e.getProvider();n&&delete Rj[n.uid],e.ea(null)}Pj.prototype.add=function(e,n){B(e,vi,this.add,0),Qj(this,e),Pj.g.add.call(this,e,n)},Pj.prototype.add=Pj.prototype.add,Pj.prototype.set=function(e,n){return B(n,vi,this.set,0),Qj(this,n),(e=Pj.g.set.call(this,e,n))&&Sj(e),e},Pj.prototype.set=Pj.prototype.set,Pj.prototype.Ed=function(e){var n;return(n=Pj.g.Ed.call(this,e))&&Sj(n),n},Pj.prototype.removeAt=Pj.prototype.Ed,Pj.prototype.remove=function(e){var n;return(n=Pj.g.remove.call(this,e))&&Sj(e),n},Pj.prototype.remove=Pj.prototype.remove,Pj.prototype.flush=function(){for(var e=this.aa.length;e--;)this.Ed(e);Pj.g.flush.call(this)},Pj.prototype.flush=Pj.prototype.flush;var Rj={};rb(Rj);function Tj(e,n,r){if(e=Rj[e])return B(e[n],Function,Tj,1,"invalid method"),e[n].apply(e,r)}Pj.invoke=Tj,t("H.util.events.listenOnce",Ed),t("H.util.events.dispatchEvent",function(e,n){return e.dispatchEvent(n)}),t("H.util.events.fireListeners",function(e,n,r,o){if(td(e))r=e.Lf(n,r,o);else{var s=!0;if((e=Hd(e))&&(n=e.pb[n.toString()]))for(n=n.concat(),e=0;e<n.length;e++){var l=n[e];l&&l.capture==r&&!l.ii&&(l=Nd(l,o),s=s&&l!==!1)}r=s}return r}),t("H.util.events.listen",Dd),t("H.util.events.unlisten",Ld);var Uj=Nd;Nd=function(e,n){var r,o,s=!0,l=n[n.currentTarget===n.target?"AT_TARGET":e.capture?"CAPTURING_PHASE":(r=!0,"BUBBLING_PHASE")];return(!r||(o=n.type)!=="pointerenter"&&o!=="pointerleave")&&(n.eventPhase=l,s=Uj(e,n),r&&e.src&&e.src.Jb&&e.src.Jb()===null&&delete n.eventPhase),s};function Vj(e,n,r,o){var s=new lh(0,0,0,0);if(Vj.g.constructor.call(this),!e)throw new C(Vj,0,e);if(!n)throw new C(Vj,1,n);if(!r)throw new C(Vj,2,r);if(typeof o!="object")throw new C(Vj,3,o+" is not an object");if(typeof o.pixelRatio!="number")throw new C(Vj,3,o.pixelRatio+" is not a number");this.ja=o.pixelRatio,this.zoom=0,this.Ab=Kb(this.ja)/Ub,this.pixelProjection=new si,this.rl={1:s.clone(),2:s.clone(),4:s.clone()},this.yd=new K(.5,.5),this.za=e,Wj(this,this.ja),this.Jd=z(this.Jd,this),this.wd=z(this.wd,this),this.ic=z(this.ic,this),e.startInteraction=this.Jd,e.interaction=this.wd,e.endInteraction=this.ic,e.addEventListener(e.j.Aa,this.ng,!1,this),this.getCapabilities=this.getCapabilities,this.capture=this.capture,this.zoomAt=this.Ng,this.relaunch=this.ba,this.dispose=this.l,this.screenToGeo=this.Wa,this.geoToScreen=this.La,this.screenToLookAtData=this.Un,this.Ee=n,this.Id=z(this.Id,this),this.control=z(this.control,this),this.hc=z(this.hc,this),n.startControl=this.Id,n.control=this.control,n.endControl=this.hc,n.addEventListener(n.j.Aa,this.ar,!1,this),this.ib=r,this.gn=z(this.gn,this),this.jg=z(this.jg,this),this.kg=z(this.kg,this),this.fn=z(this.fn,this),r.addEventListener(vi.prototype.j.Aa,this.gn,!1,this),r.addEventListener(r.j.Ki,this.jg,!1,this),r.addEventListener(r.j.Mi,this.kg,!1,this),r.addEventListener(r.j.Ni,this.fn,!1,this)}u(Vj,I),t("H.map.render.RenderEngine",Vj),Vj.prototype.Ng=function(){};function Wj(e,n){var r=e.za,o=r.width,s=r.height,l=r.padding,d=l.top,h=l.left,p=l.bottom;l=l.right,r=r.margin;var g=-(o+h-l)/2<<0,y=-(s+d-p)/2<<0;o+=g,s+=y,e=e.rl,e[1].set((g-r)*n,(y-r)*n,(o+r)*n,(s+r)*n),e[2].set(g*n,y*n,o*n,s*n),e[4].set((g+h)*n,(y+d)*n,(o-l)*n,(s-p)*n)}Vj.prototype.ng=function(){Wj(this,this.ja)},Vj.prototype.disposeInternal=function(){var e=this.za,n=this.Ee,r=this.ib;e.removeEventListener(e.j.Aa,this.ng,!1,this),e.startInteraction===this.Jd&&(e.startInteraction=Vi.prototype.Jd),e.interaction===this.wd&&(e.interaction=Vi.prototype.wd),e.endInteraction===this.ic&&(e.endInteraction=Vi.prototype.ic),n.removeEventListener(n.j.Aa,this.ar,!1,this),n.startControl===this.Id&&(n.startControl=Bj.prototype.Id),n.control===this.control&&(n.control=Bj.prototype.control),n.endControl===this.hc&&(n.endControl=Bj.prototype.hc),r.removeEventListener(vi.prototype.j.Aa,this.gn,!1,this),r.removeEventListener(r.j.Ki,this.jg,!1,this),r.removeEventListener(r.j.Mi,this.kg,!1,this),r.removeEventListener(r.j.Ni,this.fn,!1,this)},Vj.prototype.Mr=function(e){this.Fo=e},Vj.prototype.setAnimationCallback=Vj.prototype.Mr,Vj.prototype.Dr=function(){this.Fo=void 0},Vj.prototype.resetAnimationCallback=Vj.prototype.Dr,Vj.prototype.control=function(){},Vj.prototype.capture=function(){return ne(Error("not implemented"))};function Xj(e,n){e.style.transition="opacity 1.5s",Ed(e,"transitionend",n,!1),e.style.opacity=0}var Yj={ZOOM:1,HEADING:2,TILT:4,INCLINE:8,COORD:16};Vj.InteractionModifiers=Yj,m=Vj.prototype,m.j={Us:"render"},m.gn=function(e){this.Pv(e),this.ba()},m.jg=function(e){this.pk(e.idx,e.added)},m.kg=function(e){this.Uq(e.idx,e.removed,e.type===this.ib.j.Ni)},m.fn=function(e){e.removed&&this.kg(e),this.jg(e)},m.Pv=Ye,m.pk=function(e,n){this.hq(e,n),e===0&&this.Ac(),B(n,vi)&&Zj(this,n,!0),this.li(),this.ba()},m.Ac=function(){var e=this.ib.Ta();if(0<e.length){var n=e[0].max;this.zq=e[0].min,this.yq=n}else e=this.getCapabilities().lookAt.zoom,n=e.max,this.zq=e.min,this.yq=n;e=ak(this,this.zoom),e!==this.zoom&&(this.zoom=e,this.pixelProjection.Va(e),this.rb())},m.rb=function(e){this.vf=this.Ib(),e&&(this.vf.position=e),this.vf.zoom=this.zoom-this.Ab,this.vf.position.alt=0},m.vx=0,m.heading=180,m.Ib=function(){return bk(this,{position:this.pixelProjection.projection.wn(this.yd),zoom:this.zoom,tilt:this.vx,heading:this.heading})};function bk(e,n){return n.tilt=ck(e,n.tilt),n.heading=dk(e,n.heading),n.incline=e.getCapabilities().lookAt.incline.min,n}function ak(e,n){var r=e.getCapabilities().lookAt.zoom;return gc(n,Fb(r.min,e.zq),Eb(r.max,e.yq))}function ck(e,n){return e=e.getCapabilities().lookAt.tilt,gc(n,e.min,e.max)}function dk(e,n){return e=e.getCapabilities().lookAt.heading,gc((n%360+360)%360,e.min,e.max)}function Zj(e,n,r){r=r?n.addEventListener:n.removeEventListener,r.call(n,n.j.Qs,e.Vq,!1,e),r.call(n,n.j.Ps,e.Vq,!1,e)}m.hq=Ye,m.Uq=Ye,m.aD=function(e,n){this.ff={before:e,after:n}},Vj.prototype.setOnRenderCallbacks=Vj.prototype.aD;var ek={P2D:0,WEBGL:1,HARP:2};Vj.EngineType=ek;var fk={lookAt:{zoom:{min:-8,max:24},tilt:{min:0,max:85},incline:{min:0,max:0},heading:{min:0,max:360}},interaction:{ZOOM:Yj.ZOOM,COORD:Yj.COORD},capture:!0};t("H.map.render.webgl.capabilities",fk);function gk(e,n){if(D(this.xo=+e))throw new C(gk,0,e);this.eo=this.rj=0,n&&this.Vw(n)}t("H.util.kinetics.KineticMove",gk),gk.prototype.Vw=function(e){return this.eo=e,this.rj=this.gu(),this},gk.prototype.setInitialSpeed=gk.prototype.Vw,gk.prototype.gu=function(){return Math.abs(this.eo/this.xo)},gk.prototype.getDuration=gk.prototype.gu,gk.prototype.Hj=function(e){return this.eo+this.xo*e},gk.prototype.getCurrentSpeed=gk.prototype.Hj,gk.prototype.Fz=function(e){return this.eo*e+this.xo*e*e/2},gk.prototype.getCurrentPath=gk.prototype.Fz;function hk(e,n,r,o,s,l){var d=s||"2d";hk.g.constructor.apply(this,arguments),this.Zl=this.element.getContext(d,l),this.Cu=d==="2d",this.ij=d,this.hj=l}u(hk,yi),m=hk.prototype,m.createElement=function(e){e=e.createElement("canvas");var n=e.style;return n.position="absolute",n.top=n.left="0",e},m.Zw=function(e,n,r,o,s){e.width=Fb(r,1),e.height=Fb(o,1),n.width=Gb(r/s)+"px",n.height=Gb(o/s)+"px"},m.Fg=function(e){this.Zl.globalAlpha=e},m.Re=function(e,n,r,o,s){this.Cu&&this.Zl.drawImage(e,n,r,o,s)},m.getContextAttributes=function(){return this.hj},m.uh=function(){return this.ij},m.clear=function(e){var n,r;this.Cu&&(e?this.Zl.clearRect(n=e.left,r=e.top,e.right-n,e.bottom-r):this.element.width=this.size.w)},m.disposeInternal=function(){var e=this.element;e.width=e.height=0,delete this.Zl,hk.g.disposeInternal.call(this)},hk.prototype.disposeInternal=hk.prototype.disposeInternal;function ik(e){var n="dom";ik.g.constructor.call(this,e),B(this.yb,zi)&&(n=e.uh()==="2d"?"2d":"webgl"),this.tD=n}u(ik,rj),ik.prototype.L=function(e,n,r,o,s,l,d,h){d=this.yb;var p=this.Pb,g=!(B(p,hk)&&p.uh()==="2d");return o>=d.min&&o<=d.max?(g&&p.Zb(!0),d.L(p.B(),{boundingBox:e,zoom:o,screenCenter:n,priorityCenter:l,projection:r,cacheOnly:s,size:p.mc(),pixelRatio:p.lb(),cameraMatrix:h})):(g&&p.Zb(!1),fh.DONE)},ik.prototype.Eh=function(){return this.tD};function jk(){}t("H.util.ICache",jk),jk.prototype.add=function(){},jk.prototype.add=jk.prototype.add,jk.prototype.get=function(){},jk.prototype.get=jk.prototype.get,jk.prototype.cm=function(){},jk.prototype.drop=jk.prototype.cm,jk.prototype.forEach=function(){},jk.prototype.forEach=jk.prototype.forEach,jk.prototype.ia=function(){},jk.prototype.removeAll=jk.prototype.ia,jk.prototype.fi=function(){},jk.prototype.registerOnDrop=jk.prototype.fi,jk.prototype.gp=function(){},jk.prototype.deRegisterOnDrop=jk.prototype.gp;function kk(e,n,r){if(this.mk=[],n&&this.fi(n),r&&!db(r))throw new C(kk,2,r);this.Oe=0,this.filter=r,this.aa={},this.ak=this.ph=null,this.Sr(e)}t("H.util.Cache",kk),kk.prototype.add=function(e,n,r){var o,s;if(r=+r,!ob(r)||0>r)throw new C(this.add,2,r);return e=String(e),(s=this.filter?this.filter(e,n,r):!0)&&((o=this.aa[e])?(o.data!==n&&lk(this,o),this.Oe+=r-o.size,o.size=r,o.data=n,mk(this,o)):this.aa[e]=nk(this,{id:e,data:n,size:r,Ad:null,mf:null},this.ph),ok(this)),s},kk.prototype.add=kk.prototype.add,kk.prototype.fi=function(e){if(!db(e))throw new C(this.fi,0,e);this.mk.push(e)},kk.prototype.registerOnDrop=kk.prototype.fi,kk.prototype.gp=function(e){this.mk=this.mk.filter(function(n){return n!==e})},kk.prototype.deRegisterOnDrop=kk.prototype.gp,kk.prototype.get=function(e,n){return(e=n?this.aa[e]:mk(this,this.aa[e]))&&e.data},kk.prototype.get=kk.prototype.get,kk.prototype.cm=function(e){var n;(n=this.aa[e])&&this.pf(n,!0)},kk.prototype.drop=kk.prototype.cm,kk.prototype.forEach=function(e,n,r){var o;for(o in this.aa){var s=this.aa[o];(!r||r(o,s.data,s.size))&&e.call(n,o,s.data,s.size)}},kk.prototype.forEach=kk.prototype.forEach,kk.prototype.ia=function(e){var n;for(n in this.aa){var r=this.aa[n];(!e||e(n,r.data,r.size))&&this.pf(this.aa[n],!0)}},kk.prototype.removeAll=kk.prototype.ia,kk.prototype.Sr=function(e){if(!(0<+e))throw new C(kk.prototype.Sr,0,e);return this.xv=+e,ok(this),this},kk.prototype.setMaxSize=kk.prototype.Sr,kk.prototype.jA=function(){return this.xv},kk.prototype.getMaxSize=kk.prototype.jA,kk.prototype.Gz=function(){return this.Oe},kk.prototype.getCurrentSize=kk.prototype.Gz;function mk(e,n){return n&&(e.ph=nk(e,n,e.ph)),n}function ok(e){for(;e.Oe>e.xv&&e.ak;)e.pf(e.ak,!0)}function nk(e,n,r){return r!==n&&((n.Ad||n.mf)&&e.pf(n,!1),(n.Ad=r)&&(n.mf=r.mf,r.mf=n),n.mf||(e.ph=n),n.Ad||(e.ak=n),e.Oe+=n.size),n}kk.prototype.pf=function(e,n){var r=e.mf,o=e.Ad;return(r||o||e==this.ph&&e==this.ak)&&(r?r.Ad=o:this.ph=o,o?o.mf=r:this.ak=r,this.Oe-=e.size,n&&(delete this.aa[e.id],lk(this,e))),e.Ad=e.mf=null,e};function lk(e,n){for(var r=e.mk.length;r--;)e.mk[r].call(e,n.id,n.data,n.size)}var pk,qk=function(){function e(){}for(var n=globalThis,r,o,s,l=$a("o ms moz webkit ").split(A!==void 0?void 0:" "),d=5;d--&&!r;)r=l[d],r=(o=n[r+(r?"R":"r")+"equestAnimationFrame"])&&!D(o.call(window,e))&&(s=n[r+(r?"C":"c")+"ancelAnimationFrame"]);return pk=r?function(h){return o.call(n,h)}:function(h){return n.setTimeout(h,25)},r?function(h){return s.call(n,h)}:function(h){return n.clearTimeout(h)}}(),rk=globalThis.performance&&globalThis.performance.now?function(){return globalThis.performance.now()}:function(){return globalThis.Date.now()};function sk(e,n,r,o,s){if(!db(e.Mr)||!db(e.Dr))throw new C(sk,0,e);if(this.bt=e,!db(this.ED=n))throw new C(sk,1,n);if(D(this.rj=+r))throw new C(sk,2,r);if(!db(this.Iv=o)&&o!=null)throw new C(sk,3,o);if(!db(this.Mt=s)&&s!=null)throw new C(sk,4,s);this.id=new Te().next(),this.R=!1}t("H.util.animation.Animation",sk),sk.prototype.start=function(){var e=this;this.$k=rk(),this.R=!0;var n=this.$k;this.bt.Mr(function(){if(e.R){var r=rk(),o=r-e.$k,s=o/e.rj,l=!1;1<=s&&(s=1,l=!0),e.ED(e.Mt?e.Mt(s):s,o,r-n,r),n=r,l&&e.stop()}else e.stop()})},sk.prototype.start=sk.prototype.start,sk.prototype.stop=function(e){this.R=!1,this.bt.Dr(),e||this.Iv&&this.Iv(this)},sk.prototype.stop=sk.prototype.stop,sk.prototype.Lm=function(){return this.R},sk.prototype.isRunning=sk.prototype.Lm;function tk(){I.call(this),this.reset()}u(tk,I),tk.prototype.start=function(e,n){this.R&&this.reset(),D(e-n)||(this.Ug=+e,this.Vg=+n),this.R=!0},tk.prototype.reset=function(){this.R=!1,this.Ug=this.Vg=A,this.Ro=new uk(0,0,0,0,0,0)},tk.prototype.Lm=function(){return this.R},tk.prototype.j={wo:"animationupdate"};function vk(e){vk.g.constructor.call(this,tk.prototype.j.wo),this.mt=e}u(vk,pd),tk.prototype.set=function(e,n,r,o,s,l){var d=this.Ro;this.R&&(e=new uk(e/1e3,n/1e3,r/1e3,o/1e3,s/1e3,l/1e3),d.da(e)||(this.Ro=e,this.dispatchEvent(new vk(wk(this)))))};function wk(e){return globalThis.Object.create(e.Ro)}tk.prototype.nc=function(){return wk(this).nc()},tk.prototype.Nf=function(){var e=wk(this),n=this.nc()||1;return new uk(e.Lb/n,e.Mb/n,e.Nb/n,e.mi,e.ni,e.Jk)},tk.prototype.disposeInternal=function(){this.reset(),tk.g.disposeInternal.call(this)};function uk(e,n,r,o,s,l){this.Lb=e,this.Mb=n,this.Nb=r,this.mi=o,this.ni=s,this.Jk=l}uk.prototype.nc=function(){return Lb(this.Lb*this.Lb+this.Mb*this.Mb+this.Nb*this.Nb)},uk.prototype.Nf=function(){var e=this.nc()||1;return new uk(this.Lb/e,this.Mb/e,this.Nb/e,this.mi,this.ni,this.Jk)},uk.prototype.da=function(e){var n=e===this;return!n&&(n=B(e,uk))&&(n=this.Lb===e.Lb&&this.Mb===e.Mb&&this.Nb===e.Nb&&this.mi===e.mi&&this.ni===e.ni&&this.Jk===e.Jk),n};function xk(e){var n=yk[e];if(!n)if(e in zk)n=yk[e]=e;else{n=Ak.length;var r="",o=e.substr(0,1).toUpperCase()+e.substr(1),s="",l=!1;for(Bk&&(s=Bk+o,l=s in zk);n--&&!l;)r=Ak[n],s=r+o,l=s in zk;if(l&&(Bk=r),n=l?s:null)yk[e]=n;else throw Error("Could not find any variant of CSS property ["+e+"]")}return n}t("H.dom.cssPrefixer.prefix",xk);var Ak=["O","Ms","ms","Moz","Webkit"],yk={},Bk="",zk=document.createElement("span").style;function Ck(e,n,r,o){Ck.g.constructor.apply(this,arguments)}u(Ck,yi),t("H.map.render.dom.Surface",Ck),m=Ck.prototype,m.uh=function(){return"dom"},m.createElement=function(e){return e=e.createElement("DIV"),e.style.position="absolute",e.style.pointerEvents="none",e},m.Zw=function(e,n,r,o){n.width=r+"px",n.height=o+"px"},m.Fg=function(e){this.element.style.opacity=e},m.Re=function(e,n,r){var o=this.ja,s=e.style;s[xk("transform")]="matrix(1,0,0,1,"+n/o+","+r/o+")",e.parentNode!==this.element&&(s.position="absolute",this.element.appendChild(e),this.element.style.pointerEvents="auto",getComputedStyle(e).pointerEvents==="auto"&&(e.style.pointerEvents="all"),this.element.style.pointerEvents="none")},m.clear=function(e){e?this.element.removeChild(e):this.element.innerHTML=""};function Dk(e,n){this.Ey=e,this.oa=n}function Ek(e,n,r){var o=[],s={nd:e.Ey,width:n.w,height:n.h,ja:e.oa};for(e=0;e<r.length;e++){n=r[e];var l=n.Eh(),d={};Wa(d,s);var h=n.Pb;switch(l){case"2d":if(B(n.Tb(),zi)&&(d.Wo=n.Tb().getContextAttributes()),l=y&&y.uh()==="2d"){l=d.Wo;var p=y.hj;l=p===l?!0:p&&!l?!p.alpha&&!p.willReadFrequently:l&&!p?!l.alpha&&!l.willReadFrequently:!l.alpha==!l.alpha&&!p.willReadFrequently==!l.willReadFrequently}if(l)var g=!1;else if(h&&!g){var y=h;g=!1}else y=new hk(d.nd,d.width,d.height,d.ja,"2d",d.Wo),g=!0;break;case"dom":y=h||new Ck(d.nd,d.width,d.height,d.ja),g=!h;break;default:y=h||new hk(d.nd,d.width,d.height,d.ja,n.Tb().uh(),d.Wo),g=!h}o[o.length-1]!==y&&(y.ui(o.length),o.push(y)),n.tf(y)}return o}function Fk(e){if(gb(this,Fk),Fk.g.constructor.call(this,e),e&&"tileSize"in e){var n=Kb(+e.tileSize)/Ub;if(isNaN(n)||n%1||0>n||30<n)throw new C(Fk,0,"tileSize: "+e.tileSize);this.tileSize=+e.tileSize}}u(Fk,Q),t("H.map.provider.TileProvider",Fk);function Gk(e,n){return dc(e)-8-Gb(dc(n))}Fk.getZoomLevelOffset=Gk,Fk.prototype.requestTile=Fk.prototype.Pa,Fk.prototype.cancelTile=Fk.prototype.Nd,Fk.prototype.cancelTileByKey=Fk.prototype.Xi,Fk.prototype.createTileInternal=Fk.prototype.pd,Fk.prototype.Vd=function(e,n,r){return this.uri.concat("_",e,"_",n,"_",r)},Fk.prototype.getTileKey=Fk.prototype.Vd,Fk.prototype.tileSize=256,Fk.prototype.tileSize=Fk.prototype.tileSize;function Hk(e,n,r,o){this.key="",this.x=e,this.y=n,this.z=r,this.data=o,this.valid=!0}t("H.map.provider.Tile",Hk);function R(e){gb(this,R),R.g.constructor.call(this,e),this.qD=new Ik,this.cc=z(this.cc,this),this.jt=Jk,this.createTileInternal=this.pd.bind(this)}u(R,Fk),t("H.map.provider.RemoteTileProvider",R),R.prototype.Nz=function(){return 1},R.prototype.getEntryWeight=R.prototype.Nz;var Jk,Kk=screen.width,Lk=screen.height,Mk=Ke();Mk=Fb(Mk,1);var Nk=Ib(Kk*Mk*Lk*Mk/1e6);Jk=new kk(Mb(2,Fb(8,Eb(12,7+Nk))));var Ok={},Pk={};R.prototype.Sb=function(){return this.jt},R.prototype.getCache=R.prototype.Sb,R.prototype.Yn=ca(3),R.prototype.cc=function(e){var n=this.uri;return!e.indexOf(n)&&e.charAt(n.length)==="_"},R.prototype.cacheFilter=R.prototype.cc,R.prototype.dB=function(e,n){n.valid=!1},R.prototype.reload=function(e){var n=this.getCache();e?n.ia(this.cc):n.forEach(this.dB,this,this.cc),Qk(this),this.jb(this,{isReload:!0})},R.prototype.reload=R.prototype.reload,R.prototype.Vi=function(){return!1},R.prototype.MAX_STORE_TIME=1/0,R.prototype.td=function(){return this.qD},R.prototype.qw=function(e,n){n(e)};function Ui(e,n,r,o,s,l){return o=~~o,e.requestInternal(n,r,o,function(d,h){e.td().put(e.Vd(n,r,o),{raw:h&&h.raw||d,timestamp:globalThis.Date.now()},s,l)},l,0)}R.prototype.requestInternal=R.prototype.o,R.prototype.Pa=function(e,n,r,o){var s=this,l=this.getCache();if(D(e=+e))throw new C(this.Pa,0,e);if(D(n=+n))throw new C(this.Pa,0,n);if(D(r=+r))throw new C(this.Pa,0,r);r=~~r;var d=this.getTileKey(e,n,r);return l=l.get(d),l&&l.valid||o||Ok[d]||(l=A,this.requestTileAsPromise(e,n,r,o).then(function(h){s.jb(h)},Ye)),l},R.prototype.requestTile=R.prototype.Pa,R.prototype.Iw=function(e,n,r,o){var s=this,l=this.getCache(),d=this.getTileKey(e,n,r),h,p,g=this.td();return Pk[d]?Pk[d]:(Pk[d]=h=new ee(function(y,v){function w(k){var F=0,q,_r=function(ga,La){q=s.createTileInternal(e,n,r,ga,La),q.key=d,l.add(d,q,1),y(q),Rk(d)};k&&(F=globalThis.Date.now()-k.timestamp),k&&F<s.MAX_STORE_TIME?s.qw(k.raw,_r):(0<F&&g.remove(d),(q=l.get(d))&&q.valid||o?y(q||null):Ok[d]=s.requestInternal(e,n,r,_r,v))}p=g.get(d,w,w)}),Ok[d]||(Ok[d]=p),h.then(function(){Rk(d)},function(){Rk(d)}),h)},R.prototype.requestTileAsPromise=R.prototype.Iw,R.prototype.Hw=function(e,n){var r=this,o=e.id,s=e.tile.coords;return new ee(function(l,d){r.Iw(s.x,s.y,s.z,n).then(function(h){var p=x;h=h.bb?h.bb():h.data;for(var g=h.length,y;g--;)if(y=h[g],y.xb()===o){p=y;break}l(p)},d)})},R.prototype.requestObjectAsPromise=R.prototype.Hw;function Rk(e){delete Ok[e],delete Pk[e]}function Qk(e){for(var n in Ok)e.cc(n)&&e.cancelTileByKey(n)}var Sk={cancel:Ye};R.prototype.pd=function(e,n,r,o){return new Hk(e,n,r,o)},R.prototype.createTileInternal=R.prototype.pd,R.prototype.Xi=function(e){var n=Ok[e];n&&(n.cancel(),Rk(e))},R.prototype.cancelTileByKey=R.prototype.Xi,R.prototype.Nd=function(e,n,r){this.cancelTileByKey(this.getTileKey(e,n,r))},R.prototype.cancelTile=R.prototype.Nd,R.prototype.disposeInternal=function(){R.g.disposeInternal.call(this),this.getCache().ia(this.cc),Qk(this)};function Ik(){}R.NullStorage=Ik,Ik.prototype.get=function(e,n){return n(),Sk},Ik.prototype.get=Ik.prototype.get,Ik.prototype.put=function(e,n,r){r&&r()},Ik.prototype.put=Ik.prototype.put,Ik.prototype.clear=function(e){e&&e()},Ik.prototype.clear=Ik.prototype.clear,Ik.prototype.remove=function(e,n){n&&n()},Ik.prototype.remove=Ik.prototype.remove;function Tk(e){if(Tk.g.constructor.call(this,e),e&&(this.Gk={crossOrigin:e.crossOrigin||"anonymous",headers:e.headers||{}},this.Vp=e.getURL),Uk(this)){var n=e&&e.style&&e.style instanceof H.map.render.harp.Style?e.style:new H.map.render.harp.Style({styles:[{technique:"raster",attr:{gamma:1,brightness:1}}]});this.Xa(n)}if(!db(this.Vp))throw new C(Tk,0,"getURL");if(this.Fg(e.opacity),this.zl=globalThis.URL||globalThis.webkitURL,e=this.Gk.crossOrigin,!(e=e==="anonymous"||e==="use-credentials")){e=this.Vp(0,0,0),n=window.location;var r=document.createElement("a");r.href=e,e=r.hostname===n.hostname&&r.port===n.port&&r.protocol===n.protocol}(this.ex=e&&!!rg.arraybuffer&&!!this.zl)&&this.Sb().fi(z(this.ke,this))}u(Tk,R),t("H.map.provider.ImageTileProvider",Tk);function Uk(e){return!!H.map.render.harp&&e.vb===mi.HARP}Tk.prototype.Fd=function(e){this.Fg(e)},Tk.prototype.setOpacity=Tk.prototype.Fd,Tk.prototype.Ve=function(){return this.Sc},Tk.prototype.getOpacity=Tk.prototype.Ve,Tk.prototype.zk=We,Tk.prototype.providesRasters=Tk.prototype.zk,Tk.prototype.o=function(e,n,r,o,s,l){var d=this,h=this.Vp(e,n,r),p;if(e=Sk,h){var g=globalThis.setTimeout(function(){d.ex?(p=new qg("arraybuffer",h,l,d.Gk),p.then(function(y){return y.blob()}).then(function(y){var v=new Image;v.onload=z(o,null,v,{raw:y}),v.onerror=z(s,null,"bad url");try{v.src=d.zl.createObjectURL(y)}catch{}},s)):(p=new qg("image",h,l,d.Gk),p.then(o,s))},150);e={cancel:function(){p?p.cancel():globalThis.clearTimeout(g)}}}else o(null);return e},Tk.prototype.requestInternal=Tk.prototype.o,Tk.prototype.qw=function(e,n){var r=new Image;r.onload=function(){n(this)},r.src=this.zl.createObjectURL(e)},Tk.prototype.ke=function(e,n){(e=n.data)&&e instanceof HTMLImageElement&&this.zl.revokeObjectURL(e.src)},Tk.prototype.K=function(){return this.mb()},Tk.prototype.getStyle=Tk.prototype.K,Tk.prototype.Cb=function(e){Uk(this)&&e instanceof H.map.render.harp.Style&&this.Xa(e)},Tk.prototype.setStyle=Tk.prototype.Cb;function Vk(e,n,r,o){return e-=r,n-=o,e*e+n*n}function Wk(e,n,r){return Xk(e,n*n,r||0,0,e.length-1)}t("H.math.simplifyDP",Wk);function Xk(e,n,r,o,s){var l=0,d=o,h=e[o].x,p=e[o].y,g=e[s].x,y=e[s].y,v=o+1,w=Vk(h,p,g,y);if(w)for(;v<s;){var k=e[v++],F=k.x;k=k.y;var q=((F-h)*(g-h)+(k-p)*(y-p))/w;F=0>q?Vk(F,k,h,p):1<q?Vk(F,k,g,y):Vk(F,k,h+q*(g-h),p+q*(y-p)),F>l&&(l=F,d=v-1)}else for(;v<s;)k=e[v++],F=k.x,k=k.y,F=Vk(F,k,h,p),F>l&&(l=F,d=v-1);return l>=n||0<r&&d-o?(--r,1<d-o?(o=Xk(e,n,r,o,d),o.splice(o.length-1,1)):o=[e[o]],o=1<s-d?o.concat(Xk(e,n,r,d,s)):o.concat(e.slice(d,s+1))):o=[e[o],e[s]],o}function Yk(e,n,r,o,s,l,d,h){Yk.g.constructor.call(this,n,r,o,null),this.key=e,this.Bd=h,this.gd=s,this.oa=l,this.di={},this.zL=d,this.Vm=Ib(M.MAX_LINE_WIDTH/2*this.oa+1)}u(Yk,Hk),t("H.map.provider.SpatialTile",Yk),Yk.prototype.zg=cc,Yk.prototype.xr=cc,Yk.prototype.qf=cc;function Zk(e){return e.Bd.getInvalidations(zh.SPATIAL)}function $k(e){var n=Zk(e),r=n.Md,o=e.zg,s=o===r,l;if(!(s||n.Su(o)||n.sq(o))){s=e.Ig;var d=e.di;if(n.Km(o))for(l=s.length;l--;){var h=s[l];if(h.Nc().Km(o)){s.splice(l,1);var p=p||al(e,h.xb())}}if(n.uq(o)){for(l=s.length;l--;)if(h=s[l],h.Nc().uq(o)){var g=1;if((h=d[h.xb()])&&h.wm){p=1;break}}g&&s.sort(bl)}if(!p&&n.Kh(o)){for(l=s.length;l--;)if(s[l].Nc().Kh(o)){var y=1;break}}e.xr!==o||y||(e.xr=r,e.qf!==o||p||(e.qf=r)),e.zg=r,s=!0}return s}Yk.prototype.Ih=function(){var e=Zk(this),n=e.Md,r=this.qf,o=r===n;return o||(this.Bd.vw&&!e.Kh(r)?o=!0:$k(this)&&(o=this.qf===n)),o},Yk.prototype.isCanvasValid=Yk.prototype.Ih,Object.defineProperty(Yk.prototype,"valid",{get:function(){return this.Ih()},set:Ye,configurable:!0});function cl(e,n){this.gm=e,this.wm=n}function al(e,n){e=e.di;var r=e[n];if(r)return delete e[n],r.wm}Yk.prototype.Ig=Ze;function dl(e){var n=Zk(e),r=e.zg,o=e.Ig,s;if(!$k(e)){for(s=o.length;s--;){var l=o[s],d=l.Nc();(d.Km(r)||d.sq(r))&&al(e,l.xb())}e.Ig=e.Bd.requestSpatialsByTile(e,!1,!1).sort(bl),e.zg=n.Md}}function bl(e,n){return Ah(e.We(),n.We(),!1)}Yk.prototype.bb=function(){return this.Ig},Yk.prototype.getObjects=Yk.prototype.bb,Yk.prototype.IA=function(){return this.gd},Yk.prototype.getTileSize=Yk.prototype.IA;var el={};Yk.prototype.Pj=function(){var e=this.gd+"_"+this.oa,n=el[e];if(!n){n=-this.Vm;var r=this.gd-n;n=el[e]=new lh(n,n,r,r)}return n},Yk.prototype.getPxClipRect=Yk.prototype.Pj,Yk.prototype.nm=function(){var e=this.oz;if(!e){var n=this.pm();e=0;var r=this.gd;this.z&&(r-=e+=this.Pj().top),e=this.oz=Wc(n.sk(new K(e,e)),n.sk(new K(r,r)))}return e},Yk.prototype.getGeoClipRect=Yk.prototype.nm,Yk.prototype.pm=function(){var e=this.zC;if(!e){var n=this.gd;e=this.zC=new si(A,n),e.Va(this.z),e.x=this.x*n,e.y=this.y*n}return e},Yk.prototype.getPxProj=Yk.prototype.pm,Yk.prototype.lb=function(){return this.oa},Yk.prototype.getPixelRatio=Yk.prototype.lb,Yk.prototype.Hn=function(){var e=this.data;return e&&(this.data=null,this.qf=cc),e},Yk.prototype.releaseCanvas=Yk.prototype.Hn,Yk.prototype.In=function(){this.di={},delete this.Ig,this.zg=cc},Yk.prototype.releaseData=Yk.prototype.In,Yk.prototype.L=function(e){var n=e.getContext("2d"),r,o,s,l,d=0;if(dl(this),this.qf<this.zg){var h=this.Ig;if(r=h.length){e.width=e.height=this.gd,n.clearRect(0,0,this.gd,this.gd);var p=this.di;for(o=0;o<r;o++){var g=h[o],y=g.xb();if(l=(s=p[y])?s.gm:g.getGeometriesForTile(this)){if(s)g.Nc().Kh(this.qf)&&(s.wm=Fh(g,l)),s=s.wm;else{s=Fh(g,l);for(var v,w=l,k=g.Xe?2:0,F=w.length;F--;){var q=w[F];if(q!==jh){var _r=q.Tc;for(v=_r.length;v--;)q=_r[v],4<q.length&&(_r[v]=Wk(q,.6,k))}}this.di[y]=new cl(l,s)}if(s){for(n.save(),w=g.Xe?this.GC:this.HC,y=0;y<l.length;y++)w.call(this,g,l[y],g.K(),n);if(l=g.getLabels(this))for(g=n,y=l.length;y--;)for(k=l[y],w=k.size,g.font=w+"px "+k.font,g.fillStyle=k.color,g.textAlign="center",g.translate(k.x,k.y),g.rotate(k.angle),w=k.lineHeight||1.375*w,F=k.lines,k=F.length;k--;)g.fillText(F[k],0,k*w);n.restore()}d|=+s}}}this.data=d?e:null,this.xr=this.qf=this.zg}else this.data&&(d=1);return 0<d},Yk.prototype.render=Yk.prototype.L,Yk.prototype.data=null,Yk.prototype.HC=function(e,n,r,o){var s;r.Xj&&(fl(o,r,this.oa),gl(n,o,!1,!0,!1,this.gd,this.Vm)),r.Vj&&(s=e.Tg)&&s.Pc&&(hl(o,s),il(this,o,n,s,r.lineWidth))},Yk.prototype.GC=function(e,n,r,o){var s=r.Pc,l=r.Xj,d,h=this.gd,p=this.Vm;if(n===jh)s&&(hl(o,r),o.fillRect(0,0,h,h));else{if(l&&fl(o,r,this.oa),r.Vj&&(d=e.Tg)){var g=r.lineWidth;d.Pc||(d=null)}e=n.sn,e===bc?((l||s)&&(hl(o,r),gl(n,o,!0,l,s,h,this.Vm)),d&&(hl(o,d),il(this,o,n,d,g,0))):(s&&(hl(o,r),gl(n,o,!0,!1,s,h,p,0,e)),l&&gl(n,o,!1,l,!1,h,p,e),d&&(hl(o,d),il(this,o,n,d,g,e)))}};function gl(e,n,r,o,s,l,d,h,p){var g=e.Tc,y=-d;if(d=l+d,h=h||0,p===A&&(p=g.length),s&&e===jh)n.fillRect(0,0,l,l);else if(p>h){for(n.beginPath(),l=h;l<p;l++){var v=g[l],w=v.length;if(v===kh)n.moveTo(y,y),n.lineTo(y,d),n.lineTo(d,d),n.lineTo(d,y);else{var k=v[0];for(n.moveTo(k.x,k.y),h=1;h<w;h++)k=v[h],n.lineTo(k.x,k.y)}r&&n.closePath()}r&&s&&n.fill(e.Uj!==bc?"evenodd":"nonzero"),o&&n.stroke()}}function fl(e,n,r){var o;e.strokeStyle=n.strokeColor,e.lineWidth=n.lineWidth*r,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.miterLimit=n.miterLimit,e.setLineDash&&(o=n.lineDash)!==Ze&&(e.setLineDash(o),e.lineDashOffset=n.lineDashOffset)}function hl(e,n){e.fillStyle=n.fillColor}function il(e,n,r,o,s,l){var d=s*o.width/2;s=s*o.length/2;var h=s/2;o=2*s*o.frequency;var p=Lb(Mb(s,2)+Mb(d,2));e=e.gd-p,e=new lh(p,p,e,e),r=r.Tc;var g,y,v,w,k,F,q,_r=Vb/2;for(l=l||0,p=r.length;p-- >l;){var ga=0,La=r[p];if(y=g=La.length){var jc=La;for(y=jc.length,v=0;--y;)v+=jc[y].kb(jc[y-1]);y=(jc=v)>=o}if(y)for(y=Eb(Hb(jc/o),1e3),y=jc/(y+1),v=y/2;--g;){for(w=(k=La[g]).kb(F=La[g-1]);v<=ga+w;){var _l=k.x+(F.x-k.x)*(q=(v-ga)/w);q=k.y+(F.y-k.y)*q,e.Ql(_l,q)&&(n.save(),n.translate(_l,q),n.rotate(-Sb((F.y-k.y)/(k.x-F.x))+(k.x<F.x?_r:-_r)),n.beginPath(),n.moveTo(-d,-s),n.lineTo(0,s),n.lineTo(d,-s),n.lineTo(0,-h),n.closePath(),n.fill(),n.restore()),v+=y}ga+=w}}}var jl=[];Yk.prototype.Ma=function(e,n,r){for(var o=this.Ig,s=o.length,l,d,h,p,g,y,v=Ze,w,k=this.oa;s--;)if(d=o[s],d.Wd(!0)&&(h=this.di[d.xb()])&&(p=h.gm)){for(l=d.K(),y=l.fillColor!=="none"&&d.Xe,w=l.strokeColor==="none"?0:l.lineWidth*k,l=p.length;l--;){g=p[l];var F;if(!(F=y&&g===jh)&&(F=y||w)){var q;F=e;var _r=n,ga=y,La=w,jc=g.Uj,_l=g.sn,e1=_l!==bc,n1=g.Tc,d1=n1.length,c1=0,h1=0,N1=!1;for(g=0;g<d1;g++){var k1=n1[g],R1=g>=_l,U1=!R1&&g>=jc;if(k1===kh&&ga)U1?c1++:h1++;else{var x1=k1.length;for(jl.length=2*x1,q=0;q<x1;q++){var m2=k1[q];jl[2*q]=m2.x,jl[2*q+1]=m2.y}if(q=ga&&!R1,R1=e1&&!R1?0:La,q||R1){if(R1=lc(F,_r,jl,R1,q),R1===kc.EDGE||R1===kc.VERTEX){N1=!0;break}else if(R1===kc.SURFACE){if(U1)c1++;else if(h1++,jc===bc)break}}}}F=N1||0<h1&&!(c1%2)}if(F){v===Ze&&(v=[]),v.push(d);break}}if(r&&v.length)break}return v};function kl(e,n){var r=this;if(!db(n))throw new C(kl,1,n);if(!db(e.next||db(e.cycle)))throw new C(kl,2,'Argument "mode" must implement H.util.AsyncQueue.Mode');this.Ak=[],this.sw=[],this.LB=e,this.process=n,this.xC=function(){ll(r)},this.nr=null,this.Mw=function(){r.nr||(r.nr=globalThis.setTimeout(r.xC,1))}}t("H.util.AsyncQueue",kl),kl.prototype.push=function(e,n){if(!db(n))throw new C(this.push,1,n);return e=ml(new nl,e,this.Mw,n),this.Ak.push(e),this.Mw(),e},kl.prototype.push=kl.prototype.push,kl.prototype.An=function(){ll(this)};function ll(e){var n=e.sw,r=0,o=e.LB;for(o.yt(),e.nr=null;r<n.length;){var s=n[r];s.Wu?n.splice(r,1):r++}for(;s=o.next(e.Ak,e.sw);)s.cancelled?s.done(null,"cancelled"):(n.push(s),e.process(s,s.data))}function nl(){ml(this,null,null,null)}kl.Task=nl;function ml(e,n,r,o){return e.data=n,e.cancelled=!1,e.Wu=!1,e.VB=r,e.WB=o,e.Qo=null,e}nl.prototype.done=function(e,n){this.Wu=!0,this.VB(),this.WB(this,e,n)},nl.prototype.done=nl.prototype.done,nl.prototype.cancel=function(){this.Qo&&this.Qo(),this.cancelled=!0},nl.prototype.cancel=nl.prototype.cancel,nl.prototype.ZC=function(e){return this.Qo=e,this},nl.prototype.setCancelFn=nl.prototype.ZC;function ol(){}kl.Mode=ol,ol.prototype.next=function(){},ol.prototype.yt=function(){};function pl(e,n){pl.g.constructor.call(this,new ql(e),n)}u(pl,kl),t("H.util.SequentialQueue",pl);function ql(e){if(isNaN(e)||0>e)throw new C(pl,1,'Argument "maxTime" must be a positive number');this.EB=e,this.$k=rk()}ql.prototype.next=function(e){return e.length&&rk()-this.$k<this.EB?e=e.shift():null},ql.prototype.yt=function(){this.$k=rk()};function rl(e,n){var r;rl.g.constructor.call(this,n),this.uw=e,this.oa=e=n.pixelRatio,this.tileSize=r=1<<Gb(dc((n.tileSize||256)*e)),this.vs=Gk(r,e),this.ke=z(this.ke,this),this.Qq=z(this.Qq,this),this.sg=z(this.sg,this),this.mg=z(this.mg,this),this.he=z(this.he,this),this.uw.addEventListener(Q.prototype.j.Aa,this.he,!1,this),this.Zg=[],this.wf=new kk(n.tileCacheSize||256,this.ke),this.cp=new kk(n.dataCacheSize||512,this.Qq),this.Mn=new pl(20,this.sg),this.qg={},this.gv=rk()}u(rl,Fk),rl.prototype.he=function(e){e=e.target,e.type===zh.SPATIAL&&this.jb(e)},rl.prototype.Pa=function(e,n,r,o){var s=this.getTileKey(e,n,r),l;if(l=this.wf.get(s,o)){if(o||l.Ih())return l;o||this.wf.cm(s)}if((l=this.cp.get(s,o))&&(o||$k(l)))return e=this.Zg.pop()||document.createElement("canvas"),l.L(e)||this.Zg.push(e),this.wf.add(s,l,1),l;o||((l=this.qg[s])?l.count++:(l=this.Mn.push([s,e,n,r],this.mg),l.count=1,this.qg[s]=l))},rl.prototype.requestTile=rl.prototype.Pa,rl.prototype.pd=function(){},rl.prototype.createTileInternal=rl.prototype.pd,rl.prototype.An=function(){var e=rk();33<e-this.gv&&(this.Mn.An(),this.gv=e)},rl.prototype.Nd=function(e,n,r){this.Xi(this.getTileKey(e,n,r))},rl.prototype.cancelTile=rl.prototype.Nd,rl.prototype.Xi=function(e){var n;(n=this.qg[e])&&(n.count--,n.count||(n.cancel(),delete this.qg[e]))},rl.prototype.cancelTileByKey=rl.prototype.Xi,m=rl.prototype,m.sg=function(e,n){var r=n[0],o=n[1],s=n[2],l=n[3];r=this.wf.get(r)||new Yk(r,o,s,l,this.tileSize,this.oa,l+this.vs,this.uw),o=r.data||this.Zg.pop()||document.createElement("canvas"),r.L(o)||this.Zg.push(o),n.push(r),e.done(r)},m.mg=function(e,n){e=e.data[0],n&&this.wf.add(e,n,1),delete this.qg[e],this.jb()},m.ke=function(e,n){n.data&&this.Zg.push(n.Hn()),this.cp.add(e,n,1)},m.Qq=function(e,n){n.In()},m.disposeInternal=function(){for(var e in this.qg)this.qg[e].cancel();this.wf.ia(),this.cp.ia(),this.Zg.length=0,rl.g.disposeInternal.call(this)};function sl(e,n){Wi.call(this,e,n)}u(sl,Wi),t("H.map.layer.TileLayer",sl),sl.prototype.yg=function(e,n,r,o,s){if(!B(e,E))throw new C(this.yg,0,e);if(D(n=+n))throw new C(this.yg,1,n);n=Hb(n),this.pixelProjection.Va(n),e=this.Bj(e);var l=this.Fh(e,n);return this.Oj(l,e.left>e.right,n,r,o,s)},sl.prototype.requestTiles=sl.prototype.yg;function tl(e,n){n=n?Ta(n):{},n.tileSize=n.tileSize||256,n.pixelRatio=n.pixelRatio||Ke(),n.max=24,this.Hg=new rl(e,n),this.wi=new sl(this.Hg),n.minWorldSize=this.Hg.tileSize,n.provider=e,tl.g.constructor.call(this,n),this.tileSize=this.wi.tileSize,this.ln=z(this.ln,this),this.Hg.addEventListener(this.Hg.j.Aa,this.ln),e.addEventListener(e.j.Aa,this.ln)}u(tl,vi),t("H.map.layer.ObjectLayer",tl),tl.prototype.ln=function(e){e.currentTarget!==this.Hg&&e.target.type===zh.SPATIAL||this.jb()};var ul={markers:Ze,total:0};tl.prototype.qe=function(e,n,r){var o=this.D,s;return o.providesMarkers()&&(s=o.requestMarkers(e,n,!0,r)).length?{markers:s,total:s.length}:ul},tl.prototype.requestMarkers=tl.prototype.qe,tl.prototype.pe=function(e,n,r){var o=this.D,s;return o.providesDomMarkers()&&(s=o.requestDomMarkers(e,n,!0,r)).length?{markers:s,total:s.length}:ul},tl.prototype.requestDomMarkers=tl.prototype.pe;var vl={tiles:Ze,total:0};tl.prototype.yg=function(e,n,r,o){if(this.D.providesSpatials()){var s=this.wi.yg(e,n,r,o);r||(this.Hg.An(),s=this.wi.yg(e,n,!0,o))}else s=vl;return s},tl.prototype.requestTiles=tl.prototype.yg,tl.prototype.Pa=function(e,n,r,o){return this.wi.Pa(e,n,r,o)},tl.prototype.requestTile=tl.prototype.Pa,tl.prototype.Nd=function(e,n,r){this.wi.Nd(e,n,r)},tl.prototype.cancelTile=tl.prototype.Nd;var wl={overlays:Ze,total:0};tl.prototype.xg=function(e,n,r){var o=this.D,s=wl;return o.providesOverlays&&o.providesOverlays()&&(e=o.requestOverlays(e,n,!0,r),n=e.length)&&(s={overlays:e,total:n}),s},tl.prototype.requestOverlays=tl.prototype.xg,tl.prototype.disposeInternal=function(){this.Hg.l(),this.wi.l(),this.D.dispose(),tl.g.disposeInternal.call(this)};function xl(e){var n,r=this,o=globalThis.H.gl;xl.g.constructor.call(this),this.m=n=o.Scene.create(globalThis.URL.createObjectURL(ff(JSON.stringify(yl))),{viewport:e.viewport,container:e.nd,disableRenderLoop:!0,devicePixelRatio:e.devicePixelRatio,logLevel:"error"}),e.cC&&n.subscribe({load:e.cC}),n.subscribe({view_complete:function(){r.Jr=!0,e.Rv()}});var s=n.requestRedraw;n.requestRedraw=function(){s.apply(n),e.Rv()},this.Kr=z(this.Kr,this),this.Kn=z(this.Kn,this),this.rs=0,this.Rh={},this.Hd={}}u(xl,ed),m=xl.prototype,m.Jr=!1;function zl(e){e=e.m.sources;var n;for(n in e){var r=e[n];if(r.hasPendingCommands&&r.hasPendingCommands())return!0}return globalThis.H.gl.Task.hasPendingTasks()}m.L=function(){var e=globalThis.H.gl.Task;return this.m.immediateRedraw(),e.setState({user_moving_view:this.m.view.user_input_active}),e.processAll(),this.Jr&&!this.m.dirty&&!this.m.building&&!zl(this)&&!Object.keys(this.Hd).length};function Al(e){e.Jr=!1,e.m.resetViewComplete()}function Bl(e){return e.m.view}function Cl(e,n){function r(){var s=n.Ta(),l={},d={},h,p,g,y=++e.rs,v,w;for(Dg(d,yl),p=0;p<s.length;p++){var k=s[p];if(h=k.D){var F=h.mb();if(F.getState()===Ag.READY){var q=F.Sd();if(!Sa(q)){delete q.cameras,delete q.camera,l[p]=q=Pg(q,p),!B(k,tl)&&q.sources&&Qg(q,h.uid);for(g in q.sources){var _r=q.sources[g];_r.max_zoom=Eb(h.max,fk.lookAt.zoom.max),_r.max_display_zoom=k.max,_r.min_display_zoom=k.min,(w=h.tileSize)&&(2<=o&&256<w&&h instanceof Tk&&(w/=2),_r.tile_size=w)}(v=F.Lc())&&Rg(q,v),Dg(d,q)}}}}return Dg(d.layers.skybox.draw.skybox.color,d.scene.sky),e.m.config=d,e.m.updateConfig().then(function(){var ga={},La,jc;if(y!==e.rs)return!1;e.rs=0;for(jc in l){k=s[+jc];var _l=l[jc].sources;for(La in _l)(_l=e.m.sources[La])&&(ga[La]=_l,_l.initialize&&k.getProvider()&&_l.initialize(k.getProvider(),e.Kr,e.m.getWorkers().length,_l.tiled?A:e.m.tile_manager.getWorkerForTile(x,_l)))}for(La in e.Rh)!ga[La]&&e.Rh[La].dispose&&e.Rh[La].dispose();return e.Rh=ga,!0})}var o=e.m.pixelRatio();e.m.initialized?r():e.m.load(x,{blocking:!1}).then(r)}m.Kr=function(e,n,r){var o=this,s=this.m.sources[e],l=r&&r.isReload;n?this.Hd[e]!==!0&&(this.Hd[e]||(this.Hd[e]={tx:{},it:[]}),B(n,Hk)?this.Hd[e].tx[n.x+"/"+n.y+"/"+n.z]=!0:(n=n.boundingBox,this.Hd[e].it.push(new E(n[0],n[1],n[2],n[3])))):this.Hd[e]=!0,s&&s.has_volatile_data?Dl(this,l):(globalThis.clearTimeout(this.Cw),this.Cw=globalThis.setTimeout(function(){return Dl(o,l)},100))},m.Kn=function(e){var n=!1,r=this.Hd[e.source.name],o=globalThis.H.gl;if(r)if(r===!0)n=!0;else{var s=o.Tile.coord(o.Geo.wrapTile(e.coords));if(n=!!r.tx[s.key],!n){var l=o.Geo.getTileBoundingBox(s,e.source.tile_size,M.MAX_LINE_WIDTH/2);l=Wc(l.getTopLeft(),l.getBottomRight()),n=r.it.some(function(d){return d.Wf(l,!0)||l.Gf(d.wb(),!0)})}}return n};function Dl(e,n){var r=e.m.tile_manager;r.removeTiles(e.Kn),r.updateTilesForView(),n&&r.removeCachedTiles(e.Kn),Al(e),e.Hd={}}m.Sd=function(){return this.m.config};function El(e,n,r,o){e.m.getFeatureAt(n,r,o),e.m.update()}function Fl(e){return e.m.screenshot(void 0).then(function(n){return new ee(function(r,o){new Yh(URL.createObjectURL(n.blob),function(s,l){s===1?r(l.getData()):o()},!1)})})}m.lb=function(){return this.m.pixelRatio()},m.disposeInternal=function(){var e=this.Rh;xl.g.disposeInternal.call(this),this.m.destroy(),this.Hd={},e&&Object.keys(e).forEach(function(n){e[n].dispose()}),globalThis.clearTimeout(this.Cw),delete this.Rh,delete this.m},xl.prototype.disposeInternal=xl.prototype.disposeInternal;var yl={scene:{background:{color:"#FFFFFF"},sky:{zenith:"#347BC0",horizon:"#EDF2F9",fog:"#FFFFFF"}},lights:{default_light:{type:"directional",name:"default_light",visible:!0}},camera:{type:"perspective"},styles:{},fonts:{},sources:{skybox:{type:"SkyBox"}},layers:{skybox:{data:{source:"skybox"},draw:{skybox:{color:{}}}}},global:{}};function Gl(e,n){if(D(this.x=+e))throw new C(Gl,0,e);if(D(this.y=+n))throw new C(Gl,1,n)}m=Gl.prototype,m.add=function(e){return new Gl(this.x+e.x,this.y+e.y)},m.Lt=function(e){if(!B(e,Gl))throw new C(this.Lt,0,e);return e=this.multiply(e),e.x+e.y},m.multiply=function(e){if(!B(e,Gl))throw new C(this.multiply,0,e);return new Gl(this.x*e.x,this.y*e.y)},m.Va=function(e){return new Gl(this.x*e,this.y*e)};function Hl(e){return Lb(e.Lt(e))}m.normalize=function(){var e=Hl(this);return e!==0?new Gl(this.x/e,this.y/e):this};function Il(e){e=e||$e,this.JB=fb(e.IB)?e.IB:3,this.yv=fb(e.DB)?e.DB:300,this.Jx=fb(e.ID)?e.ID:3,this.yD=fb(e.xD)?e.xD:50,this.ei=[],this.clear()}t("H.map.render.InteractionUtils",Il),Il.prototype.gB=function(){return this.Jh},Il.prototype.isGestureDetected=Il.prototype.gB,Il.prototype.start=function(e,n){var r=Yj.HEADING,o=Yj.TILT;this.R&&this.clear(),this.ik=e,this.Jm=!!n,this.R=!0,this.Jh=!(e&(r|o))||e===r||e===o},Il.prototype.start=Il.prototype.start,Il.prototype.store=function(e,n,r,o,s){var l=!1;if(this.R){if(e=new Jl(e,n,r,o,s),l=e.Tu,this.Vn=this.af,this.af=e,this.yj){if(this.ym=!0,l){n=this.ik;var d=this.Jh;if(!d&&this.ym){s=Yj.HEADING;var h=Yj.TILT;r=Yj.COORD,o=Yj.ZOOM;var p=n&(r|h)?this.Ah(!0):Kl,g=n&o?this.jm(!0):1,y=n&s?Jb(this.Bp(!0)):0,v=Jb(p.x),w=Jb(p.y);p=10<v||10<w,v=10<w&&w>3*v,g=.8>g||1.2<g,y=7<y,n&h&&(y||g||p&&!v?Ll(this,h):v&&(Ll(this,~h>>>0),d=!0)),!d&&n&s&&n&(r|o)&&(g||p?(Ll(this,s),d=!0):y&&(Ll(this,h),d=!0)),this.Jh=d}}}else this.yj=e,l||(this.Jh=!0);this.Jm&&this.ei.push(e)}return l},Il.prototype.store=Il.prototype.store,Il.prototype.clear=function(){this.ei.length=0,this.R=this.Jm=this.ym=this.Jh=!1,this.yj=this.Vn=this.af=void 0},Il.prototype.clear=Il.prototype.clear,Il.prototype.ae=function(e){return 0<(this.ik&e)},Il.prototype.isModifierEnabled=Il.prototype.ae;function Ll(e,n){e.ik^=e.ik&n}Il.prototype.Lm=function(){return this.R},Il.prototype.isRunning=Il.prototype.Lm;var Kl=ab(new Gl(0,0));Il.prototype.Nf=function(){var e;if(this.Jm){var n=this.ei,r=n.length,o=0;for(e=new Gl(0,0);--r&&o<this.Jx;)e=e.add(Ml(n[r-1],n[r])),o++}else e=this.Ah();return e.normalize()},Il.prototype.getDirection=Il.prototype.Nf,Il.prototype.nc=function(e){e=e||rk();var n,r;if(this.Jm){var o=this.ei,s=this.ei.length,l=this.ei[s-1];for(r=n=0;--s&&n<this.Jx;)r+=Hl(Ml(o[s],o[s-1])),n++;o=r/n}else l=this.af,o=Hl(this.Ah());return o=o>=this.JB&&e-l.timestamp<=this.yD?o>this.yv?this.yv:o:0},Il.prototype.getSpeed=Il.prototype.nc,Il.prototype.im=function(){return this.af?Nl(this.af):A},Il.prototype.getBifocalCenter=Il.prototype.im,Il.prototype.Ah=function(e){return(e=e?this.yj:this.Vn)?Ml(e,this.af):new Gl(0,0)},Il.prototype.getMoveVector=Il.prototype.Ah,Il.prototype.jm=function(e){var n=1;if(this.ym){var r=this.af;e=e?this.yj:this.Vn,(e=Ol(e))&&(r=Ol(r))&&(n=r/e)}return n},Il.prototype.getBifocalScaling=Il.prototype.jm,Il.prototype.Bp=function(e){if(this.ym){var n=e?this.yj:this.Vn,r=this.af;e=n.rg;var o=r.rg,s=0;e&&o&&(n=n.le,r=r.le,s-=Tb(o.y-r.y,o.x-r.x)*ac-Tb(e.y-n.y,e.x-n.x)*ac),e=s}else e=0;return e},Il.prototype.getBifocalRotation=Il.prototype.Bp;function Jl(e,n,r,o,s){this.le=new K(e,n),r!==A&&(this.rg=new K(r,o),this.Tu=!0),this.timestamp=s!==A?s:rk()}Jl.prototype.Tu=!1;function Nl(e){var n=e.le;return(e=e.rg)?new K(n.x-(n.x-e.x)/2,n.y-(n.y-e.y)/2):A}function Pl(e,n){var r=e.le;return(e=e.rg)&&e.kb(n)<r.kb(n)?e:r}function Ml(e,n){var r=e.rg,o=n.rg;return o&&r?(n=Nl(n),e=Nl(e)):r?(n=n.le,e=Pl(e,n)):o?(e=e.le,n=Pl(n,e)):(n=n.le,e=e.le),new Gl(n.x-e.x,n.y-e.y)}function Ol(e){var n=e.rg;return n?e.le.kb(n):0}function S(e,n,r,o){var s;if(S.g.constructor.call(this,e,n,r,o),this.qp=new kk(this.by),this.Xb=new K(0,0),(s=o.renderBaseBackground)&&(this.Ew=s.lower,this.Dw=s.higher),this.tj=!!o.enableSubpixelRendering,this.Kg=Ql,this.na=new Il,this.T=o=new tk,this.gg=z(this.gg,this),o.addEventListener(o.j.wo,this.gg),o=e.element,this.rc=e=o.ownerDocument.createElement("div"),e.style.position="absolute",e.style.width=e.style.height="100%",e.style.zIndex=0,o.insertBefore(e,o.firstChild),this.cl=new Dk(this.rc,this.ja),this.Um=n.Ib().position,n=globalThis.H.gl,!n)throw new Bb(S,'"H-webgl" module is missing');this.m=new xl({viewport:this.za,nd:this.rc,devicePixelRatio:this.ja,Rv:z(this.ba,this)}),n.WorkerBroker.addTarget("model",Pj),this.gq(),this.Tq=z(this.Tq,this),this.wg=z(this.wg,this),this.La=z(this.La,this),r.addEventListener(vi.prototype.j.Li,this.Tq),this.s=Rl,this.zoom=ak(this,this.Ee.Ub()),this.Ac(),this.ng()}u(S,Vj),t("H.map.render.webgl.RenderEngine",S),S.prototype.by=100,S.prototype.Ib=function(){var e=this.Um;return bk(this,{position:{qB:e.qB,xB:e.xB},zoom:this.zoom,tilt:this.vx,heading:this.heading})},S.prototype.Tq=function(e){e=(e=e.target.D)&&e.mb(),(e&&e.getState())===Ag.INIT?e.load():(Al(this.m),Cl(this.m,this.ib),this.ba())},S.prototype.type=ek.WEBGL;var Rl=2;S.prototype.getState=function(){return this.s},S.prototype.getState=S.prototype.getState,S.prototype.Ej=function(e,n){e=n-e;var r=Mb(2,8+this.zoom);return e<r/2?e:e-r*n/Jb(n)};function Sl(e,n,r){function o(h){return s[h]+pj(s[h],n[h])/2}if(!(r&Oi.POSITION||r&Oi.BOUNDS))return null;var s=Bl(e.m).getLookAtData();r=s.position;var l=n.position,d=n.bounds;return Ff(s.bounds,l.lat,l.lng,!1)||d&&Ff(d,r.lat,r.lng,!1)?null:(r=Tl(e,{tilt:o("tilt"),heading:o("heading"),incline:0,bounds:Xc([r,l])}),r.zoom=ak(e,r.zoom-.5),delete r.bounds,r)}S.prototype.mr=!1;function Ul(e,n,r,o){return e=e.getCapabilities().lookAt[o],Jb(o==="zoom"?r[o]-n[o]:pj(n[o],r[o]))/(e.max-e.min)||0}function Vl(e,n,r){return e=Fb(8*Ul(e,n,r,"zoom"),Ul(e,n,r,"heading"),Ul(e,n,r,"tilt")/2),gc(3e3*e,300,4e3)}S.prototype.ar=function(e){var n=this,r=e.newValue,o=e.modifiers,s=Bl(this.m);this.Jg(),this.Xb.set(0,0);var l=this.Do(r);if(Jj.forEach(function(y){o&e[y.toUpperCase()]||delete l[y]}),e.animate){r=Bl(this.m).getLookAtData();var d=Tl(this,l,e.Pu);s=Sl(this,d,o);var h=1;ob(e.animate)&&(h=1/e.animate);var p=function(){return n.mr=!1};if(delete d.bounds,this.mr=!0,s){r=Vl(this,r,s);var g=Vl(this,s,d);Wl(this,s,r*h,function(){return Wl(n,d,g*h,p)})}else s=Vl(this,r,d),Wl(this,d,s*h,p)}else(r=e.Pu)?l=Tl(this,l,r):Xl(l),s.setLookAtData(l);Yl(this),Al(this.m),this.ba()};function Tl(e,n,r){return Xl(n),e=Bl(e.m).getBestLookAtData(n),r&&(e.zoom<<=0),e}function Xl(e){var n=e.bounds;!n||n instanceof L||(e.bounds=Cf(n.C()))}function Zl(e,n,r){Bl(e.m).setLookAtData(n),Al(e.m),Yl(e),e.ba(),r&&setTimeout(r,0)}function Wl(e,n,r,o){var s=Bl(e.m).getLookAtData(),l=new oj(s,n);l.cg.tilt+l.cg.heading+l.cg.zoom+l.kh!==0?e.cd(function(d){for(var h in l.cg)if(l.cg[h]!==0){var p=l.Fv[h](d);s[h]+=l.cg[h]*(p-l.hv[h]),l.hv[h]=p}return l.kh!==0&&(s.position=l.bp.mo(l.sy,l.kh*l.Fv.position(d),!0)),Zl(e,s)},r,function(){return Zl(e,n,o)}):Zl(e,n,o)}S.prototype.Wn=function(){},S.prototype.setAnimationDuration=S.prototype.Wn,S.prototype.zp=function(){},S.prototype.getAnimationDuration=S.prototype.zp,S.prototype.Xn=function(){},S.prototype.setAnimationEase=S.prototype.Xn,S.prototype.Ap=function(){},S.prototype.getAnimationEase=S.prototype.Ap,S.prototype.Qn=function(){},S.prototype.resetAnimationDefaults=S.prototype.Qn;function $l(e,n){e.qp.ia(function(r,o){return o.Jb()===n})}m=S.prototype,m.Pv=function(e){$l(this,e.target.D),Al(this.m),this.ba()},m.pk=function(e,n){S.g.pk.call(this,e,n),am(n)&&(Al(this.m),(e=(e=n.D)&&e.mb())&&e.getState()===Ag.INIT&&e.load())},m.Uq=function(e,n,r){var o;if(this.$j=rk(),$l(this,n.D),n.requestDomMarkers||B(n,zi)||B(n,xi)){var s=this.re.ka;for(o=s.length;o--;){var l=s[o];if(l.Tb()===n){s.splice(o,1),l.l();break}}}am(n)&&Cl(this.m,this.ib),this.bf=this.ib.Ta(),e===0&&(Zj(this,n,!1),this.Ac()),Ek(this.cl,this.Tf(),this.Qf()),this.li(),r||this.ba()};function am(e){return!(B(e,xi)||B(e,zi))}m.gq=function(){var e=this.ib.Ta(),n=0,r=e.length;for(this.re={Qe:[],ka:[]},this.bf=e;n<r;n++){var o=e[n];this.pk(n,o),Zj(this,o,!0)}this.Ac()},m.Vq=function(){this.Ac()},m.Ac=function(){S.g.Ac.call(this);var e=this.getCapabilities().lookAt.zoom;Bl(this.m).setZoomConstraints(Fb(e.min,this.zq),Eb(e.max,this.yq))},m.hq=function(e,n){var r;if(n){if(e={Qd:this.tj,Ab:this.Ab},n.L?B(n,zi)?r=new ik(n):B(n,xi)&&(r=new ik(n)):n.requestDomMarkers&&(r=new vj(n,e)),r){this.re.ka.push(r);var o=this.ib.Ta();this.re.ka.sort(function(s,l){return o.indexOf(s.yb)-o.indexOf(l.yb)}),Ek(this.cl,this.Tf(),this.Qf())}am(n)&&Cl(this.m,this.ib)}this.bf=this.ib.Ta()},m.Qf=function(){return this.re.ka.filter(fb)},m.Po=function(){return this.s===Rl},m.Do=function(e){var n=e.position;return bk(this,{zoom:ak(this,e.zoom),position:new tc(n.lat,n.lng),tilt:e.tilt,heading:e.heading,bounds:e.bounds})};function Yl(e){var n=Bl(e.m).getLookAtData();e.zoom=n.zoom,e.Um=n.position}m.Fs=4007501668557849e-8;function bm(e,n){return n=Bl(e.m).geoToMeters(n),new K(n.x/e.Fs+.5,1-(n.y/e.Fs+.5))}function cm(e,n){return n.sub(bm(e,e.Um)).scale(Mb(2,8+e.zoom))}m.La=function(e){return Bl(this.m).geoToPixel(e)},S.prototype.geoToScreen=S.prototype.La,S.prototype.Wa=function(e,n){return Bl(this.m).xyToGeo(e,n)},S.prototype.screenToGeo=S.prototype.Wa,S.prototype.Un=function(e,n){return e=this.Wa(e,n),n=this.Ee.Ib(),n.position=e,n};function dm(e,n,r,o,s,l,d,h){var p,g,y=0,v,w=function(){--y===0&&l(s)};if(h&&h.features)for(y=g=h.features.length,v=0;v<g;v++){var k=h.features[v],F=k.id;if(p=e.m.m.sources[k.source_name]){var q=p.provider,_r=q.ru();if(_r===ki.SOURCE){var ga=k.source_layer;if(ga==="overlays")em(e,n,r,o,s,p,k.properties.overlays_config);else if(p=p.getMapObjectById(F)){if(ga!=="markers")s.push(p);else if(fm(e,n,r,p))s.push(p);else if(o&&!d){var La=!0;El(e.m,{x:n,y:r},{radius:3.5,top_most_only:!1},function(jc){dm(e,n,r,o,s,l,!0,jc)})}}y--}else _r===ki.FEATURE?(ga=k.tile.coords,La=q.getFeatureProxy(k.properties,ga,function(jc){jc&&(jc.Yw(q),s.push(jc)),w()}),La||(p=e.qp.get(F),p||(p=new xh(k),p.ea(q),e.qp.add(F,p,1)),s.push(p),y--)):_r===ki.PROVIDER&&(La=!0,q.Hw(k,!1).then(function(jc){jc&&(!(jc instanceof Ji)||fm(this,n,r,jc))&&s.push(jc),w()},function(){w()},e))}}_r&&(La||y!==0)||l(s)}function em(e,n,r,o,s,l,d){var h;for(e=e.Wa(n,r),n=d.length;n--&&(!(h=l.getMapObjectById(d[n].id))||0<=s.indexOf(h)||!h.V().Gf(e)||(s.push(h),!o)););}function fm(e,n,r,o){var s=o.kc(),l=s.Am,d,h=!l;if(l)if(s=s.Db,n+=s.x,r+=s.y,s=o.V(),B(s,Nf))for(o=s.ha,d=o.length;d--&&!h;)s=e.La(o[d]),h=l.Bm(n-s.x,r-s.y,0)!==kc.NONE;else s=e.La(s),h=l.Bm(n-s.x,r-s.y,0)!==kc.NONE;return h}S.prototype.Ma=function(e,n,r,o){var s=this,l=[];l=this.Mp(l,this.re.ka,e*this.ja,n*this.ja,r),r&&l.length?o(l):this.m.m.initialized?El(this.m,{x:e,y:n},{radius:3.5,top_most_only:r},function(d){dm(s,e,n,r,l,o,!1,d)}):o(l)},S.prototype.getObjectsAt=S.prototype.Ma,m=S.prototype,m.Mp=function(e,n,r,o,s){for(var l=n.length,d;l--&&!((d=n[l])&&d.Ma&&(e=e.concat(d.Ma(r,o,s)),e.length&&s)););return e},m.ye=x,m.Tf=function(){var e=this.rl[2];return{w:e.right-e.left,h:e.bottom-e.top}},m.ng=function(){var e=this.re.ka.length;Wj(this,this.ja),this.Xb.set(0,0);var n=this.Tf(),r=n.w,o=n.h;for(this.m.m.handleViewportUpdate();e--;){n=this.re.ka[e].Pb;var s=n.mc();s.w===r&&s.h===o||n.Uk(r,o)}this.ye=new Xh(r,o),Al(this.m),this.ba()},m.getCapabilities=function(){return fk},S.prototype.getCapabilities=S.prototype.getCapabilities,m=S.prototype,m.Lk=function(){this.ta&&this.ta.R||(zl(this.m)||rk()-this.$j<this.Kg)&&!this.oe?this.rh||(this.rh=pk(this.wg)):(this.oe&&(this.li(),this.pj()),this.s=Rl)},m.rh=0,m.li=function(){this.re.Qe.length=0},m.wg=function(){this.rh=0,this.ff&&this.ff.before();var e=Bl(this.m),n=e.getLookAtData(!1),r=e.getLookAtData(!0);e=this.za.center.clone(),r=r.bounds.C();var o=this.zoom,s=this.Xb,l=this.bf,d=l.length;for(this.Kg=Ql;d--;){var h=l[d];B(h,vi)&&h.D&&h.D.xk(r,o)}this.oe=this.m.L(),this.Ee.rb(n),this.oe=this.Ln(r,e,o,!1,s,this.re)&&this.oe,this.ye&&(this.za.rb(this.ye),this.ye=x),this.ta&&this.ta.R&&this.Fo(),this.ff&&this.ff.after(),this.Lk()},m.Ln=function(e,n,r,o,s,l){var d=l.ka.length,h=!0,p;for(p=0;p<d;p++){var g=l.ka[p],y=l.Qe;if(g){var v=g.L(e,n,void 0,r,o,s,this.La,this.m.m.getCameraMatrix());v===fh.ACTIVE&&(this.Kg=1/0),v!==fh.DONE||y[p]||(this.pj(g.Tb()),y[p]=!0),y[p]||(h=!1)}}return h},m.pj=function(e){this.mr||setTimeout(z(this.dispatchEvent,this,{type:this.j.Us,target:e||this}),1)},m.disposeInternal=function(){var e=this.ib.Ta()[0],n=this.za;qk(this.rh),this.dd(!0),e&&Zj(this,e,!1),this.Qf().forEach(function(r){r.l()}),n.element&&n.element.removeChild(this.rc),delete this.rc,this.s=3,this.m.l(),S.g.disposeInternal.call(this)},m.ba=function(){this.$j=rk(),this.Po()&&(this.oe=!1,this.s=1,this.Lk())},m.Bc=function(e,n){this.Sg(e,n),this.Xb.set(0,0),Al(this.m),this.ba()},m.Sg=function(e,n){Bl(this.m).applyPxOffset([e,n]),Yl(this)},m.Ng=function(e,n,r){e=ak(this,ak(this,e)),this.sb(e,n,r)},S.prototype.zoomAt=S.prototype.Ng,S.prototype.sb=function(e,n,r){Bl(this.m).setLookAtData({zoom:e},ob(n)&&ob(n)?[n,r]:A),Yl(this),Al(this.m),this.ba()},S.prototype.Jg=function(){this.dd(!0),this.T.R&&this.hc(!0),this.na.R&&this.ic(!0)},S.prototype.Rk=function(e){if(e){var n={};n.wk=e.power,n.sj=e.ease,n.duration=e.duration,this.ua=n}},S.prototype.Jd=function(e,n){var r=!!(n||e&(Yj.HEADING|Yj.TILT));this.Jg(),this.Rk(n),this.na.start(e,r),Bl(this.m).setPanning(!0)},S.prototype.startInteraction=S.prototype.Jd,S.prototype.wd=function(e,n,r,o,s){var l=this.na,d=!1;if(l.R){var h=Bl(this.m),p=h.getLookAtData(),g=this.za.center;g=[g.x,g.y],n=l.store(e,n,r,o,s),r=l.im(),e=l.Ah(),o=this.na.jm(),s=this.na.Bp(),l.Jh&&(l.ae(Yj.TILT)&&(h.setLookAtData({tilt:ck(this,p.tilt+e.y/this.za.height*-180)},g),d=!0),n&&o!==1&&l.ae(Yj.ZOOM)&&(d=l.im(),this.sb(ak(this,Kb(Mb(2,this.zoom)*o)/Ub),d.x,d.y),d=!0),l.ae(Yj.COORD)&&0<Hl(e)&&(this.Bc(-e.x,-e.y),d=!0),l.ae(Yj.HEADING)&&(n?h.setLookAtData({heading:p.heading+dk(this,s)},[r.x,r.y]):e.x&&h.setLookAtData({heading:dk(this,p.heading+e.x/this.za.width*360)},g),d=!0),d&&(Al(this.m),this.ba()))}},S.prototype.interaction=S.prototype.wd,S.prototype.ic=function(e){var n=this;if(this.na.R&&!e){if(this.ua){e=this.na.nc();var r=this.na.Nf(),o=this.ua.duration,s=(this.ua.wk||1)*e,l=new gk(-s/(0<o?o:1),s);!D(r.x)&&!D(r.y)&&0<s&&n.na.ae(Yj.COORD)&&this.cd(function(d){s=l.Hj(d*o),D(s)||n.Bc(Gb(-r.x*s),Gb(-r.y*s))},o,void 0,this.ua.sj)}delete this.ua,this.na.clear()}Bl(this.m).setPanning(!1),this.ba()},S.prototype.endInteraction=S.prototype.ic,S.prototype.Id=function(e,n,r){this.Jg(),this.T.start(n,r),this.Rk(e),Bl(this.m).setPanning(!0)},S.prototype.startControl=S.prototype.Id,S.prototype.control=function(e,n,r,o,s,l){for(var d=0,h;d<arguments.length;d++)if(h=+arguments[d],h!==h)throw new C(this.control,d,h);this.T.R&&this.T.set(e,n,r,o,s,l)},S.prototype.control=S.prototype.control,S.prototype.hc=function(e,n){var r=this,o;if(this.T.R){this.dd(!0);var s=rk(),l=s-this.jj;if(1<=l){var d=wk(this.T);this.Qi(d,l)}if(!this.ua||e||n)typeof n=="function"&&(e=Bl(this.m),e=e.getLookAtData(),n(e),this.Go(e));else{n=this.T.nc();var h=this.T.Nf(),p=this.ua.duration,g=(this.ua.wk||1)*n,y=new gk(-g/(0<p?p:1),g);!D(h.Lb)&&!D(h.Mb)&&0<g&&this.cd(function(v,w,k,F){s&&(k=F-s,s=0),g=y.Hj(v*p)*k,D(g)||((o=h.Nb*g)&&r.sb(ak(r,r.zoom+o),r.T.Ug,r.T.Vg),r.Bc(Gb(h.Lb*g),Gb(h.Mb*g)))},p,void 0,this.ua.sj)}this.T.reset(),Bl(this.m).setPanning(!1),this.ba()}},S.prototype.endControl=S.prototype.hc,m=S.prototype,m.Go=function(e){var n=this,r=cm(this,bm(this,e.position)),o=r.y;r=r.x;var s=e.zoom,l=cm(this,bm(this,this.Um));e=l.y;var d=l.x;l=this.zoom;var h=this.T.nc(),p=this.T.Ug,g=this.T.Vg,y=0;if(r=this.Ej(d,r),r-=d,o-=e,l=s-l,e=Lb(r*r+o*o+l*l),h!==0&&e!==0){var v=r/e,w=o/e,k=l/e,F=h*h/(2*e);this.cd(function(q,_r){var ga;q!==1?(q=h*_r-F*_r*_r/2,_r=q-y,(ga=k*_r)&&(ga=ak(n,n.zoom+ga),n.sb(ga,p,g)),n.Bc(Gb(v*_r),Gb(w*_r)),y=q):(n.sb(ak(n,s),p,g),n.ba())},2*e/h)}},m.gg=function(e){var n=this,r=e.mt;this.Xb.set(0,0),r.Lb||r.Mb||r.Nb||r.mi||r.ni||r.Jk?(this.jj=rk(),this.cd(function(o,s,l,d){n.jj=d,n.Qi(r,l)},bc),this.ba()):this.dd(!0)},m.Qi=function(e,n){n=n||0;var r=this.T,o=Bl(this.m),s=o.getLookAtData();e.Nb&&this.sb(ak(this,s.zoom+e.Nb*n),r.Ug,r.Vg),o.setLookAtData({heading:dk(this,s.heading+e.ni*n),tilt:ck(this,s.tilt+e.mi*n)}),Yl(this),this.Bc(e.Lb*n,e.Mb*n)},m.cd=function(e,n,r,o){this.ta&&this.ta.R&&this.ta.stop(!0),this.ta=new sk(this,e,n,r,o),this.ta.start()},m.dd=function(e){this.ta&&this.ta.R&&this.ta.stop(e)},m.kp=function(){},S.prototype.enter=S.prototype.kp,S.prototype.pp=function(e){Xj(this.rc,e)},S.prototype.exit=S.prototype.pp,S.prototype.capture=function(e,n,r,o){var s=this;return Fl(s.m).then(function(l){var d=s.rc.ownerDocument.createElement("canvas"),h=s.ja,p=d.getContext("2d"),g=s.m.lb()/h,y=(r-e)*h;return h*=o-n,d.width=y,d.height=h,p.drawImage(l,e*g,n*g,y*g,h*g,0,0,y,h),d})},S.prototype.pz=function(e){return Bl(this.m).geoToMeters(e)},S.prototype.geoToMeters=S.prototype.pz,S.prototype.GB=function(e){return Bl(this.m).metersToGeo(e)},S.prototype.metersToGeo=S.prototype.GB;var Ql=5e3;function gm(){if(this.constructor=this.constructor,!lb("STATIC_DB"))throw new C(this.constructor,0);if(this.Ku=hm(),!this.Ku)throw new Bb(this.constructor,"This browser does not support IndexedDB");this.NB="STATIC_DB",this.hf=[],this.Xh=[],this.$q=z(this.$q,this)}var im,jm;m=gm.prototype,m.put=function(e,n,r,o){if(!lb(e)&&!ob(e))throw new C(this.put,0);if(!km(n))throw new C(this.put,1);lm(this,function(s){mm(s.put(n,e),r,o)},o)},m.get=function(e,n,r){var o;if(!lb(e)&&!ob(e))throw new C(this.get,0);if(!db(n))throw new C(this.get,1);return lm(this,function(s){o=s.get(e),mm(o,n,r)},r),{cancel:function(){o&&(o.onsuccess=Ye)}}},m.remove=function(e,n,r){if(!lb(e)&&!ob(e))throw new C(this.remove,0);lm(this,function(o){mm(o.delete(e),n,r)},r)},m.clear=function(e,n){lm(this,function(r){mm(r.clear(),e,n)},n)},m.yl="data",m.Ux=500,m.$q=function(){var e=this.og.result;e.objectStoreNames.contains(this.yl)||e.createObjectStore(this.yl)};function nm(e,n,r){if(e.og)e.hf?(e.hf.push(n),r&&e.Xh.push(r)):e.pn?r&&r(e.pn):n(e.og.result);else{e.og=e.Ku.open("H_"+e.NB,1),e.og.onupgradeneeded=e.$q;var o=e.og.onerror=function(){clearTimeout(e.Wv),e.pn=this.error,e.Xh.forEach(function(s){s(e.pn)}),delete e.hf,delete e.Xh};e.Wv=setTimeout(function(){o.call({error:Error("DbOpenTimeoutError")})},e.Ux),e.og.onsuccess=function(){clearTimeout(e.Wv),e.hf?(e.hf.forEach(function(s){s(this.result)},this),delete e.hf,delete e.Xh):(delete e.og,delete e.pn,e.hf=[],e.Xh=[])},e.hf.push(n),r&&e.Xh.push(r)}}function lm(e,n,r){nm(e,function(o){o=o.transaction([e.yl],"readwrite"),n(o.objectStore(e.yl))},r)}function mm(e,n,r){n&&(e.onsuccess=function(){n(this.result)}),r&&(e.onerror=function(){r(this.error)})}function km(e){var n=Object.prototype.toString.call(e);return n==="[object Blob]"||n==="[object ArrayBuffer]"||lb(e)||ya(e)}function om(){return im||(im=new gm),im}t("H.util.IndexedDBStorage.getInstance",om);function hm(){return globalThis.indexedDB||globalThis.webkitIndexedDB||globalThis.mozIndexedDB||globalThis.msIndexedDB}function pm(){var e="";if(!fb(jm))if(window.location.protocol==="file:"&&-1<navigator.userAgent.toLowerCase().indexOf("firefox")&&128<=window.location.href.length)jm=!1;else{try{var n=hm();e="H_TEST_DB";var r=n&&n.open(e,1)}catch{}jm=!!r&&r.onupgradeneeded===null,r&&n.deleteDatabase&&n.deleteDatabase(e)}return jm}t("H.util.IndexedDBStorage.isSupported",pm);function T(e){var n={};this.Fu=n.previousSibling=n.nextSibling=n,this.jD=new Te,T.g.constructor.call(this,e),e&&"objects"in e&&this.kd(e.objects)}u(T,N),t("H.map.Group",T),T.prototype.type=zh.GROUP,T.prototype.ti=function(e,n){return this.lr=!0,e=T.g.ti.call(this,e,n),this.lr=!1,e&&this.forEach(qm,!0),e},T.prototype.setProvider=T.prototype.ti;function qm(e,n,r){e.ti(r.D)}T.prototype.contains=function(e){var n=this===e;if(!n&&this.ah&&B(e,N))for(;!n&&e;)e===this?n=!0:e=e.Na;return n},T.prototype.contains=T.prototype.contains,T.prototype.Hk=function(){this.qo=A,this.forEach(rm,!0)},T.prototype.resetZInfo=T.prototype.Hk;function rm(e){e.Hk()}T.prototype.lr=!1,T.prototype.ra=function(e){var n=T.g.ra.call(this,e);return n&&!this.lr&&(this.Zt=e,this.forEach(sm,!0),delete this.Zt),n},T.prototype.invalidate=T.prototype.ra;function sm(e,n,r){e.ra(r.Zt)}T.prototype.forEach=function(e,n,r){var o;if(this.ah){var s=this.Fu,l=s.nextSibling;for(o=0;l!==s;){var d=l.nextSibling;e.call(r,l,o++,this),n&&B(l,T)&&l.forEach(e,n,r),l=d}}},T.prototype.forEach=T.prototype.forEach,T.prototype.bb=function(e){var n=[];return this.forEach(tm,e,n),n},T.prototype.getObjects=T.prototype.bb,T.prototype.C=function(){var e=null;return this.ah&&this.forEach(function(n){n.C&&(n=n.C())&&(e=e?e.zd(n):n)}),e},T.prototype.getBoundingBox=T.prototype.C;function tm(e){this.push(e)}T.prototype.ah=0,T.prototype.Az=function(){return this.ah},T.prototype.getChildCount=T.prototype.Az,T.prototype.Y=function(e){var n=this.Fu,r=n.previousSibling;if(B(e,N,this.Y,0),e.contains(this))throw new Bb(this.Y,"The new object contains the parent group");var o=e.sm(!0),s=e.Na;if(s!==this){if(s){s=e.previousSibling;var l=e.nextSibling;s.nextSibling=l,l.previousSibling=s}e.Na=this,N.g.ea.call(e,this),r.nextSibling=e,e.previousSibling=r,e.nextSibling=n,n.previousSibling=e,this.ah++}return e.ds=this.jD.next(),e.Hk(),n=e.ti(this.D,this.Y),e.sm(!0)!==o&&e.ra(hh.VOLATILITY),n||e.ra(hh.Z_ORDER),e},T.prototype.addObject=T.prototype.Y,T.prototype.kd=function(e){var n;kb(e,this.kd,0);var r=e.length;for(n=0;n<r;n++)this.Y(e[n])},T.prototype.addObjects=T.prototype.kd,T.prototype.Oa=function(e){if(!e||e.Na!==this)throw new Bb(this.Oa,"object not found");var n=e.previousSibling,r=e.nextSibling;return n.nextSibling=r,r.previousSibling=n,e.Na=null,N.g.ea.call(e,null),delete e.previousSibling,delete e.nextSibling,B(e.D,P)&&e.ti(null,this.Oa),this.ah--,e},T.prototype.removeObject=T.prototype.Oa,T.prototype.vg=function(e){var n;kb(e,this.vg,0);var r=e.length;for(n=0;n<r;n++)this.Oa(e[n])},T.prototype.removeObjects=T.prototype.vg,T.prototype.ia=function(){var e=this.bb();this.vg(e)},T.prototype.removeAll=T.prototype.ia,T.prototype.ze=function(e){for(var n=this.bb(),r=0,o=n.length,s=[],l,d,h;r<o;r++)h=n[r],h instanceof T?(l=e?e(h.getData()):h.getData(),d=Ch(this,l,!!e),l={type:"Feature"},l.properties=d,h.gi&&(l.id=h.gi),l.geometry={},l.geometry.type="GeometryCollection",l.geometry.geometries=um(this,h.bb()),s.push(l)):s.push(h.ze(e));return{type:"FeatureCollection",features:s}},T.prototype.toGeoJSON=T.prototype.ze;function um(e,n){for(var r=0,o=n.length,s,l=[];r<o;r++)s=n[r],s=s instanceof T?{type:"GeometryCollection",geometries:um(e,s.bb())}:s instanceof Ji||s instanceof ci||s instanceof Bi||s instanceof Kh?s.V().ze():{type:"FeatureCollection",features:Ze},l.push(s);return l}T.prototype.P=function(){var e=T.g.P.call(this);return e.type="Group",e},T.prototype.forWorkerMessage=T.prototype.P;function vm(e,n,r,o,s,l){vm.g.constructor.call(this,isNaN(e)?15:e,n,r,o,s,l)}u(vm,Gc),vm.prototype.Ll=function(e){for(var n,r,o=this.head,s=e;s;){if(e=s.entries){if(n=e.length){if(2>n&&(r=s.parent)&&r.hb===1){r.removeChild(s),o===s&&(o=r),r.entries=e,s=e[0].node=r;continue}}else if(delete s.entries,(r=s.parent)&&(r.removeChild(s),o===s&&(o=r),r.hb===1)){s=r.hb?r[0]||r[1]||r[2]||r[3]:null;continue}}break}this.head!==o&&(this.head=o,this.ld())},vm.prototype.Zd=function(e,n){if(Oc(this.root,e,n,e,n))return this.Vb(this.root,e,n,this.Ph);throw Error("Coordinates out of bounds")},vm.prototype.Vb=function(e,n,r,o){var s=e.entries;if(o)if(e.hb)s=this.Sj(e,n,r,o);else if(s){s=s[0];var l=e.th(+(s[1]>=e[8])|+(s[0]>=e[9])<<1);l.entries=e.entries,delete e.entries,s.node=l,this.ld(l),s=this.Sj(e,n,r,o)}else e.Qg(s=new wm(n,r)),this.ld(e),Jc(this,s,!0);else s||this.ld(e),e.Qg(s=new wm(n,r)),Jc(this,s,!0);return s},vm.prototype.Sj=function(e,n,r,o){return this.Vb(e.th(+(n>=e[8])|+(r>=e[9])<<1),n,r,o-1)};function wm(e,n){this.id=Nc++,this[0]=n,this[1]=e}wm.prototype.Of=function(e){return this[e%2]};function xm(){this.Be=new vm(10,180,90,0,0,!0)}m=xm.prototype,m.jc=0,m.J=null,m.C=function(){var e=this.J,n;return!e&&(n=Hc(this.Be))&&(this.J=e=new E(-n[0],n[3],-n[2],n[1])),e},m.Zd=function(e){return++this.jc,this.J=null,this.Be.Zd(e.lng,-e.lat)},m.remove=function(e){return(e=this.Be.remove(e))&&(--this.jc,this.J=null),e},m.Fm=function(e,n,r){var o=this.Be,s=e.Oc(),l=e.Mc(),d=-s.lat;s=s.lng;var h=-l.lat;return l=l.lng,e.qc()?o.ob(-180,d,l,h,r,n).concat(o.ob(s,d,180,h,r,n)):o.ob(s,d,l,h,r,n)};function ym(e){var n;gb(this,ym),ym.g.constructor.call(this,e),this.Xf=e=[];for(n in zh)e[zh[n]]=new gh}u(ym,Q),t("H.map.provider.ObjectProvider",ym),ym.prototype.qr=We,ym.prototype.providesByViewport=ym.prototype.qr,ym.prototype.Nc=function(e){return this.Xf[e||zh.ANY]},ym.prototype.getInvalidations=ym.prototype.Nc,ym.prototype.Hh=function(e,n){if(n!==hh.NONE){var r=this.Xf[zh.ANY],o=r.Md+1;r.update(o,n),r=this.Xf[e.type],r.update(o,n),e.Nc().update(o,n),this.jb(e)}},ym.prototype.invalidateObject=ym.prototype.Hh,ym.prototype.requestOverlays=ym.prototype.xg,ym.prototype.requestSpatials=ym.prototype.Nn,ym.prototype.requestSpatialsByTile=ym.prototype.On,ym.prototype.vw=!1,ym.prototype.requestMarkers=ym.prototype.qe,ym.prototype.requestDomMarkers=ym.prototype.pe;function zm(e,n){var r,o="anonymous";if(this.uid=Am.next(),zm.g.constructor.call(this),n){var s="size";if(s in n){var l=n[s];if(!l||isNaN(l.w)||isNaN(l.h))throw new C(zm,1,s);this.co=new Xh(l.w,l.h)}if(s="anchor",s in n){if(l=n[s],!l||isNaN(l.x)||isNaN(l.y))throw new C(zm,1,s);this.Db=new K(l.x,l.y)}s="hitArea",s in n&&(l=n[s],B(l,Gi,zm,1),this.Am=n[s]),s="asCanvas",s in n&&(r=n[s]),s="crossOrigin",s in n&&(o=n[s]),l=n.stickHeight,l===+l&&0<l&&(this.nD=l),s="stickColor",l=n[s],s in n&&lb(l)&&(this.mD=l)}e=new Yh(e,z(this.Wg,this),r,this.co,o),n=this.s=e.getState(),n!==0?this.Wg(n,e):this.El=e}u(zm,I),t("H.map.Icon",zm);var Am=new Te;zm.State={ERROR:-1,LOADING:0,READY:1},zm.prototype.getState=function(){return this.s},zm.prototype.getState=zm.prototype.getState,zm.prototype.Wg=function(e,n){if(this.gb=n.getData(),e===1){var r=this.co;r||(r=this.co=n.mc()),this.Db||(this.Db=new K(r.w/2|0,r.h))}this.El&&(this.s=e,delete this.El,this.dispatchEvent("statechange"))},zm.prototype.gb=x,zm.prototype.Te=function(){return this.gb},zm.prototype.getBitmap=zm.prototype.Te,zm.prototype.mc=function(){return this.co||x},zm.prototype.getSize=zm.prototype.mc,zm.prototype.Db=x,zm.prototype.yp=function(){return this.Db},zm.prototype.getAnchor=zm.prototype.yp,zm.prototype.Am=x,zm.prototype.Vz=function(){return this.Am},zm.prototype.getHitArea=zm.prototype.Vz,zm.prototype.disposeInternal=function(){zm.g.disposeInternal.call(this),this.gb?(this.gb.removeAttribute("src"),delete this.gb):(this.El.cancel(),delete this.El)};function P(e){e=e||{},P.g.constructor.call(this,e),this.Bg=e=new T({min:e.min,max:e.max}),e.D=this,e.ea(this),e.ra(hh.ADD),this.rk=new $c,this.xi=new $c,this.ek=new xm,this.jk=new $c,this.bm=new xm,this.Zm=new $c}u(P,ym),t("H.map.provider.LocalObjectProvider",P),P.prototype.getCapabilities=function(){return di.PROVIDES_BY_VIEWPORT|di.PROVIDES_WEBGL_RENDERABLE_OBJECTS|di.PROVIDES_DOM_MARKERS|di.CROP_LINES_BY_TILE},P.prototype.mb=function(){if(!this.Ui&&(this.Ui=P.g.mb.call(this),this.Ui instanceof Xg)){var e=new ii(this.getCapabilities()|di.HAS_VOLATILE_DATA,this.uid+"_vol",this.min,this.max,this.Sc,this.tileSize);this.Ui.fk(e.Ke())}return this.Ui},P.prototype.getStyleInternal=P.prototype.mb,P.prototype.Xa=function(e,n){P.g.Xa.call(this,e,n),this.Ui=null},P.prototype.setStyleInternal=P.prototype.Xa,P.prototype.sd=function(){return this.Bg},P.prototype.getRootGroup=P.prototype.sd,P.prototype.Hh=function(e,n){n&hh.SPATIAL&&this.Y(e),P.g.Hh.call(this,e,n)},P.prototype.invalidateObject=P.prototype.Hh,P.prototype.Y=function(e){var n;if(B(e,N,this.Y,0),e.D!==this)throw new Bb(this.Y,"foreign object");this.Oa(e);var r=e.type;if(r===zh.MARKER)if((n=e.V())instanceof tc){var o=!0;r=this.ek}else r=this.jk;else r===zh.DOM_MARKER?(n=e.V())instanceof tc?(o=!0,r=this.bm):r=this.Zm:r=r===zh.OVERLAY?this.rk:this.xi;o=o?r.Zd(n):r.Mu(e.C()),o.Cs=e,e.As=o},P.prototype.Oa=function(e){var n;if(e){if(e.D!==this){if(B(e,N))throw new Bb(this.Oa,"foreign object")}else if(n=e.As){var r=e.type;r===zh.MARKER?this.ek.remove(n)||this.jk.remove(n):r===zh.DOM_MARKER?this.bm.remove(n)||this.Zm.remove(n):r===zh.OVERLAY?this.rk.remove(n):this.xi.remove(n),delete n.Cs,delete e.As}}},P.prototype.removeObject=P.prototype.Oa;function Bm(e,n,r,o,s,l,d){if(d=d||[],n.jc)for(e=n!==e.ek&&n!==e.jk,s=!s,n=n.Fm(r,l,l),r=n.length,l=0;l<r;l++){var h=n[l].Cs,p;if(p=o!==void 0){for(var g=Hb(o),y=h;(p=y.zb<=g&&y.Qc>=g)&&(y=y.Na););p=!p}p||!s&&!h.Wd(!0)||(e||h.kc().getState()===1)&&d.push(h)}return d}P.prototype.sr=function(){return 0<this.rk.jc},P.prototype.providesOverlays=P.prototype.sr,P.prototype.xg=function(e,n,r){return Bm(this,this.rk,e,n,r,!1).filter(function(o){return o.Te()})},P.prototype.requestOverlays=P.prototype.xg,P.prototype.ne=function(){return 0<this.xi.jc},P.prototype.providesSpatials=P.prototype.ne,P.prototype.Nn=function(e,n,r){return Bm(this,this.xi,e,n,r,!1)},P.prototype.requestSpatials=P.prototype.Nn,P.prototype.On=function(e,n){return Bm(this,this.xi,e.nm(),e.zL,n,!1)},P.prototype.requestSpatialsByTile=P.prototype.On,P.prototype.Wc=function(){return 0<this.ek.jc+this.jk.jc},P.prototype.providesMarkers=P.prototype.Wc,P.prototype.qe=function(e,n,r){return Cm(this,e,n,r,!1)},P.prototype.requestMarkers=P.prototype.qe;function Cm(e,n,r,o,s){var l=Bm(e,e.ek,n,r,o,s);return Bm(e,e.jk,n,r,o,s,l),l}P.prototype.Vc=function(){return 0<this.bm.jc+this.Zm.jc},P.prototype.providesDomMarkers=P.prototype.Vc,P.prototype.pe=function(e,n,r){return Dm(this,e,n,r,!1)},P.prototype.requestDomMarkers=P.prototype.pe;function Dm(e,n,r,o,s){var l=Bm(e,e.bm,n,r,o,s);return Bm(e,e.Zm,n,r,o,s,l),l}function Em(e,n,r){var o=r.V(),s,l=Fm.bind(null,e);e=Gm.bind(null,e),B(r,Bi)?s=B(o,J)?l(o):o.ha.some(l):B(r,Kh)?s=B(o,L)?e(o):o.ha.some(e):B(r,ci)&&(s=e(Cf(o))),s&&n.push(r)}function Fm(e,n){e:{var r=n.S,o=Hf(e,n);if(!o){n=n.S.length;for(var s=0;s<n;s+=3)if(Ff(e,r[s],r[s+1])){e=!0;break e}}e=o}return e}function Gm(e,n){return If(e,n)}function Hm(e,n,r){for(var o=e.length;o--;){var s=e[o],l=s.V();if(B(l,Nf)){l=l.ha;for(var d=l.length,h;d--;)if(h=l[d],Ff(n,h.lat,h.lng)){r.push(s);break}}else Ff(n,l.lat,l.lng)&&r.push(s)}}P.prototype.bb=function(e,n,r,o,s){var l=this,d=e.C(),h=[],p=me(),g=1;if(d)for(;g&zh.ANY;){if(g&o)switch(g){case zh.MARKER:p=p.then(function(){return Cm(l,d,r,n,!0)}).then(function(y){return Hm(y,e,h)});break;case zh.DOM_MARKER:p=p.then(function(){return Dm(l,d,r,n,!0)}).then(function(y){return Hm(y,e,h)});break;case zh.SPATIAL:p=p.then(function(){return Bm(l,l.xi,d,r,n,!0)}).then(function(y){y.forEach(Em.bind(null,e,h))});break;case zh.OVERLAY:p=p.then(function(){return Bm(l,l.rk,d,r,n,!0)}).then(function(y){y.forEach(Em.bind(null,e,h))})}g<<=1}p.then(function(){return s(h)})},P.prototype.Pf=function(e,n,r){r=r||$e;var o=r.zoom,s=r.visiblesOnly;r=r.types;var l=zh.ANY;B(e,L,this.Pf,0,"area"),ib(n,"Function",this.Pf,1,"callback"),ib(o,"Number",this.Pf,2,"options"),this.bb(e,fb(s)?!!s:!0,o,fb(r)?r&l:l,n)},P.prototype.getObjectsWithin=P.prototype.Pf,P.prototype.disposeInternal=function(){P.g.disposeInternal.call(this),this.Bg.ia()};function U(e,n,r){var o={};if(!(e instanceof HTMLElement))throw new C(U,0);if(U.g.constructor.call(this),this.Fa=Im(r,U),this.xa=r=new Bj,this.Fq=!1,r.addEventListener(r.j.Oi,this.Sv,!1,this),!B(e,Element))throw new C(U,0,e);r=this.G=e.ownerDocument.createElement("div");var s=r.style;if(s.position="relative",s.height=r.style.width="100%",s.overflow="hidden",s.webkitTapHighlightColor="transparent",s.webkitTapHighlightColor!=="transparent"&&(s.webkitTapHighlightColor="rgba(0,0,0,0)"),e.appendChild(r),this.sa=new Vi(this.G,this.Fa),this.sa.addEventListener(this.sa.j.Oi,this.Sv,!1,this),e=this.O=new Pj(this.Fa.layers),e.addEventListener(e.j.Ni,this.Rq,!1,this),e.addEventListener(e.j.Ki,this.Rq,!1,this),e.addEventListener(e.j.Mi,this.Rq,!1,this),!this.qb&&Jm(this),this.pa=null,this.O.add(n,0),this.Ca=this.Yo(this.Fa.engineType!=null?this.Fa.engineType:li,this.Fa),this.jp=z(this.jp,this),n=this.Fa.imprint,n!==A&&typeof n!="object")throw new C(U,1,"imprint");this.Yd=n===null?n:new Zi(this,n),n=this.Fa.autoColor,this.ht=n===A||!!n,Km(this),(n=this.Fa.zoom)&&(o.zoom=n),(n=this.Fa.bounds)&&(o.bounds=n),(n=this.Fa.center)&&(o.position=n),this.xa.ad(o)}u(U,I),t("H.Map",U),U.prototype.draggable=U.prototype.draggable=!1;function Im(e,n){if(e){var r=e.pixelRatio;if(r===A)e.pixelRatio=Ke();else if(!(0<r))throw new C(n,0,"pixelRatio: "+r)}else e={},e.pixelRatio=Ke();return e.renderBaseBackground||(e.renderBaseBackground={lower:3,higher:2}),e}U.prototype.dy=333,U.prototype.disposeInternal=function(){this.ht=!1,this.Yd&&this.Yd.l(),this.Ca.dispose(),this.xa.l(),this.sa.l(),this.qb.l(),this.sc.l(),this.O.l();var e=this.G;e.parentNode.removeChild(e),delete this.G,I.prototype.disposeInternal.call(this)},U.prototype.B=function(){return this.G},U.prototype.getElement=U.prototype.B,U.prototype.lb=function(){return this.Fa.pixelRatio},U.prototype.getPixelRatio=U.prototype.lb;function Km(e){e.Yd&&e.ht&&e.Yd.Ur({invert:e.pa&&e.pa.Ny})}U.prototype.Rq=function(e){var n=e.added,r=e.removed;n&&n.D&&n.D.ea(this),r&&r.D&&r.D.ea(null),r===this.qb&&(delete this.qb,delete this.sc),r===this.pa&&(this.pa=null),e.idx===0&&(this.dispatchEvent(new ji(this.j.xl,this.pa=e.type!==this.O.j.Mi?n:0<this.O.aa.length?this.O.get(0):x,e.type!==this.O.j.Ki?r:1<this.O.aa.length?this.O.get(1):x)),Km(this))},U.prototype.Sv=function(e){e.modifiers&&(this.Fq||(Lm(this,"start"),this.Fq=!0),Lm(this,"",e),this.uv&&globalThis.clearTimeout(this.uv),this.uv=globalThis.setTimeout(this.jp,this.dy))};function Lm(e,n,r){e.dispatchEvent(r?new Ni(e.j.Ns,r.newValue,r.oldValue,r.modifiers):e.j.Ns+n)}U.prototype.jp=function(){Lm(this,"end"),this.Fq=!1},U.prototype.Zn=function(e,n){return this.Ca.getCapabilities().lookAt&&this.xa.ad({position:e},!!n),this},U.prototype.setCenter=U.prototype.Zn,U.prototype.wb=function(){var e=this.xa.Ib();return e?e.position:x},U.prototype.getCenter=U.prototype.wb,U.prototype.Vk=function(e,n){return this.xa.Vk(e,!!n),this},U.prototype.setZoom=U.prototype.Vk,U.prototype.Ub=function(){return this.xa.Ub()},U.prototype.getZoom=U.prototype.Ub,U.prototype.Ng=function(e,n,r){this.Ca.zoomAt(e,n,r)},U.prototype.zoomAt=U.prototype.Ng,U.prototype.QA=function(){return this.sa},U.prototype.getViewPort=U.prototype.QA,U.prototype.PA=function(){return this.xa},U.prototype.getViewModel=U.prototype.PA,U.prototype.dA=function(){return this.O},U.prototype.getLayers=U.prototype.dA,U.prototype.Yz=function(){return this.Yd},U.prototype.getImprint=U.prototype.Yz,U.prototype.capture=function(e,n,r,o,s,l){function d(La,jc){w?La.cancel():(q.save(),jc.capture(F,y,function(_l){q.restore(),La.done(_l)},function(_l){La.done(null,_l),h(null)}))}function h(La){w||(w=!0,e(La))}var p=this.Ca,g=p.getCapabilities(),y=this.Fa.pixelRatio,v=this.sa,w=!1,k=this,F,q;if(!db(e))throw new C(this.capture,0,e);r=r||0,o=o||0,s=s||v.width,l=l||v.height;var _r=Fb(0,Eb(r,s)),ga=Fb(0,Eb(o,l));r=Eb(v.width,Fb(r,s)),o=Eb(v.height,Fb(o,l)),g.capture?p.capture(_r,ga,r,o).then(function(La){var jc=k.Yd,_l=n||[];F=La,q=F.getContext("2d"),F.style.width=F.width/y+"px",F.style.height=F.height/y+"px";var e1=new pl(10,d);_l=_l.concat(jc).filter(function(n1){return db(n1&&n1.capture)}),_l.length?(La=_l.pop(),_l.forEach(function(n1){e1.push(n1,Ye)}),e1.push(La,z(h,k,F)),e1.An()):h(F)},function(){h(x)}):e(null)},U.prototype.capture=U.prototype.capture,U.prototype.Lz=function(){return this.Ca},U.prototype.getEngine=U.prototype.Lz,U.prototype.Yo=function(e,n){if(n=n?Im(n,this.Yo):this.Fa,Km(this),e===mi.P2D)return new globalThis.H.map.render.p2d.RenderEngine(this.sa,this.xa,this.O,n);if(e===mi.WEBGL)return new S(this.sa,this.xa,this.O,n);if(e===mi.HARP)return new globalThis.H.map.render.harp.RenderEngine(this.sa,this.xa,this.O,n);throw new C(this.Yo,0,e)},U.prototype.al=function(e,n,r,o,s){if(n=fb(n)?B(n,E,this.al,1,n)&&n:this.xa.Ib().bounds.C(),s=s||this.pa,!B(s,Wi))throw new C(this.al,4);var l=s.D,d=this.lb(),h=s.tileSize;if(2<=d&&256<h&&l instanceof Tk&&(h/=2),d=this.Ub(),h=Math.log2(h)-8,r=fb(r)?+r:d,o=fb(o)?+o:d,!(r<=o))throw new C(this.al,A,"!(min <= max)");d=l.min;var p=l.max,g=this.Ca.type===mi.WEBGL?Hb:Gb;if(r=gc(g(r)-h,d,p),o=gc(g(o)-h,d,p),!(l&&B(l,R)&&pm()&&l.Vi()))throw new Bb(this.al,"Storing is not supported");return new Si(s,l,n,r,o,e)},U.prototype.storeContent=U.prototype.al;function Mm(e){Pi.call(this,e)}u(Mm,Pi),Mm.prototype.mC=function(){Ri(this,2)},Mm.prototype.lC=function(){Ri(this,4)},U.prototype.By=function(e){return e=new Mm(e),om().clear(z(e.mC,e),z(e.lC,e)),e},U.prototype.clearContent=U.prototype.By,U.prototype.Bl=function(e,n){var r=this.O,o=r.indexOf(e),s=n!==+n;return n=s?r.aa.length-1:n,0>o?r.add(e,n):o-n&&(r.Ed(o),r.add(e,s?n-1:n)),this},U.prototype.addLayer=U.prototype.Bl,U.prototype.hi=function(e){var n=this.O.indexOf(e);return e!==this.pa&&e!==this.qb&&n!==-1&&this.O.Ed(n),this},U.prototype.removeLayer=U.prototype.hi,U.prototype.Dg=function(e){return this.pa!==e&&(this.O.aa.length&&this.O.get(0)!==this.qb?this.O.set(0,e):this.O.add(e,0),this.pa=e),this},U.prototype.setBaseLayer=U.prototype.Dg,U.prototype.xz=function(){return this.pa},U.prototype.getBaseLayer=U.prototype.xz,U.prototype.La=function(e){if(!uc(e))throw new C(this.La,0,e);return(e=this.Ca.geoToScreen(e))?pf(e):x},U.prototype.geoToScreen=U.prototype.La,U.prototype.Wa=function(e,n){var r;if(r=+D(e)||2*+D(n))throw new C(this.Wa,r-1,arguments[r-1]);return(r=this.Ca.screenToGeo(e,n))?vc(r):x},U.prototype.screenToGeo=U.prototype.Wa,U.prototype.Un=function(e,n){return this.Ca.screenToLookAtData(e,n)},U.prototype.screenToLookAtData=U.prototype.Un,U.prototype.Y=function(e){if(!B(e,N))throw new C(this.Y,0,e);return!this.qb&&Jm(this),this.sc.sd().Y(e),e},U.prototype.addObject=U.prototype.Y,U.prototype.Oa=function(e){if(!B(e,N))throw new C(this.Oa,0,e);return!this.qb&&Jm(this),this.sc.sd().Oa(e),e},U.prototype.removeObject=U.prototype.Oa,U.prototype.bb=function(e){return!this.qb&&Jm(this),this.sc.sd().bb(e)},U.prototype.getObjects=U.prototype.bb,U.prototype.kd=function(e){var n;kb(e,this.kd,0,e),!this.qb&&Jm(this);var r=e.length;for(n=0;n<r;n++)this.Y(e[n]);return this},U.prototype.addObjects=U.prototype.kd,U.prototype.vg=function(e){var n;kb(e,this.vg,0,e),!this.qb&&Jm(this);var r=e.length;for(n=0;n<r;n++)this.Oa(e[n]);return this},U.prototype.removeObjects=U.prototype.vg,U.prototype.Bh=function(e,n,r){var o;if(o=+D(e)||2*+D(n))throw new C(this.Bh,o-1,arguments[o-1]);this.Ca.getObjectsAt(e,n,!0,function(s){r(s[0])})},U.prototype.getObjectAt=U.prototype.Bh,U.prototype.Ma=function(e,n,r,o){var s;if(s=+D(e)||2*+D(n))throw new C(this.Bh,s-1,arguments[s-1]);this.Ca.getObjectsAt(e,n,!1,r,!!o)},U.prototype.getObjectsAt=U.prototype.Ma,U.prototype.Pf=function(e,n,r){r=r||{};var o=r.zoom;r.zoom=fb(o)?o:this.xa.Ub(),this.sc.Pf(e,n,r)},U.prototype.getObjectsWithin=U.prototype.Pf;function Jm(e){e.sc=new P({max:24,engineType:e.Fa.engineType}),e.qb=new tl(e.sc,e.Fa),e.O.add(e.qb)}var Nm=ek.HARP,mi={P2D:ek.P2D,WEBGL:ek.WEBGL,HARP:Nm};U.EngineType=mi,U.prototype.j={RD:"mapviewchangestart",Ns:"mapviewchange",Os:"mapviewchangeend",xl:"baselayerchange"};function Om(){Om.g.constructor.call(this),this.hd=Pm(this),this.Cn=Za(),this.nn=z(this.nn,this),this.hd.addEventListener("message",this.nn),this.el={}}u(Om,I),Om.prototype.disposeInternal=function(){this.hd.terminate()},Om.prototype.rw=function(e){var n=e.type,r=!!this.Cn[n],o=e.data,s=Qm++,l=o&&o.DD?o.DD:A,d=!0;return r?(this.el[s]=e,Rm(this,n,s,o&&o.message,l)):(e.reject(new C(this.rw,0,"processor_not_found")),d=!1),d},Om.prototype.nn=function(e){e=e.data;var n=this.el[e.taskId],r=e.taskId,o=e.data,s=this;if(e.type===2)new qg("arraybuffer",o).then(function(l){return l.arrayBuffer()}).then(function(l){s.hd.postMessage(["3",r,[l]],[l])},function(){s.hd.postMessage(["3",r,[null,"ERROR"]])});else{if(n){switch(e.type){case 1:n.resolve(o);break;case 0:n.reject(o)}delete this.el[r]}this.dispatchEvent(new pd(this.j.IDLE))}};var Qm=0;function Sm(e,n,r){var o=Qm++,s;return e.el[o]=s=oe(),Rm(e,n,o,r),s.promise}function Rm(e,n,r,o,s){o===A||Ca(o)||(o=[o]);try{e.hd.postMessage([n,r,o],s)}catch(l){e=e.el[r],e.reject(l.message)}}Om.prototype.j={IDLE:"idle",Js:"error"},Om.prototype.ky=function(e,n){var r=this.bz||(this.bz=new pd(this.j.Js));r.data=n,delete this.Cn[e],this.dispatchEvent(r)},Om.prototype.importScripts=function(e){Sm(this,"0",e)};function Pm(a){var b=globalThis.H.__bootstrap__;if(b=db(b)?(""+b).replace(/^[^{]+{((.|[\r\n])+?)}\s*$/,"$1"):""+b,globalThis.Worker&&globalThis.URL)try{var c=new globalThis.Worker(globalThis.URL.createObjectURL(ff(b,"application/javascript")))}catch{}return c||(a=new Tm(a),function(){eval("var self = arguments[0];"+b)}(a),c=new Um(a)),c}function Um(e){I.call(this),this.hd=e}u(Um,I),Um.prototype.postMessage=function(e){globalThis.setTimeout(z(this.vC,this,e),0)},Um.prototype.vC=function(e){var n=new pd("message");n.data=e,this.hd.dispatchEvent(n)},Um.prototype.terminate=function(){this.hd.l(),this.l()};function Tm(e){I.call(this),this.hd=e,this.addEventListener=z(this.addEventListener,this),this.removeEventListener=z(this.removeEventListener,this),this.postMessage=z(this.postMessage,this),this.eval=z(eval,this)}u(Tm,I),Tm.prototype.postMessage=function(e){var n=new pd("message");n.data=e,globalThis.setTimeout(z(this.hd.nn,this.hd,n),0)};function Vm(){var e=Wm;return e||(e=Wm=this,I.call(e),this.Ag()),e}var Wm;u(Vm,I),m=Vm.prototype,m.disposeInternal=function(){Vm.g.disposeInternal.call(this),this.Ag()},m.Ag=function(){var e=this.oo,n;if(e)for(n=e.length;n--;)e[n].l();this.oo=[],rb(this.oo),this.Dm={},this.tw=Za()},m.Eo=function(e){var n;if(e=e.type,n=this.tw[e]){var r=this.oo,o=r[0];o||(o=r[0]=new Om,this.bc(Ja(dd,o)),Sa(this.Dm)||o.importScripts(globalThis.Object.keys(this.Dm))),r=o,r.Cn[e]||(r.Cn[e]=n,Sm(r,"1",[e,db(n)?n+"":n]).then(Ye,z(r.ky,r,e)))}else throw new Bb(this.Eo,'Unknown type "'+e+'"');return o},m.$l=function(){},m.registerProcessor=function(e,n){var r=this.tw,o=r[e];if(o){if(n!==o)throw new Bb(this.registerProcessor,'Type "'+e+'" is already registered')}else r[e]=n},m.importScripts=function(e){[].concat(e).forEach(function(n){this.Dm[n]||(this.Dm[n]=!0,this.oo.forEach(function(r){r.importScripts(n)}))},this)};function Xm(e,n,r){Ce.call(this,e,n,r)}var Ym;u(Xm,Ce),Xm.prototype.Fp=function(){return Ym||(Ym=new Fe(new Vm)),Ym},Xm.prototype.Wi=function(){},Xm.prototype.Rt=function(e){return e.rw(this)};function Zm(e,n){Zm.g.constructor.call(this,e,n)}u(Zm,Wi),t("H.map.layer.MarkerTileLayer",Zm);var $m={markers:[],total:0,requested:0};function an(e,n,r,o,s){var l=Hb(r);e.pixelProjection.Va(l),n=e.Fh(e.Bj(n),l),r=e.Oj(n,n.left>n.right,~~r,o,s),e=r.tiles,r=r.total,o=e.length,s=[];var d;for(d=0;d<o;d++)for(n=e[d],l=n.data.length;l--;)s.push(n.data[l]);return{markers:s,total:e.length,requested:r}}Zm.prototype.qe=function(e,n,r,o){return this.D.providesDomMarkers()?$m:an(this,e,n,r,o)},Zm.prototype.requestMarkers=Zm.prototype.qe,Zm.prototype.pe=function(e,n,r,o){return this.D.providesDomMarkers()?an(this,e,n,r,o):$m},Zm.prototype.requestDomMarkers=Zm.prototype.pe;function bn(e,n){bn.g.constructor.call(this,e,n)}u(bn,Ji),t("H.map.Marker",bn),bn.prototype.type=zh.MARKER,bn.prototype.ro=1,bn.prototype.ra=function(e){if(e!==hh.VISUAL||this.nw===1||this.icon.getState()===1)var n=bn.g.ra.call(this,e);return n||!1},bn.prototype.invalidate=bn.prototype.ra,m=bn.prototype,m.nw=0,m.Zu=function(e){return B(e,zm)},m.qq=!1,m.Ov=function(){this.ra(hh.VISUAL)},m.we=function(e){var n=this.icon;return this.qq&&(n.removeEventListener("statechange",this.Ov,!1,this),delete this.qq),n&&(this.nw=n.getState()),bn.g.we.call(this,e),e.getState()===0&&(this.qq=!0,Ed(e,"statechange",this.Ov,!1,this)),this},bn.prototype.setIcon=bn.prototype.we,bn.prototype.tt=function(e){return new zm(e.svg,e)},bn.prototype.P=function(){var e=this.getIcon(),n=e.nD||0,r=bn.g.forWorkerMessage.call(this),o=r.properties.icon;return o&&0<n&&Wa(o,{stick_color:e.mD,stick_height:n}),r},bn.prototype.forWorkerMessage=bn.prototype.P,t("H.buildInfo",function(){return Wh("H-core","1.61.0","3b08619",{region:"row"})});var li=mi.WEBGL,cn,dn="maps".concat("js-"),en,fn,gn,hn,jn;if(en=globalThis.document.querySelector('script[src*="'+dn+'"]'),!en){for(fn=globalThis.document.getElementsByTagName("script"),hn=new RegExp("^.*"+dn),jn=0,gn=fn.length;jn<gn;jn++)if(hn.test(fn[jn].src)){en=fn[jn];break}}cn=en?en.src.replace(/\/[^\/]*$/,"/"):"",t("H.getScriptPath",function(){return cn});function kn(){var e=decodeURIComponent(cn);if(e){e=e[e.length-1]==="/"?e.substring(0,e.length-1):e;var n=globalThis.document,r="";n?(n=n.createElement("a"),n.href=e,r=n.href):/[\w]+:\/\//.test(e)&&(r=e),e=new URL(r),e.pathname+=e.pathname[e.pathname.length-1]==="/"?"styles":"/styles",e=e.toString()}else e="https://js.api.here.com/v3/3.1.61.0/styles";return e}t("H.getStylePath",kn);function ln(e){var n=e.ownerDocument;n=n.documentElement||n.body.parentNode||n.body;try{var r=e.getBoundingClientRect()}catch{r={top:0,right:0,bottom:0,left:0,height:0,width:0}}return{x:r.left+(typeof window.pageXOffset=="number"?window.pageXOffset:n.scrollLeft),y:r.top+(typeof window.pageYOffset=="number"?window.pageYOffset:n.scrollTop)}}function mn(e,n,r,o,s,l,d){mn.g.constructor.call(this,e),this.pointers=n,this.changedPointers=r,this.targetPointers=o,this.currentPointer=s,this.originalEvent=d,this.target=l}u(mn,pd),t("H.mapevents.Event",mn);function nn(e,n){n=n===void 0?{}:n;var r;if(nn.g.constructor.call(this),on.indexOf(e)!==-1)throw new C(nn,0,"events are already used");this.v=r=e.v,this.sv=e,on.push(e),r.draggable=!0,this.ua=n.kinetics||{duration:600,ease:jj},this.MB=n.modifierKey||"Alt",this.enable(n.enabled),this.Fi=r.sa,this.sl=this.Fi.element,this.Rm=0,r.addEventListener("dragstart",this.Cd,!1,this),r.addEventListener("drag",this.ig,!1,this),r.addEventListener("dragend",this.ef,!0,this),r.addEventListener("wheel",this.Uv,!1,this),r.addEventListener("dbltap",this.Mv,!1,this),r.addEventListener("pointermove",this.ie,!1,this),Dd(this.sl,"contextmenu",this.bn,!1,this),e.bc(this.l,this)}u(nn,ed),t("H.mapevents.Behavior",nn);var on=[];rb(on),nn.prototype.Rb=0;var pn={PANNING:1,PINCH_ZOOM:2,WHEEL_ZOOM:4,DBL_TAP_ZOOM:8,FRACTIONAL_ZOOM:16,TILT:32,HEADING:64};nn.Feature=pn;var qn=pn.PANNING,rn=pn.PINCH_ZOOM,sn=pn.WHEEL_ZOOM,tn=pn.DBL_TAP_ZOOM,un=pn.FRACTIONAL_ZOOM,vn=pn.TILT,wn=pn.HEADING,xn=qn|rn|sn|tn|un|vn|wn;nn.DRAGGING=qn,nn.WHEELZOOM=sn,nn.DBLTAPZOOM=tn,nn.FRACTIONALZOOM=un;function yn(e,n){if(e!==+e||e%1||0>e||2147483647<e)throw new C(n,0,"integer in range [0...0x7FFFFFFF] required")}nn.prototype.disable=function(e){var n=this.Rb;e!==A?(yn(e,this.disable),n^=n&e):n=0,this.Fi.endInteraction(!0),this.Rb=n,this.v.draggable=0<(n&(qn|vn|wn|rn))},nn.prototype.disable=nn.prototype.disable,nn.prototype.enable=function(e){var n=this.Rb;e!==A?(yn(e,this.enable),n|=e&xn):n=xn,this.Rb=n,this.v.draggable=0<(n&(qn|vn|wn|rn))},nn.prototype.enable=nn.prototype.enable,nn.prototype.isEnabled=function(e){return yn(e,this.isEnabled),e===(this.Rb&e)},nn.prototype.isEnabled=nn.prototype.isEnabled;function zn(e,n,r){var o=n.currentPointer.type==="touch",s=0,l;if(l=!o){l=e.MB;var d=n.originalEvent;l=d.getModifierState?d.getModifierState(l):!!d[l.replace(/^Control$/,"ctrl").toLowerCase()+"Key"]}return l?s|=vn|wn:(s|=qn,o&&(n=n.pointers,n.length===2&&(s|=rn|wn,r?55>Jb(n[0].viewportY-n[1].viewportY)&&(s|=vn):e.iq&Yj.TILT&&(s|=vn)))),s&=e.Rb,(s&vn?Yj.TILT:0)|(s&wn?Yj.HEADING:0)|(s&rn?Yj.ZOOM:0)|(s&qn?Yj.COORD:0)}function An(e){var n=e.pointers;return e=n[0],n=n[1],e=[e.viewportX,e.viewportY],n&&e.push(n.viewportX,n.viewportY),e}m=nn.prototype,m.iq=0,m.Cd=function(e){var n=zn(this,e,!0);if(this.iq=n){var r=this.Fi;if(e=An(e),r.startInteraction(n,this.ua),r.interaction.apply(r,e),this.Rb&sn&&!(this.Rb&un)&&(n=e[0],r=e[1],this.Rm)){e=this.v.Ub();var o=(0>this.Rm?Ib:Hb)(e);e!==o&&(this.Rm=0,this.Ii(e,o,n,r))}}},m.ig=function(e){var n=zn(this,e,!1);if(n!==this.iq)e.originalEvent.type!=="pointerout"&&e.originalEvent.type!=="pointerover"&&(this.ef(e),this.Cd(e));else if(n){n=this.Fi;var r=An(e);n.interaction.apply(n,r),e.originalEvent.preventDefault()}},m.ef=function(e){zn(this,e,!1)&&this.Fi.endInteraction(!this.ua)},m.Ii=function(e,n,r,o){var s=this.v.xa;if(isNaN(+e))throw Error("start zoom needs to be a number");if(isNaN(+n))throw Error("to zoom needs to be a number");+n-+e!==0&&(s.startControl(null,r,o),s.control(0,0,6,0,0,0),s.endControl(!0,function(l){l.zoom=n}))},m.Uv=function(e){if(!e.defaultPrevented&&this.Rb&sn){var n=e.delta,r=this.v.Ub(),o=this.v,s=o.Ca.type;o=this.Rb&un?r-n:(0>-n?Ib:Hb)(r)-n,(s===mi.P2D||s===mi.WEBGL||s===mi.HARP)&&(this.Ii(r,o,e.viewportX,e.viewportY),this.Rm=n),e.preventDefault()}},m.ie=function(){},m.Mv=function(e){var n=e.currentPointer,r=this.v.Ub(),o=e.currentPointer.type,s=this.v.Ca.type;(s===mi.P2D||s===mi.WEBGL||s===mi.HARP)&&this.Rb&tn&&(e=o==="mouse"?e.originalEvent.button===0?-1:1:0<e.pointers.length?1:-1,e=this.Rb&un?r-e:(0>-e?Ib:Hb)(r)-e,this.Ii(r,e,n.viewportX,n.viewportY))},m.bn=function(e){return this.Rb&tn?(e.preventDefault(),!1):!0},m.l=function(){var e=this.v;e&&(e.draggable=!1,e.removeEventListener("dragstart",this.Cd,!1,this),e.removeEventListener("drag",this.ig,!1,this),e.removeEventListener("dragend",this.ef,!0,this),e.removeEventListener("wheel",this.Uv,!1,this),e.removeEventListener("dbltap",this.Mv,!1,this),e.removeEventListener("pointermove",this.ie,!1,this),delete this.v),this.sl&&(this.sl.style.msTouchAction="",Ld(this.sl,"contextmenu",this.bn,!1,this),delete this.sl),delete this.Fi,delete this.ua,on.splice(on.indexOf(this.sv),1),delete this.sv,ed.prototype.l.call(this)},nn.prototype.dispose=nn.prototype.l;function Bn(e,n,r,o,s){Bn.g.constructor.call(this,"wheel"),this.delta=e,this.viewportX=n,this.viewportY=r,this.target=o,this.originalEvent=s}u(Bn,pd),t("H.mapevents.WheelEvent",Bn);function Cn(e,n,r,o,s,l){if(isNaN(e))throw Error("x needs to be a number");if(isNaN(n))throw Error("y needs to be a number");if(isNaN(r))throw Error("pointer must have an id");this.viewportX=e,this.viewportY=n,this.target=null,this.id=r,this.type=o,this.dragTarget=null,this.button=fb(s)?s:-1,this.buttons=fb(l)?l:0,this.Pm=this.button}t("H.mapevents.Pointer",Cn);function Dn(e,n,r){if(isNaN(n))throw Error("x needs to be a number");if(isNaN(r))throw Error("y needs to be a number");e.viewportX=n,e.viewportY=r}Cn.prototype.aA=function(){return this.Pm},Cn.prototype.getLastChangedButton=Cn.prototype.aA;function En(e,n){e.Pm=n,e.buttons|=Fn[+n]||0}function Gn(e,n){e.Pm=n,e.buttons&=~(Fn[+n]||0)}var Fn=[1,4,2],Hn={NONE:-1,LEFT:0,MIDDLE:1,RIGHT:2};Cn.Button=Hn;function In(e){this.Ea=e instanceof Array?e.slice(0):[]}m=In.prototype,m.clear=function(){this.Ea.splice(0,this.Ea.length)},m.length=function(){return this.Ea.length},m.item=function(e){return this.Ea[e]||null},m.indexOf=function(e){for(var n=this.Ea.length;n--;)if(this.Ea[n].id===e)return n;return-1};function Jn(e,n){return n=e.indexOf(n),n!==-1?e.Ea[n]:null}m.remove=function(e){return e=this.indexOf(e),e!==-1?this.Ea.splice(e,1)[0]:null};function Kn(e,n){for(var r=e.Ea.length,o=[];r--;)e.Ea[r].type!==n&&o.push(e.Ea[r]);e.Ea=o}function Ln(e,n){for(var r=e.Ea.length;r--;)if(e.Ea[r].dragTarget===n)return!0;return!1}m.push=function(e){if(e instanceof Cn)return this.Ea.push(e);throw Error("list needs a pointer")},m.Ta=function(){return this.Ea},m.clone=function(){return new In(this.Ea)};function Mn(e,n,r){if(r=r||{},!(e instanceof U))throw Error("events: map instance required");if(!(n instanceof Array))throw Error("events: map array required");ed.call(this),this.fp=r.fp||300,this.zt=r.zt||50,this.ox=r.ox||50,this.px=r.px||500,this.Dq=r.Dq||900,this.Cq=r.Cq||8,this.map=e,this.za=this.map.sa,this.element=this.za.element,this.np=n,this.pointers=new In,this.changedPointers=new In,this.$f={},this.Ka=null,this.em=!0,this.Nk={},this.sf={},this.bk=null,this.mj=z(this.mj,this),this.Qt={pointerdown:this.Vy,pointermove:this.Wy,pointerup:this.Xy,pointercancel:this.Uy},Nn(this)}u(Mn,ed);function Nn(e,n){var r,o=e.np.length;for(r=0;r<o;r++){var s=e.np[r],l=s.listener;typeof l=="function"&&(n?(s.target||e.element).removeEventListener(s.$a,l):(s.target||e.element).addEventListener(s.$a,l))}}function On(e,n,r){var o;if(typeof e.Qt[n]=="function"){n!=="pointermove"&&(e.em=!0);var s=0;for(o=e.changedPointers.length();s<o;s++){var l=e.changedPointers.item(s);e.element.contains(r.composedPath()[0])?Pn(e,l,e.It.bind(e,r,n,l)):e.It(r,n,l,null)}}e.changedPointers.clear()}m=Mn.prototype,m.It=function(e,n,r,o){Qn(r.id,this.Nk),this.Qt[n].call(this,r,o,e)};function Pn(e,n,r){if(e.Ka===n)r(n.target);else{var o=e.za,s=n.viewportX;if(n=n.viewportY,0>s||0>n||s>=o.width||n>=o.height)r(x);else{var l=e.map;l.Bh(s,n,function(d){r(d||l)})}}}m.Xy=function(e,n,r){var o=e.id;e.target=n,Rn(this,e,r),Sn(this,n,"pointerup",r,e),e.type!=="mouse"&&Sn(this,n,"pointerleave",r,e),n=this.$f[e.id];var s={x:e.viewportX,y:e.viewportY},l=r.timeStamp,d=e.target,h=this.bk;n&&n.target===d&&n.vk.kb(s)<this.ox&&l-n.ps<this.px?(Sn(this,d,"tap",r,e),h&&h.target===d&&l-h.ps<this.fp?h.vk.kb({x:e.viewportX,y:e.viewportY})<this.zt&&(Sn(this,d,"dbltap",r,e),this.bk=null):this.bk={target:d,vk:new K(e.viewportX,e.viewportY),ps:r.timeStamp}):this.bk=null,this.$f={},Qn(o,this.sf)};function Rn(e,n,r){n===e.Ka&&(Sn(e,n.dragTarget,"dragend",r,n),e.Ka=null,Qn(n.id,e.Nk)),n.dragTarget=null}m.mj=function(e,n){var r=this;Sn(this,e.dragTarget,"drag",n,e),Qn(e.id,this.Nk),this.Nk[e.id]=setTimeout(function(){r.mj(e,n)},150)};function Qn(e,n){n[e]&&(n[e].timeout?clearTimeout(n[e].timeout):clearTimeout(n[e]),delete n[e])}function Tn(e,n,r){var o=n.target,s=new K(n.viewportX,n.viewportY),l=n.id;Qn(l,e.sf);var d=setTimeout(function(){o&&o===n.target&&s.kb({x:n.viewportX,y:n.viewportY})<e.Cq&&(Sn(e,o,"longpress",r,n),delete e.$f[n.id])},e.Dq);e.sf[l]={timeout:d,vk:s}}m.Wy=function(e,n,r){var o=e.dragTarget,s=e.id,l=e.target;e.target=n,l!==n&&(Sn(this,l,"pointerleave",r,e),Sn(this,n,"pointerenter",r,e)),o?this.Ka?(this.mj(e,r),this.sf[s]&&this.sf[s].vk.kb({x:e.viewportX,y:e.viewportY})>this.Cq&&Qn(s,this.sf)):this.em?this.em=!1:(this.Ka=e,Sn(this,o,"dragstart",r,e),this.mj(e,r),delete this.$f[s],this.em=!0):(!this.Ka||this.Ka&&this.Ka.dragTarget!==n&&this.Ka.dragTarget!==this.map)&&Sn(this,n,"pointermove",r,e)},m.Vy=function(e,n,r){var o=!(/^(?:mouse|pen)$/.test(e.type)&&r.button!==0);if(n){e.target=n,this.$f[e.id]={vk:new K(e.viewportX,e.viewportY),target:e.target,ps:r.timeStamp},e.type!=="mouse"&&Sn(this,n,"pointerenter",r,e);var s=Sn(this,n,"pointerdown",r,e);!this.Ka&&o&&(n.draggable&&!Ln(this.pointers,n)?e.dragTarget=n:!this.map.draggable||s.defaultPrevented||Ln(this.pointers,this.map)||(e.dragTarget=this.map)),Tn(this,e,r)}},m.Uy=function(e,n,r){var o=e.id;e.target=null,n?(Sn(this,n,"pointerleave",r,e),Sn(this,n,"pointercancel",r,e)):Sn(this,this.map,"pointercancel",r,e),Rn(this,e,r),this.$f={},Qn(o,this.sf)};function Sn(e,n,r,o,s){if(n&&typeof n.dispatchEvent=="function"){var l=mn,d=e.pointers.Ta(),h=e.changedPointers.Ta();e=e.pointers;var p,g=e.Ea.length,y=[];for(p=0;p<g;p++)e.Ea[p].target===n&&y.push(e.Ea[p]);l=new l(r,d,h,y,s,n,o),s.button=/^(?:longpress|(?:dbl)?tap|pointer(?:down|up))$/.test(r)?s.Pm:Hn.NONE,n.dispatchEvent(l)}return l}m.disposeInternal=function(){Nn(this,!0),this.pointers.clear(),this.changedPointers.clear();var e=this.Nk,n;for(n in e)Qn(n,e);e=this.sf;for(var r in e)Qn(r,e);delete this.element,delete this.np,delete this.pointers,delete this.changedPointers,delete this.map,this.bk=null,delete this.$f,this.Ka=null,ed.prototype.disposeInternal.call(this)};function Un(e){var n="onwheel"in document;this.cy=n,this.ay=(n?"d":"wheelD")+"elta",this.aq=z(this.aq,this),Un.g.constructor.call(this,e,[{$a:(n?"":"mouse")+"wheel",listener:this.aq}]),this.sa=this.map.sa}u(Un,Mn),Un.prototype.normalize=function(e,n,r){var o=this.ay,s=e[o+(o+"Y"in e?"Y":"")],l;if(Ma&&globalThis.getComputedStyle(this.sa.element).direction==="rtl"&&(n-=(globalThis.devicePixelRatio-1)*this.sa.width),s){var d=Math.abs,h=d(s);s=(!(l=e[o+"X"])||3<=h/d(l))&&(!(l=e[o+"Z"])||3<=h/d(l))?(+(0<s)-+(0>s))*(this.cy?1:-1):0}return new Bn(s,n,r,null,e)},Un.prototype.aq=function(e){if(!e.Rx){var n=ln(this.element);n=this.normalize(e,e.pageX-n.x,e.pageY-n.y),n.delta&&(e.stopImmediatePropagation(),e.preventDefault(),this.map.Bh(n.viewportX,n.viewportY,this.Lp.bind(this,n)))}},Un.prototype.Lp=function(e,n){var r=e.target=n||this.map,o,s;setTimeout(function(){r.dispatchEvent(e),e.defaultPrevented||(o=e.originalEvent,s=new globalThis.WheelEvent("wheel",o),s.Rx=!0,o.target.dispatchEvent(s))},0)};function Vn(e){this.Uf=z(this.Uf,this),Mn.call(this,e,[{$a:"mousedown",listener:this.Uf},{$a:"mousemove",listener:this.Uf,target:window},{$a:"mouseup",listener:this.Uf,target:window},{$a:"mouseover",listener:this.Uf},{$a:"mouseout",listener:this.Uf},{$a:"dragstart",listener:this.kC}])}u(Vn,Mn),Vn.prototype.$o=function(e){return e=new Cn(e.x,e.y,1,"mouse"),this.pointers.push(e),e},Vn.prototype.Uf=function(e){var n=e.type,r=ln(this.element),o={x:e.pageX-r.x,y:e.pageY-r.y};r=this.pointers.item(0)||this.$o(o),this.changedPointers.push(r),Dn(r,o.x,o.y),/^mouse(?:move|over|out)$/.test(n)?On(this,"pointermove",e):(/^mouse(down|up)$/.test(n)&&(o=e.which-1,globalThis.RegExp.$1==="up"?Gn(r,o):En(r,o)),On(this,n.replace("mouse","pointer"),e)),this.changedPointers.clear()},Vn.prototype.kC=function(e){e.preventDefault()};function Wn(e){var n=Xn(this);(window.PointerEvent||window.MSPointerEvent)&&n.push({$a:"MSHoldVisual",listener:"prevent"}),Mn.call(this,e,n)}u(Wn,Mn);function Xn(e){var n=!!window.PointerEvent,r,o,s=[];return e.$p=z(e.$p,e),"MSPointerDown MSPointerMove MSPointerUp MSPointerCancel MSPointerOut MSPointerOver".split(" ").forEach(function(l){r=l.toLowerCase().replace(/ms/g,""),o=n?r:l,s.push({$a:o,listener:e.$p,target:/^pointer(up|move)$/.test(r)?window:null})}),s}var Yn={2:"touch",3:"pen",4:"mouse"};Wn.prototype.$o=function(e,n){var r=e.pointerType;return typeof r=="number"&&(r=Yn[r]),e=new Cn(n.x,n.y,e.pointerId,r,e.button,e.buttons),this.pointers.push(e),e},Wn.prototype.$p=function(e){var n=window.PointerEvent?e.type:e.type.toLowerCase().replace(/ms/g,""),r=ln(this.element),o=Jn(this.pointers,e.pointerId),s=e.pageX-r.x;r=e.pageY-r.y;var l=Yn[e.pointerType]||e.pointerType;Ma&&globalThis.getComputedStyle(this.za.element).direction==="rtl"&&(s-=(globalThis.devicePixelRatio-1)*this.za.width),o||/^pointer(up|out|cancel)$/.test(n)||l==="touch"&&n!=="pointerdown"||(o=this.$o(e,{x:s,y:r})),o&&(/^pointer(up|cancel)$/.test(n)?(l==="touch"&&this.pointers.remove(o.id),Gn(o,e.button)):n==="pointerdown"&&(e.pointerType==="touch"&&(Kn(this.pointers,"mouse"),Kn(this.pointers,"pen")),En(o,e.button)),this.changedPointers.push(o),n!=="pointermove"?(Dn(o,s,r),On(this,/^pointer(over|out)$/.test(n)?"pointermove":n,e)):(o.viewportX!==s||o.viewportY!==r)&&(Dn(o,s,r),On(this,n,e))),this.changedPointers.clear()};function Zn(e){this.Gh=z(this.Gh,this),Mn.call(this,e,[{$a:"touchstart",listener:this.Gh},{$a:"touchmove",listener:this.Gh},{$a:"touchend",listener:this.Gh},{$a:"touchcancel",listener:this.Gh}]),this.Cx={touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",touchcancel:"pointercancel"},this.Ju=(e=(e=e.Yd)?e.B():null)?Array.prototype.slice.call(e.querySelectorAll("a"),0):[]}u(Zn,Mn),Zn.prototype.Gh=function(e){var n=e.touches,r=this.pointers.length(),o;if(e.type==="touchstart"&&r>=n.length){for(r=this.pointers.clone(),o=n.length;o--;)r.remove(n[o].identifier);for(o=r.length();o--;)this.pointers.remove(r.item(o).id);this.changedPointers=r,On(this,"pointercancel",e),this.changedPointers.clear()}if(this.Cx[e.type]){n=ln(this.za.element),r=e.type,o=e.changedTouches;var s=o.length,l;for(this.changedPointers.clear(),l=0;l<s;l++){var d=o[l],h=Jn(this.pointers,d.identifier),p=d.pageX-n.x,g=d.pageY-n.y;if(h)if(r==="touchmove"){d=Math.abs(h.viewportX-p);var y=Math.abs(h.viewportY-g);(1<d||1<y||d===1&&y===1)&&(Dn(h,p,g),this.changedPointers.push(h))}else r==="touchend"&&(this.pointers.remove(h.id),this.changedPointers.push(h),Gn(h,Hn.LEFT));else h=new Cn(p,g,d.identifier,"touch",Hn.LEFT,1),this.pointers.push(h),this.changedPointers.push(h)}On(this,this.Cx[e.type],e),this.Ju.indexOf(e.target)===-1&&e.preventDefault()}},Zn.prototype.disposeInternal=function(){this.Ju=null,Mn.prototype.disposeInternal.call(this)};function $n(e,n,r,o){$n.g.constructor.call(this,"contextmenu"),this.items=[],this.viewportX=e,this.viewportY=n,this.target=r,this.originalEvent=o}u($n,pd),t("H.mapevents.ContextMenuEvent",$n);function ao(e){this.Xp=z(this.Xp,this),this.Zp=z(this.Zp,this),this.Yp=z(this.Yp,this),this.qn=!1,this.ih=-1,this.jv=0,ao.g.constructor.call(this,e,[{$a:"contextmenu",listener:this.Xp},{target:e,$a:"longpress",listener:this.Zp},{target:e,$a:"dbltap",listener:this.Yp}])}u(ao,Mn),m=ao.prototype,m.Zp=function(e){var n=e.currentPointer;n.type==="touch"&&e.pointers.length===1&&bo(this,n.viewportX,n.viewportY,e.originalEvent,e.target)},m.Yp=function(e){e.currentPointer.type==="touch"&&(this.jv=Date.now())},m.Xp=function(e){var n=this;this.ih===-1?this.ih=setTimeout(function(){var r=ln(n.element),o=e.pageX-r.x;r=e.pageY-r.y,n.ih=-1,bo(n,o,r,e)},this.fp):(clearInterval(this.ih),this.ih=-1),e.preventDefault()};function bo(e,n,r,o,s){var l=e.map,d=Date.now()-e.jv;s?!e.qn&&d>e.Dq&&(e.qn=!0,s.dispatchEvent(new $n(n,r,s,o)),Ed(l.B(),co,e.Ht,!1,e)):l.Bh(n,r,e.Lp.bind(e,n,r,o))}m.Lp=function(e,n,r,o){bo(this,e,n,r,o&&db(o.dispatchEvent)?o:this.map)},m.Ht=function(){this.qn&&(this.qn=!1,this.map.dispatchEvent(new pd("contextmenuclose",this.map)))},m.disposeInternal=function(){var e=this.map.B();clearInterval(this.ih),e&&Ld(e,co,this.Ht,!1,this),Mn.prototype.disposeInternal.call(this)};var co=["mousedown","touchstart","pointerdown","wheel"];function eo(e){var n=e.sa.element.style;if(fo.indexOf(e)!==-1)throw Error("InvalidArgument: map is already in use");this.v=e,fo.push(e),n.msTouchAction=n.touchAction="none",Na||!window.PointerEvent&&!window.MSPointerEvent?(this.Bx=new Zn(this.v),this.Ev=new Vn(this.v)):this.Bx=new Wn(this.v),this.JD=new Un(this.v),this.Fy=new ao(this.v),this.v.bc(this.l,this),ed.call(this)}u(eo,ed),t("H.mapevents.MapEvents",eo);var fo=[];rb(fo),eo.prototype.l=function(){delete this.v,this.Bx.l(),this.JD.l(),this.Fy.l(),this.Ev&&this.Ev.l(),fo.splice(fo.indexOf(this.v),1),ed.prototype.l.call(this)},eo.prototype.dispose=eo.prototype.l,eo.prototype.wz=function(){return this.v},eo.prototype.getAttachedMap=eo.prototype.wz,t("H.mapevents.buildInfo",function(){return Wh("H-mapevents","1.61.0","3b08619",{region:"row"})}),R.prototype.Yn=da(3,function(e){var n=this.getCache(),r=this;if(e!==x){B(e,kk,R.prototype.Yn,0);var o=e}else o=Jk;o!==n&&n.ia(function(s,l,d){return r.cc(s)?(o.add(s,l,d),!0):!1}),this.jt=o}),Xg.prototype.Yb=da(2,function(e){this.ts=e,e=this.getState(),e!==Ag.INIT&&e!==Ag.LOADING&&dh(this)});function go(e){return e=e.Vd("_#-;,:","_#-;,:","_#-;,:"),new RegExp("^"+e.replace(/[.*+?^${}()|[\]\\\/]/g,"\\$&").replace(/_#-;,:/g,"\\d+")+"$")}function ho(e,n){return Wa.apply(null,arguments),e}function io(e,n){var r=globalThis.console;r&&r.warn&&(e=hb(e)+" is deprecated and will be removed soon. ",n&&(e+=n),r.warn(e))}var jo={};function ko(){}ko.prototype.pop=function(e){return this[e]||(this[e]=[]),this[e].pop()||document.createElement("canvas")},ko.prototype.push=function(e,n){this[n]||(this[n]=[]),this[n].push(e)};var lo=new ko;t("H.service.util.eval",function(a){return eval(a)});function mo(e,n,r,o,s,l,d){var h=this;d=d||{},l=l||{};var p=e.i().clone().A(n+"/"+e.fb+"/"+r).u(l),g=e.bd;this.$=e,this.sx=p,Tk.call(this,{tileSize:o,max:o===512?19:20,min:o===512?2:0,getURL:function(y,v,w){var k=h.sx.clone();return g&&k.la(g[(w+v+y)%g.length]),k.A(w+"/"+y+"/"+v+"/"+o+"/"+s),k.toString()},crossOrigin:d.crossOrigin,headers:d.headers,uri:p.toString().replace(/_/g,"")+o,engineType:d.engineType}),this.wD=n,this.oi=r,this.Ga=l,this.Xo=r.split(".")[0],this.Ce=z(this.Ce,this),this.getCopyrights=this.U,this.Ye=!1,e.addEventListener("versionupdate",this.Ce)}u(mo,Tk),mo.prototype.MAX_STORE_TIME=2592e6,mo.prototype.o=function(e,n,r,o,s,l){return this.Ye||(io(no,"Use HERE Vector Tile API or Raster Tile API v3 instead."),this.Ye=!0),mo.g.o.call(this,e,n,r,o,s,l)},mo.prototype.requestInternal=mo.prototype.o,mo.prototype.disposeInternal=function(){Tk.prototype.disposeInternal.call(this),this.$.removeEventListener("versionupdate",this.Ce)},mo.prototype.U=function(e,n){return this.$.U().query(this.Xo,n,e)},mo.prototype.getCopyrights=mo.prototype.U,mo.prototype.Ce=function(){var e=this.$;this.sx=e.i().clone().A(this.wD+"/"+e.fb+"/"+this.oi).u(this.Ga),this.reload(!1)},mo.prototype.Vi=function(){return pm()},mo.prototype.td=function(){return pm()?om():mo.g.td.call(this)};function oo(e,n){if(n=n===void 0?{}:n,!e.Hm)throw new Bb(e);oo.g.constructor.call(this);var r=po(this,n);if(!r.baseUrl&&!r.platformBaseUrl)throw new C(e,0,'either "baseUrl" or "platformBaseUrl" must be specified');this.yc=(r.baseUrl?r.baseUrl:r.platformBaseUrl).clone(),e=r.baseUrl?n:r,e.host&&this.yc.Qk(e.host),e.subDomain&&this.yc.la(e.subDomain),e.path&&this.yc.wc(e.path),qo(this.yc),this.pc=r.headers||{}}u(oo,I),t("H.service.Service",oo);function po(e,n){return e=e.Da(),n?ho({},e,n):e}oo.prototype.Da=function(){return{}},oo.prototype.i=function(){return this.yc},oo.prototype.getUrl=oo.prototype.i,oo.prototype.o=function(e,n,r,o){return o=new qg(o===void 0?"application/json":o,e.toString(),De,{headers:this.pc}),o.then(n,ro(this,e,r)),o};function ro(e,n,r){return function(o){return typeof o.json!="function"?Promise.reject(r(so(n,o))):o.json().then(function(s){return r(e.Jc(s))},function(){return r(so(n,o))})}}oo.prototype.Jc=function(e){return Error(e.message)};function so(e,n){return Error((n.statusText?"["+n.statusText+"] ":"")+e+" request failed")}function to(){this.qs={}}function uo(e,n){for(var r in n)n.hasOwnProperty(r)&&e.Bo(r,n[r])}to.prototype.Bo=function(e,n){e=this.qs[e]||(this.qs[e]=[]);var r,o=n.length;for(r=0;r<o;r++){var s=new jo.Rs(n[r]);e.push(s)}},to.prototype.query=function(e,n,r){e=this.qs[e];var o,s=e?e.length:0,l=[];for(o=0;o<s;o++)e[o].Wf(n,r)&&l.push(e[o]);return l},jo.Rs=function(e){var n,r=e.boxes;if(this.alt=e.alt,this.label=e.label,this.min=e.minLevel,this.max=e.maxLevel,this.Gn=[],r&&(n=r.length)){var o=r[0],s=new E(o[0],o[1],o[2],o[3]);for(this.Gn.push(s),this.rn=new E(o[0],o[1],o[2],o[3]),e=1;e<n;e++)o=r[e],s=new E(o[0],o[1],o[2],o[3]),this.Gn.push(s),this.rn.zd(s,!1,this.rn)}},jo.Rs.prototype.Wf=function(e,n){if(e>=this.min&&e<=this.max)if((e=this.Gn.length)&&this.rn){if(this.rn.Wf(n)){for(;e--;)if(this.Gn[e].Wf(n))return!0}}else return!0;return!1};function W(e,n,r,o,s,l){if(e&&n)this.$r(e),this.Qk(n),this.wc(r),this.Wr(s),this.Pw(l),this.Tk(o);else throw new C(W,A,'Parameters "scheme" and "host" must be specified')}t("H.service.Url",W);function vo(e,n){var r=globalThis.document,o,s="";if(r){if(s=r.createElement("a"),n){var l=(o=r.getElementsByTagName("base")[0])&&o.href,d=r.head,h=o||d.appendChild(r.createElement("base"));h.href=n}s.href=e,s=s.href,n&&(o?o.href=l:d.removeChild(h))}else/[\w]+:\/\//.test(e)&&(s=e);l=/(?:(\w+):\/\/)?(?:([^:]+):([^@/]*)@)?([^/:]+)?(?:[:]{1}([0-9]+))?(\/[^?#]*)?(\?[^#]+)?(#.*)?/.exec(s),e=l[1],d=l[4],n=l[5],h=l[6],r=l[7],o=l[8],!l[2]&&d&&/@/.test(d)&&(d=d.split("@")[1]),l=W,h=h&&0<h.length?h.substr(1):"",s={};var p,g;if(r)for(p=/([?&]?([^=&+]+))(=([^&]+))?/g;g=p.exec(r);)s[decodeURIComponent(g[2])]=g[4]?decodeURIComponent(g[4]):void 0;return new l(e,d,h,s,isNaN(+n)?void 0:+n,o&&0<o.length?o.substr(1):"")}W.parse=vo,W.prototype.clone=function(){var e={},n;for(n in this.Ga)e[n]=this.Ga[n];return new W(this.oi,this.Qj,this.jf,e,this.uk,this.Db)},W.prototype.clone=W.prototype.clone,W.prototype.$r=function(e){if(!e||typeof e!="string")throw new C(this.$r,0,'The "scheme" parameter must be a non-empty string.');return this.oi=e,this},W.prototype.setScheme=W.prototype.$r,W.prototype.DA=function(){return this.oi},W.prototype.getScheme=W.prototype.DA,W.prototype.Qk=function(e){if(!e||typeof e!="string"||e.charAt(0)==="-"||e.charAt(0)==="."||e.charAt(e.length-1)===".")throw new C(this.Qk,0,'The "host" parameter is not a valid host name.');return this.Qj=e,this},W.prototype.setHost=W.prototype.Qk,W.prototype.Wz=function(){return this.Qj},W.prototype.getHost=W.prototype.Wz,W.prototype.wc=function(e){return this.jf=e||void 0,this},W.prototype.setPath=W.prototype.wc,W.prototype.pA=function(){return this.jf},W.prototype.getPath=W.prototype.pA,W.prototype.Tk=function(e){if(e)if(typeof e=="object")this.Ga=e;else throw new C(this.Tk,0,'Parameter "params" must be an object.');else this.Ga={};return this},W.prototype.setQuery=W.prototype.Tk,W.prototype.Du=function(){return!wo(this)},W.prototype.hasQuery=W.prototype.Du,W.prototype.getQuery=function(){return this.Ga},W.prototype.getQuery=W.prototype.getQuery,W.prototype.Wr=function(e){if(e===void 0)this.uk=e;else{var n=gc(+e<<0,0,65535);if(n!=e)throw new C(this.Wr,0,'Parameter "port" must be an integer in range [0...65535]');this.uk=n}return this},W.prototype.setPort=W.prototype.Wr,W.prototype.uA=function(){return this.uk},W.prototype.getPort=W.prototype.uA,W.prototype.Pw=function(e){return this.Db=e||void 0,this},W.prototype.setAnchor=W.prototype.Pw,W.prototype.yp=function(){return this.Db},W.prototype.getAnchor=W.prototype.yp,W.prototype.u=function(e){if(typeof e!="object")throw new C(this.u,0,'Parameter "other" must be an object.');var n=this.Ga,r;for(r in e)e.hasOwnProperty(r)&&typeof e[r]!="function"&&(n[r]=e[r]);return this},W.prototype.mergeQuery=W.prototype.u,W.prototype.la=function(e){if(!e||typeof e!="string")throw new C(this.la,0,'Parameter "subDomain" must be a non-empty string');return e.substr(e.length-1)==="."&&(e=e.substr(0,e.length-1)),this.Qk(e+"."+this.Qj)},W.prototype.addSubDomain=W.prototype.la,W.prototype.A=function(e){if(!e||typeof e!="string")throw new C(this.A,0,'Parameter "subPath" must be a non-empty string');return this.wc((this.jf?this.jf+"/":"")+e)},W.prototype.addSubPath=W.prototype.A,W.prototype.toString=function(){return[this.oi+"://",this.Qj,this.uk?":"+this.uk:"",this.jf||!wo(this)||this.Db?"/":"",this.jf?encodeURI(this.jf):"",xo(this),this.Db?"#"+encodeURIComponent(this.Db):""].join("")},W.prototype.toString=W.prototype.toString;function yo(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(n){return"%"+n.charCodeAt(0).toString(16)})}function xo(e){var n=[],r=e.Ga,o={},s;for(s in r){if(r.hasOwnProperty(s)&&typeof r[s]!="function"){var l=e.Ga[s];o.Og=yo(s),B(l,zo)?l.jo.forEach(function(d){return function(h){n.push(d.Og+"="+yo(h))}}(o)):B(l,Ao)?n.push(o.Og+"="+l.jo.map(function(d){return yo(d)}).join(l.Sy)):n.push(l===void 0?o.Og:o.Og+"="+yo(l))}o={Og:o.Og}}return 0<n.length?"?"+n.join("&"):""}function qo(e){var n=Wh("H-service","1.61.0","3b08619",{region:"row"});return e.Ga.xnlp="CL_JSMv3."+n.version,e}function wo(e){var n,r=0;for(n in e.Ga)if(e.Ga.hasOwnProperty(n)&&typeof e.Ga[n]!="function"&&(r++,0<r))break;return!r}function Bo(e,n){if(kb(e))for(var r=0;r<e.length;r++){var o=e[r];if(!lb(o)&&!ob(o)){var s="The Array does not contain only strings and numbers";break}}else s="Not an Array";if(s)throw new C(n,0,e);return e}function zo(e){this.jo=Bo(e,zo)}W.MultiValueQueryParameter=zo,zo.prototype.OA=function(){return this.jo},zo.prototype.getValues=zo.prototype.OA;function Ao(e,n){if(this.jo=Bo(e,Ao),!/^[!\$\(\)\*\+,;]$/.test(n))throw new C(Ao,1,'Invalid delimiter "'+n+'"');this.Sy=n}W.DelimitedQuerySubValues=Ao;function Co(e,n){B(e,Do,Co,0);var r={};Object.assign(r,n),r.min=r.min||0,r.max=r.max||20,r.tileSize=r.tileSize||512,r.getURL=function(o,s,l){return e.Sf(o,s,l).clone().u({size:r.tileSize})},Tk.call(this,r),this.$=e}u(Co,Tk),t("H.service.rasterTile.Provider",Co),Co.prototype.U=function(e,n){var r=this.$;return r.U().query(r.Ci.Rn+"."+r.K(),n,e)},Co.prototype.getCopyrights=Co.prototype.U,Co.prototype.Vi=function(){return pm()},Co.prototype.td=function(){return pm()?om():Co.g.td.call(this)};function X(e){e=ho({},this.Qy,e);var n=e.apikey||e.apiKey,r=e.baseUrl;if(r=n?r?0:"baseUrl":"apikey")throw new C(X,0,'"'+r+'" must be specified');this.Sw(e.baseUrl),this.ct=n,this.md.u({apikey:n}),this.pc=e.headers||{},this.YC=Ta(e.servicesConfig||{})}t("H.service.Platform",X),X.prototype.Qy={apikey:null,baseUrl:new W("https","hereapi.com")},X.prototype.Sw=function(e){this.md=qo(e.clone()),this.ct=e=this.ct,this.md.u({apikey:e})},X.prototype.setBaseUrl=X.prototype.Sw,X.prototype.Lc=function(){return this.md},X.prototype.getBaseUrl=X.prototype.Lc,X.prototype.Ja=function(e,n){try{return e.Hm=!0,new e(ho({platformBaseUrl:this.Lc(),headers:this.pc},this.YC[e.CONFIG_KEY]||{},n||{}))}finally{e.Hm=!1}},X.prototype.createService=X.prototype.Ja,X.prototype.Yl=function(e,n,r){var o=this;if(!H.map.render.harp)throw Error("HARP engine module not found");if(!ya(e)&&!lb(e))throw new C(this.Yl,0,"is invalid: must be either a configuration object or a URL");if(!db(n))throw new C(this.Yl,1,"is invalid: must be a Function");if(!db(r))throw new C(this.Yl,2,"is invalid: must be a Function");var s=new H.map.render.harp.Style(e);s.addEventListener("change",function(){var l=s.getState();if(l===-1)r(Error("H.service.platform#createHybridLayers method failed to load style configuration"));else if(l===2){l={dark:!0};var d=o.Qp({resource:"background",queryParams:{style:"satellite.day"}}),h=s.Sd(),p={styles:[{technique:"raster",attr:{gamma:1,brightness:1}}]};h.definitions&&(h.definitions["Satellite.Texture.Gamma"]!==void 0&&(p.styles[0].attr.gamma=h.definitions["Satellite.Texture.Gamma"]),h.definitions["Satellite.Texture.Brightness"]!==void 0&&(p.styles[0].attr.brightness=h.definitions["Satellite.Texture.Brightness"])),d=new Co(d,{engineType:Nm,style:new H.map.render.harp.Style(p)}),n({raster:new sl(d,l),vector:o.Lj().od(s,{engineType:Nm},l),traffic:o.Tp().od(s,{engineType:Nm},l)})}}),s.load()},X.prototype.createHybridLayers=X.prototype.Yl;function no(e){no.g.constructor.call(this,no,e),e=po(this,e),this.bd=e.shards,(this.Ra=e.ignoreTypes?null:e.type)&&this.i().la(this.Ra),this.fb=e.version,this.ec=new to,this.pr={},this.Wl=0,this.fb==="newest"&&this.rp()}u(no,oo),t("H.service.MapTileService",no),no.prototype.Da=function(){return{subDomain:"maps.ls",path:"maptile/2.1",type:"base",version:"newest",shards:["1","2","3","4"]}},no.CONFIG_KEY="maptile";function Eo(e,n){for(var r={},o=e[n+"s"][n],s=o.length;s--;)r[o[s].id]=o[s];e[n+"s"]=r}no.prototype.vu=function(){return this.Ra},no.prototype.getType=no.prototype.vu,no.prototype.Wp=function(){return this.fb},no.prototype.getVersion=no.prototype.Wp,no.prototype.cs=function(e){this.fb=e},no.prototype.U=function(){return this.Wl||(this.fb&&this.fb!=="newest"||this.Ra==="traffic")&&this.Kf(),this.ec},no.prototype.getCopyrights=no.prototype.U,m=no.prototype,m.ss=function(e){e=e.response;var n;if(Eo(e,"map"),Eo(e,"scheme"),Eo(e,"tiletype"),Eo(e,"format"),Eo(e,"resolution"),Eo(e,"language"),this.fb==="newest"&&this.Ra!=="traffic")for(n in e.maps)e.maps[n].hash&&e.maps[n].newest&&(this.cs(e.maps[n].hash),this.dispatchEvent("versionupdate"));this.fq=e,this.dispatchEvent("infoupdate")},m.pl=function(e){uo(this.ec,e),this.dispatchEvent("copyrightupdate")},m.rp=function(){var e=this,n=this.i().clone().A("info").u({output:"json"});this.bd&&n.la(this.bd[0]),this.o(n,function(r){e.ss(r)},function(r){throw r})},m.Kf=function(){var e=this,n=this.i().clone().A("copyright").A(e.fb).u({output:"json"});this.bd&&n.la(this.bd[0]),this.Wl=1,this.o(n,function(r){e.Wl=2,e.pl(r)},function(r){throw e.Wl=-1,r})},m.Kj=function(){return this.fq},no.prototype.getInfo=no.prototype.Kj,no.prototype.nj=function(e,n,r,o,s,l){var d=this.i().clone().A(e+"/"+this.fb+"/"+n+"/"+r+"/"+o).u(s||{}).toString(),h=0,p,g=d.length;if(g!==0)for(p=0;p<g;p++){var y=d.charCodeAt(p);h=(h<<5)-h+y,h|=0}return d=h,h=this.pr[d],h||(h=new mo(this,e,n,r,o,s,ho({headers:this.pc},l||{})),this.pr[d]=h),h},no.prototype.createTileProvider=no.prototype.nj,no.prototype.Pd=function(e,n,r,o,s,l,d,h){return e=this.nj(e,n,r,o,s,h),new sl(e,{opacity:l,dark:!!d})},no.prototype.createTileLayer=no.prototype.Pd,X.prototype.Kp=function(e){return this.Ja(no,e)},X.prototype.getMapTileService=X.prototype.Kp;function Fo(e){if(this.ns=!!e.toBypassToken,!this.ns&&!e.token)throw new C(Fo,0,'"token" must be specified');io(Fo,"Use HERE IML service instead."),Fo.g.constructor.call(this,Fo,e),this.zx=e.token,this.st={},this.Vl={}}u(Fo,oo),t("H.service.xyz.Service",Fo),Fo.prototype.Da=function(){return{host:"xyz.api.here.com",path:"hub/spaces"}},Fo.prototype.Jc=function(e){return Error(e.errorMessage||e.message)},Fo.prototype.Np=function(e,n,r){return ib(e,"String",this.Np,0,'"projectId" must be a string'),Go(this.Np,1,n,r),e=Ho(this.i().clone().wc("project-api/projects/"+e)),this.o(e,n,r)},Fo.prototype.getProject=Fo.prototype.Np,Fo.prototype.tu=function(e,n,r){return Go(this.tu,0,e,n),r=Io(this,this.i().clone().u(r||{})),this.o(r,e,n)},Fo.prototype.getSpaces=Fo.prototype.tu,Fo.prototype.qm=function(e,n,r){return ib(e,"String",this.qm,0,'"spaceId" must be a string'),Go(this.qm,1,n,r),e=Io(this,this.i().clone().A(e)),this.o(e,n,r)},Fo.prototype.getSpace=Fo.prototype.qm,Fo.prototype.Dh=function(e,n,r){return ib(e,"String",this.Dh,0,'"spaceId" must be a string'),Go(this.Dh,1,n,r),e=Io(this,this.i().clone().A(e+"/statistics")),this.o(e,n,r)},Fo.prototype.getStatistics=Fo.prototype.Dh,Fo.prototype.lm=function(e,n,r,o,s,l,d){return e=Io(this,this.i().clone().A(o+"/tile/web/"+r+"_"+e+"_"+n+".mvtf").u(Object.assign({clip:!0},d))),this.o(e,function(h){return h.arrayBuffer().then(s)},l,"arraybuffer")},Fo.prototype.search=function(e,n,r,o){return ib(e,"String",this.search,0,'"spaceId" must be a string'),Go(this.search,1,n,r),e=Io(this,this.i().clone().A(e+"/search").u(o||{})),this.o(e,n,r)},Fo.prototype.search=Fo.prototype.search,Fo.prototype.Ue=function(e,n,r,o){if(ib(e,"String",this.Ue,0,'"spaceId" must be a string'),!ya(n))throw new C(this.Ue,1,'"params" must be an object');return Go(this.Ue,2,r,o),e=Io(this,this.i().clone().A(e+"/features").u(n)),this.o(e,r,o)},Fo.prototype.getFeaturesById=Fo.prototype.Ue,Fo.prototype.wh=function(e,n,r,o){if(ib(e,"String",this.wh,0,'"spaceId" must be a string'),!ya(n))throw new C(this.Ue,1,'"params" must be an object');return Go(this.wh,2,r,o),e=Io(this,this.i().clone().A(e+"/bbox").u(n)),this.o(e,r,o)},Fo.prototype.getFeaturesByBoundingBox=Fo.prototype.wh,Fo.prototype.U=function(e){var n=this.st[e];return n||(this.Vl[e]||this.Kf(e),null)},Fo.prototype.nf=function(e,n,r,o,s){if(ib(e,"String",this.nf,0,'"spaceId" must be a string'),!ya(n))throw new C(this.nf,1,'"geojsonObject" must be an object');if(Go(this.nf,2,r,o),s&&!ya(s))throw new C(this.nf,4,'"opt_params" must be an object');return Jo(this,e,r,o,"PUT",n,s)},Fo.prototype.putFeatures=Fo.prototype.nf,Fo.prototype.lf=function(e,n,r,o,s){if(ib(e,"String",this.lf,0,'"spaceId" must be a string'),!ya(n))throw new C(this.lf,1,'"featureCollection" must be an object');if(Go(this.lf,2,r,o),s&&!ya(s))throw new C(this.lf,4,'"opt_params" must be an object');return Jo(this,e,r,o,"POST",n,s)},Fo.prototype.postFeatures=Fo.prototype.lf,Fo.prototype.If=function(e,n,r,o){if(ib(e,"String",this.If,0,'"spaceId" must be a string'),!ya(n))throw new C(this.If,1,'"params" must be an object');return Go(this.If,2,r,o),Jo(this,e,r,o,"DELETE",A,n)},Fo.prototype.deleteFeatures=Fo.prototype.If;function Jo(e,n,r,o,s,l,d){var h=Object.assign(e.ns?{}:{authorization:"Bearer "+e.zx},{"Content-Type":"application/geo+json"},e.pc);return s={method:s,headers:h},l&&(s.data=JSON.stringify(l)),n=Ho(e.i().clone().A(n+"/features").u(d||{})),l=new qg("application/json",n.toString(),De,s),l.then(r,ro(e,n,o)),l}Fo.prototype.Kf=function(e){var n=this;this.Vl[e]=Ko,this.qm(e,function(r){n.Vl[e]=Lo,n.st[e]=r.copyright,n.dispatchEvent("copyrightupdate")},function(r){throw n.Vl[e]=Mo,r})};function Io(e,n){return e.ns?n:Ho(n).u({access_token:e.zx})}function Ho(e){var n=Object.assign({},e.getQuery());return delete n.apikey,e.Tk(n)}Fo.CONFIG_KEY="xyz";var Ko=1,Lo=2,Mo=-1;function Go(e,n,r,o){if(!db(r))throw new C(e,n,'"onResult" must be a function');if(!db(o))throw new C(e,n+1,'"onError" must be a function')}X.prototype.SA=function(e){return this.Ja(Fo,e)},X.prototype.getXYZService=X.prototype.SA;function No(e,n,r){var o;if(No.g.constructor.call(this,r?{min:r.min,max:r.max,engineType:r.engineType}:void 0),B(e,Fo,No,0),!lb(n))throw new C(No,1,'"spaceId" must be a string');if(this.$=e,this.Gg=n,this.Ok={},r&&(["limit","simplificationLevel","tags"].forEach(function(s){s in r&&(this.Ok[s]=r[s])},this),e=r.parameters))for(o in e)this.Ok[o]=e[o];this.Xa(this.Ep())}u(No,R),t("H.service.xyz.Provider",No),No.prototype.o=function(e,n,r,o,s){return this.$.lm(e,n,r,this.Gg,o,s,this.Ok)},No.prototype.requestInternal=No.prototype.o,No.prototype.U=function(){return this.$.U(this.Gg)},No.prototype.getCopyrights=No.prototype.U,No.prototype.Xc=We,No.prototype.providesOMV=No.prototype.Xc,No.prototype.K=function(){return this.mb()},No.prototype.getStyle=No.prototype.K,No.prototype.Cb=function(e){B(e,Xg)&&e.Yb("MVT"),this.Xa(e)},No.prototype.setStyle=No.prototype.Cb,No.prototype.Ep=function(){return this.vb===mi.WEBGL?new Xg({sources:{xyz:{type:"MVT"}},layers:{xyz:{data:{source:"xyz",layer:this.Gg},points:{filter:{$geometry:"point"},draw:{points:{collide:!1,order:200,color:"#92CF48",size:[[10,"8px"],[14,"12px"],[18,"16px"]]}}},polygons:{filter:{$geometry:"polygon"},draw:{polygons:{order:201,color:"#E39E3C"},lines:{order:202,color:"#755DA5",width:"1px"}}},lines:{filter:{$geometry:"line"},draw:{lines:{order:203,color:"#000000",width:"2px",join:"round",cap:"round"}}}}}}):new H.map.render.harp.Style({styles:[{layer:this.Gg,when:["==",["geometry-type"],"Point"],technique:"circles",renderOrder:200,color:"#92CF48",size:["interpolate",["linear"],["zoom"],10,8,14,12,18,16]},{layer:this.Gg,when:["==",["geometry-type"],"Polygon"],technique:"polygon",color:"#E39E3C",renderOrder:201},{layer:this.Gg,when:["==",["geometry-type"],"Polygon"],technique:"solid-line",color:"#755DA5",width:"1px",renderOrder:202},{layer:this.Gg,when:["==",["geometry-type"],"LineString"],technique:"solid-line",color:"#000000",width:"2px",renderOrder:203}]})};function Oo(e){Oo.g.constructor.call(this,Oo,e)}u(Oo,oo),t("H.service.WaypointsSequenceService",Oo),Oo.CONFIG_KEY="waypointsSequence",Oo.prototype.hz=function(e,n,r){return e=this.i().clone().la("wps").wc("v8/findsequence2").u(e),this.o(e,n,r)},Oo.prototype.findSequence=Oo.prototype.hz,X.prototype.RA=function(e){return this.Ja(Oo,e)},X.prototype.getWaypointsSequenceService=X.prototype.RA;function Po(e){Po.g.constructor.call(this,Po,e)}u(Po,oo),t("H.service.publicTransit.Service",Po),Po.prototype.Da=function(){return{subDomain:"transit.router",path:"v8"}},Po.CONFIG_KEY="publicTransit",Po.prototype.BA=function(e,n,r){return e=this.i().clone().A("routes").u(e),this.o(e,n,r)},Po.prototype.getRoutes=Po.prototype.BA,Po.prototype.Jz=function(e,n,r){return e=this.i().clone().A("departures").u(e),this.o(e,n,r)},Po.prototype.getDepartures=Po.prototype.Jz,Po.prototype.FA=function(e,n,r){return e=this.i().clone().A("stations").u(e),this.o(e,n,r)},Po.prototype.getStations=Po.prototype.FA,Po.prototype.Jc=function(e){return Error(JSON.stringify(e))},X.prototype.xA=function(e){return this.Ja(Po,e)},X.prototype.getPublicTransitService=X.prototype.xA,X.prototype.Xl=function(e,n,r,o,s,l){function d(h1,N1,k1){N1=h1.rm(N1),N1=k?new Xg(N1):new H.map.render.harp.Style(N1);var R1={engineType:g};v&&v.politicalView&&(R1.politicalView=v.politicalView),r&&(R1.lg=r),o&&(R1.lg2=o),l&&(R1.pois=l);var U1;return k1&&(U1={dark:k1}),h1.od(N1,R1,U1)}function h(h1,N1,k1,R1,U1){return h1.Pd(N1,k1,F,R1,q,1,U1,y)}var p=this,g=li,y={crossOrigin:"anonymous"};if(ya(e)){var v=e;"crossOrigin"in v&&(y.crossOrigin=v.crossOrigin),e=v.tileSize,n=v.ppi,r=v.lg,o=v.lg2,s=v.style,l=v.pois,v.engineType!==void 0&&(g=v.engineType,y.engineType=g)}var w=g===mi.HARP,k=g===mi.WEBGL,F=e||512,q={};if(0>[72,250,320,500].indexOf(+n)){if(n!==A)throw new C(this.Xl,1,n)}else q.ppi=+n;if(r&&(q.lg=r),o&&(q.lg2=o),s&&(q.style=s),l&&(q.pois=!!l),w&&!H.map.render.harp)throw new C(this.Xl,0,"HARP engine is not supported, module not found");e={},s=this.Kp();var _r=this.Kp({type:"aerial"}),ga=this.Sp(),La=ga.vt(q.lg?{lg:q.lg,i18n:!0,engineType:g}:{engineType:g});if(ho(e,{raster:{normal:{xbase:h(s,"xbasetile","normal.day","png8",!1),xbasenight:h(s,"xbasetile","normal.night","png8",!0),base:h(s,"basetile","normal.day","png8",!1),basenight:h(s,"basetile","normal.night","png8",!0),map:h(s,"maptile","normal.day","png8",!1),mapnight:h(s,"maptile","normal.night","png8",!0),trafficincidents:La,transit:h(s,"maptile","normal.day.transit","png8",!1),labels:h(s,"labeltile","normal.day","png",!1)},satellite:{xbase:h(_r,"xbasetile","hybrid.day","jpg",!0),base:h(_r,"basetile","hybrid.day","jpg",!0),map:h(_r,"maptile","hybrid.day","jpg",!0),labels:h(_r,"labeltile","hybrid.day","png",!0)},terrain:{xbase:h(_r,"xbasetile","terrain.day","jpg",!1),base:h(_r,"basetile","terrain.day","jpg",!1),map:h(_r,"maptile","terrain.day","jpg",!1),labels:h(_r,"labeltile","terrain.day","png",!1)}}}),w||k){ho(e,{vector:{normal:{traffic:ga.ut(void 0,g),trafficincidents:La}}}),_r=this.Lj({queryParams:{content:"default,transit"}}),s=this.Tp(),ga=this.Lj({queryParams:{content:"default,advanced_roads,advanced_pois,transit"}});var jc=this.Lj({queryParams:{content:"default,hillshade,contours,transit"}});if(k)e.vector.normal.map=d(_r,"omv/miami/normal.day.yaml"),e.vector.normal.truck=d(_r,"omv/miami/truck.day.yaml");else if(w){e.vector.normal.map=d(_r,"harp/oslo/normal.day.json"),e.vector.normal.truck=d(_r,"harp/oslo/normal.day.json"),e.vector.normal.logistics=d(ga,"harp/oslo/logistics.day.json"),e.vector.normal.logisticsnight=d(ga,"harp/oslo/logistics.night.json"),La=d(jc,"harp/oslo/topo.day.json"),jc=d(jc,"harp/oslo/topo.night.json");var _l=function(h1){if(h1=h1.target,h1.getState()===2){h1.removeEventListener("change",_l);var N1=h1.getEnabledFeatures()||[];[{feature:"terrain",mode:"hillshade"},{feature:"contours",mode:"all"}].forEach(function(k1){var R1=N1.findIndex(function(U1){return U1.feature===k1.feature});N1.splice(R1,R1===-1?0:1,k1)}),h1.setEnabledFeatures(N1)}};La.D.K().addEventListener("change",_l),jc.D.K().addEventListener("change",_l),e.vector.normal.topo=La,e.vector.normal.toponight=jc;var e1={ppi:72<n||n===void 0&&2<=window.devicePixelRatio?200:100,size:256<F?512:256,features:"pois:"+(l===!0||lb(l)&&/[^0]/.test(l)?"all":"disabled")};r&&(e1.lang=r),o&&(e1.lang2=o),v&&v.politicalView&&(e1.pview=v.politicalView),n={dark:!0},La=function(h1,N1,k1,R1,U1){var x1=ho({},e1);return/^explore\./.test(k1)||delete x1.features,h1=p.Qp({format:N1,resource:h1,queryParams:ho({style:k1},x1)}),U1=new Co(h1,{engineType:g,style:U1}),new sl(U1,R1)},ho(e.raster.normal,{base:La("background","png8","explore.day"),basenight:La("background","png8","explore.night",n),map:La("base","png8","explore.day"),mapnight:La("base","png8","explore.night",n),labels:La("label","png","explore.day")}),ho(e.raster.satellite,{xbase:La("background","jpeg","satellite.day",n),base:La("background","jpeg","explore.satellite.day",n),map:La("base","jpeg","explore.satellite.day",n),labels:La("label","png","explore.satellite.day")}),ho(e.vector.normal,{mapnight:d(_r,"harp/oslo/normal.night.json",!0),lite:d(_r,"harp/oslo/lite.day.json"),litenight:d(_r,"harp/oslo/lite.night.json",!0),ism:d(_r,"harp/oslo/road.network.day.json"),ismnight:d(_r,"harp/oslo/road.network.night.json",!0),roadnetwork:d(_r,"harp/oslo/road.network.day.json"),roadnetworknight:d(_r,"harp/oslo/road.network.night.json",!0)}),jc={styles:[{technique:"raster",attr:{gamma:["step",["zoom"],.9,13,1],brightness:["step",["zoom"],.6,12,.7,13,.8,14,.8,17,.9]}}]};for(var n1=[],d1=0;6>d1;d1++){var c1=new H.map.render.harp.Style(JSON.parse(JSON.stringify(jc)));c1=La("background","jpeg","satellite.day",n,c1),n1.push(c1)}e.hybrid={day:{raster:n1[0],vector:d(_r,"harp/oslo/hybrid.day.json",!0),traffic:d(s,"harp/oslo/hybrid.day.json",!0)},night:{raster:n1[1],vector:d(_r,"harp/oslo/hybrid.night.json",!0),traffic:d(s,"harp/oslo/hybrid.night.json",!0)},liteday:{raster:n1[2],vector:d(_r,"harp/oslo/lite.hybrid.day.json",!0),traffic:d(s,"harp/oslo/lite.hybrid.day.json",!0)},litenight:{raster:n1[3],vector:d(_r,"harp/oslo/lite.hybrid.night.json",!0),traffic:d(s,"harp/oslo/lite.hybrid.night.json",!0)},logistics:{raster:n1[4],vector:d(ga,"harp/oslo/logistics.hybrid.day.json",!0),traffic:d(s,"harp/oslo/logistics.hybrid.day.json",!0)},logisticsnight:{raster:n1[5],vector:d(ga,"harp/oslo/logistics.hybrid.night.json",!0),traffic:d(s,"harp/oslo/logistics.hybrid.night.json",!0)}}}_r={traffic:{}},_r.traffic.map=d(s,k?"traffic/vector.tile.yaml":"harp/oslo/normal.day.json"),w&&(_r.traffic.logistics=d(s,"harp/oslo/logistics.day.json"),_r.traffic.logisticsnight=d(s,"harp/oslo/logistics.night.json"),_r.traffic.mapnight=d(s,"harp/oslo/normal.night.json"),_r.traffic.lite=d(s,"harp/oslo/lite.day.json"),_r.traffic.litenight=d(s,"harp/oslo/lite.night.json"),_r.traffic.topo=d(s,"harp/oslo/topo.day.json"),_r.traffic.toponight=d(s,"harp/oslo/topo.night.json")),ho(e.vector,_r)}return e},X.prototype.createDefaultLayers=X.prototype.Xl;function Do(e){e=e===void 0?{}:e,Do.g.constructor.call(this,Do,e),this.Ci={Rn:e.resource||"base",Dn:e.projection||"mc",format:e.format||"png8"},this.Fn=e.queryParams||{}}u(Do,oo),t("H.service.rasterTile.Service",Do),m=Do.prototype,m.K=function(){return this.Fn.style||"explore.day"},m.Sf=function(e,n,r){return this.i().clone().A(this.Ci.Rn+"/"+(this.Ci.Dn+"/")+(r+"/"+e+"/"+n+"/")+this.Ci.format).u(this.Fn)},m.Da=function(){return{subDomain:"maps",path:"v3"}},m.U=function(){return this.ec||this.Kf(),this.ec},m.Kf=function(){this.ec=new to,this.o(this.i().clone().A("copyright"),z(this.pl,this),Ye)},m.pl=function(e){var n=e.copyrights;e=e.resources;var r={},o=this.Ci.Rn+"."+this.K();r[o]=[],e[this.Ci.Rn].styles[this.K()].forEach(function(s){n[s].forEach(function(l){var d=[];l.boundingBoxes.forEach(function(h){d.push([h.north,h.west,h.south,h.east])}),r[o].push({boxes:d,label:l.label,alt:l.alt,minLevel:l.minLevel,maxLevel:l.maxLevel})})}),uo(this.ec,r)},m.Kj=function(e,n){return this.o(this.i().clone().A("info"),e,n)},Do.prototype.getInfo=Do.prototype.Kj,Do.prototype.Nj=function(e,n){return this.o(this.i().clone().A("politicalViews"),e,n)},Do.prototype.getPoliticalViews=Do.prototype.Nj,Do.prototype.Sz=function(e,n){return this.o(this.i().clone().A("features"),e,n)},Do.prototype.getFeatures=Do.prototype.Sz,Do.prototype.Ip=function(e,n){return this.o(this.i().clone().A("languages"),e,n)},Do.prototype.getLanguages=Do.prototype.Ip,Do.CONFIG_KEY="rasterTile",X.prototype.Qp=function(e){return this.Ja(Do,e)},X.prototype.getRasterTileService=X.prototype.Qp;function Qo(e){Qo.g.constructor.call(this,Qo,e),this.Kw=po(this,e).reverseSubDomain,io(Qo,"Use HERE Geocoding and Search API v7 instead.")}u(Qo,oo),t("H.service.GeocodingService",Qo),Qo.prototype.Da=function(){return{subDomain:"geocoder.ls",reverseSubDomain:"reverse",path:"6.2"}},Qo.CONFIG_KEY="geocoding",Qo.prototype.Jc=function(e){return Error(e.Details||e.message||e.error)},Qo.prototype.xp=function(e,n,r){return e=this.i().clone().A("geocode.json").u(e),this.o(e,n,r)},Qo.prototype.geocode=Qo.prototype.xp,Qo.prototype.Fr=function(e,n,r){return e=this.i().clone().A("reversegeocode.json").u(e),this.Kw&&e.la(this.Kw),this.o(e,n,r)},Qo.prototype.reverseGeocode=Qo.prototype.Fr,Qo.prototype.search=function(e,n,r){return e=this.i().clone().A("search.json").u(e),this.o(e,n,r)},Qo.prototype.search=Qo.prototype.search,X.prototype.Tz=function(e){return this.Ja(Qo,e)},X.prototype.getGeocodingService=X.prototype.Tz;function Ro(e){Ro.g.constructor.call(this,Ro,e)}u(Ro,oo),t("H.service.GeofencingService",Ro),Ro.CONFIG_KEY="geofencing",Ro.prototype.Jc=function(e){return Error(e.issues&&e.issues[0]?e.issues[0].message:e.message,{cause:e})},Ro.prototype.qz=function(e,n,r){return e=this.i().clone().la("geofencing").wc("v8/geofence").u(e),this.I(e,"GET",n,r)},Ro.prototype.geofence=Ro.prototype.qz,Ro.prototype.delete=function(e,n,r){return e=this.i().clone().la("geofencing").wc("v8/geofence/delete").u(e),this.I(e,"GET",n,r)},Ro.prototype.delete=Ro.prototype.delete,Ro.prototype.upload=function(e,n,r,o){return e=this.i().clone().la("geofencing").wc("v8/geofence/upload").u(e),n=So(Ro.prototype.upload,n),this.I(e,"POST",r,o,n)},Ro.prototype.upload=Ro.prototype.upload,Ro.prototype.modify=function(e,n,r,o){return e=this.i().clone().la("geofencing").wc("v8/geofence/modify").u(e),n=So(Ro.prototype.modify,n),this.I(e,"POST",r,o,n)},Ro.prototype.modify=Ro.prototype.modify;function So(e,n){if(!(n instanceof Blob))throw new C(e,1,"must be an instance of Blob");return e=new FormData,e.append("file",n),e}Ro.prototype.I=function(e,n,r,o,s,l){return l=l===void 0?"application/json":l,n={method:n,headers:Object.assign({},this.pc),data:s||void 0},l=new qg(l,e.toString(),De,n),l.then(r,ro(this,e,o)),l};function To(e){To.g.constructor.call(this,To,e),io(To,"Use HERE Geofencing API v8 instead.")}u(To,oo),t("H.service.extension.geofencing.Service",To),To.prototype.Da=function(){return{subDomain:"fleet.ls",path:"2"}},To.CONFIG_KEY="geofencing",To.prototype.request=function(e,n,r,o){return this.I(e,n,r,o)},To.prototype.request=To.prototype.request,To.prototype.Jc=function(e){return Error(e.issues&&e.issues.length?e.issues.map(function(n){return n.message}).join(". "):e.message||e.response_code)},To.prototype.I=function(e,n,r,o){if(!e)throw new C(this.request,0,e);if(!db(r))throw new TypeError("onResult must be a function");if(!db(o))throw new TypeError("onError must be a function");return e=this.i().clone().A(e+".json").u(n),this.o(e,r,o)},To.EntryPoint={SEARCH_PROXIMITY:"search/proximity"},X.prototype.ku=function(e,n){if(n=n?+n:void 0,n===void 0)n=To;else if(n===8)n=Ro;else throw new C(this.ku,1,"allowed values are 8 or undefined");return this.Ja(n,e)},X.prototype.getGeofencingService=X.prototype.ku;function Uo(e){Uo.g.constructor.call(this,Uo,e)}u(Uo,oo),t("H.service.traffic.Service7",Uo),Uo.prototype.Da=function(){return{subDomain:"data.traffic",path:"v7"}},Uo.CONFIG_KEY="traffic_v7",Uo.prototype.MC=function(e,n,r,o){return e=this.i().clone().A(["incidents",e].join("/")).u(n||{}),this.o(e,r,o)},Uo.prototype.requestIncidentById=Uo.prototype.MC,Uo.prototype.KC=function(e,n,r){return e=this.i().clone().A("flow").u(e||{}),this.o(e,n,r)},Uo.prototype.requestFlowByArea=Uo.prototype.KC,Uo.prototype.PC=function(e,n,r){return e=this.i().clone().A("incidents").u(e||{}),this.o(e,n,r)},Uo.prototype.requestIncidentsByArea=Uo.prototype.PC;function Vo(e){if(!e||!db(e.requestData))throw new C(Vo,0,"options.requestData");Vo.g.constructor.call(this,e),this.JC=e.requestData,this.yC=!!e.providesDomMarkers}u(Vo,R),t("H.map.provider.MarkerTileProvider",Vo),Vo.prototype.o=function(e,n,r,o,s){var l=this;return this.JC(e,n,r,function(d){for(var h=[],p,g,y=d.length;y--;)g=d[y],g.uD=l.getTileKey(e,n,r),g.ea(l),p=g.kc(),(B(g,Li)||p.getState()===1)&&h.push(d[y]);o(h)},s)},Vo.prototype.requestInternal=Vo.prototype.o,Vo.prototype.Hh=function(e,n){n===hh.VISUAL&&(e=this.Sb().get(e.uD))&&(e.valid=!1,this.jb(e))},Vo.prototype.invalidateObject=Vo.prototype.Hh,Vo.prototype.Vc=function(){return this.yC},Vo.prototype.providesDomMarkers=Vo.prototype.Vc,Vo.prototype.Wc=We,Vo.prototype.providesMarkers=Vo.prototype.Wc;function Wo(){this.vd={}}Wo.prototype.kc=function(e,n){var r=e+n,o;return(o=this.vd[r])?o:(e=Xo.MARKER.replace("{{icon}}",Yo[e]||Yo.OTHER),e=e.replace("{{color}}",Zo[n]||Zo.BLOCKING),n={size:{w:26,h:33},anchor:{x:13,y:30},hitArea:new Gi(Hi.POLYGON,$o.MARKER)},this.vd[r]=o=new zm(e,n))};var Xo={MARKER:'<svg width="26" height="33" enable-background="new 0 0 26 33" viewBox="0 0 26 33" xmlns="http://www.w3.org/2000/svg"><path d="m26 33h-26v-33h26z" fill="#8c8c8c" opacity="0"/><path d="m17 29.566c0 1.116-1.791 2.022-4 2.022s-4-.906-4-2.022c0-1.118 1.791-2.026 4-2.026s4 .908 4 2.026" fill="#878787" opacity=".6"/><path d="m1.795 17.971c-1.562-1.555-1.574-3.828-.028-5.655l8.343-10.021c.769-.895 1.795-1.384 2.894-1.384 1.117 0 2.197.521 2.889 1.394l8.338 10.014c1.588 1.854 1.578 4.022-.029 5.65l-11.202 11.202z" fill="{{color}}"/>{{icon}}</svg>'},Yo={CONGESTION:'<path style="fill:#FFFFFF;" d="M12.966,1.177c0.965,0,1.894,0.442,2.496,1.204l8.378,10.258c1.362,1.592,1.482,3.477,0,4.979L12.994,28.464L2.143,17.618c-1.381-1.375-1.38-3.348,0-4.979l8.314-10.258C11.174,1.547,12.085,1.177,12.966,1.177 M12.967,0.177L12.967,0.177c-1.247,0-2.408,0.551-3.269,1.552l-8.332,10.28c-1.711,2.022-1.688,4.567,0.07,6.317l10.85,10.845l0.707,0.707l0.707-0.707l10.847-10.846c1.784-1.807,1.803-4.292,0.053-6.337L16.237,1.748C15.462,0.769,14.236,0.177,12.967,0.177L12.967,0.177z M16.645,10.405l-2.025-2.22c-0.48-0.51-1.15-0.8-1.84-0.8H9.53c-0.69,0-1.36,0.29-1.84,0.8l-1.94,2.22c-0.39,0.63-0.59,1.35-0.59,2.09v1.64c0,0.69,0.56,1.25,1.25,1.25h1.44l0.255-0.539c0.204-0.431,0.456-0.837,0.753-1.21l0.962-1.211l0.83-0.9c0.32-0.35,0.72-0.63,1.15-0.82H8.23c-0.28,0-0.55-0.07-0.79-0.22l-0.28-0.17l1.27-1.45c0.28-0.31,0.68-0.48,1.1-0.48h3.25c0.42,0,0.82,0.17,1.1,0.48l1.354,1.54H16.645z M18.31,12.205c-0.35-0.37-0.81-0.63-1.3-0.74c-0.18-0.04-0.36-0.06-0.54-0.06h-3.24c-0.7,0-1.37,0.29-1.84,0.8l-1.13,1.22l-0.82,1c-0.38,0.63-0.59,1.35-0.59,2.09v1.64c0,0.69,0.56,1.25,1.25,1.25h1.75v-1h5.99v1h1.75c0.69,0,1.25-0.56,1.25-1.25v-1.64c0-0.74-0.2-1.46-0.59-2.09L18.31,12.205z M12.1,17.105h-1c-0.138,0-0.25-0.112-0.25-0.25v-1c0-0.138,0.112-0.25,0.25-0.25h1c0.138,0,0.25,0.112,0.25,0.25v1C12.35,16.993,12.238,17.105,12.1,17.105z M18.59,17.105h-1c-0.138,0-0.25-0.112-0.25-0.25v-1c0-0.138,0.112-0.25,0.25-0.25h1c0.138,0,0.25,0.112,0.25,0.25v1C18.84,16.993,18.728,17.105,18.59,17.105z M18.56,14.505c-0.24,0.15-0.51,0.22-0.79,0.22h-5.85c-0.28,0-0.55-0.07-0.78-0.22l-0.29-0.17l1.27-1.45c0.15-0.16,0.33-0.28,0.53-0.37c0.18-0.07,0.38-0.11,0.58-0.11h3.24c0.24,0,0.48,0.06,0.68,0.16c0.16,0.08,0.3,0.19,0.42,0.32l1.27,1.45L18.56,14.505z M8.42,13.03h-1c-0.138,0-0.25-0.112-0.25-0.25v-1c0-0.138,0.112-0.25,0.25-0.25h1c0.138,0,0.25,0.112,0.25,0.25v1C8.67,12.918,8.559,13.03,8.42,13.03z"/>',ROADWORKS:'<path d="m13.004 1.411c.964 0 1.894.441 2.496 1.204l8.346 10.023c1.363 1.592 1.482 3.477 0 4.979l-10.846 10.847-10.852-10.846c-1.381-1.375-1.379-3.348 0-4.979l8.346-10.023c.717-.835 1.628-1.205 2.51-1.205m0-1c-1.248 0-2.408.551-3.268 1.552l-8.356 10.035c-1.718 2.033-1.695 4.578.064 6.328l10.85 10.845.706.707.707-.707 10.846-10.846c1.784-1.808 1.803-4.293.053-6.337l-8.337-10.012c-.769-.973-1.996-1.565-3.265-1.565zm-.575 15.264c.018-.332-.13-.651-.394-.851l-2.945-2.235-.21.36c-.22.39-.41.78-.58 1.19l-.677 2.129-1.364 3.051h1.314l2.109-4.672 1.317 1.212.138 3.46h1.092zm6.16-1.327c-.401-.54-1.209-.539-1.609.001l-1.17 1.58-2.29-1.74-.139-4.054c-.011-.276-.134-.535-.342-.716l-.7-.61c-.185-.161-.422-.25-.667-.25h-1.885c-.335 0-.648.168-.833.447l-1.144 1.723 7.58 5.76-1.86 2.51c-.098.132-.004.32.161.32h6.648l1.142-1.077zm-8.79-2.989-.876-.665.841-1.018.965.043zm1.63 1.24.969-1.781.118 2.61zm2.76-5.79c-.64 0-1.16.52-1.16 1.16 0 .65.52 1.17 1.16 1.17s1.16-.52 1.16-1.17c0-.64-.52-1.16-1.16-1.16z" fill="#fff"/>',ACCIDENT:'<path style="fill:#FFFFFF;" d="M12.998,1.091c0.964,0,1.894,0.442,2.496,1.204l8.346,10.344c1.363,1.592,1.482,3.477,0,4.979L12.994,28.465L2.143,17.618c-1.381-1.375-1.379-3.348,0-4.979l8.346-10.344C11.205,1.462,12.115,1.091,12.998,1.091 M12.998,0.091L12.998,0.091c-1.248,0-2.408,0.551-3.269,1.552L1.364,12.011c-1.708,2.021-1.685,4.566,0.073,6.316l10.85,10.845l0.707,0.707l0.707-0.707l10.846-10.846c1.784-1.808,1.803-4.293,0.053-6.337l-8.327-10.32C15.494,0.684,14.268,0.091,12.998,0.091L12.998,0.091z M7.83,18.982l-3.309-1.855l0.945,1.855H7.83z M16.111,19h3.942l1.596-2L16.111,19z M10.512,20.064l1.021-1.021l1.632,0.076c0.329,0.018,0.651-0.022,0.963-0.123c0.626-0.206,1.122-0.76,1.288-1.44l0.264-1.089l2.066-0.93c0.373-0.17,0.673-0.42,0.861-0.731c0.275-0.449,0.405-0.97,0.369-1.498L18.9,11.676l1.021-1.021l-0.724-0.724l-0.427,0.427l-0.121-0.364c-0.201-0.603-0.54-1.151-0.989-1.6l-1.159-1.159c-0.5-0.5-1.31-0.5-1.809,0l-1.267,1.267l0.724,0.724l-5.066,5.066l-0.724-0.724l-1.267,1.267c-0.5,0.5-0.5,1.31,0,1.809l1.159,1.159c0.449,0.449,0.997,0.788,1.6,0.989l0.364,0.121l-0.427,0.427L10.512,20.064z M14.901,10.349l0.732-0.732c0.098-0.098,0.256-0.098,0.354,0l0.732,0.732c0.098,0.098,0.098,0.256,0,0.354l-0.732,0.732c-0.098,0.098-0.256,0.098-0.354,0l-0.732-0.732C14.803,10.604,14.803,10.446,14.901,10.349z M9.472,15.777l0.732-0.732c0.098-0.098,0.256-0.098,0.354,0l0.732,0.732c0.098,0.098,0.098,0.256,0,0.354l-0.732,0.732c-0.098,0.098-0.256,0.098-0.354,0L9.472,16.13C9.375,16.033,9.375,15.874,9.472,15.777z M11.391,17.615c0.069-0.271,0.206-0.518,0.405-0.717l4.961-4.961c0.195-0.195,0.445-0.337,0.717-0.405l0.344-0.083l0.137,1.925c0.022,0.318-0.058,0.63-0.221,0.901c-0.101,0.166-0.279,0.271-0.409,0.329L14.8,15.74l-0.38,1.574c-0.083,0.344-0.318,0.615-0.612,0.713c-0.188,0.058-0.38,0.083-0.579,0.072l-1.925-0.138L11.391,17.615z"/>',OTHER:'<path style="fill:#FFFFFF;" d="M13.004,1.411c0.964,0,1.894,0.441,2.496,1.204l8.346,10.023c1.363,1.592,1.482,3.477,0,4.979L13,28.465L2.148,17.618c-1.381-1.375-1.379-3.348,0-4.979l8.346-10.023C11.211,1.781,12.122,1.411,13.004,1.411 M13.004,0.411L13.004,0.411c-1.248,0-2.408,0.551-3.268,1.552L1.38,11.998c-1.718,2.033-1.694,4.579,0.064,6.328l10.85,10.845L13,29.878l0.707-0.707l10.846-10.846c1.784-1.808,1.803-4.293,0.053-6.337L16.269,1.976C15.5,1.003,14.273,0.411,13.004,0.411L13.004,0.411z M14.716,20.139c0,0.947-0.758,1.724-1.724,1.724c-0.947,0-1.704-0.777-1.704-1.724c0-0.928,0.757-1.704,1.704-1.704C13.958,18.435,14.716,19.211,14.716,20.139z M14.204,16.33H11.78l-0.537-8.533h3.5L14.204,16.33z"/>'},Zo={BLOCKING:"#323232",VERYHIGH:"#d5232f",HIGH:"#ffa100"},$o={MARKER:[24.1,17.8,14.2,28.42,16.8,29.4,12.8,31.4,8.79,29.4,11.23,28.42,1.7,17.8,1.7,12.1,10,1.9,12.9,.498,15.8,1.9,24.1,12.1,24.1,17.8]};function ap(e,n,r){r=r||{},r.criticality||(r.criticality="major,critical"),B(e,bp,ap,0),Vo.call(this,{max:20,min:8,requestData:z(this.NC,this),engineType:r.engineType}),this.vd=new Wo,this.$=e,this.Ga=r,this.reload=z(this.reload,this),this.yr=setInterval(this.reload,n||18e4)}u(ap,Vo),t("H.service.traffic.incidents.Provider",ap);var cp={minor:"HIGH","low impact":"HIGH",major:"VERYHIGH",critical:"BLOCKING"};ap.prototype.NC=function(e,n,r,o,s){var l=this,d=this.vd;return this.$.requestIncidentsByTile(e,n,r,function(h){var p=[];h=h.TRAFFIC_ITEMS;var g;if(h)for(h=h.TRAFFIC_ITEM,g=h.length;g--;){var y=h[g],v=y.TRAFFIC_ITEM_TYPE_DESC;switch(v){case"ACCIDENT":case"CONGESTION":var w=v;break;case"CONSTRUCTION":w="ROADWORKS";break;default:w="OTHER"}w=d.kc(w,cp[y.CRITICALITY.DESCRIPTION]),v=y.LOCATION.GEOLOC.ORIGIN,v=new bn({lat:v.LATITUDE,lng:v.LONGITUDE},{provider:l,icon:w}),v.setData(y),p.push(v)}o(p)},s,this.Ga)},ap.prototype.l=function(){Vo.prototype.l.call(this),clearInterval(this.yr)},ap.prototype.dispose=ap.prototype.l;var dp="A21 A22 F01 F02 F08 F04 F05 F07 F03 F06 A2F F13 A25 A2C F12 D1B F1B A27 E12 A3A A24 A3D A3F F1F F25 F2C E32 A33 F29 D26 D36 F26 D0F F0F F2B E0C D3A A45 D23 D11 F2E F19 F14 F39 A4A A4B A5C D38 F2A F1A D0A F1C A48 D25 D1D F32 A46 A3E D24 E1C E32 A5F D2E D22 D0A".split(" ");function ep(e,n,r,o){ep.g.constructor.call(this,{min:10,max:21,engineType:o}),B(e,bp,ep,0),this.$=e,this.Ga=r||fp,this.Ga.responseattributes="sh,fc",this.yr=setInterval(z(this.reload,this),n||18e4),this.vb===mi.WEBGL?this.Xa(new Xg(e.rm("traffic/flow.yaml")),!0):this.Xa(new H.map.render.harp.Style({styles:[{when:["==",["geometry-type"],"LineString"],technique:"solid-line",renderOrder:10002,attr:{color:["case",[">=",["get","JF"],10],"black",[">=",["get","JF"],8],"red",[">=",["get","JF"],4],"yellow","green"],width:3,metricUnit:"Pixel"}}]}))}u(ep,R),t("H.service.traffic.flow.Provider",ep),ep.prototype.rr=We,ep.prototype.providesGeoJSON=ep.prototype.rr,ep.prototype.K=function(){return this.mb()},ep.prototype.getStyle=ep.prototype.K,ep.prototype.Cb=function(e){e.Yb&&e.Yb("GeoJSONTileSource"),this.Xa(e)},ep.prototype.setStyle=ep.prototype.Cb;var fp={locationreferences:"tmc,shp"};ep.prototype.disposeInternal=function(){ep.g.disposeInternal.call(this),clearInterval(this.yr)},ep.prototype.o=function(e,n,r,o,s){return this.$.requestFlowByTile(e,n,r,function(l){l.type&&l.type.indexOf("Error")!==-1?s(l.Details):o(l)},s,this.Ga)},ep.prototype.requestInternal=ep.prototype.o,ep.prototype.pd=function(e,n,r,o,s){var l,d,h,p,g={type:"FeatureCollection",features:[]},y,v=o.RWS.length;for(l=0;l<v;l++){var w=o.RWS[l],k=w.RW,F=k.length,q=dp.indexOf(w.EXTENDED_COUNTRY_CODE+w.EBU_COUNTRY_CODE)!==-1;for(w=0;w<F;w++){var _r=k[w].FIS,ga=_r.length;for(_r=0;_r<ga;_r++){var La=k[w].FIS[_r].FI,jc=La.length;for(d=0;d<jc;d++){var _l=La[d],e1=[],n1=_l.CF[0],d1=!!n1.SSS,c1={type:"Feature",properties:n1,geometry:{type:"MultiLineString",coordinates:e1}};for(c1.properties.LHT=q,_l.SHP.length&&(c1.properties.FC=_l.SHP[0].FC),d1&&(y=[]),n1=0;n1<_l.SHP.length;n1++){var h1=_l.SHP[n1].value,N1=h1.length;for(h=0;h<N1;h++){var k1=d1?y:void 0,R1=new Qa(h1[h].trim()),U1=[],x1={};for(R1.yi();(p=R1.eb())!==-1;)p===gp?(x1.lat=+String.fromCharCode.apply(ep,R1.mh()),R1.next(),R1.yi()):p===hp?(x1.lng=+String.fromCharCode.apply(ep,R1.mh()),U1.push([x1.lng,x1.lat]),k1&&k1.push(vc(x1)),x1=[],R1.next(),R1.yi()):R1.next();x1.lng=+String.fromCharCode.apply(ep,R1.mh()),U1.push([x1.lng,x1.lat]),k1&&k1.push(vc(x1)),p=U1,e1.push(p)}}g.features.push(c1)}}}}return ep.g.pd.call(this,e,n,r,g,s)},ep.prototype.createTileInternal=ep.prototype.pd;var hp=32,gp=44;function ip(e){function n(y){o.contains(s)&&o.removeChild(s),g&&clearTimeout(g),delete ip.Br[l],y&&e.Ot&&e.Ot.call(p,y)}if(!e.url||!e.Oo)throw Error('Parameter "options" must specify at least a URL and a callback.');if(typeof e.Oo!="function")throw Error("Parameters options.callback must be a function");var r=e.ZD||document,o=r.getElementsByTagName("head")[0],s=r.createElement("script");r=e.url instanceof W?e.url:vo(e.url,e.XD);var l=ip.TC++,d=e.xy||"callback",h=e.Oo,p={},g=null;return p.id=l,p.cancel=function(){n("cancelled")},e.timeout!==0&&(g=globalThis.setTimeout(function(){n("timeout")},e.timeout||3e4)),ip.Br[l]=function(y){n(),h.call(p,y)},s.type="text/javascript",s.src=r.toString()+(r.Du()?"&":"?")+d+"="+(e.$D?"H.service.jsonp.handleResponse("+l+")":encodeURI("H.service.jsonp.handleResponse("+l+")")),o.appendChild(s),p}t("H.service.jsonp",ip),ip.VA=function(e){return(e=ip.Br[e])?e:function(){}},ip.handleResponse=ip.VA,ip.TC=0,ip.Br={};function bp(e){bp.g.constructor.call(this,bp,e),this.yy=po(this,e).callbackKey,this.Ye=!1}u(bp,oo),t("H.service.traffic.Service",bp),bp.prototype.Da=function(){return{subDomain:"traffic.ls",path:"traffic/6.1",callbackKey:"jsoncallback"}},bp.CONFIG_KEY="traffic",bp.prototype.ut=function(e,n){return new sl(new ep(this,void 0,e,n),{max:22})},bp.prototype.createFlowLayer=bp.prototype.ut,bp.prototype.vt=function(e){return new Zm(new ap(this,void 0,e))},bp.prototype.createIncidentsLayer=bp.prototype.vt;function jp(e,n,r,o){return e.Ye||(io(bp,"Use HERE Traffic API v7 instead."),e.Ye=!0),ip({url:n,Oo:r,Ot:function(s){o(Error("["+s+"] "+n+" request failed"))},xy:e.yy})}bp.prototype.OC=function(e,n,r){return e=this.i().clone().A("incidents.json").u(e),jp(this,e,n,r)},bp.prototype.requestIncidents=bp.prototype.OC,bp.prototype.LC=function(e,n,r,o,s,l){return e=this.i().clone().A(["flow/json",r,e,n].join("/")).u(l||{}),jp(this,e,o,s)},bp.prototype.requestFlowByTile=bp.prototype.LC,bp.prototype.QC=function(e,n,r,o,s,l){return e=this.i().clone().A(["incidents/json",r,e,n].join("/")).u(l||{}),jp(this,e,o,s)},bp.prototype.requestIncidentsByTile=bp.prototype.QC,bp.prototype.rm=function(e){return kn()+"/"+e},X.prototype.Sp=function(e,n){if(n=n||6,n===6)n=bp;else if(n===7)n=Uo;else throw new C(this.Sp,1,"allowed values are 6 and 7");return this.Ja(n,e)},X.prototype.getTrafficService=X.prototype.Sp;function kp(e,n,r){r=r||{};var o=+r.min,s=+r.max;r.min=o?gc(o,1,17):1,r.max=s?gc(s,1,17):17,kp.g.constructor.call(this,r),B(e,lp,kp,0),B(n,zg,kp,1),this.$=e,n.Yb&&n.Yb("OMV"),this.Xa(n,!0),this.Hl=go(this)}u(kp,R),t("H.service.trafficVectorTile.Provider",kp),kp.prototype.Xc=We,kp.prototype.providesOMV=kp.prototype.Xc,kp.prototype.cc=function(e){return this.Hl.test(e)},kp.prototype.cacheFilter=kp.prototype.cc,kp.prototype.Vd=function(e,n,r){return this.$.Sf(e,n,r).toString()},kp.prototype.getTileKey=kp.prototype.Vd,kp.prototype.Sb=function(){return this.wf},kp.prototype.getCache=kp.prototype.Sb,kp.prototype.MAX_STORE_TIME=2592e6,kp.prototype.Vi=function(){return pm()},kp.prototype.td=function(){return pm()?om():kp.g.td.call(this)},kp.prototype.o=function(e,n,r,o,s){return this.$.Pa(e,n,r,o,s)},kp.prototype.requestInternal=kp.prototype.o,kp.prototype.Cb=function(e){e.Yb&&e.Yb("OMV"),this.Xa(e)},kp.prototype.setStyle=kp.prototype.Cb,kp.prototype.K=function(){return kp.g.mb.apply(this)},kp.prototype.getStyle=kp.prototype.K,kp.prototype.wf=new kk(256),kp.prototype.U=function(){return null},kp.prototype.getCopyrights=kp.prototype.U;function lp(e){lp.g.constructor.call(this,lp,e),this.Aq=(e||$e).layer||"traffic",this.me="mc",this.lz="omv"}u(lp,oo),t("H.service.trafficVectorTile.Service",lp),lp.prototype.Da=function(){return{subDomain:"traffic.vector",path:"v2"}},lp.CONFIG_KEY="trafficVectorTile",lp.prototype.od=function(e,n,r){n=n||{};var o={min:0,max:22};return ya(r)&&ho(o,r),new sl(new kp(this,e,n),o)},lp.prototype.createLayer=lp.prototype.od,lp.prototype.Pa=function(e,n,r,o,s){return this.o(this.Sf(e,n,r),function(l){return l.arrayBuffer().then(o,s)},s,"arraybuffer")},lp.prototype.Sf=function(e,n,r){return this.i().clone().A("traffictiles/"+this.Aq+"/"+this.me+"/"+r+"/"+e+"/"+n+"/"+this.lz)},lp.prototype.rm=function(e){return kn()+"/"+e},lp.prototype.cA=function(){return this.Aq},lp.prototype.getLayerName=lp.prototype.cA,X.prototype.Tp=function(e){return this.Ja(lp,e)},X.prototype.getTrafficVectorTileService=X.prototype.Tp;function mp(e){mp.g.constructor.call(this,mp,e)}u(mp,oo),t("H.service.SearchService",mp),mp.CONFIG_KEY="search",mp.prototype.Da=function(){return{subDomain:"search",path:"v1"}},mp.prototype.Jc=function(e){return e=[e.title,e.action,e.cause].filter(function(n){return n}),Error(e.join(". "))},mp.prototype.xp=function(e,n,r){return e=this.i().clone().la("geocode").A("geocode").u(e),this.o(e,n,r)},mp.prototype.geocode=mp.prototype.xp,mp.prototype.Fr=function(e,n,r){return e=this.i().clone().la("revgeocode").A("revgeocode").u(e),this.o(e,n,r)},mp.prototype.reverseGeocode=mp.prototype.Fr,mp.prototype.qy=function(e,n,r){return e=this.i().clone().la("autosuggest").A("autosuggest").u(e),this.o(e,n,r)},mp.prototype.autosuggest=mp.prototype.qy,mp.prototype.autocomplete=function(e,n,r){return e=this.i().clone().la("autocomplete").A("autocomplete").u(e),this.o(e,n,r)},mp.prototype.autocomplete=mp.prototype.autocomplete,mp.prototype.Ty=function(e,n,r){return e=this.i().clone().la("discover").A("discover").u(e),this.o(e,n,r)},mp.prototype.discover=mp.prototype.Ty,mp.prototype.zB=function(e,n,r){return e=this.i().clone().la("lookup").A("lookup").u(e),this.o(e,n,r)},mp.prototype.lookup=mp.prototype.zB,mp.prototype.uy=function(e,n,r){return e=this.i().clone().la("browse").A("browse").u(e),this.o(e,n,r)},mp.prototype.browse=mp.prototype.uy,X.prototype.EA=function(e){return this.Ja(mp,e)},X.prototype.getSearchService=X.prototype.EA;function np(e){io(np,"Use HERE Geocoding and Search API v7 instead."),np.g.constructor.call(this,np,e)}u(np,oo),t("H.service.PlacesService",np),np.prototype.Da=function(){return{subDomain:"places.ls",path:"places/v1"}},np.CONFIG_KEY="places",np.EntryPoint={SEARCH:"discover/search",SUGGEST:"suggest",EXPLORE:"discover/explore",AROUND:"discover/around",HERE:"discover/here",CATEGORIES:"categories/places"},np.prototype.request=function(e,n,r,o){return this.I(e,n,r,o)},np.prototype.request=np.prototype.request,np.prototype.I=function(e,n,r,o){return e=this.i().clone().A(e).u(n||{}),this.o(e,r,o)},np.prototype.search=function(e,n,r){return this.I("discover/search",e,n,r)},np.prototype.search=np.prototype.search,np.prototype.sD=function(e,n,r){return this.I("suggest",e,n,r)},np.prototype.suggest=np.prototype.sD,np.prototype.fz=function(e,n,r){return this.I("discover/explore",e,n,r)},np.prototype.explore=np.prototype.fz,np.prototype.oy=function(e,n,r){return this.I("discover/around",e,n,r)},np.prototype.around=np.prototype.oy,np.prototype.XA=function(e,n,r){return this.I("discover/here",e,n,r)},np.prototype.here=np.prototype.XA,np.prototype.Ay=function(e,n,r){return this.I("categories/places",e,n,r)},np.prototype.categories=np.prototype.Ay,np.prototype.jz=function(e,n,r,o){return e=vo(e).u(this.i().getQuery()).u(o||{}),this.o(e,n,r)},np.prototype.follow=np.prototype.jz,X.prototype.qA=function(e){return this.Ja(np,e)},X.prototype.getPlacesService=X.prototype.qA;function op(){}t("H.service.extension.dataView.IRow",op),op.prototype.ab=function(){},op.prototype.getColumnNames=op.prototype.ab,op.prototype.va=function(){},op.prototype.getCell=op.prototype.va,op.prototype.Rf=function(){},op.prototype.getTable=op.prototype.Rf;function pp(){}t("H.service.extension.dataView.ITable",pp),pp.prototype.zh=function(){},pp.prototype.getMeta=pp.prototype.zh,pp.prototype.Ch=function(){},pp.prototype.getRowCount=pp.prototype.Ch,pp.prototype.Ud=function(){},pp.prototype.getRow=pp.prototype.Ud,pp.prototype.ab=function(){},pp.prototype.getColumnNames=pp.prototype.ab,pp.prototype.Fj=function(){},pp.prototype.getColumn=pp.prototype.Fj,pp.prototype.va=function(){},pp.prototype.getCell=pp.prototype.va,pp.prototype.concat=function(){},pp.prototype.concat=pp.prototype.concat;function qp(){}t("H.service.extension.dataView.IColumn",qp),qp.prototype.va=function(){},qp.prototype.getCell=qp.prototype.va;function rp(e,n,r,o){if(!db(r))throw new C(e,n,"has invalid type");if(!db(o))throw new C(e,n+1,"has invalid type")}function sp(e,n){this.$b=e,this.Kk=n}t("H.service.extension.dataView.ObjRow",sp),sp.prototype.ab=function(){return this.$b.ab()},sp.prototype.getColumnNames=sp.prototype.ab,sp.prototype.va=function(e){return this.$b.va(this.Kk,e)},sp.prototype.getCell=sp.prototype.va,sp.prototype.Rf=function(){return this.$b},sp.prototype.getTable=sp.prototype.Rf;function tp(e,n){this.$b=e,this.Nl=n}t("H.service.extension.dataView.ObjColumn",tp),tp.prototype.va=function(e){return this.$b.va(e,this.Nl)},tp.prototype.getCell=tp.prototype.va;function up(e,n,r){var o;if(n=n||(e&&e.length?Object.keys(e[0]):A),this.Ob=e,n)for(this.eh=n,this.To=e=Za(),o=n.length;o--;)e[n[o]]=!0;r!==A&&(this.Lq=r)}t("H.service.extension.dataView.ObjTable",up),m=up.prototype,m.Lq=A,m.Ob=A,m.eh=A,m.To=A,m.zh=function(){return this.Lq},up.prototype.getMeta=up.prototype.zh,up.prototype.Ch=function(){return this.Ob?this.Ob.length:0},up.prototype.getRowCount=up.prototype.Ch,up.prototype.Ud=function(e){var n=this.Ob;return n&&n[e]?new sp(this,e):A},up.prototype.getRow=up.prototype.Ud,up.prototype.ab=function(){return this.eh||Ze},up.prototype.getColumnNames=up.prototype.ab,up.prototype.Fj=function(e){return this.To[e]?new tp(this,e):A},up.prototype.getColumn=up.prototype.Fj,up.prototype.va=function(e,n){var r=this.Ob;return(e=r&&this.To[n]&&r[e])&&e[n]},up.prototype.getCell=up.prototype.va,up.prototype.concat=function(){var e=arguments.length,n,r=this.eh,o=""+this.eh,s=(this.Ob||[]).slice();for(n=0;n<e;n++){var l=arguments[n];if(!(l instanceof up))throw new C(this.concat,n);if(l.Ob){if(r&&""+l.eh!==o)throw new C(this.concat,n,"Incompatible columns!");s=s.concat(l.Ob)}}return new up(s,this.eh,this.Lq)},up.prototype.concat=up.prototype.concat;function vp(e){this.zy=e}vp.prototype.cancel=function(){for(var e=this.zy,n=e.length;n--;)e[n].cancel();e.length=0},vp.prototype.cancel=vp.prototype.cancel;function wp(e,n,r,o,s,l){rp(wp,1,n,r),rp(wp,2,o,s),(this.Tn=e.length)?(this.Ob=e,this.mn=n,this.dn=r,this.kk=0,this.vn=z(this.vn,this),this.Jy=o,this.Hy=s,this.Yh=Za(),Wa(this.Yh,xp,l||{}),this.ks={},globalThis.setTimeout(this.vn,0)):n(Ze,!0)}var xp={duration:100,sz:"geometry",rz:"WKT",XC:"searchAttributes",At:A};wp.prototype.vn=function(){for(var e=[],n=!1,r=rk(),o;this.kk<this.Tn;){var s=this.Ob[this.kk];if(n=s.attributes,o=s.layerId||this.Yh.At,s.distance&&(n[this.Yh.XC]={nearest:new tc(s.nearestLat,s.nearestLon),distance:s.distance}),s=s[this.Yh.sz]){try{var l=Pf(new Qa(s))}catch(d){this.dn(new globalThis.Error(d.message)),n=!0;break}n[this.Yh.rz]=l}if((s=this.ks[o])||(s=this.ks[o]=this.Jy({layerId:o,columnNames:Object.keys(n)})),n=this.Hy(s,n),e.push(n),this.kk++,(n=this.kk===this.Tn)||rk()-r>=this.Yh.duration){this.mn(e,n);break}}n?this.ks={}:this.kl=globalThis.setTimeout(this.vn,0)},wp.prototype.cancel=function(){globalThis.clearTimeout(this.kl),this.kk<this.Tn&&this.dn(new globalThis.Error("parsing canceled"))},wp.prototype.cancel=wp.prototype.cancel;function yp(e,n,r,o){o=o||Ap,this.Fk={},o.provider=e,this.invalidate=Xe,yp.g.constructor.call(this,n,o),delete this.invalidate,r&&(this.FD=r),this.ra(hh.ADD)}u(yp,Eh),t("H.service.remote.Spatial",yp);var Ap={};yp.prototype.xb=function(){return this.FD||Eh.prototype.xb.call(this)},yp.prototype.getId=yp.prototype.xb,yp.prototype.Sn=Ye,yp.prototype.retain=yp.prototype.Sn,yp.prototype.release=We,yp.prototype.release=yp.prototype.release;function Bp(e,n){this.gm=e,n&&(this.labels=n)}var Cp=new Bp(Ze);yp.prototype.xh=function(e){return(this.Fk[e.key]||Cp).gm},yp.prototype.getGeometriesForTile=yp.prototype.xh,yp.prototype.Hp=function(e){return(this.Fk[e.key]||Cp).labels},yp.prototype.getLabels=yp.prototype.Hp;function Dp(e,n,r){e.Fk[n.key]=new Bp(r,void 0)}function Ep(e,n,r){var o=e===8;this.zi=n,this.Pt=r||Ye,(this.Mm=e===4||o)?this.Xe=o:this.Xu=e===1,this.cu=this.Mm?"$HProjGeometry":"geometry"}Ep.prototype.parse=function(e,n,r){var o,s={},l=[],d,h,p=0;for(d=r.length;p<d;p++){var g=r[p],y=g.Rows;if(g=y.length){var v=Object.keys(y[0]).filter(function(F){return F!=="geometry"&&F!=="$HProjGeometry"});for(v=new up(y,v),h=0;h<g;h++){var w=y[h];if(o=w[this.cu]){if(delete w[this.cu],w=v.Ud(h))try{var k=this.Mm?Fp(this,e,n,w,o):Gp(this,e,w,o.path);k.ea(e),l.push(k)}catch(F){this.Pt(F.message)}}else this.Pt("Layer must contain geometries")}}}return s[this.Mm?"spatials":this.Xu?"markers":"domMarkers"]=l,s};function Fp(e,n,r,o,s){var l=[],d=s.paths,h=d.length,p=0,g=e.zi&&e.zi(o);for(e=new yp(n,e.Xe,A,{style:g||e.Ry,data:o});p!==h;){n=l,o=n.push,g=d[p++];for(var y=0,v=g.length,w=[];y<v;)w.push(new K(g[y++],g[y++]));o.call(n,w)}return Dp(e,r,[new ih(l,s.interiorsIndex,s.outlinesIndex)]),e}function Gp(e,n,r,o){o=new tc(o[0],o[1]);var s=e.zi&&e.zi(r);return e.Xu?(e={icon:s,data:r,provider:n},e=new bn(o,e)):(e={icon:s,data:r,provider:n},e=new Li(o,e)),e}function Hp(e){var n=Ip;if(!e||!lb(Re(e.layerId,e.layer))||!ob(e.level)||fb(e.rowFilter)&&!db(e.rowFilter)||fb(e.rowFilterContext)&&!ya(e.rowFilterContext))throw new C(n,1,fb("invalid layer config")?"invalid layer config":e)}function Jp(e,n){var r={};this.sC=e,Wa(r,n||r),ym.call(this,r),this.Jn={},e=this.Nc(zh.SPATIAL),e.update(e.Md+1,hh.ADD)}u(Jp,ym),t("H.service.remote.ObjectProvider",Jp),Jp.prototype.l=function(){ym.prototype.l.call(this)},Jp.prototype.dispose=Jp.prototype.l,Jp.prototype.qe=function(){return Ze},Jp.prototype.requestMarkers=Jp.prototype.qe,Jp.prototype.pe=function(){return Ze},Jp.prototype.requestDomMarkers=Jp.prototype.pe,Jp.prototype.xg=function(){return Ze},Jp.prototype.requestOverlays=Jp.prototype.xg,Jp.prototype.Wc=We,Jp.prototype.providesMarkers=Jp.prototype.Wc,Jp.prototype.Vc=We,Jp.prototype.providesDomMarkers=Jp.prototype.Vc,Jp.prototype.ne=We,Jp.prototype.providesSpatials=Jp.prototype.ne,Jp.prototype.Nn=function(){return Ze},Jp.prototype.requestSpatials=Jp.prototype.Nn;function Kp(e){return e.Wd(!0)}Jp.prototype.On=function(e,n){return e=Lp(this,e,Mp),n&&(e=e.filter(Kp)),e},Jp.prototype.requestSpatialsByTile=Jp.prototype.On;function Lp(e,n,r){var o=n.Ji&&n.Ji[r],s;return!o&&(s=n.ul)&&(delete n.ul,(n.Ji=e=e.sC.parse(e,n,s))&&(o=e[r])),o||Ze}Jp.prototype.Y=function(e){var n=e.xb();if(this.Jn[n])throw new Bb(this.Y,"Remote object "+n+" already added");return this.Jn[n]=e},Jp.prototype.Oa=function(e){delete this.Jn[e.xb()]};var Mp="spatials";function Np(e){e=e||{};var n=e.tileCacheSize||1024,r=e.resultType,o=e.styleCallback;if(fb(e.min)||(e.min=12),Np.g.constructor.call(this,e),Op.indexOf(r)===-1)throw new C(Np,2,"invalid resultType");if(this.resultType=r,o&&!db(o))throw new C(Np,2,"invalid style callback");this.zi=o,this.oa=e.pixelRatio||Ke(),this.Ic=z(this.Ic,this),this.Yn(new kk(n,z(this.ke,this))),this.createTileInternal=r===4||r===8?z(this.Iy,this):z(this.Gy,this)}u(Np,R),t("H.service.extension.TileProvider",Np),Np.prototype.rq=!1,Np.prototype.getCapabilities=function(){return Np.g.getCapabilities.call(this)|di.CROP_LINES_BY_TILE|di.CROP_POLYGONS_BY_TILE},Np.prototype.Pa=function(e,n,r,o){return this.rq?Np.g.Pa.call(this,e,n,r,o):A},Np.prototype.requestTile=Np.prototype.Pa,Np.prototype.Ic=function(e){this.dispatchEvent(new Pd("error",lb(e)?e:e+"",this))},Np.prototype.Wc=function(){return this.resultType===1},Np.prototype.providesMarkers=Np.prototype.Wc,Np.prototype.Vc=function(){return this.resultType===2},Np.prototype.providesDomMarkers=Np.prototype.Vc,Np.prototype.ne=function(){return this.resultType===4||this.resultType===8},Np.prototype.providesSpatials=Np.prototype.ne;function Pp(e){var n=e.Bd;return n||(e.cw||(e.cw=e.qu(e.resultType,e.zi,e.Ic)),n=e.Bd=new Jp(e.cw),n.ea(e),n.addEventListener(e.j.Aa,z(e.he,e)),n.vw=!0),n}Np.prototype.Gy=function(e,n,r,o){var s=this.getTileKey(e,n,r);s=this.Sb().get(s);var l=this.resultType==2,d=[],h=Pp(this);for(s?s.valid=!0:(e=s=new Hk(e,n,r,x),delete e.Ji,e.ul=o),o=l?Lp(h,s,"domMarkers"):Lp(h,s,"markers"),n=o.length;n--;)e=o[n],e.ys=s,(l||e.kc().getState()===1)&&d.push(e);return s.data=d,s},Np.prototype.he=function(e){(e=e.target.ys)&&(e.valid=!1)},Np.prototype.dD=function(e){this.Gw=!!e},Np.prototype.setTileCanvasRendering=Np.prototype.dD,Np.prototype.Gw=!0,Np.prototype.Iy=function(e,n,r,o){var s=Pp(this),l=this.getTileKey(e,n,r),d=this.tileSize,h=this.Sb().get(l);return h||(e=h=new Yk(l,e,n,r,d,this.oa,r,s),delete e.Ji,e.ul=o),this.Gw?(o=lo.pop(d),h.L(o)||lo.push(o,d)):dl(h),h},Np.prototype.ke=function(e,n){var r;if(this.resultType===4||this.resultType===8){for(e=n.bb(),r=e.length;r--;)delete e[r].Fk[n.key];(e=n.Hn())&&(lo.push(e,this.tileSize),n.In())}else for(e=n.data,r=e.length;r--;)delete e[r].ys},Np.prototype.disposeInternal=function(){Np.g.disposeInternal.call(this),Pp(this).l()};var Qp={MARKER:1,DOM_MARKER:2,POLYLINE:4,POLYGON:8};Np.ResultType=Qp;var Op=[1,2,4,8];function Ip(e,n,r){var o=this,s=n&&n.rowFilter,l=r.resultType;Ip.g.constructor.call(this,r),B(e,Rp,Ip,0),Hp(n),s?(r=Ta(n),r.rowFilter=s.toString()):r=Ta(n),delete r.layer,r.layerId=Re(n.layerId,n.layer),new Vm().registerProcessor("pde","H.service.extension.worker.processor"),e=e.i().clone().A(Sp+"."+Tp).u({meta:1}),new Xm("pde",{message:[this.uid,0,{tileSize:this.tileSize,projected:!0,onlyOutline:l===4,serverUrl:e.toString(),layerConfigs:[r],horizontalMargin:1}]}).then(function(){o.rq=!0,o.jb()},this.Ic)}u(Ip,Np),t("H.service.extension.platformData.TileProvider",Ip),Ip.prototype.qu=function(e,n,r){return e=new Ep(e,n,r),e.Ry=Up,e};var Up=new M({strokeColor:"transparent",fillColor:"transparent",lineWidth:0,lineJoin:"round",lineCap:"round"});Ip.prototype.o=function(e,n,r,o,s){var l=this,d=this.getTileKey(e,n,r),h;d=this.Sb().get(d);var p={cancel:Ye},g=!0,y=this.resultType;if(d&&(y===4||y===8?d.Ih()||(o(lo.pop(this.tileSize),null),g=!1):(o(x),g=!1)),g){var v=globalThis.setTimeout(function(){h=new Xm("pde",{message:[l.uid,1,[e,n,r]]}),h.then(o,s)},500);p.cancel=function(){h?h.cancel():globalThis.clearTimeout(v)}}return p},Ip.prototype.requestInternal=Ip.prototype.o,Ip.prototype.disposeInternal=function(){Ip.g.disposeInternal.call(this),new Xm("pde",{message:[this.uid,3]})},Ip.ResultType=Qp;function Rp(e){Rp.g.constructor.call(this,Rp,e),io(Rp)}u(Rp,oo),t("H.service.extension.platformData.Service",Rp),Rp.prototype.Da=function(){return{subDomain:"s.fleet.ls",path:"1"}},Rp.CONFIG_KEY="platformData",Rp.prototype.request=function(e,n,r,o,s){return this.I(e,n,r,o,s)},Rp.prototype.request=Rp.prototype.request,Rp.prototype.I=function(e,n,r,o,s){var l="text/plain";if(!e)throw new C(this.request,0,e);if(!n)throw new C(this.request,1,n);if(!o)throw new C(this.request,3,o);if(!s)throw new C(this.request,4,s);return e=this.i().clone().A(e+"."+n).u(r),n===Vp.JSON&&(l="application/json"),this.o(e,o,s,l)};var Sp="tiles";Rp.EntryPoint={DOC_ATTRIBUTES:"doc/attributes",DOC_LAYER:"doc/layer",DOC_LAYERS:"doc/layers",DOC_MAPS:"doc/maps",DOC_INDEXES:"doc/indexes",SEARCH_BBOX:"search/bbox",SEARCH_CORRIDOR:"search/corridor",SEARCH_PROXIMITY:"search/proximity",SEARCH_QUADKEY:"search/quadkey",SERVICE_CONFIGURATION:"serviceconfiguration",STATIC:"static",TILE:"tile",TILES:Sp,FILE:"file",INDEX:"index"};var Tp="json",Vp={TXT:"txt",JSON:Tp,HTML:"html",BIN:"bin"};Rp.EntryPointType=Vp,Rp.prototype.Pd=function(e,n){var r=n&&n.resultType;return e=new Ip(this,e,n),r==1||r===2?new Zm(e):new sl(e)},Rp.prototype.createTileLayer=Rp.prototype.Pd,Rp.prototype.Cg=function(e,n,r,o){var s=[],l,d=n.layer_id||n.layer_ids;return e=this.request(e,Tp,n,function(h){l=new wp(h.geometries,r,o,function(p){return new up([],p.columnNames,p)},function(p,g){var y=p.Ud;return p.Ob?p.Ob.push(g):p.Ob=[g],y.call(p,p.Ob.length-1)},{At:d}),s.push(l)},function(h){o(new globalThis.Error(h))}),s.push(e),new vp(s)};function Wp(e,n,r){if(!kb(e))throw new C(r,0,"has invalid type");if(!kb(n))throw new C(r,1,"has invalid type");if(e.length!==n.length||!e.length)throw new C(r,1,"specify one key attribute for each given layer id in the same order")}Rp.prototype.se=function(e,n,r,o,s,l){function d(g,y){y&&h--,o(g,!h)}var h,p=[];for(Wp(e,n,this.se),rp(this.se,3,o,s),B(r,E,this.se,2),r={bbox:r.fa+","+r.W+";"+r.ga+","+r.ca},l&&Wa(r,l),e=r.layer_id?[r.layer_id]:e,l=0,h=e.length;l<h;l++)r.layer_id=e[l],r.key_attribute=n[l],p.push(this.Cg("search/bbox",r,d,s));return new vp(p)},Rp.prototype.searchByBoundingBox=Rp.prototype.se,Rp.prototype.Zc=function(e,n,r,o,s,l,d){if(Wp(e,n,this.Zc),B(r,tc,this.Zc,2,"has invalid type"),!ob(o))throw new C(this.Zc,3,"has invalid type");return rp(this.Zc,4,s,l),e={layer_ids:e.join(","),key_attributes:n.join(","),proximity:r.lat+","+r.lng+","+o},d&&Wa(e,d),this.Cg("search/proximity",e,s,l)},Rp.prototype.searchByProximity=Rp.prototype.Zc,Rp.prototype.Yc=function(e,n,r,o,s,l,d){var h="";if(Wp(e,n,this.Yc),!lb(r)&&!B(r,J))throw new C(this.Yc,1,"has invalid type");if(!ob(o))throw new C(this.Yc,2,"has invalid type");if(rp(this.Yc,4,s,l),e={layer_ids:e.join(","),key_attributes:n.join(","),radius:o},lb(r))e.route_id=r;else{for(o=r.S,r=0,n=o.length;r<n;r+=3)h+=o[r]+","+o[r+1],r<n-3&&(h+=";");e.corridor=h}return d&&Wa(e,d),this.Cg("search/corridor",e,s,l)},Rp.prototype.searchByCorridor=Rp.prototype.Yc,X.prototype.rA=function(e){return this.Ja(Rp,e)},X.prototype.getPlatformDataService=X.prototype.rA;function Xp(e){if(e===A)e="	";else if(!/^[^"\r\n]$/.test(e))throw new C(Xp,0);this.$x=String(e).charCodeAt(0),this.xd=z(this.xd,this),this.s=Yp}var Yp=0;m=Xp.prototype,m.getState=function(){return this.s};function Zp(e,n,r){var o=e.s;if(o!==n)throw o===1&&(e.s=Yp),new Bb(r,"Requires state: "+["READY","PARSE","PAUSE"][n]+" but found "+["READY","PARSE","PAUSE"][o])}m.abort=function(){Zp(this,2,Xp.prototype.abort),this.s=Yp},m.xd=function(e){throw this.s=Yp,new C(Xp.prototype.parse,0,"Malformed DSV at row "+this.ed.Gr+" column "+this.ed.fj+": "+e)};function $p(e,n){var r=[];return e.parse(n,function(o,s,l){return 1>o&&(r[s]=l),0<o}),e.s=Yp,r}m.parse=function(e,n,r){Zp(this,Yp,Xp.prototype.parse),e=e.trim(),this.ed=new aq(e,this.$x,this.xd),this.ZB=n,this.Jv=r||Xe,this.s=2,this.resume()},m.Jv=Xe,m.resume=function(){var e=this.ed,n=[];Zp(this,2,Xp.prototype.resume),this.s=1;do{if(!e.cq){this.s=Yp;break}if(s>e.fj){if(r!==void 0&&r!==s){this.ed.xd("The number of columns must be the same for all rows");return}var r=s}var o=e.Gr,s=e.fj,l=e.Ol,d=this.Jv(o,s,e);if(e.Ol>l)for(;e.next()!==-1;);else{for(;(l=e.next())!==-1;)n.push(l);d=String.fromCharCode.apply(x,n),n.length=0}bq(e),this.ZB(o,s,d)&&(this.s=e.cq?2:Yp)}while(this.s===1);this.s!=2&&r!==void 0&&0<s&&r!==s&&this.ed.xd("The number of columns must be the same for all rows")};function aq(e,n,r){this.ed=new Qa(e),this.Is=n,this.cq=!0,this.Ol=this.Gr=this.fj=0,bq(this),this.xd=r,this.Ec=[],this.Yf=!1}m=aq.prototype,m.Ol=0;function bq(e){var n=e.ed.eb();e.Yt=!1,(e.hB=n===34)&&e.ed.next()}function cq(e,n){var r=e.ed;switch(e.Yt=!0,n){case e.Is:e.fj++;break;case 13:r.next(),r.eb()!==10&&e.xd("CR without LF");case 10:e.fj=0,e.Gr++;break;case-1:e.cq=!1;break;default:e.xd("End of field expected")}return r.next(),-1}m.eb=function(){if(this.Yt)var e=-1;else{var n=this.ed;if(e=n.eb(),this.hB)switch(e){case 34:n.next(),e=n.eb(),e!==34&&(e=cq(this,e));break;case-1:this.xd("Closing quotation mark expected")}else switch(e){case 34:this.xd("Unexpected quotation mark");case this.Is:case 13:case 10:case-1:e=cq(this,e)}}return e},m.yi=function(){this.Yf=!0,this.Ec=[]},m.mh=function(){var e=this.Ec.slice();return this.Yf=!1,this.Ec=[],e},m.next=function(){var e=this.eb();return e!==-1&&this.ed.next(),this.Yf&&this.Ec.push(e),this.Ol++,e},t("H.service.extension.customLocation.Permission",{READ:"read",WRITE:"write",EXPORT:"export"}),t("H.service.extension.customLocation.Storage",{READONLY:"readonly",UPDATABLE:"updatable"});function dq(){if(eq)throw new Bb(dq)}t("H.service.extension.customLocation.Table",dq);var eq=!0;function fq(e,n){var r;eq=!1;var o=new dq;eq=!0,o.Ym=bb(globalThis.JSON.parse(globalThis.JSON.stringify(e))),e=e.columnNames;var s=Za();for(r=e.length;r--;)s[e[r]]=r;if(o.So=s,o.Hc=e.length,n){if(n.length%e.length)throw new C(fq,1,"Invalid number of cells")}else n=[];return o.tb=n,o}dq.prototype.zh=function(){return this.Ym},dq.prototype.getMeta=dq.prototype.zh,dq.prototype.Ch=function(){return this.tb.length/this.Hc},dq.prototype.getRowCount=dq.prototype.Ch,dq.prototype.Ud=function(e){return e<this.tb.length/this.Hc?new gq(this,e):A},dq.prototype.getRow=dq.prototype.Ud,dq.prototype.CA=function(){var e=this.tb.length/this.Hc,n,r=new globalThis.Array(e);for(n=0;n<e;n++)r[n]=new gq(this,n);return r},dq.prototype.getRows=dq.prototype.CA,dq.prototype.zo=function(e){var n=this.Hc,r=this.tb,o=r.length/this.Hc;if(!e||e.length%n)throw new C(this.zo,0,"Invalid number of cells");return this.tb=r.concat(e),o},dq.prototype.addCells=dq.prototype.zo,dq.prototype.ly=function(){for(var e=this.Hc,n=this.tb,r=this.tb.length/this.Hc;e--;)n.push(x);return this.Ud(r)},dq.prototype.addRow=dq.prototype.ly,dq.prototype.ab=function(){return this.Ym.columnNames},dq.prototype.getColumnNames=dq.prototype.ab,dq.prototype.Fj=function(e){return this.So[e]===A?A:new hq(this,e)},dq.prototype.getColumn=dq.prototype.Fj,dq.prototype.va=function(e,n){return this.tb[e*this.Hc+this.So[n]]},dq.prototype.getCell=dq.prototype.va,dq.prototype.ue=function(e,n,r){if(n=this.So[n],e>=this.tb.length/this.Hc)throw new C(this.ue,0,"Row index out of bounds");if(n===A)throw new C(this.ue,0,"Column unknown");this.tb[e*this.Hc+n]=r},dq.prototype.setCell=dq.prototype.ue,dq.prototype.concat=function(e){var n=arguments.length,r,o=""+this.ab(),s=this.tb?this.tb.slice():[];for(r=0;r<n;r++){var l=arguments[r];if(!(l instanceof dq))throw new C(this.concat,r);if(""+l.ab()!==o)throw new C(this.concat,r,"Incompatible columns!");l.tb&&(s=s.concat(l.tb))}return fq(this.Ym,s)},dq.prototype.concat=dq.prototype.concat;var iq=/(\n|\t|\r|")/;dq.prototype.os=function(e,n){var r,o=this.Hc,s=this.ab(),l=[],d=[],h=this.tb,p=-1;for(r=0;r<o;r++)(!e||e.test(s[r]))&&(s[r]==="WKT"&&(p=l.length),l.push(r));if(!(e=l.length))throw new C(this.os,1,"No columns filtered");if(jq(this,d,s,0,o,l,e,p),n){var g=n.length;for(r=0;r<g;r++)d.push(`
`),s=n[r],jq(this,d,h,s,o,l,e,p)}else for(g=this.Ch(),s=0;s<g;s++)d.push(`
`),jq(this,d,h,s,o,l,e,p);return d.join("")};function jq(e,n,r,o,s,l,d,h){var p;for(p=0;p<d;p++){p&&n.push("	");var g=r[o*s+l[p]];if(p!==h){if(g!==x){if(g=String(g),iq.test(g))throw new C(e.os,0,'Invalid character (\\n, \\r, \\t, or ") in row '+o+" column "+e.Ym.columnNames[l[p]]);n.push(g)}}else n.push(g)}}function hq(e,n){this.$b=e,this.Nl=n}dq.Column=hq,hq.prototype.va=function(e){return this.$b.va(e,this.Nl)},hq.prototype.getCell=hq.prototype.va,hq.prototype.ue=function(e,n){this.$b.ue(e,this.Nl,n)},hq.prototype.setCell=hq.prototype.ue;function gq(e,n){this.$b=e,this.Kk=n}dq.Row=gq,gq.prototype.ab=function(){return this.$b.ab()},gq.prototype.getColumnNames=gq.prototype.ab,gq.prototype.va=function(e){return this.$b.va(this.Kk,e)},gq.prototype.getCell=gq.prototype.va,gq.prototype.ue=function(e,n){this.$b.ue(this.Kk,e,n)},gq.prototype.setCell=gq.prototype.ue,gq.prototype.Rf=function(){return this.$b},gq.prototype.getTable=gq.prototype.Rf;function kq(e,n,r,o){if(o=o||{},!n)throw new C(kq,1,"has to be a function");if(!r)throw new C(kq,2,"has to be a function");for(this.mn=n,this.dn=r,this.bh=[],this.pc={},this.xq=[],this.lh={},this.fs={},this.ls={},this.nx={},this.rj=o.duration||100,this.Gm=z(this.Gm,this),e=e.split("Meta:	").slice(1),n=0;n<e.length;n++){o=e[n].split(`
`),r=o[0].split("	")[0],o=o.slice(1).join(`
`),this.lh[r]=new Xp,this.pc[r]=$p(this.lh[r],o);var s={layerId:r,columnNames:this.pc[r]};this.xq.push(r),this.nx[r]=fq(s),this.fs[r]=rk(),lq(this,o,r),this.Gm(r)}}function lq(e,n,r){var o=[],s=e.pc[r].length-1,l=e.nx[r];try{e.lh[r].parse(n,function(d,h,p){var g=!1;return 0<d&&(o[h]=p,h===s&&(e.bh.push(l.Ud(l.zo(o))),rk()-e.fs[r]>e.rj&&(g=!0))),g},function(d,h,p){if(0<d&&h===s)return Pf(p)})}catch(d){e.dn(d)}}kq.prototype.cancel=function(){for(var e in this.ls)globalThis.clearTimeout(this.ls[e])},kq.prototype.cancel=kq.prototype.cancel,kq.prototype.Gm=function(e){var n=this,r,o;this.ls[e]=globalThis.setTimeout(function(){if(n.lh[e].getState()===2)n.fs[e]=rk(),n.mn(n.bh,!1),n.bh=[],n.lh[e].resume(),n.Gm(e);else{for(r=!0,o=0;o<n.xq.length;o++)if(n.lh[n.xq[o]].getState()!==Yp){r=!1;break}r&&(0<n.bh.length&&n.mn(n.bh,!0),n.bh=[])}},0)};function mq(e){var n=nq;if(!e||!lb(e.layerId)||fb(e.rowFilter)&&!db(e.rowFilter)||fb(e.rowFilterContext)&&!ya(e.rowFilterContext))throw new C(n,1,fb("invalid layer config")?"invalid layer config":e)}function oq(e){return lb(e)&&/^[A-Z][A-Z0-9_]*$/.test(e)}function pq(e){for(var n=e&&e.length,r=2<=n&&e[--n]==="WKT"&&e[--n]==="GEOMETRY_ID";r&&n--;)r=oq(e[n]);return r}function qq(e,n){var r="",o=[];if(n){var s=e.geometries;if(s&&s.length){var l=Object.keys(s[0].attributes);for(r=r+("Meta:	"+n+`
`)+l.join("	"),r+=`	WKT
`,e=0;e<s.length;e++){var d=s[e].attributes,h=s[e].geometry;for(n=0;n<l.length;n++)o.push(d[l[n]]);r+=o.join("	"),r+="	"+h+`
`,o=[]}}}else{if(h={},o=[],e.geometries)for(s=0;s<e.geometries.length;s++)n=e.geometries[s],h[n.layerId]||(h[n.layerId]=[]),h[n.layerId].push(n);for(l in h)o.push({layerId:l,geometries:h[l]});for(e=0;e<o.length;e++)r+=qq(o[e],o[e].layerId)}return r}function nq(e,n,r){var o=this,s=n&&n.rowFilter,l;nq.g.constructor.call(this,r),B(e,rq,nq,0);var d=r.resultType;if(mq(n),s){var h=Ta(n);h.rowFilter=s.toString()}else h=n;new Vm().registerProcessor("cle","H.service.extension.worker.processor");var p=n.layerId;e.request(sq,tq,{detail_level:"all",layer_id:p},function(g){g=g.layers;var y;for(y=0;y<g.length;y++)if(g[y].layerId===p){h.level=g[y].level;break}l=e.i().clone().A(uq+"."+tq).u({meta:1}),new Xm("cle",{message:[o.uid,0,{tileSize:o.tileSize,projected:!0,onlyOutline:d===4,serverUrl:l.toString(),layerConfigs:[h],batchTiles:!1,horizontalMargin:1}]}).then(function(){o.rq=!0,o.jb()},o.Ic)},function(g){o.Ic(g.message)})}u(nq,Np),t("H.service.extension.customLocation.TileProvider",nq),nq.prototype.qu=function(e,n,r){return new Ep(e,n,r)},nq.prototype.o=function(e,n,r,o,s){var l=this,d=this.getTileKey(e,n,r),h;d=this.Sb().get(d);var p={cancel:Ye},g=!0,y=this.resultType;if(d&&(y===4||y===8?d.Ih()||(o(lo.pop(this.tileSize),null),g=!1):(o(x),g=!1)),g){var v=globalThis.setTimeout(function(){h=new Xm("cle",{message:[l.uid,1,[e,n,r]]}),h.then(o,s)},500);p.cancel=function(){h?h.cancel():globalThis.clearTimeout(v)}}return p},nq.prototype.requestInternal=nq.prototype.o,nq.prototype.disposeInternal=function(){nq.g.disposeInternal.call(this),new Xm("cle",{message:[this.uid,3]})};function rq(e){rq.g.constructor.call(this,rq,e),io(rq)}u(rq,oo),t("H.service.extension.customLocation.Service",rq),rq.prototype.Da=function(){return{subDomain:"fleet.ls",path:"2"}},rq.CONFIG_KEY="customLocation",rq.prototype.Pd=function(e,n){var r=n&&n.resultType;return e=new nq(this,e,n),r===1||r===2?new Zm(e):new sl(e)},rq.prototype.createTileLayer=rq.prototype.Pd;function vq(e,n,r,o){e=e===wq?"changes":"file";var s=n[e],l=lb(s),d=!l&&B(s,Blob);if(!l&&!d)throw new C(o,0,"Invalid "+e+" parameter");if(xq)s=d?s:ff(s,"text/plain"),o=new globalThis.FormData,o.append(e,s,s.name||e+".wkt"),r.method="POST",r.data=o,delete n[e];else if(d)throw new C(o,0,"Sending Blob data is not supported by the browser")}var xq=globalThis.FormData&&!!globalThis.FormData.prototype.append;rq.prototype.request=function(e,n,r,o,s){return this.I(e,n,r,o,s)},rq.prototype.request=rq.prototype.request,rq.prototype.I=function(e,n,r,o,s){var l="text/plain",d=e===yq.LAYERS_UPLOAD||e===yq.LAYERS_MODIFY||e===yq.LAYERS_IMPORT,h=r,p={data:A,method:"GET",headers:this.pc};if(!e)throw new C(this.request,0,e);if(!n)throw new C(this.request,1,n);rp(this.request,3,o,s),d&&(B(r,Object,this.request,2,"Invalid request parameters"),h=Ta(r),vq(e,h,p,this.request));var g=this.i().clone().A(e+"."+n).u(h);return n===zq.JSON&&(l="application/json"),e=new qg(l,g.toString(),De,p),e.then(function(y){var v=y.issues;v&&y.error_id&&y.response_code?s(Error(v[0].message)):o(y)},function(y){y.type==="error"||y.status===404?s(Error(y.statusText||"Unable to load data")):y.json().then(function(v){s(Error("["+v.issues[0].message+"] "+g+" request failed"))},function(){s(Error("["+y.statusText+"] "+g+" request failed"))})}),e};var sq="layers/list",wq="layers/modify",uq="tiled/tile",yq={LAYERS_DELETE:"layers/delete",LAYERS_GRANT:"layers/access/grant",LAYERS_LIST:sq,LAYERS_MODIFY:wq,LAYERS_UPLOAD:"layers/upload",LAYERS_IMPORT:"layers/import",SEARCH_ALL:"search/all",SEARCH_BBOX:"search/bbox",SEARCH_CORRIDOR:"search/corridor",SEARCH_PROXIMITY:"search/proximity",SEARCH_QUADKEY:"search/quadkey",SEARCH_TILE:uq};rq.EntryPoint=yq;var tq="json",zq={TXT:"txt",JSON:tq};rq.EntryPointType=zq,rq.prototype.Tb=function(e,n,r){var o=this;return this.request("search/all","txt",{filter:'WKT==""',layer_id:e},function(s){var l=String(s).replace(/[\r\n]+$/g,"").split("	");o.request(sq,tq,{layer_id:e,detail_level:"all"},function(d){d=d.layers[0],d.columnNames=l,n(fq(d))},r)},r)},rq.prototype.getLayer=rq.prototype.Tb,rq.prototype.Au=function(e,n,r,o){function s(){return++d<l?h.request("layers/access/grant",tq,{layer_id:e,granted_app_id:n[d].grantedAppId,permissions:n[d].permissions.join(",")},s,o):h.Tb(e,r,o)}var l=n&&n.length,d=-1,h=this;return s()},rq.prototype.grantAccess=rq.prototype.Au,rq.prototype.Dt=function(e,n,r){return this.request("layers/delete",tq,{layer_ids:e},n,r)},rq.prototype.deleteLayer=rq.prototype.Dt,rq.prototype.od=function(e,n,r){function o(){setTimeout(function(){p.Tb(d,function(w){setTimeout(s.bind(null,w),y)},function(){64e3>g?(g+=y,o()):r(globalThis.Error("Timeout"))})},y),y*=2}function s(w){var k=JSON.stringify(w.ab()),F=e.grants;if(k!==JSON.stringify(h)){var q="Results into different column names on the backend: "+k;setTimeout(function(){p.Dt(d,function(){r(globalThis.Error(q))},function(_r){r(globalThis.Error(q+". "+_r.message))})},y)}else F&&F.length?p.Au(d,F,n,r):n(w)}var l,d,h,p=this,g=0,y=1e3,v=!e||!oq(d=e.layerId)&&(l="layerId")||!pq(h=e.columnNames)&&(l="columnNames")?0:db(n)?db(r)?-1:2:1;if(0<=v)throw new C(p.od,v,l||arguments[v]);return p.Tb(d,function(){r(globalThis.Error("Layer exists already"))},function(){var w={layer_id:d,file:h.join("	")},k=e.level,F=e.storage;k!==A&&(w.level=k),F!==A&&(w.storage=F),p.request("layers/upload",tq,w,o,r)})},rq.prototype.createLayer=rq.prototype.od,rq.prototype.Cg=function(e,n,r,o){var s=[],l;return e=this.request(e,tq,n,function(d){d.geometries.length?(d=qq(d,n.layer_id),l=new kq(d,r,o),s.push(l)):r(Ze,!0)},o),s.push(e),new vp(s)},rq.prototype.Zc=function(e,n,r,o,s,l){if(!kb(e))throw new C(this.Zc,0,"has invalid type");if(B(n,tc,this.Zc,1,"has invalid type"),!ob(r))throw new C(this.Zc,2,"has invalid type");return rp(this.Zc,3,o,s),e={layer_ids:e.join(","),proximity:n.lat+","+n.lng+","+r},l&&Wa(e,l),this.Cg("search/proximity",e,o,s)},rq.prototype.searchByProximity=rq.prototype.Zc,rq.prototype.Yc=function(e,n,r,o,s,l){var d="";if(!kb(e))throw new C(this.Yc,0,"has invalid type");if(!lb(n)&&!B(n,J))throw new C(this.Yc,1,"has invalid type");if(!ob(r))throw new C(this.Yc,2,"has invalid type");if(rp(this.Yc,3,o,s),e={layer_ids:e.join(","),radius:r},lb(n))e.route_id=n;else{var h=n.S;for(n=0,r=h.length;n<r;n+=3)d+=h[n]+","+h[n+1],n<r-3&&(d+=",");e.corridor=d}return l&&Wa(e,l),this.Cg("search/corridor",e,o,s)},rq.prototype.searchByCorridor=rq.prototype.Yc,rq.prototype.se=function(e,n,r,o,s){function l(p,g){g&&h--,r(p,!h)}var d=[],h;if(!kb(e))throw new C(this.se,0,"has invalid type");for(B(n,E,this.se,1,"has invalid type"),rp(this.se,2,r,o),n={bbox:n.fa+","+n.W+";"+n.ga+","+n.ca},s&&Wa(n,s),e=n.layer_id?[n.layer_id]:e,s=0,h=e.length;s<h;s++)n.layer_id=e[s],d.push(this.Cg("search/bbox",n,l,o));return new vp(d)},rq.prototype.searchByBoundingBox=rq.prototype.se,rq.prototype.Lr=function(e,n,r,o){var s,l=[];if(!lb(e))throw new C(this.Lr,0,"has invalid type");rp(this.Lr,1,n,r);var d={layer_id:e};return o&&Wa(d,o),o=this.request("search/all",tq,d,function(h){h.geometries.length?(h=qq(h,e),s=new kq(h,n,r),l.push(s)):n(Ze,!0)},r),l.push(o),new vp(l)},rq.prototype.searchAll=rq.prototype.Lr;var Aq={delete:/^GEOMETRY_ID$/,append:/^(?!GEOMETRY_ID$)/};function Bq(e,n,r,o,s,l){function d(){F++,o(this,F===w)}function h(jc){F++,s(jc,this,F===w)}var p=n!=="append",g,y={},v=Za(),w=0,k=[],F=0;if(!kb(r))throw new C(l,0,r);for(rp(l,1,o,s),g=r.length;g--;){var q=r[g];if(B(q,gq)){var _r=q.Rf().zh().layerId,ga=q.va("GEOMETRY_ID");if(p){if(ga===x||String(ga)==="")var La='GEOMETRY_ID must not be null or ""';y[ga=_r+"_"+ga]&&(La="same GEOMETRY_ID for multiple rows"),y[ga]=q}else ga!==x&&String(ga)!==""&&(La='GEOMETRY_ID must be null or ""')}else La="Invalid type";if(La)throw new C(l,0,"- Invalid row at index "+g+", "+La);ga=v[_r],ga||(ga=v[_r]=[],w++),ga.push(q)}for(_r in v){for(ga=v[_r],r=[],g=ga.length;g--;)r.push(ga[g].Kk);k.push(e.request(wq,tq,{layer_id:_r,action:n,changes:ga[0].Rf().os(Aq[n]||null,r)},z(d,ga),z(h,ga)))}return new vp(k)}rq.prototype.dt=function(e,n,r){return Bq(this,"append",e,n,r,this.dt)},rq.prototype.appendRows=rq.prototype.dt,rq.prototype.Hx=function(e,n,r){return Bq(this,"update",e,n,r,this.Hx)},rq.prototype.updateRows=rq.prototype.Hx,rq.prototype.Et=function(e,n,r){return Bq(this,"delete",e,n,r,this.Et)},rq.prototype.deleteRows=rq.prototype.Et,X.prototype.Hz=function(e){return this.Ja(rq,e)},X.prototype.getCustomLocationService=X.prototype.Hz;function Cq(e){np.g.constructor.call(this,Cq,e),io(Cq)}u(Cq,oo),t("H.service.extension.customRoute.Service",Cq),Cq.prototype.Da=function(){return{subDomain:"s.fleet.ls",path:"2"}},Cq.CONFIG_KEY="customRoute",Cq.prototype.Jc=function(e){return Error(e.issues&&e.issues.length?e.issues.map(function(n){return n.message}).join(". "):e)},Cq.prototype.Xg=function(e,n,r){return rp(this.Xg,1,n,r),e=this.i().clone().A("calculateroute.json").u(e),this.o(e,n,r)},Cq.prototype.calculateRoute=Cq.prototype.Xg,X.prototype.Iz=function(e){return this.Ja(Cq,e)},X.prototype.getCustomRoutingService=X.prototype.Iz;function Dq(e){Dq.g.constructor.call(this,Dq,e),this.uu=e.getToken}u(Dq,oo),t("H.service.iml.Service",Dq),Dq.prototype.Da=function(){return{host:"interactive.data.api.platform.here.com",path:"interactive/v1/catalogs"}},Dq.prototype.Jc=function(e){function n(){for(var o=fa(r),s=o.next();!s.done;s=o.next()){s=s.value;var l=s.format;if(s.keys.every(function(d){return e[d]}))return l()}return JSON.stringify(e)}var r=[{keys:["code","title","cause","action"],format:function(){return e.code+": "+e.title+"; cause: "+e.cause+"; action: "+e.action}},{keys:["error","error_description"],format:function(){return e.error+": "+e.error_description}},{keys:["error","errorMessage"],format:function(){return e.error+": "+e.errorMessage}}];return Error(ya(e)?n():e)},Dq.prototype.Dh=function(e,n,r,o,s){var l=this.Dh;return Eq(l,0,e,n),Fq(l,2,r,o),e=this.i().clone().A(e+"/layers/"+n+"/statistics").u(s||{}),this.I(e,"GET",r,o)},Dq.prototype.getStatistics=Dq.prototype.Dh,Dq.prototype.lm=function(e,n,r,o,s,l,d,h,p){var g=p?"":".mvtf";return e=this.i().clone().A(o+"/layers/"+s+"/tile/web/"+r+"_"+e+"_"+n+g).u(Object.assign({clip:!0},h)),this.I(e,"GET",p?l:function(y){return y.arrayBuffer().then(l)},d,void 0,p?"application/json":"arraybuffer")},Dq.prototype.getFeaturesByTile=Dq.prototype.lm,Dq.prototype.hu=function(e,n,r,o,s,l){var d=this.hu;return Gq(d,e),Eq(d,1,n,r),Fq(d,3,o,s),e=Hq(this,e,n,r,l),this.I(e,"GET",o,s)},Dq.prototype.getFeatureById=Dq.prototype.hu,Dq.prototype.Ue=function(e,n,r,o,s,l){var d=this.Ue;return Iq(d,e),Eq(d,1,n,r),Fq(d,3,o,s),e=Jq(this,e,n,r,l),this.I(e,"GET",o,s)},Dq.prototype.getFeaturesById=Dq.prototype.Ue,Dq.prototype.wh=function(e,n,r,o,s){var l=this.wh;if(!ya(e)||!(e.bbox||e.north&&e.east&&e.south&&e.west))throw new C(l,0,'must be an object with either "bbox" or a full set of "north", "east", "south" and "west"');return Eq(l,1,n,r),Fq(l,3,o,s),e=this.i().clone().A(n+"/layers/"+r+"/bbox").u(e),this.I(e,"GET",o,s)},Dq.prototype.getFeaturesByBoundingBox=Dq.prototype.wh,Dq.prototype.ju=function(e,n,r,o,s){var l=this.ju;if(!(ya(e)&&e.radius&&(e.lat&&(e.lng||e.lon)||e.refCatalogHrn&&e.refLayerId&&e.refFeatureId)))throw new C(l,0,'must be an object with "radius" and a combination of either "lat"+"lng" or "refCatalogHrn"+"refLayerId"+"refFeatureId"');return Eq(l,1,n,r),Fq(l,3,o,s),e=this.i().clone().A(n+"/layers/"+r+"/spatial").u(e),this.I(e,"GET",o,s)},Dq.prototype.getFeaturesByPointAndRadius=Dq.prototype.ju,Dq.prototype.iu=function(e,n,r,o,s,l){var d=this.iu;if(!ya(e)||!e.radius)throw new C(d,0,'must be an object with "radius"');return Kq(d,1,n),Eq(d,2,r,o),Fq(d,4,s,l),e=this.i().clone().A(r+"/layers/"+o+"/spatial").u(e),this.I(e,"POST",s,l,n)},Dq.prototype.getFeaturesByGeometryAndRadius=Dq.prototype.iu,Dq.prototype.Nw=function(e,n,r,o,s){var l=this.Nw;return Eq(l,0,e,n),Fq(l,2,r,o),e=this.i().clone().A(e+"/layers/"+n+"/search").u(s||{}),this.I(e,"GET",r,o)},Dq.prototype.searchFeatures=Dq.prototype.Nw,Dq.prototype.av=function(e,n,r,o,s){var l=this.av;return Eq(l,0,e,n),Fq(l,2,r,o),e=this.i().clone().A(e+"/layers/"+n+"/iterate").u(s||{}),this.I(e,"GET",r,o)},Dq.prototype.iterateFeatures=Dq.prototype.av,Dq.prototype.nf=function(e,n,r,o,s,l){var d=this.nf;return Kq(d,0,e),Eq(d,1,n,r),Fq(d,3,o,s),n=Lq(this,n,r,l),this.I(n,"PUT",o,s,e)},Dq.prototype.putFeatures=Dq.prototype.nf,Dq.prototype.lf=function(e,n,r,o,s,l){var d=this.lf;return Kq(d,0,e),Eq(d,1,n,r),Fq(d,3,o,s),n=Lq(this,n,r,l),this.I(n,"POST",o,s,e)},Dq.prototype.postFeatures=Dq.prototype.lf,Dq.prototype.If=function(e,n,r,o,s){var l=this.If;return Iq(l,e),Eq(l,1,n,r),Fq(l,3,o,s),e=Jq(this,e,n,r),this.I(e,"DELETE",o,s)},Dq.prototype.deleteFeatures=Dq.prototype.If,Dq.prototype.xw=function(e,n,r,o,s,l,d){var h=this.xw;return Gq(h,e),Kq(h,1,n),Eq(h,2,r,o),Fq(h,4,s,l),e=Hq(this,e,r,o,d),this.I(e,"PUT",s,l,n)},Dq.prototype.putFeature=Dq.prototype.xw,Dq.prototype.dw=function(e,n,r,o,s,l,d){var h=this.dw;return Gq(h,e),Kq(h,1,n),Eq(h,2,r,o),Fq(h,4,s,l),e=Hq(this,e,r,o,d),this.I(e,"PATCH",s,l,n)},Dq.prototype.patchFeature=Dq.prototype.dw,Dq.prototype.Ct=function(e,n,r,o,s){var l=this.Ct;return Gq(l,e),Eq(l,1,n,r),Fq(l,3,o,s),e=Hq(this,e,n,r),this.I(e,"DELETE",o,s,void 0,"text/plain")},Dq.prototype.deleteFeature=Dq.prototype.Ct;function Lq(e,n,r,o){return e.i().clone().A(n+"/layers/"+r+"/features").u(o||{})}function Jq(e,n,r,o,s){return n=Object.assign({},s,{id:new zo(n)}),Lq(e,r,o,n)}function Hq(e,n,r,o,s){return e.i().clone().A(r+"/layers/"+o+"/features/"+n).u(s||{})}Dq.prototype.I=function(e,n,r,o,s,l){return l=l===void 0?"application/json":l,n={method:n,headers:Object.assign({},s?{"Content-Type":"application/geo+json"}:void 0,typeof this.uu=="function"?{Authorization:"Bearer "+this.uu()}:void 0,this.pc)},s&&(n.data=JSON.stringify(s)),s=new qg(l,e.toString(),De,n),s.then(r,ro(this,e,o)),s},Dq.CONFIG_KEY="iml";function Eq(e,n,r,o){ib(r,"String",e,n,"must be a string"),ib(o,"String",e,n+1,"must be a string")}function Gq(e,n){ib(n,"String",e,0,"must be a string")}function Iq(e,n){if(!Array.isArray(n)||n.length===0||n.some(function(r){return typeof r!="string"}))throw new C(e,0,"must be a non-empty array of strings")}function Kq(e,n,r){if(!ya(r))throw new C(e,n,"must be a GeoJSON object")}function Fq(e,n,r,o){if(!db(r))throw new C(e,n,"must be a function");if(!db(o))throw new C(e,n+1,"must be a function")}X.prototype.Xz=function(e){return this.Ja(Dq,e)},X.prototype.getIMLService=X.prototype.Xz;function Mq(e,n,r,o){if(Mq.g.constructor.call(this,o?{min:o.min,max:o.max,engineType:o.engineType}:void 0),B(e,Dq,Mq,0),!lb(n))throw new C(Mq,1,'"catalogHrn" must be a string');if(!lb(r))throw new C(Mq,2,'"layerId" must be a string');this.$=e,this.$g=n,this.Mh=r,this.Ok=ya(o)&&ya(o.parameters)?o.parameters:{},this.Xa(this.Ep())}u(Mq,R),t("H.service.iml.Provider",Mq),Mq.prototype.o=function(e,n,r,o,s){return this.$.lm(e,n,r,this.$g,this.Mh,o,s,this.Ok)},Mq.prototype.requestInternal=Mq.prototype.o,Mq.prototype.Xc=We,Mq.prototype.providesOMV=Mq.prototype.Xc,Mq.prototype.K=function(){return this.mb()},Mq.prototype.getStyle=Mq.prototype.K,Mq.prototype.Cb=function(e){B(e,Xg)&&e.Yb("MVT"),this.Xa(e)},Mq.prototype.setStyle=Mq.prototype.Cb,Mq.prototype.Ep=function(){return this.vb===mi.WEBGL?new Xg({sources:{iml:{type:"MVT"}},layers:{iml:{data:{source:"iml",layer:this.$g+":"+this.Mh},points:{filter:{$geometry:"point"},draw:{points:{collide:!1,order:200,color:"#92CF48",size:[[10,"8px"],[14,"12px"],[18,"16px"]]}}},polygons:{filter:{$geometry:"polygon"},draw:{polygons:{order:201,color:"#E39E3C"},lines:{order:202,color:"#755DA5",width:"1px"}}},lines:{filter:{$geometry:"line"},draw:{lines:{order:203,color:"#0258AE",width:"2px",join:"round",cap:"round"}}}}}}):new H.map.render.harp.Style({styles:[{layer:this.$g+":"+this.Mh,when:["==",["geometry-type"],"Point"],technique:"circles",renderOrder:200,color:"#92CF48",size:["interpolate",["linear"],["zoom"],10,8,14,12,18,16]},{layer:this.$g+":"+this.Mh,when:["==",["geometry-type"],"Polygon"],technique:"polygon",color:"#E39E3C",renderOrder:201},{layer:this.$g+":"+this.Mh,when:["==",["geometry-type"],"Polygon"],technique:"solid-line",color:"#755DA5",width:"1px",renderOrder:202},{layer:this.$g+":"+this.Mh,when:["==",["geometry-type"],"LineString"],technique:"solid-line",color:"#0258AE",width:"2px",renderOrder:203}]})};function Nq(e,n,r){var o=this,s=r||{},l=+s.min,d=+s.max;s.tileSize=s.tileSize||512,s.min=l?gc(l,1,17):1,s.min+=Gk(s.tileSize,1),s.max=d?gc(d,1,17):17,Nq.g.constructor.call(this,s),B(e,Oq,Nq,0),B(n,zg,Nq,1),this.$=e,n.Yb&&n.Yb("OMV"),this.Xa(n,!0),this.xn=!1,r&&(r.politicalView&&(this.yn=r.politicalView),Pq(this,r.lg,r.lg2),this.xn=!!r.pois),this.zw=function(){o.Hl=go(o),o.reload(!1)},e.addEventListener("versionupdate",this.zw),this.Hl=go(this),Nq.prototype.Xo=function(){var h=/^v2\/vectortiles\/(.+)\/mc$/.exec(e.i().jf);return h?h[1]:A+""}()}u(Nq,R),t("H.service.omv.Provider",Nq),Nq.prototype.Xc=We,Nq.prototype.providesOMV=Nq.prototype.Xc,Nq.prototype.cc=function(e){return this.Hl.test(e)},Nq.prototype.cacheFilter=Nq.prototype.cc,Nq.prototype.Vd=function(e,n,r){return this.$.Sf(e,n,r).toString()},Nq.prototype.getTileKey=Nq.prototype.Vd,Nq.prototype.Sb=function(){return this.TB},Nq.prototype.getCache=Nq.prototype.Sb,Nq.prototype.tA=function(){return this.yn},Nq.prototype.getPoliticalView=Nq.prototype.tA,Nq.prototype.bD=function(e){var n=this.yn;this.yn=e,this.dispatchEvent(new ji("politicalviewchange",this.yn,n))},Nq.prototype.setPoliticalView=Nq.prototype.bD,Nq.prototype.MAX_STORE_TIME=2592e6,Nq.prototype.Vi=function(){return pm()},Nq.prototype.td=function(){return pm()?om():Nq.g.td.call(this)},Nq.prototype.o=function(e,n,r,o,s){return this.$.Pa(e,n,r,o,s)},Nq.prototype.requestInternal=Nq.prototype.o,Nq.prototype.Cb=function(e){e.Yb&&e.Yb("OMV"),this.Xa(e)},Nq.prototype.setStyle=Nq.prototype.Cb,Nq.prototype.K=function(){return Nq.g.mb.apply(this)},Nq.prototype.getStyle=Nq.prototype.K,Nq.prototype.mb=function(){var e=Nq.g.mb.apply(this),n=e.getState()===Ag.READY,r=e.Sd();return n&&r&&r.global&&(this.pq&&(this.ow&&(r.global.ux_language=this.ow),this.Wt&&(r.global.ux_language_fallback=this.Wt)),this.xn&&r.global.poi&&r.global.poi.default&&(r.global.poi.default.visible=this.xn),this.pq||this.xn)&&(e=new Xg(r,e.Lc())),e},Nq.prototype.getStyleInternal=Nq.prototype.mb;function Pq(e,n,r){var o=lb(n),s=lb(r);o&&(e.ow=n),s&&(e.Wt=r),(o||s)&&(e.Zj=[],o=/^([a-zA-Z]{2})(-|$)/,(s=o.exec(n))&&(s[1]==="zh"?e.Zj.push(n):e.Zj.push(s[1])),(s=o.exec(r))&&(s[1]==="zh"?e.Zj.push(r):e.Zj.push(s[1])),e.pq=!0)}Nq.prototype.pq=!1;var Qq=["en"];Nq.prototype.Ip=function(){return this.Zj||Qq},Nq.prototype.getLanguages=Nq.prototype.Ip,Nq.prototype.disposeInternal=function(){Nq.g.disposeInternal.call(this),this.$.removeEventListener("versionupdate",this.zw)},Nq.prototype.TB=new kk(256),Nq.prototype.U=function(e,n){return this.$.U().query(this.Xo,n,e)},Nq.prototype.getCopyrights=Nq.prototype.U;function Oq(e){Oq.g.constructor.call(this,Oq,e);var n=po(this,e).mapVersion;this.Fn=e.queryParams||{},this.dk=fb(n)?n:Rq[this.i().toString()],fb(this.dk)||Sq(this)}u(Oq,oo),t("H.service.omv.Service",Oq),Oq.prototype.Da=function(){return{subDomain:"vector",path:"v2/vectortiles/base/mc"}},Oq.CONFIG_KEY="omv";var Rq={};rb(Rq),Oq.prototype.hA=function(){return this.dk},Oq.prototype.getMapVersion=Oq.prototype.hA;function Sq(e){e.o(e.i().clone().A("../../info"),function(n){n=n.mapVersion;var r=e.i().toString();e.dk=n,n!==Rq[r]&&(Rq[r]=n,e.dispatchEvent("versionupdate"))},function(){})}Oq.prototype.od=function(e,n,r){n=n||{};var o={min:0,max:22};return ya(r)&&ho(o,r),new sl(new Nq(this,e,n),o)},Oq.prototype.createLayer=Oq.prototype.od,Oq.prototype.Pa=function(e,n,r,o,s){return this.o(this.Sf(e,n,r),function(l){return l.arrayBuffer().then(o,s)},s,"arraybuffer")},Oq.prototype.Sf=function(e,n,r){return e=this.i().clone().A(r+"/"+e+"/"+n+"/omv"),fb(this.dk)&&e.u({mv:this.dk}).u(this.Fn),e},Oq.prototype.rm=function(e){return kn()+"/"+e},Oq.prototype.Nj=function(e,n){if(!db(e))throw new C(this.Nj,0,'"onResult" must be a function');if(!db(n))throw new C(this.Nj,1,'"onError" must be a function');return this.o(this.i().clone().wc("v2/vectortiles/pviews"),e,n)},Oq.prototype.getPoliticalViews=Oq.prototype.Nj,X.prototype.Lj=function(e){return this.Ja(Oq,e)},X.prototype.getOMVService=X.prototype.Lj,Oq.prototype.Kf=function(){this.ec=new to,this.o(this.i().clone().A("../../copyrights"),z(this.pl,this),Ye)},Oq.prototype.pl=function(e){uo(this.ec,e),this.dispatchEvent("copyrightupdate")},Oq.prototype.U=function(){return this.ec||this.Kf(),this.ec},Oq.prototype.getCopyrights=Oq.prototype.U;function Tq(e){Tq.g.constructor.call(this,Tq,e)}u(Tq,oo),t("H.service.RoutingService8",Tq),Tq.CONFIG_KEY="routing_v8",Tq.prototype.Da=function(){return{subDomain:"router",path:"v8/routes"}},Tq.prototype.Jc=function(e){return Error((e&&e.status===void 0?401:e.status)===401?e.error_description:e.title,{cause:e})},Tq.prototype.Xg=function(e,n,r){return e=this.i().clone().u(e),this.o(e,n,r)},Tq.prototype.calculateRoute=Tq.prototype.Xg,Tq.prototype.Mo=function(e,n,r){return e=this.i().clone().la("isoline").wc("v8/isolines").u(e),this.o(e,n,r)},Tq.prototype.calculateIsoline=Tq.prototype.Mo;function Uq(e){Uq.g.constructor.call(this,Uq,e),io(Uq,"Use HERE Routing API v8 instead.")}u(Uq,oo),t("H.service.RoutingService",Uq),Uq.prototype.Da=function(){return{subDomain:"route.ls",path:"routing/7.2"}},Uq.prototype.Jc=function(e){return Error(e.details)},Uq.CONFIG_KEY="routing",Uq.prototype.Xg=function(e,n,r){return e=this.i().clone().A("calculateroute.json").u(e),this.o(e,n,r)},Uq.prototype.calculateRoute=Uq.prototype.Xg,Uq.prototype.Mo=function(e,n,r){return e=this.i().clone().la("isoline").A("calculateisoline.json").u(e),this.o(e,n,r)},Uq.prototype.calculateIsoline=Uq.prototype.Mo,X.prototype.su=function(e,n){if(n=+n||7,n===7)n=Uq;else if(n===8)n=Tq;else throw new C(this.su,1,"allowed values are 7 and 8");return this.Ja(n,e)},X.prototype.getRoutingService=X.prototype.su,t("H.service.buildInfo",function(){return Wh("H-service","1.61.0","3b08619",{region:"row"})});function Vq(e,n,r,o,s){s&1&&Wq(e,e,n,r,o,0),s&2&&Wq(e,e,n,r,o,1),s&4&&Wq(e,e,n,r,o,2),s&8&&Wq(e,e,n,r,o,3)}function Wq(e,n,r,o,s,l){for(var d=(r+1)*(r+1),h,p=4*o,g=r+1,y,v=[{r:0,nz:0,b:0,a:0,next:null}],w=1,k=["r","g","b","a"][l],F=2*r+1,q,_r;w<F;w++)v[w]={r:0,nz:0,b:0,a:0,next:null},v[w-1].next=v[w];v[2*r].next=v[0];var ga=4*(o-1);for(h=0;h<s;h++){var La=h*p,jc=e[La+l],_l=jc*g*(r+2)/2;for(F=jc*g,w=0;w<=r;w++)v[w][k]=jc;var e1=0;for(w=1;w<=r;w++){var n1=w<o?La+4*w:La+ga;n1=e[n1+l],_l+=n1*(g-w),e1+=n1,v[r+w][k]=n1}n1=v[0],q=v[g],w=La,_r=4*g;var d1=La+ga;for(jc=0;jc<o;jc++){n[w+l]=_l/d,_l-=F;var c1=jc+g<o?w+_r:d1;if(c1=e[c1+l],e1+=c1,_l+=e1,F-=n1[k],F+=q[k],e1-=q[k],n1[k]=c1,n1=n1.next,q=q.next,w+=4,!_l)for(;(y=4*(jc+g))<p&&e[La+l+y]===0;)jc++,w+=4}}for(La=(s-1)*p,jc=0;jc<o;jc++){for(e=4*jc,h=n[e+l],_l=h*g*(r+2)/2,F=h*g,w=0;w<=r;w++)v[w][k]=h;for(e1=0,w=1;w<=r;w++)n1=w<s?e+w*p:e+La,n1=n[n1+l],_l+=n1*(r-w+1),e1+=n1,v[r+w][k]=n1;for(n1=v[0],q=v[g],w=e,d1=g*p,ga=e+La,h=0;h<s;h++)if(n[w+l]=_l/d,_l-=F,c1=h+g<s?w+d1:ga,c1=n[c1+l],e1+=c1,_l+=e1,F-=n1[k],F+=q[k],e1-=q[k],n1[k]=c1,n1=n1.next,q=q.next,w+=p,!_l)for(;(y=h+g)<s&&n[y*p+l+e]===0;)h++,w+=p}}function Xq(e,n,r){this.$A=n=e>>n,this.CB=Math.log(n)*Math.LOG2E,this.Ec=e=document.createElement("CANVAS"),this.vy=e.getContext("2d"),this.wy=e.width=e.height=3*n;var o=document.createElement("canvas");e=r.Ru;var s=r.pD;n=[];var l;o.width=256,o.height=1,o=o.getContext("2d");for(d in s)s.hasOwnProperty(d)&&n.push({stop:parseFloat(d),value:s[d]});s=n.length,n.sort(this.oD),0<n[0].stop&&n.unshift({stop:0,value:n[0].value}),1>n[s-1].stop&&n.push({stop:1,value:n[s-1].value}),s=n.length;var d=o.createLinearGradient(0,0,256,0);for(l=0;l<s;l++){if(!e&&p){var h=p.stop+(n[l].stop-p.stop)/2;d.addColorStop(h,p.value),d.addColorStop(h,n[l].value)}d.addColorStop(n[l].stop,n[l].value);var p=n[l]}o.fillStyle=d,o.fillRect(0,0,256,1),this.Dy=o.getImageData(0,0,256,1).data,this.aB=r.Ru}Xq.prototype.oD=function(e,n){return e.stop-n.stop},Xq.prototype.Tx="#000",Xq.prototype.hy="#080";function Yq(e,n){this.canvas=e,this.size=n}function Zq(e,n,r){this.cf=e=gc(e,0,30),this.Ra=n,this.oj=r,this.gs=[],this.ci=[];do this.ci[e]=[],this.gs[e]=new $q;while(e--);n===ar?(this.Ts=br,this.normalize=cr):(this.Ts=dr,this.normalize=er),this.gk=1/0,this.Xm=-1/0}var fr=Math.log(.5);function cr(e){return this.ip?Math.round((e-this.gk)/this.ip*255):127}function er(e){return this.bu===void 0?127:Math.round(255*Math.pow(e,this.bu))}Zq.prototype.zc=function(e){var n,r,o=e.value;o===void 0&&(o=1),o>this.Xm&&(this.Xm=o,this.ip=this.Xm-this.gk),o<this.gk&&(this.gk=o,this.ip=this.Xm-this.gk);var s=ri.Se(e).scale(1073741823).floor();o=this.cf;var l=s.x>>30-o;for(s=s.y>>30-o,r=this.Ts;-1<o;){this.ci[o][s]||(this.ci[o][s]=[]),(n=this.ci[o][s][l])||(n=this.ci[o][s][l]=new r(l,s,o)),n.zc(e,o);var d=this.gs[o];d.Bv>n.fd&&(d.Bv=n.fd),d.Qh<n.fd&&(d.Qh=n.fd),d.Av>n.Cc&&(d.Av=n.Cc),d.Iq<n.Cc&&(d.Iq=n.Cc),o--,l>>=1,s>>=1}};function gr(e,n,r,o,s){var l=1<<n,d,h;return o=fc(o,l),l=0<=r&&r<l&&(d=e.ci[n])&&(h=d[r])&&(l=h[o])||null,!l&&s&&0<=n&&(l=gr(e,n-1,r>>1,o>>1,s)),l}function hr(e,n,r,o,s,l){for(var d,h=[];r<=o;r++)for(d=s;d<=l;d++)h.push(gr(e,n,r,d,!1));return h}function ir(e,n){var r=0,o=0,s=gr(e,0,0,0,!1),l;return n.fm||(n.z===e.cf?n.Aj=n.Cc:(jr(e,n,function(d){var h=kr(e,d),p=4-h.length;if(d.z!==e.cf){for(l=0;l<h.length;l++)r+=h[l].Cc,o++;r+=p*s.Cc,o+=p}}),n.Aj=r/o),n.fm=!0),n.Aj}function jr(e,n,r){n=[n];for(var o,s;0<n.length;)s=n.shift(),o=kr(e,s),r(s),n.push.apply(n,o)}function kr(e,n){var r=[],o,s,l;for(s=0;1>=s;s++)for(l=0;1>=l;l++)(o=gr(e,n.z+1,2*n.x+s,2*n.y+l,!1))&&r.push(o);return r}Zq.prototype.clear=function(){Zq.call(this,this.cf,this.Ra,this.oj)};function dr(e,n,r){this.x=e,this.y=n,this.z=r,this.Cc=this.fd=this.count=0,this.fm=!1,this.Aj=0}dr.prototype.zc=function(e,n){this.count++,this.fd+=e.value||1,this.Cc=this.fd/Math.pow(2,2*(30-n))};function br(e,n,r){this.x=e,this.y=n,this.z=r,this.Cc=this.fd=this.count=0,this.fm=!1,this.Aj=0}br.prototype.zc=function(e){e=e.value,this.fd+=e!==void 0?e:1,this.Cc=this.fd/++this.count,this.fm=!1};function $q(){this.Bv=this.Av=1/0,this.Qh=this.Iq=-1/0}function lr(e,n){var r,o=0;if(!ya(e)||Sa(e))throw new C(lr,0,e);for(r in e){var s=+r;if(o++,!(ob(s)&&0<=s&&1>=s&&lb(e[r])))throw new C(lr,0,e)}if(2>o)throw new C(lr,0,"Specify at least 2 stops");this.pD=e,this.Ru=!!n}t("H.data.heatmap.Colors",lr);var mr=new lr({0:"#008","0.2":"#0b0","0.5":"#ff0","0.7":"#f00"},!0);lr.DEFAULT=mr;function nr(e){var n=e||{},r=+n.sampleDepth,o=n.pointSize;e=+n.coarseness;var s=n.colors,l={min:n.min,max:n.max,engineType:n.engineType},d=n.tileSize,h=+n.dataMax;if(n.tileSize&&(l.tileSize=d),R.call(this,l),this.Fg(n.opacity),this.Ra=n.type==="value"?ar:or,this.sampleDepth_=ob(r)?gc(Math.round(r),1,8):4,this.Lw=this.Ra===or?ob(o)?gc(Math.round(7-o),0,6):2:1,this.et=!!n.assumeValues,n=this.max,this.oj=ob(h)?gc(Math.round(h),this.min,n+this.sampleDepth_):n,e=ob(e)?gc(Math.round(e),0,3):1,s&&!B(s,lr))throw new C(nr,0,"colors");this.Bi=new Zq(n+this.sampleDepth_+this.Lw,this.Ra,this.oj),this.vD=new Xq(this.tileSize,e,s||mr),this.sg=z(this.sg,this),this.mg=z(this.mg,this),this.Mn=new pl(20,this.sg)}u(nr,R),t("H.data.heatmap.Provider",nr),nr.prototype.Fd=function(e){this.Fg(e)},nr.prototype.setOpacity=nr.prototype.Fd,nr.prototype.Ve=function(){return this.Sc},nr.prototype.getOpacity=nr.prototype.Ve,nr.prototype.zk=We,nr.prototype.providesRasters=nr.prototype.zk,nr.prototype.o=function(e,n,r,o,s){var l=this.et,d,h;if(gr(this.Bi,0,0,0,!1)){if(!l){var p=hr(this.Bi,r,n-1,n+1,e-1,e+1);for(d=p.length;d--&&!l;)if(p[d]!==null){l=!0;break}}l&&(h=this.Mn.push([e,n,r,o,s],this.mg))}return l||o(null),h||Sk},nr.prototype.requestInternal=nr.prototype.o,nr.prototype.sg=function(e,n){var r=e.done,o=n[0],s=n[1],l=n[2];n=document.createElement("canvas");var d=this.tileSize,h=n.getContext("2d");n.width=n.height=d;var p=this.vD,g=this.Bi,y=this.et,v=this.Ra,w=this.Lw,k=p.$A,F=p.vy,q,_r,ga=v===or?w===void 0?2:w:1;w=ga,ga=Math.min(this.sampleDepth_+ga,p.CB);var La=p.wy,jc=g.cf;if(y&&v===ar){for(_r=-1;1>=_r;_r++)for(y=-1;1>=y;y++){var _l=(_l=gr(g,l,s+_r,o+y,!0))?g.normalize(ir(g,_l)):128;F.fillStyle="rgba("+_l+",128,0,1)",F.fillRect((y+1)*k,(_r+1)*k,k,k)}y=k-Math.floor(k/10),_r=3,_l=F.getImageData(0,0,La,La),Vq(_l.data,y,La,La,_r),F.putImageData(_l,0,0)}else F.fillStyle=y?p.hy:p.Tx,F.fillRect(0,0,La,La);for(;w<=ga&&l+w<=jc;w++){y=k>>w,_r=k-y;var e1=v===or?127+Math.floor(128/(1<<ga-w)):255;_l=(1<<w)+2;var n1=1<<w,d1=o<<w,c1=s<<w;for(n1=hr(g,l+w,c1-1,c1+n1,d1-1,d1+n1),d1=n1.length;d1--;){c1=d1%_l;var h1=d1/_l<<0;(q=n1[d1])&&(q=g.normalize(q.Cc),F.fillStyle="rgba("+q+","+e1+",0,1)",F.fillRect(c1*y+_r,h1*y+_r,y,y))}_l=F,e1=y,n1=_r,d1=k+2*y,y=k+2*y,c1=c1=3,h1=F.getImageData(n1,_r,d1,y),Vq(h1.data,e1,d1,y,c1),_l.putImageData(h1,n1,_r)}for(o=F.getImageData(0,0,La,La),s=p.Dy,l=p.aB,g=o.data,ga=0,La=g.length;ga<La;ga+=4)v=g[ga],w=g[ga+1],s.length===4&&(v=0),g[ga]=s[4*v],g[ga+1]=s[4*v+1],g[ga+2]=s[4*v+2],g[ga+3]=s[4*v+3]*(l?w/255:10>w?0:1);F.putImageData(o,0,0),p=new Yq(p.Ec,k),k=p.size,h.drawImage(p.canvas,k,k,k,k,0,0,d,d),r.call(e,n)},nr.prototype.mg=function(e,n,r){var o=e.data;e=o[3],o=o[4],r?o():e(n)},nr.prototype.Zs=function(e,n){var r;if(!kb(e))throw new C(this.Zs,0,e);if(r=e.length){for(;r--;)this.Bi.zc(e[r]);e=this.Bi;var o;r=e.gs;var s=e.cf,l=0;if(e.Ra===or){var d=r[e.cf].Qh;for(o=e.cf;0<=o&&r[o].Qh===d;o--)l=o;for(d=r[0].Qh,o=0;o<=l&&d===r[o].Qh;o++)s=o;l>e.oj&&(l=e.oj),d=Math.round(s+(l-s)/2),e.bu=fr/Math.log(r[d].Iq)}this.reload(!!n)}},nr.prototype.addData=nr.prototype.Zs,nr.prototype.clear=function(){this.Bi.clear(),this.reload(!0)},nr.prototype.clear=nr.prototype.clear;var or=0,ar=1;function pr(){}t("H.data.utils.Dom",pr),pr.prototype.sh=function(e){return!!e&&/^\s*(1|true)\s*$/i.test(this.Ua(e))},pr.prototype.getBoolean=pr.prototype.sh,pr.prototype.Ua=function(e){var n;try{if(e.nodeType===Node.ATTRIBUTE_NODE)return e.value;var r="",o=0,s=e.childNodes;for(n=s.length;o<n;o++)s[o].nodeType!==Node.COMMENT_NODE&&(r+=s[o].nodeValue.replace(/^\s+|\s+$/g,""))}catch{}return r||""},pr.prototype.getString=pr.prototype.Ua,pr.prototype.mm=function(e){return parseFloat(this.Ua(e))||0},pr.prototype.getFloat=pr.prototype.mm,pr.prototype.bw=function(e){var n=e.split(/\s+/),r=n.length,o=!(n&&r==1),s=o?1:3,l=[],d;for(o||(n=e.split(","),r=n.length),d=0;d<r;d+=s)if(e=this.fr(o?n[d]:d+3>n.length?null:n.slice(d,d+3)))l.push(e);else return[];return l},pr.prototype.parseCoords=pr.prototype.bw,pr.prototype.fr=function(e){if(!e)return null;var n=e instanceof Array&&0<e.length&&4>e.length?e:e.split(",");e=parseFloat(n[0]);var r=parseFloat(n[1]);return n=parseFloat(n[2]),isNaN(r)||isNaN(e)?null:new tc(r,e,isNaN(n)?void 0:n)},pr.prototype.parseCoord=pr.prototype.fr,pr.prototype.km=function(e){return e=this.Ua(e),/^[0-9a-fA-F]{8}$/.test(e)?"#"+e.substr(6,2)+e.substr(4,2)+e.substr(2,2)+e.substr(0,2):"#000000ff"},pr.prototype.getColor=pr.prototype.km;function qr(){this.ZA={4:function(e){return["#",e.charAt(1),e.charAt(1),e.charAt(2),e.charAt(2),e.charAt(3),e.charAt(3),"ff"].join("")},5:function(e){return["#",e.charAt(1),e.charAt(1),e.charAt(2),e.charAt(2),e.charAt(3),e.charAt(3),e.charAt(4),e.charAt(4)].join("")},7:function(e){return e+"ff"},9:function(e){return e}},this.UC={4:function(e){return[rr(e.charAt(1)),rr(e.charAt(2)),rr(e.charAt(3)),255]},5:function(e){return[rr(e.charAt(1)),rr(e.charAt(2)),rr(e.charAt(3)),rr(e.charAt(4))]},7:function(e){return e=parseInt(e.substring(1),16),[e>>16&255,e>>8&255,e&255,255]},9:function(e){return e=parseInt(e.substring(1),16),[e>>24&255,e>>16&255,e>>8&255,e&255]}}}t("H.data.utils.ColorHelper",qr);function rr(e){return e=parseInt(e,16),(e<<4)+e}function sr(e){return 16>e?"0"+Math.round(e).toString(16):Math.round(e).toString(16)}function tr(e,n,r){return/^(#|rgb).*/.test(n)?(r||(r="",n.charAt(0)==="#"?r=e.ZA[n.length]?n:"":n.substr(0,3)==="rgb"&&(n=n.match(/\d+(\.\d+)?/g),r=n.length,r=2<r&&5>r?["#",sr(+n[0]),sr(+n[1]),sr(+n[2]),3<r?sr(255*+n[3]):"ff"].join(""):""),n=r),e=e.UC[n.length](n),e[3]=Math.round(e[3]/255*100)/100,e):[0,0,0,255]}qr.prototype.wx=function(e,n){var r="";if(!/^(#|rgb).*/.test(e)){for(r="",e=0;6>e;e++)r+="ABCDEF0123456789".charAt(Math.floor(16*Math.random()));return r+"ff"}for(e=tr(this,e,n),n=0;4>n;n++)r+=""+sr(3>n?Math.floor(Math.random()*(e[n]-0+1))+0:255*e[n]);return r},qr.prototype.toRandomRGBA=qr.prototype.wx;function ur(e){e=e.childNodes;for(var n,r=e.length,o=new pr,s=new qr;r--;)switch(n=e[r],n.nodeName){case"color":this.color=o.km(n);break;case"colorMode":this.Cy=o.Ua(n)}this.Cy==="random"&&(this.color="#"+s.wx(this.color,!1))}t("H.data.kml.ColorStyle",ur);function vr(e){var n=e.childNodes,r=n.length,o=new pr;for(this.outline=this.fill=!0,this.Ml=new ur(e);r--;)switch(e=n[r],e.nodeName){case"fill":this.fill=o.sh(e);break;case"outline":this.outline=o.sh(e)}}t("H.data.kml.PolyStyle",vr);function wr(e){var n=e.childNodes,r=new pr;for(this.offsetX=this.offsetY=0,e=n.length;e--;){var o=n[e];switch(o.nodeName){case"href":this.href=r.Ua(o)}}}t("H.data.kml.Icon",wr);function xr(e){e=e.attributes;for(var n,r=e.length;r--;)switch(n=e[r],n.name){case"x":this.x=parseFloat(n.value);break;case"y":this.y=parseFloat(n.value);break;case"xunits":this.Ze=pr.prototype.Ua(n)==="fraction";break;case"yunits":this.$d=pr.prototype.Ua(n)==="fraction"}}t("H.data.kml.HotSpot",xr);function yr(e){var n;if(e){e=e.childNodes;var r=e.length;for(n=new pr;r--;){var o=e[r];switch(o.nodeName){case"scale":this.scale=n.mm(o);break;case"Icon":this.icon=o=new wr(o);break;case"hotSpot":this.Gu=o=new xr(o)}}}}t("H.data.kml.IconStyle",yr);function zr(e){var n=e.childNodes,r=n.length,o=new pr;for(this.Ml=new ur(e);r--;)e=n[r],e.nodeName==="width"&&(this.width=o.mm(e))}t("H.data.kml.LineStyle",zr);function Ar(e){e=e.childNodes;for(var n,r=e.length,o=new pr;r--;)switch(n=e[r],n.nodeName){case"bgColor":this.bgColor=o.km(n);break;case"textColor":this.textColor=o.km(n);break;case"text":this.text=o.Ua(n);break;case"displayMode":this.displayMode=o.Ua(n)}}t("H.data.kml.BalloonStyle",Ar);function Br(e){var n=e.childNodes,r=n.length;for(this.id=e.getAttribute("id");r--;)switch(e=n[r],e.nodeName){case"IconStyle":this.Iu=e=new yr(e);break;case"LineStyle":this.Nh=e=new zr(e);break;case"PolyStyle":this.iw=e=new vr(e);break;case"BalloonStyle":this.Dl=e=new Ar(e)}}t("H.data.kml.Style",Br);function Cr(e,n){e=e.childNodes;var r=e.length,o=new pr;for(this.rD=n;r--;)switch(n=e[r],n.nodeName){case"key":this.key=o.Ua(n);break;case"styleUrl":this.bl=o.Ua(n)}}t("H.data.kml.Pair",Cr),Cr.prototype.K=function(){if(this.bl){var e=this.key==="highlight";e=this.rD.Rp(this.bl.substr(1),e)}return e},Cr.prototype.getStyle=Cr.prototype.K;function Dr(e,n){var r=e.childNodes,o=r.length;for(this.hs=n,this.id=e.getAttribute("id"),this.un=[];o--;)e=r[o],e.nodeName==="Pair"&&(e=new Cr(e,this.hs),this.un.push(e))}t("H.data.kml.StyleMap",Dr),Dr.prototype.K=function(e){var n=null;e=e?"highlight":"normal";for(var r=this.un.length;r--;)this.un[r].key===e&&(n=this.un[r].K());return n},Dr.prototype.getStyle=Dr.prototype.K;function Er(){this.kx={}}t("H.data.kml.StyleContainer",Er),Er.prototype.Ao=function(e){e&&e.id&&(this.kx["style_"+e.id]=e)},Er.prototype.addStyle=Er.prototype.Ao,Er.prototype.Rp=function(e,n){return e=this.kx["style_"+e],e instanceof Dr&&(e=e.K(n)),e},Er.prototype.getStyleById=Er.prototype.Rp;function Fr(e){e=e.childNodes;for(var n,r=e.length,o=new pr;r--;)if(n=e[r],n.nodeName==="coordinates"){n=o.Ua(n);var s=[],l=new pr;try{s=l.bw(n)}catch{s=[]}this.Tl=2>s.length?[]:s}}t("H.data.kml.Line",Fr),Fr.prototype.vh=function(){for(var e=new J,n=this.Tl?this.Tl.length:0;n--;)e.tg(this.Tl[n]);return e};function Gr(){}Gr.prototype.elevation=0,Gr.prototype.Ut=0;function Hr(e){var n=e.childNodes,r=n.length;for(this.Tt=new J,this.Qu=[];r--;){var o=n[r],s=o.nodeName;if(s==="outerBoundaryIs"||s==="innerBoundaryIs"){var l=o.childNodes;for(o=l.length;o--;){var d=l[o];if(d.nodeName==="LinearRing"){var h=new Fr(d);if(s==="outerBoundaryIs"){this.Tt=h.vh();var p=void 0,g=e,y=h.Tl;h=new pr;var v=g.querySelector("altitudeMode");if(v&&v.parentNode===g&&!/^\s*clampTo/.test(h.Ua(v))&&y){v=y.length;for(var w=0;w<v&&p!==0;w++){var k=y[w].alt;k?p?k!==p&&(p=0):p=k:p=0}(y=g.querySelector("*|altitudeOffset"))&&y.parentNode===d&&y.namespaceURI==="http://www.google.com/kml/ext/2.2"&&(d=h.mm(y))&&(p+=d),p&&(p=Eb(2047,p),(d=g.querySelector("extrude"))&&d.parentNode===g&&h.sh(d)?this.Ut=p:this.elevation=p)}}else this.Qu.push(h.vh())}}}}}u(Hr,Gr),t("H.data.kml.Polygon",Hr);function Ir(e,n){var r=e&&e.childNodes||[],o=new pr;if(!e||!n)throw Error("Node or stylesContainer is not defined");for(this.visibility=!0,this.uC=e,e=r.length;e--;){var s=r[e];switch(s.nodeName){case"name":this.name=o.Ua(s);break;case"description":this.description=o.Ua(s);break;case"visibility":this.visibility=o.sh(s);break;case"open":this.open=o.sh(s);break;case"styleUrl":(this.bl=o.Ua(s))&&(s=this.bl.substr(1),this.gz=n.Rp(s,!1));break;case"Style":this.pv=s=new Br(s)}}}t("H.data.kml.Feature",Ir);function Jr(e){e=e.childNodes;for(var n,r=e.length,o=null,s=new pr;r--;)n=e[r],n.nodeName==="coordinates"&&(o=s.Ua(n));this.lv=null,o&&(this.lv=s.fr(o)||null)}t("H.data.kml.Point",Jr),Jr.prototype.vh=function(){return this.lv};function Kr(e,n){var r=document.createElement("CANVAS");r.width=1,r.height=1,this.hs=e,this.eq={},this.hr={},this.az=new zm(r),this.md=n||""}Kr.prototype.create=function(e){return this.oh=new Ir(e,this.hs),Lr(this,e)};function Lr(e,n,r){n=n.childNodes;for(var o=n.length,s,l={},d;o--;){var h=n[o];switch(h.nodeName){case"Point":h=new Jr(h),d=Mr(e,"Marker"),(h=h.vh())&&(s=new bn(h,d),d.gr&&Ed(d.gr,"statechange",z(e.gC,e,d.gr,s,d),!1));break;case"LineString":h=new Fr(h),d=Mr(e,"Polyline"),s=new Bi(h.vh(),d);break;case"LinearRing":h=new Fr(h),d=Mr(e,"Polyline"),s=new Bi(h.vh(),d);break;case"Polygon":h=new Hr(h),d=Mr(e,"Polygon"),d.elevation=h.elevation,d.extrusion=h.Ut,s=new Kh(new L(h.Tt,h.Qu),d);break;case"MultiGeometry":s=Lr(e,h,new T)}s&&(e.oh.name&&(l.name=e.oh.name),e.oh.description&&(l.description=e.oh.description),d&&d.Dl&&(l.balloonStyle=d.Dl),l.kmlNode=e.oh.uC,s.setData(l),r&&r.Y(s))}return r||s}Kr.prototype.gC=function(e,n,r){var o=r.anchor,s=r.scale;r=s+"_"+o.x+o.y+o.Ze+o.$d+"_"+r.href;var l={};if(e.getState()===1){var d=this.eq[r];if(!d){var h=o.x,p=o.y;(d=e.mc())&&(d={w:d.w*s,h:d.h*s},l.size=d),h=o.Ze&&d?d.w*h:h*s,p=o.$d&&d?d.h*(1-p):!o.$d&&d?d.h-p*s:p*s,l.anchor={x:h,y:p},d=new zm(e.Te(),l),this.eq[r]=d}n.we(d)}delete this.hr[r]};function Mr(e,n){var r=e.oh,o={visibility:r.visibility},s=new qr,l=1,d={x:0,y:0,Ze:!1,$d:!1},h=Nr(e,r.gz);switch(r.pv&&(h=Nr(e,r.pv,h)),n){case"Marker":if(h&&h.Iu){if(s=h.Iu,s.scale&&(l=s.scale),s.Gu){var p=s.Gu;d={x:p.x,y:p.y,Ze:p.Ze,$d:p.$d}}s.icon&&s.icon.href?(n=s.icon.href,Or.test(n)||(n=e.md+n),s=l+"_"+d.x+d.y+d.Ze+d.$d+"_"+n,p=e.eq[s]||e.hr[s],p||(p=new zm(n),e.hr[s]=p),p.getState()===0?(o.icon=e.az,o.gr=p,o.href=n,o.anchor=d,o.scale=l):p.getState()===1&&(o.icon=p)):l!==1&&(p||(d={x:14,y:4,Ze:!1,$d:!1}),s=zm,e=e.Dp(),p={w:28*l,h:36*l},l={size:new Xh(p.w,p.h),anchor:new K(d.Ze?p.w*d.x:d.x*l,d.$d?p.h*(1-d.y):p.h-d.y*l),hitArea:new Gi(Hi.POLYGON,[0*l,16*l,0*l,7*l,8*l,0*l,18*l,0*l,26*l,7*l,26*l,16*l,18*l,34*l,8*l,34*l])},o.icon=new s(e,l))}break;case"Polyline":o.style={},h&&h.Nh&&(l=h.Nh,o.style.strokeColor="rgba("+tr(s,l.Ml.color,!0)+")",0<=l.width&&(o.style.lineWidth=l.width));break;case"Polygon":o.style={},h&&(h.Nh&&(l=h.Nh,o.style.strokeColor="rgba("+tr(s,l.Ml.color,!0)+")",0<=l.width&&(o.style.lineWidth=l.width)),h.iw&&(l=h.iw,o.style.fillColor=l.fill?"rgba("+tr(s,l.Ml.color,!0)+")":"rgba(0,0,0,0)",l.outline||(o.style.lineWidth=0)))}return o.Dl=h.Dl,o}function Nr(e,n,r){r=r||{};for(var o in n)n.hasOwnProperty(o)&&(r[o]=typeof n[o]=="object"?Nr(e,n[o],r[o]):n[o]);return r}var Or=/^[^:\/]+:/;Kr.prototype.Dp=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="28px" height="36px"><path d="M 19 31 C 19 32.7 16.3 34 13 34 C 9.7 34 7 32.7 7 31 C 7 29.3 9.7 28 13 28 C 16.3 28 19 29.3 19 31 Z" fill="#000" fill-opacity=".2"/><path d="M 13 0 C 9.5 0 6.3 1.3 3.8 3.8 C 1.4 7.8 0 9.4 0 12.8 C 0 16.3 1.4 19.5 3.8 21.9 L 13 31 L 22.2 21.9 C 24.6 19.5 25.9 16.3 25.9 12.8 C 25.9 9.4 24.6 6.1 22.1 3.8 C 19.7 1.3 16.5 0 13 0 Z" fill="#fff"/><path d="M 13 2.2 C 6 2.2 2.3 7.2 2.1 12.8 C 2.1 16.1 3.1 18.4 5.2 20.5 L 13 28.2 L 20.8 20.5 C 22.9 18.4 23.8 16.2 23.8 12.8 C 23.6 7.07 20 2.2 13 2.2 Z" fill="#18d"/></svg>'};function Pr(e){gb(this,Pr),this.url=e,this.gj=[],this.be=x,this.lj=z(this.lj,this),I.call(this)}u(Pr,I),t("H.data.AbstractReader",Pr);var Qr={ERROR:-1,LOADING:0,VISIT:1,READY:2};Pr.State=Qr,Pr.prototype.state=Qr.READY,Pr.prototype.j={gy:"statechange"},Pr.prototype.Tb=function(){if(!this.be){this.be=new P;var e=this.be.sd();e.kd(this.gj)}return new tl(this.be)},Pr.prototype.getLayer=Pr.prototype.Tb,Pr.prototype.oA=function(){return this.gj.concat([])},Pr.prototype.getParsedObjects=Pr.prototype.oA,Pr.prototype.i=function(){return this.url},Pr.prototype.getUrl=Pr.prototype.i,Pr.prototype.fD=function(e){if(this.state===Qr.LOADING||this.state===Qr.VISIT)throw Error("InvalidState: state "+this.state);return this.gj=[],this.be=x,this.url=e,this},Pr.prototype.setUrl=Pr.prototype.fD,Pr.prototype.getState=function(){return this.state},Pr.prototype.getState=Pr.prototype.getState,Pr.prototype.F=function(e,n,r){this.state=e,this.dispatchEvent(new Rr(n||this,this.j.gy,e,r||""))},Pr.prototype.parse=function(){var e=this;fb(this.url)?(this.F(Qr.LOADING),new qg("text/plain",this.url).then(function(n){try{e.lj(n)}catch(r){e.F(Qr.ERROR,x,r.message)}},function(){e.F(Qr.ERROR,x,"Error loading file")})):e.F(Qr.ERROR,x,"File url was not set")},Pr.prototype.parse=Pr.prototype.parse;function Rr(e,n,r,o){Rr.g.constructor.call(this,n,e),this.state=r,this.message=o}u(Rr,pd),Pr.Event=Rr;function Sr(e){var n=e?e.lastIndexOf("/"):-1;this.Ak=[],Pr.call(this,e),0<=n&&(this.kB=e.substr(0,n)+"/")}u(Sr,Pr),t("H.data.kml.Reader",Sr),Sr.prototype.lj=function(e){var n,r=null;if(lb(e)&&e.trim()!=""){try{var o=new DOMParser().parseFromString(e,"text/xml")}catch{this.F(Qr.ERROR,x,"Error parsing KML document");return}if(o.getElementsByTagName("parsererror").length)this.F(Qr.ERROR,x,"Error parsing KML document");else if((e=o.childNodes&&o.childNodes[0].nodeName==="kml"?o.childNodes[0]:void 0)&&(n=Tr(e.childNodes,"Document")[0]),n=n||e){o=new Er;for(var s=Tr(n.childNodes,"Style"),l=Tr(n.childNodes,"StyleMap"),d=s.length;d--;)e=new Br(s[d]),o.Ao(e);for(d=l.length;d--;)e=new Dr(l[d],o),o.Ao(e);for(this.RB=new Kr(o,this.kB),e=n.childNodes,n=e.length;n--;)s=e[n],o=r,s.nodeName==="Placemark"?(s=this.RB.create(s))&&this.Rg(s,o):s.nodeName==="Folder"&&(s={group:new T,node:s},this.Rg(s.group,o),this.Ak.push(s)),!n&&(o=this.Ak.shift())&&(e=o.node.childNodes,r=o.group,n=e.length);this.F(Qr.READY)}else this.F(Qr.ERROR,x,"Invalid KML document")}else this.F(Qr.ERROR,x,"Unable to create objects from the empty data")},Sr.prototype.Rg=function(e,n){n?n.Y(e):(this.be&&this.be.sd().Y(e),this.gj.push(e),this.F(Qr.VISIT,e))};function Tr(e,n){for(var r=e.length,o,s=[];r--;)o=e[r],o.nodeName===n&&s.push(o);return s}function Ur(e,n){this.Ya=e,this.Pe=n}Ur.prototype.create=function(e,n){var r=e.coordinates;switch(e.type){case"Point":var o=new bn(Vr(r));break;case"LineString":o=new Bi(Wr(r));break;case"Polygon":o=new Kh(Xr(r));break;case"MultiPoint":var s=0,l=r.length;if(o=[],this.Pe){for(;s<l;s++)o.push(Vr(r[s]));r=new bn(new Nf(o))}else{for(;s<l;s++)o.push(new bn(Vr(r[s])));r=new T,r.kd(o)}o=r,l="multiPoint";break;case"MultiLineString":if(s=0,l=r.length,o=[],this.Pe){for(;s<l;s++)o.push(Wr(r[s]));r=new Bi(new Lf(o))}else{for(;s<l;s++)o.push(new Bi(Wr(r[s])));r=new T,r.kd(o)}o=r,l="multiLineString";break;case"MultiPolygon":if(o=[],s=0,l=r.length,this.Pe){for(;s<l;s++)o.push(Xr(r[s]));r=new Kh(new Mf(o))}else{for(;s<l;s++)o.push(new Kh(Xr(r[s])));r=new T,r.kd(o)}o=r,l="multiPolygon";break;case"GeometryCollection":r=o=new T,s=e.geometries,l=0;for(var d=s.length;l<d;l++)this.create(s[l],r);l="geometryCollection"}return o&&(r=o,s=e.properties,e=e.id,d={},s&&(this.Pe?d=s:d.properties=s),l&&!this.Pe&&(d[l]=!0),e&&r.Zr(e),r.setData(d),this.Ya(o)),n&&o&&n.Y(o),o},Ur.prototype.create=Ur.prototype.create;function Vr(e){return new tc(e[1],e[0])}function Xr(e){for(var n=Wr(e[0]),r=[],o,s=1,l=e.length;s<l;s++)o=Wr(e[s]),r.push(o);return new L(n,r)}function Wr(e){for(var n=0,r=e.length,o=new J;n<r;n++)o.tg(Vr(e[n]));return o}function Yr(e,n){n=n||{},this.Ya=n.style||this.gh,(this.Pe=!!n.disableLegacyMode)||window.console.warn("H.data.geojson.Reader: Legacy parser is enabled in GeoJSON Reader. Features like Multi-Geometries, Polygon interiors and GeoJSON feature properties might not work as expected. To maximise compatibility with the remote services it is recommended to set the `disableLegacyMode` flag to true."),Pr.call(this,e)}u(Yr,Pr),t("H.data.geojson.Reader",Yr),Yr.prototype.lj=function(e){var n,r;try{var o=typeof e=="string"?JSON.parse(e):e;if(typeof o=="object"){var s=new Ur(this.Ya,this.Pe);switch(o.type){case"FeatureCollection":if(n=o.features){var l=new T;for(this.Rg(l),r=0;r<n.length;r++){var d=Zr(n[r]);(d=s.create(d))&&l.Y(d)}}break;case"Feature":d=Zr(o),(d=s.create(d))&&this.Rg(d);break;default:(d=s.create(o))&&this.Rg(d)}this.F(Qr.READY)}else this.F(Qr.ERROR,x,"Invalid syntax")}catch(h){this.F(Qr.ERROR,x,"Parse error. "+h.message)}},Yr.prototype.rC=function(e){this.F(Qr.LOADING),this.lj(e)},Yr.prototype.parseData=Yr.prototype.rC,Yr.prototype.gh=function(){};function Zr(e){var n={};if(e.geometry){var r=e.geometry;n.type=r.type,n.properties=e.properties,r.coordinates&&(n.coordinates=r.coordinates),r.geometries&&(n.geometries=r.geometries),e.id&&(n.id=e.id)}return n}Yr.prototype.Rg=function(e){this.be&&this.be.sd().Y(e),this.gj.push(e),this.F(Qr.VISIT,e)},t("H.data.buildInfo",function(){return Wh("H-data","1.61.0","3b08619",{region:"row"})}),Gc.prototype.Ae=da(1,function(e,n){this.root.Ae(e,ob(n)?n:this.Ph)}),Lc.prototype.Ae=da(0,function(e,n){var r=0,o;if(!e(this)&&n--)for(;3>=r;r++)(o=this[r])&&o.Ae(e,n)});function $r(e,n){this.ir=e,this.ee=n}t("H.clustering.grid.NoisePoint",$r),$r.prototype.ya=function(){return vc(this.ir)},$r.prototype.getPosition=$r.prototype.ya,$r.prototype.Xd=function(){return this.ir.wt},$r.prototype.getWeight=$r.prototype.Xd,$r.prototype.Zf=Xe,$r.prototype.isCluster=$r.prototype.Zf,$r.prototype.Td=function(){return this.ee},$r.prototype.getMinZoom=$r.prototype.Td,$r.prototype.getData=function(){return this.ir.data},$r.prototype.getData=$r.prototype.getData;function as(e,n,r){this.Jq=this.ee=r,this.jr=[],this.us=0,this.J=Wc(e,n,!0)}t("H.clustering.grid.Cluster",as),as.prototype.Pi=function(e){this.Uc||(this.Uc=vc(e)),this.us+=e.wt||1,this.jr.push(e)},as.prototype.ya=function(){return this.Uc},as.prototype.getPosition=as.prototype.ya,as.prototype.Xd=function(){return this.us},as.prototype.getWeight=as.prototype.Xd,as.prototype.Zf=We,as.prototype.isCluster=as.prototype.Zf,as.prototype.Td=function(){return this.ee},as.prototype.getMinZoom=as.prototype.Td,as.prototype.om=function(){return this.Jq},as.prototype.getMaxZoom=as.prototype.om,as.prototype.C=function(){return this.J},as.prototype.getBoundingBox=as.prototype.C,as.prototype.vp=function(e){this.zj(e)},as.prototype.forEachEntry=as.prototype.vp,as.prototype.zj=function(e){var n=this;if(!db(e))throw new C(this.zj,0,e);this.jr.forEach(function(r){e(new $r(r,n.ee+1))})},as.prototype.forEachDataPoint=as.prototype.zj;function bs(e){ed.call(this),this.fc=[];var n;e?Wa(n={},cs,e):n=cs,this.options=n,ed.call(this)}u(bs,ed);var ds={clusters:[],noisePoints:[]},cs={projection:ri,min:0,max:22,eps:32,minWeight:2};m=bs.prototype,m.ve=function(e){this.fc=e,this.qd=!0},m.zc=function(e){this.fc.push(e),this.qd=!0},m.Al=function(e){this.fc=this.fc.concat(e),this.qd=!0},m.Dk=function(e){this.fc=this.fc.filter(function(n){return n!==e}),this.qd=!0},m.disposeInternal=function(){bs.g.disposeInternal.call(this),delete this.fc},bs.prototype.disposeInternal=bs.prototype.disposeInternal,bs.prototype.Qw=Ye;function es(e){if(bs.call(this,e),e=this.options,e.projection!==ri)throw new C(es,0,"Other projection than mercator not supported yet");this.me=e.projection,this.lp=e.eps,this.KB=e.minWeight,this.fw=new si(this.me),new Vm().registerProcessor("cluster","H.clustering.dynamicgrid.worker"),this.hg=z(this.hg,this),this.Pq=z(this.Pq,this)}u(es,bs),es.prototype.Qw=function(e,n){this.Ly=e,this.My=Hb(n)},es.prototype.es=function(e,n){var r=this.Lg,o=this.Ly,s=this.My||0,l=!r||!(r.zoom===s&&r.Si.da(o));if(o&&(this.qd||l)){if(r&&3>r.state&&r.cancel(),this.qd=!1,r=this.lp,r>=128*Mb(2,s))var d=fs;else{l=this.fw,l.Va(s);var h=l.Gb(o.Oc());d=l.Gb(o.Mc()),h.y-=r,d.y+=r,h=l.sk(h);var p=l.sk(d);d=new E(h.lat,h.lng,p.lat,p.lng),r=l.Za(r,0).lng+180,d=d.de(h.lat,h.lng-r,p.lat,h.lng).de(h.lat,p.lng,p.lat,p.lng+r)}for(r=d,h=this.fc,d=[],l=h.length;l--;)r.Gf(h[l])&&d.push(h[l]);0<d.length?(this.Lg=new gs(o,s,d,this.lp,this.KB,this.me!==ri,e,n),this.Lg.then(this.hg,this.Pq)):e(ds)}},es.prototype.hg=function(e){Ca(e)||(e=new globalThis.Uint32Array(e));for(var n=this.Lg,r=n.hC,o=0,s=e[o++],l=Array(s),d=0,h=[],p=e.length,g=this.Lg.Oy,y=this.Lg.zoom;s--;)l[d++]=new $r(g[e[o++]],y);for(;o<p;){s=e[o++],d=g[e[o]];var v=this.fw,w=this.lp;v.Va(this.Lg.zoom);var k=v.Gb(d);for(d=v.Za(k.x-w,k.y-w),v=v.Za(k.x+w,k.y+w),d=new E(d.lat,d.lng,v.lat,v.lng),d=new as(d.Oc(),d.Mc(),y);s--;)d.Pi(g[e[o++]]);h.push(d)}r.call(n,{clusters:h,noisePoints:l})},es.prototype.Pq=function(e){lb(e)&&this.Lg.YB(e)};var fs=new E(90,-180,-90,180);es.prototype.disposeInternal=function(){es.g.disposeInternal.call(this)},es.prototype.disposeInternal=es.prototype.disposeInternal;function gs(e,n,r,o,s,l,d,h){this.Si=e,this.zoom=n,this.Oy=r,this.hC=d,this.YB=h,e=r.length,d=3*e,h=new(globalThis.Float64Array||Array)(d);for(var p;e--;)p=r[e],h[--d]=p.lat,h[--d]=p.lng,h[--d]=p.wt;Ce.call(this,"cluster",{message:[h,o,s,n,l]},void 0)}u(gs,Xm);function hs(e){bs.call(this,e)}u(hs,bs),hs.prototype.es=function(e){var n=this.options,r=n.min,o=n.max,s=[],l=[],d;if(this.qd){for(d=this.fc;r<=o;r++){for(var h,p=void 0,g,y,v,w,k,F,q,_r=r,ga=d,La=s,jc=l,_l=n.eps,e1=n.projection,n1=n.minWeight,d1=ga.length,c1=Math.pow(2,_r+8),h1=[];q=ga[--d1];)if(!q.Bs){for(y=e1.Se(q).scale(c1).floor(),F=c1,k=y.x,w=y.y,g=h1.length;g--;)h=h1[g],v=h.ya(),h.zs||(h.zs=e1.Se(v).scale(c1).floor()),v=h.zs,v=v.kb(y),v<F&&(F=v,p=h);p&&p.C().Gf(q)||(p=new as(e1.wn({x:(k-_l)/c1,y:(w-_l)/c1}),e1.wn({x:(k+_l)/c1,y:(w+_l)/c1}),_r),h1.push(p)),p.Pi(q),p=null}for(d1=h1.length;d1--;)if(h=h1[d1],g=h.Xd(),g<n1)for(h=h.jr,g=h.length;q=h[--g];)jc.push(new $r(q,_r)),q.Bs=!0;else La.push(h)}for(r=0,o=d.length;r<o;r++)delete d[r].Bs;this.qd=!1,e({clusters:s,noisePoints:l})}};function is(e){this.oa=e,this.ry=11,e=document.createElement("canvas");var n=e.getContext("2d"),r=this.oa,o=14*r;e.width=o,e.height=o,n.scale(r,r),n.beginPath(),n.strokeStyle="#FFFFFF",n.fillStyle="#1080DD",n.arc(7,7,6,0,2*Math.PI,!1),n.fill(),n.lineWidth=1,n.stroke(),this.PB=new zm(e,{size:{w:14,h:14},anchor:{x:7,y:7}}),this.ot={},this.pt={}}t("H.clustering.theme.Circular",is);function js(e,n,r){var o,s=document.createElement("canvas"),l=s.getContext("2d"),d=e.oa,h=n*d;return s.width=h,s.height=h,l.scale(d,d),d=n+":"+r,(o=e.ot[d])?l.putImageData(o,0,0):(n/=2,l.beginPath(),l.strokeStyle="rgba("+r+",0.2)",l.fillStyle="rgba("+r+",1)",l.arc(n,n,n/5*3,0,2*Math.PI,!1),l.fill(),l.lineWidth=n/5*4,l.stroke(),e.ot[d]=l.getImageData(0,0,h,h)),s}is.prototype.Bz=function(e){var n=e.Xd(),r=this.pt[n];if(!r){if(10>n){r=js(this,28,"118,209,0");var o={x:11,y:18}}else 25>n?(r=js(this,38,"255,105,0"),o={x:13,y:23}):50>n?(r=js(this,38,"240,60,0"),o={x:13,y:23}):100>n?(r=js(this,38,"181,0,21"),o={x:13,y:23}):1e3>n?(r=js(this,48,"181,0,21"),o={x:15,y:28}):(r=js(this,66,"181,0,21"),o={x:20,y:38});var s=r.getContext("2d");s.fillStyle="#FFFFFF",s.font="bold "+this.ry+"px Arial",s.fillText(String(n),o.x,o.y),o=r.width/this.oa,r=new zm(r,{size:{w:o,h:o},anchor:{x:o/2,y:o/2}}),this.pt[n]=r}return n=new bn(e.ya(),{icon:r,min:e.Td(),max:e.om()}),n.setData(e),n},is.prototype.getClusterPresentation=is.prototype.Bz,is.prototype.lA=function(e){var n=new bn(e.ya(),{icon:this.PB,min:e.Td()});return n.setData(e),n},is.prototype.getNoisePresentation=is.prototype.lA;function ks(e,n,r){this.qa=e,this.dm=n,this.ee=r}t("H.clustering.fastgrid.NoisePoint",ks),ks.prototype.ya=function(){return this.Uc||(this.Uc=this.qa.Za(this.dm[1],this.dm[0],1)),this.Uc},ks.prototype.getPosition=ks.prototype.ya,ks.prototype.Xd=function(){return this.dm.weight},ks.prototype.getWeight=ks.prototype.Xd,ks.prototype.Zf=Xe,ks.prototype.isCluster=ks.prototype.Zf,ks.prototype.Td=function(){return this.ee-this.qa.hh},ks.prototype.getMinZoom=ks.prototype.Td,ks.prototype.getData=function(){return this.dm.data},ks.prototype.getData=ks.prototype.getData;function ls(e,n,r,o){this.qa=e,this.uc=n,this.ee=r,this.Jq=o,this.wp=Ia(this.wp,this),this.up=Ia(this.up,this)}t("H.clustering.fastgrid.Cluster",ls),ls.prototype.ya=function(){return this.Uc||(this.Uc=this.qa.Za(this.uc.dj,this.uc.ej,this.uc.Gc)),this.Uc},ls.prototype.getPosition=ls.prototype.ya,ls.prototype.Xd=function(){return this.uc.Gc},ls.prototype.getWeight=ls.prototype.Xd,ls.prototype.Zf=We,ls.prototype.isCluster=ls.prototype.Zf,ls.prototype.Td=function(){return this.ee?this.ee-this.qa.hh:-1/0},ls.prototype.getMinZoom=ls.prototype.Td,ls.prototype.om=function(){return this.Jq-this.qa.hh},ls.prototype.getMaxZoom=ls.prototype.om,ls.prototype.C=function(){return this.J||(this.J=Wc(this.qa.Za(this.uc.dh,this.uc.cj,1),this.qa.Za(this.uc.aj,this.uc.bj,1),!0)),this.J},ls.prototype.getBoundingBox=ls.prototype.C,ls.prototype.vp=function(e){this.$t=e,this.uc.Ae(this.wp,bc)},ls.prototype.forEachEntry=ls.prototype.vp,ls.prototype.wp=function(e,n){var r=!1,o,s;if(e.Gc>=this.qa.Cv&&e!==this.uc&&e.Gc!==this.uc.Gc&&(this.$t(new ls(this.qa,e,0,n)),r=!0),!r&&(o=e.entries))for(e=o.length,s=0;s<e;s++)this.$t(new ks(this.qa,o[s],n));return r},ls.prototype.zj=function(e){this.kz=e,this.uc.Ae(this.up,bc)},ls.prototype.forEachDataPoint=ls.prototype.zj,ls.prototype.up=function(e,n){var r;if(e=e.entries){var o=e.length;for(r=0;r<o;r++)this.kz(new ks(this.qa,e[r],n))}return!1};function ms(e,n,r,o,s,l){this.Co=n,e&&(this.parent=e,n&1?(r=e[8],s=e[5]):(r=e[7],s=e[8]),n&2?(o=e[9],l=e[6]):(o=e[4],l=e[9])),this[7]=r,this[5]=s,this[8]=(r+s)/2,this[4]=o,this[6]=l,this[9]=(o+l)/2}m=ms.prototype,m.hb=0,m.th=function(e){return this[e]||(++this.hb,this[e]=new ms(this,e))},m.removeChild=function(e){var n=e.Co;this[n]===e&&(delete this[n],delete e.parent,--this.hb)},m.Ae=function(e,n){for(var r=0,o=this;o=o.parent;)++r;ns(this,e,n,r)};function ns(e,n,r,o){var s,l;if(!n(e,o)&&r--)for(++o,s=0;4>s;s++)(l=e[s])&&ns(l,n,r,o)}m.Qg=function(e){(this.entries||(this.entries=[])).push(e)},m.dj=0,m.ej=0,m.Gc=0;function os(e){this.Ph=e||10,this.Ck=this.Bk=this.Zi=this.Yi=2147483648,this.Em()}m=os.prototype,m.Em=function(){this.head=this.root=new ms(null,NaN,this.Yi-this.Bk,this.Zi-this.Ck,this.Yi+this.Bk,this.Zi+this.Ck)},m.Ll=function(){ps(this,this.root),this.Em()};function ps(e,n){var r,o;for(r=0;4>r;r++)(o=n[r])&&(ps(e,o),delete n[r]);delete n.parent,delete n.entries}m.ld=function(e){var n=this.head,r;if(e){var o=e;if(o!==n)for(n=o;o=o.parent;)(o.entries||1<o.hb)&&(n=o)}else for(;!n.entries&&2>(r=n.hb)&&r;)n=o;this.head=n},m.Zd=function(e,n,r,o){var s=this.root;if(!(e>=s[7]&&n>=s[4]&&e<=s[5]&&n<=s[6]))throw Error("Coordinates out of bounds");return this.Vb(this.root,e,n,r,this.Ph,o)},m.Vb=function(e,n,r,o,s,l){var d=e.entries;return s?e.hb?d=this.Sj(e,n,r,o,s,l):d?(d=d[0],d=e.th(+(d[1]>=e[8])|+(d[0]>=e[9])<<1),d.entries=e.entries,d.dj=e.dj,d.ej=e.ej,d.Gc=e.Gc,d.dh=e.dh,d.cj=e.cj,d.aj=e.aj,d.bj=e.bj,delete e.entries,this.ld(d),d=this.Sj(e,n,r,o,s,l)):(e.Qg(d=new qs(n,r,o,l)),this.ld(e)):(d||this.ld(e),e.Qg(d=new qs(n,r,o,l))),e.dj+=n*o,e.ej+=r*o,e.Gc+=o,e.dh===A?(e.dh=e.aj=n,e.cj=e.bj=r):(n<e.dh?e.dh=n:n>e.aj&&(e.aj=n),r<e.cj?e.cj=r:r>e.bj&&(e.bj=r)),d},m.Sj=function(e,n,r,o,s,l){return this.Vb(e.th(+(n>=e[8])|+(r>=e[9])<<1),n,r,o,s-1,l)},m.Ae=function(e,n){ns(this.root,e,n===+n?n:this.Ph,0)};function qs(e,n,r,o){this[0]=n,this[1]=e,this.weight=r,this.data=o}function rs(e){bs.call(this,e),e=this.options,this.me=e.projection,this.hk=e.min,this.fg=e.max,this.Cv=e.minWeight,this.hh=7-Gb(Kb(Fb(1,e.eps))/Ub),this.vr=new os(Fb(this.hk,this.fg+this.hh))}u(rs,bs),m=rs.prototype,m.ve=function(e){var n=0,r=e.length,o,s=new K(0,0),l=this.me,d=this.vr;for(rs.g.ve.call(this,e),d.Ll();n<r;n++)l.Se(o=e[n],s).scale(4294967296).floor(),d.Zd(s.x,s.y,o.wt,o.data);this.qd=!0},m.zc=function(e){rs.g.zc.call(this,e),this.ve(this.fc)},m.Al=function(e){for(var n=e.length,r=rs.g.zc;n--;)r.call(this,e[n]);this.ve(this.fc)},m.Dk=function(e){rs.g.Dk.call(this,e),this.ve(this.fc)},m.Za=function(e,n,r,o){return this.me.Za(e/r/4294967296,n/r/4294967296,o)},m.es=function(e){if(this.qd){var n={clusters:[],noisePoints:[]};ss(this,this.vr.root,0,this.fg+this.hh,-1/0,n,null),this.qd=!1,e(n)}};function ss(e,n,r,o,s,l,d){var h=n.Gc,p;if(d&&(d.node.Gc!==h?(l.clusters.push(new ls(e,d.node,d.depth,r-1)),d=null):s++),d||(h>=e.Cv?(d={node:n,depth:r},s=r):ts(e,n,s+1,l)),n.hb&&o--)for(r++,h=0;4>h;h++)(p=n[h])&&(ss(e,p,r,o,s,l,d),d=null);d&&l.clusters.push(new ls(e,d.node,d.depth,e.fg+e.hh))}function ts(e,n,r,o){n=n.entries;var s;if(n){var l=n.length;for(o=o.noisePoints,s=0;s<l;s++)o.push(new ks(e,n[s],r))}else for(s=0;4>s;s++)(l=e[s])&&ts(e,l,r,o)}m.disposeInternal=function(){rs.g.disposeInternal.call(this),this.vr=null},rs.prototype.disposeInternal=rs.prototype.disposeInternal,t("H.clustering.DataPoint",function(e,n,r,o){this.lat=e,this.lng=n,this.wt=r===+r?r:1,this.data=o});function us(e,n){n=n||{};var r={},o=n.min||0,s=Fb(o,n.max||22);switch(o={min:o,max:s},us.g.constructor.call(this,o),this.oa=n.pixelRatio||Ke(),Wa(r,cs,o,n.clusteringOptions||{}),r.minWeight=Fb(cs.minWeight,r.minWeight),r.strategy){case vs.DYNAMICGRID:if(r.projection!==ri)throw new C(us,1,"Unsupported projection");this.qa=new es(r);break;case vs.GRID:this.qa=new hs(r);break;default:this.qa=new rs(r)}this.qa.ve(e),this.fl=n.theme||new is(this.oa),this.No=z(this.No,this),this.hg=z(this.hg,this),ws(this)}u(us,P),t("H.clustering.Provider",us),us.prototype.disposeInternal=function(){us.g.disposeInternal.call(this),this.Bg.ia(),this.qa.l(),delete this.qa,delete this.Qm,delete this.fl,globalThis.clearTimeout(this.hp)};var vs={FASTGRID:0,GRID:1,DYNAMICGRID:2};us.Strategy=vs,us.prototype.fy=150,us.prototype.No=function(){this.dispatchEvent("start"),this.qa.es(this.hg,Ye)};function ws(e,n,r){e.hp&&globalThis.clearTimeout(e.hp),n&&e.qa.Qw(n,r),e.hp=globalThis.setTimeout(e.No,e.fy)}us.prototype.hg=function(e){this.Qm=e,xs(this),this.dispatchEvent("end")},us.prototype.ve=function(e){this.qa.ve(e),ws(this)},us.prototype.setDataPoints=us.prototype.ve,us.prototype.zc=function(e){this.qa.zc(e),ws(this)},us.prototype.addDataPoint=us.prototype.zc,us.prototype.Al=function(e){this.qa.Al(e),ws(this)},us.prototype.addDataPoints=us.prototype.Al,us.prototype.Dk=function(e){this.qa.Dk(e),ws(this)},us.prototype.removeDataPoint=us.prototype.Dk,us.prototype.HA=function(){return this.fl},us.prototype.getTheme=us.prototype.HA,us.prototype.cD=function(e){this.fl=e,this.Qm&&(this.Bg.ia(),xs(this))},us.prototype.setTheme=us.prototype.cD;function xs(e){var n=e.Qm.clusters,r=e.Qm.noisePoints,o=n.length,s=r.length,l=0<o+s;for(e.Bg.ia();s--;){var d=r[s];e.Bg.Y(e.fl.getNoisePresentation(d))}for(;o--;)r=n[o],e.Bg.Y(e.fl.getClusterPresentation(r));l&&e.jb()}us.prototype.Vc=function(){return!0},us.prototype.providesDomMarkers=us.prototype.Vc,us.prototype.Wc=function(){return!0},us.prototype.providesMarkers=us.prototype.Wc,us.prototype.ne=function(){return!0},us.prototype.providesSpatials=us.prototype.ne,us.prototype.xk=function(e,n){ws(this,e,n)},us.prototype.preprocessData=us.prototype.xk,t("H.clustering.buildInfo",function(){return Wh("H-clustering","1.61.0","3b08619",{region:"row"})});function ys(e,n){e:{for(var r=e.length,o=typeof e=="string"?e.split(""):e,s=0;s<r;s++)if(s in o&&n.call(void 0,o[s],s,e)){n=s;break e}n=-1}return 0>n?null:typeof e=="string"?e.charAt(n):e[n]}var zs={};function As(e){var n=e.ownerDocument,r=n.documentElement;n=n.defaultView;var o=e.getBoundingClientRect();return e=o.left,o=o.top,isNaN(n.pageXOffset)?(e+=r.scrollLeft,o+=r.scrollTop):(e+=n.pageXOffset,o+=n.pageYOffset),new K(e,o)}function Bs(e,n,r){n=ob(n)?n+"px":n,r=ob(r)?r+"px":r,e.style[xk("transform")]="translate("+n+","+r+")"}var Cs,Ds=navigator.userAgent,Es=-1<Ds.indexOf("Android")&&-1<Ds.indexOf("Mozilla/5.0")&&-1<Ds.indexOf("AppleWebKit"),Fs=/AppleWebKit\/([\d.]+)/,Gs=Fs.exec(Ds)===null?null:parseFloat(Fs.exec(Ds)[1]);Cs=Es&&Gs!==null&&537>Gs;var Hs=document.createElement("T");function Is(){this.ax=this.Gt()}Is.prototype.Gt=function(){var e=navigator,n=[];return e&&(e.msPointerEnabled?n.push(Js):e.pointerEnabled&&n.push(Ks)),1>n.length&&("TouchEvent"in globalThis&&n.push(Ls),n.push(Ms)),n.push(Ns),n},Is.prototype.detectEventSets=Is.prototype.Gt,Is.prototype.addEventListener=function(e,n,r,o){for(var s=this.ax,l,d=s.length,h=!1;d--;)(l=s[d][n])&&(h=!0,e.addEventListener(l,r,o||!1));h||e.addEventListener(n,r,o||!1)},Is.prototype.removeEventListener=function(e,n,r,o){for(var s=this.ax,l,d=s.length,h=!1;d--;)(l=s[d][n])&&(h=!0,e.removeEventListener(l,r,o||!1));h||e.removeEventListener(n,r,o||!1)};var Ks={start:"pointerdown",end:"pointerup",move:"pointermove",cancel:"pointercancel",over:"pointerover",out:"pointerout",hover:"pointerhover"},Js={start:"MSPointerDown",end:"MSPointerUp",move:"MSPointerMove",cancel:"MSPointerCancel",over:"MSPointerOver",out:"MSPointerOut",hover:"MSPointerHover"},Ls={start:"touchstart",end:"touchend",move:"touchmove",cancel:"touchcancel"},Ms={start:"mousedown",end:"mouseup",move:"mousemove",over:"mouseover",out:"mouseout",hover:"mousehover"},Ns={start:"keydown",end:"keyup"};function Os(e){return!(e instanceof KeyboardEvent)||e.code==="Enter"}function Ps(e,n,r,o){return e=e.createElement(n),r&&(e.className=r),o&&(e.innerHTML=o),e}function Qs(e,n){for(var r=1,o=arguments.length;r<o;r++)e.appendChild(arguments[r])}var Rs=new Is;function Ss(e,n,r){Rs.addEventListener(e,n,r,void 0)}function Ts(e,n,r){Rs.removeEventListener(e,n,r,void 0)}function Y(e,n){I.call(this),this.Ra=e||"div",this.Me=n?n.split(" "):[],this.ub=!1,this.Me.push("H_el")}u(Y,I),t("H.ui.base.Element",Y),Y.prototype.L=function(e){if(!e)throw Error("Wrong document object");return this.G=Ps(e,this.Ra,this.Me.join(" ")),this.renderInternal(this.G,e),this.wa(this.ub,!0),this.Gd(this.Ax),this.Zb(this.Ld),this.uf(this.mx),this.G},Y.prototype.subscribe=function(){},Y.prototype.unsubscribe=function(){},Y.prototype.N=function(){},Y.prototype.renderInternal=Y.prototype.N,Y.prototype.mq=function(){return this.ub},Y.prototype.isDisabled=Y.prototype.mq,Y.prototype.wa=function(e,n){return e=!!e,(e!==this.ub||n)&&((this.ub=e)?this.Ha("H_disabled"):this.Bb("H_disabled")),this},Y.prototype.setDisabled=Y.prototype.wa,Y.prototype.ep=null,Y.prototype.getData=function(){return this.ep},Y.prototype.getData=Y.prototype.getData,Y.prototype.setData=function(e){this.ep=e},Y.prototype.setData=Y.prototype.setData,Y.prototype.Gd=function(e){var n=this.B();this.Ax=e,n&&(e?(n.setAttribute("title",e),n.setAttribute("aria-label",e)):(n.removeAttribute("title"),n.removeAttribute("aria-label")))},Y.prototype.setTooltip=Y.prototype.Gd,Y.prototype.G=null,Y.prototype.B=function(){return this.G},Y.prototype.getElement=Y.prototype.B,Y.prototype.Ld=!0,Y.prototype.Zb=function(e){var n=this.B();this.Ld=e,n&&(n.style.display=e?"":"none")},Y.prototype.setVisibility=Y.prototype.Zb,Y.prototype.Wd=function(){return this.Ld},Y.prototype.getVisibility=Y.prototype.Wd,Y.prototype.mx=-1,Y.prototype.uf=function(e){this.mx=e;var n=this.B();n&&(n.tabIndex=e)},Y.prototype.setTabIndex=Y.prototype.uf,Y.prototype.Ha=function(e){var n=this.B();return 0>this.Me.indexOf(e)&&this.Me.push(e),n&&(n.className=this.Me.join(" ")),this},Y.prototype.addClass=Y.prototype.Ha,Y.prototype.Bb=function(e){e=this.Me.indexOf(e);var n=this.B();return-1<e&&this.Me.splice(e,1),n&&(n.className=this.Me.join(" ")),this},Y.prototype.removeClass=Y.prototype.Bb;function Us(e){(e=e.B())&&e.parentNode&&e.parentNode.removeChild(e)}Y.prototype.disposeInternal=function(){Y.g.disposeInternal.call(this),Us(this),this.ep=this.G=null,delete this.Ax};function Vs(e,n){n=n||{};var r=this;Y.call(this,"div","H_ib H_ib_top"),this.Tv=z(function(o){r.ub||!Os(o)&&o instanceof KeyboardEvent&&o.code!=="Escape"||(r.close(),o.preventDefault())},this),this.update=z(this.update,this),this.am=z(this.am,this),this.setPosition(e),this.Pk(n.content),n.onStateChange&&this.addEventListener("statechange",n.onStateChange),this.F(Ws.OPEN)}u(Vs,Y),t("H.ui.InfoBubble",Vs),Vs.prototype.v=null,Vs.prototype.ya=function(){return this.Uc},Vs.prototype.setPosition=function(e){this.Uc=vc(e),this.update()},Vs.prototype.setPosition=Vs.prototype.setPosition,Vs.prototype.Qa=function(e){this.v=e},Vs.prototype.N=function(e,n){this.Jo=Ps(n,"div","H_ib_body"),this.tailEl_=Ps(n,"div","H_ib_tail"),this.$i=Ps(n,"div","H_ib_close H_btn",'<svg version="1.1" class="H_icon" viewBox="0 0 12 12"><path d="m8.12 6 3.66-3.66c.29-.29.29-.76 0-1.05l-1.06-1.06c-.29-.29-.76-.29-1.05 0l-3.66 3.66-3.66-3.66c-.29-.29-.76-.29-1.05 0l-1.06 1.06c-.29.29-.3.76 0 1.05l3.66 3.66-3.66 3.66c-.29.29-.29.76 0 1.05l1.06 1.06c.29.29.76.29 1.05 0l3.66-3.66 3.66 3.66c.29.29.76.29 1.05 0l1.06-1.06c.29-.29.3-.76 0-1.05z"></path></svg>'),this.$i.setAttribute("tabindex","0"),this.fh=Ps(n,"div","H_ib_content","&nbsp;"),this.Jo.appendChild(this.$i),this.Jo.appendChild(this.fh),Ss(this.$i,"start",this.Tv),this.v.xa.addEventListener("sync",this.update),this.v.sa.addEventListener("sync",this.update),e.appendChild(this.Jo),e.appendChild(this.tailEl_),this.Pk(this.Rl)},Vs.prototype.renderInternal=Vs.prototype.N,Vs.prototype.am=function(){this.Bt||(this.Bt=setTimeout(this.update,0))},Vs.prototype.update=function(){var e=this.B(),n=this.v,r,o="none";if(this.Bt=0,n&&e&&this.getState()===Ws.OPEN){if(r=n.La(this.Uc)){var s=r.x;r=r.y,n=n.sa.width,(s>=-n||s<=2*n||r>=-n||r<=2*n)&&(o="",Cs?(e.style.left=s-n+"px",e.style.top=r+"px"):Bs(e,s,r))}e.style.display=o,o===""&&(e.style.visibility="visible")}};var Ws={OPEN:"open",CLOSED:"closed"};Vs.State=Ws,Vs.prototype.s=Ws.OPEN,Vs.prototype.getState=function(){return this.s},Vs.prototype.getState=Vs.prototype.getState,Vs.prototype.F=function(e){e!==this.s&&(this.s=e,this.dispatchEvent("statechange")),(e=this.B())&&(this.s===Ws.OPEN?(e.style.display="block",e.style.visibility="hidden",this.am()):e.style.display="none")},Vs.prototype.setState=Vs.prototype.F,Vs.prototype.close=function(){this.F(Ws.CLOSED)},Vs.prototype.close=Vs.prototype.close,Vs.prototype.open=function(){this.F(Ws.OPEN)},Vs.prototype.open=Vs.prototype.open,Vs.prototype.Dz=function(){return this.fh||null},Vs.prototype.getContentElement=Vs.prototype.Dz,Vs.prototype.Pk=function(e){if(e)if(typeof e=="string"||typeof e.nodeType=="number"&&typeof e.nodeName=="string")this.Rl=e;else throw Error("InfoBubble content must be a string or HTML node.");else this.Rl="";this.B()&&(this.Rl?(this.fh.innerHTML="",typeof this.Rl=="string"?this.fh.innerHTML=e:typeof e.nodeType=="number"&&typeof e.nodeName=="string"&&this.fh.appendChild(e)):this.fh.innerHTML="&nbsp;",this.am())},Vs.prototype.setContent=Vs.prototype.Pk,Vs.prototype.disposeInternal=function(){this.close(),this.Pk(""),this.$i&&Ts(this.$i,"end",this.Tv),this.v&&(this.v.xa.removeEventListener("sync",this.update),this.v.sa.removeEventListener("sync",this.update)),Y.prototype.disposeInternal.call(this)};var Xs={TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right",LEFT_TOP:"left-top",LEFT_MIDDLE:"left-middle",LEFT_BOTTOM:"left-bottom",RIGHT_TOP:"right-top",RIGHT_MIDDLE:"right-middle",RIGHT_BOTTOM:"right-bottom",BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right"};t("H.ui.LayoutAlignment",Xs);var Ys={IMPERIAL:"imperial",METRIC:"metric"};t("H.ui.UnitSystem",Ys);function Zs(e,n,r){Y.call(this,e,n),this.dc=r?[].concat(r):[]}u(Zs,Y),t("H.ui.base.Container",Zs),Zs.prototype.wa=function(e,n){var r=this.dc?this.dc.length:0;for(Y.prototype.wa.call(this,e,n);r--;)this.dc[r].wa(e,n);return this},Zs.prototype.setDisabled=Zs.prototype.wa,Zs.prototype.Sa=function(e){var n=this.B();return this.dc.push(e),n&&(e.L(n.ownerDocument),n.appendChild(e.B())),this},Zs.prototype.addChild=Zs.prototype.Sa,Zs.prototype.Dj=function(){return[].concat(this.dc)},Zs.prototype.getChildren=Zs.prototype.Dj,Zs.prototype.removeChild=function(e){var n=this.dc.indexOf(e),r=this.B();0<=n&&(this.dc.splice(n,1),r&&r.removeChild(e.B()))},Zs.prototype.removeChild=Zs.prototype.removeChild,Zs.prototype.ia=function(){var e=this.B();e&&this.dc.forEach(function(n){e.removeChild(n.B())}),this.dc=[]},Zs.prototype.N=function(e,n){for(var r=0,o=this.dc.length;r<o;r++)e.appendChild(this.dc[r].L(n))},Zs.prototype.renderInternal=Zs.prototype.N,Zs.prototype.disposeInternal=function(){this.ia(),this.dc.forEach(this.Zy,this),Y.prototype.disposeInternal.call(this)},Zs.prototype.Zy=function(e){e.l()};function $s(){Zs.call(this,"div","H_ctl"),this.map=null,this.Fe="top-left"}u($s,Zs),t("H.ui.Control",$s),$s.prototype.Qa=function(e){this.map=e},$s.prototype.L=function(e){return Zs.prototype.L.call(this,e)},$s.prototype.N=function(e,n){Zs.prototype.renderInternal.call(this,e,n),this.$c(this.Fe)},$s.prototype.renderInternal=$s.prototype.N,$s.prototype.qk=function(){},$s.prototype.onUnitSystemChange=$s.prototype.qk,$s.prototype.lc=function(){return this.map},$s.prototype.getMap=$s.prototype.lc,$s.prototype.ma=function(){return this.yB},$s.prototype.getLocalization=$s.prototype.ma,$s.prototype.uz=function(){return this.Fe},$s.prototype.getAlignment=$s.prototype.uz,$s.prototype.$c=function(e){return typeof e=="string"&&Xs[e.replace("-","_").toUpperCase()]===e&&(this.Fe=e,this.dispatchEvent("alignmentchange")),this},$s.prototype.setAlignment=$s.prototype.$c;function at(e){e=e||{},$s.call(this),this.Ha("H_scalebar"),this.$c(e.alignment||"right-bottom"),this.maxWidth=150,this.update=z(this.update,this),this.bv=this.Ir=this.Mk=this.dl=null,this.uf(0)}u(at,$s),t("H.ui.ScaleBar",at),at.prototype.N=function(e,n){$s.prototype.renderInternal.call(this,e,n),e.innerHTML='<svg height="12" version="1.1" xmlns="http://www.w3.org/2000/svg"><polyline style="fill:none; stroke:white; stroke-width:4" points="2,2 2,10 98,10 98,2"/><polyline style="fill:none; stroke:black; stroke-width:2" points="2,2 2,10 98,10 98,2"/></svg><div style="padding: 0 0 0 10px"></div>',e.style.direction="ltr",this.dl=e.firstChild,n=this.dl.childNodes,this.Mk=n[0],this.Ir=n[1],this.bv=e.lastChild,this.Qb=Ys.METRIC,this.Yy=z(function(r){!this.ub&&Os(r)&&(this.dispatchEvent("toggleunitsystem"),r.preventDefault())},this),this.je=z(function(r){!this.ub&&Os(r)&&r.preventDefault()},this),Ss(e,"start",this.je),Ss(e,"end",this.Yy),this.Gd(this.ma().translate("scale.switchToImperial")),this.update()},at.prototype.renderInternal=at.prototype.N,at.prototype.Qa=function(e){this.map&&this.map.removeEventListener("mapviewchange",this.update),e&&e.addEventListener("mapviewchange",this.update),$s.prototype.Qa.apply(this,arguments)},at.prototype.setMap=at.prototype.Qa,at.prototype.capture=function(e,n,r){var o=this.B(),s=o.ownerDocument,l=s.createElement("canvas"),d=l.getContext("2d"),h=s.createElementNS("http://www.w3.org/2000/svg","svg"),p=s.createElementNS("http://www.w3.org/2000/svg","foreignObject"),g=bf(o,s,!1);s=parseFloat(o.offsetWidth)+1;var y=parseFloat(o.offsetHeight),v=s*e;e*=y,l.width=v,l.height=e,h.setAttribute("xmlns","http://www.w3.org/2000/svg"),h.setAttribute("width",v),h.setAttribute("height",e),h.setAttribute("viewBox","0 0 "+s+" "+y),p.setAttribute("width","100%"),p.setAttribute("height","100%"),h.appendChild(p),g.setAttribute("width","100%"),g.setAttribute("height","100%"),g.setAttribute("xmlns","http://www.w3.org/1999/xhtml");var w=window.getComputedStyle(o);"box-shadow display align-items font font-family font-size height text-shadow direction".split(" ").forEach(function(k){g.style.setProperty(k,w.getPropertyValue(k))}),p.appendChild(g),o=Se(h.outerHTML),new qg("image",o).then(function(k){d.drawImage(k,0,0),n(l)},r)},at.prototype.capture=at.prototype.capture,at.prototype.qk=function(e){this.Qb=e,this.Gd(e==="imperial"?this.ma().translate("scale.switchToMetric"):this.ma().translate("scale.switchToImperial")),this.update()},at.prototype.onUnitSystemChange=at.prototype.qk,at.prototype.update=function(){var e;if(this.B()){this.dl=this.dl,this.Mk=this.Mk;var n=this.maxWidth,r=0;if(e=this.map){var o=e.sa,s=Math.round(.5*o.width),l=Math.round(.5*o.height);0<s&&0<l&&(o=e.Wa(s,l))&&(e=e.Wa(s+1,l))&&(r=100*o.kb(e))}r&&(this.Qb===Ys.IMPERIAL?1609.344>r?(s=r/.3048006,e=this.ma().translate("scale.ft")):(s=r/1609.344,e=this.ma().translate("scale.mi")):1e3>r?(s=r,e=this.ma().translate("scale.m")):(s=r/1e3,e=this.ma().translate("scale.km")),r=Math.pow(10,Math.floor(Math.log(s)/Math.LN10)),s=r/s*100,s<n/5?(r*=5,s*=5):s<n/2?(r*=2,s*=2):s>n&&(r/=2,s/=2),s=Math.round(s),this.dl.setAttribute("width",s),this.bv.textContent=r+" "+e,this.Mk.points.getItem(2).x=this.Ir.points.getItem(2).x=this.Mk.points.getItem(3).x=this.Ir.points.getItem(3).x=s-2)}};function bt(e){e=e||{},Y.call(this,"div","H_btn"),this.xe(e.label||" "),this.Gd(e.tooltip||""),this.setData(e.data),this.wa(!!e.disabled),this.uf(0),this.F(ct.UP,!0),e.onStateChange&&this.addEventListener("statechange",e.onStateChange),this.cn=z(this.cn,this),this.Vh=z(this.Vh,this)}u(bt,Y),t("H.ui.base.Button",bt),bt.prototype.wa=function(e,n){return e&&this.Bb("H_active"),bt.g.wa.call(this,e,n)},bt.prototype.setDisabled=bt.prototype.wa,bt.prototype.N=function(e){Ss(e,"start",this.cn),Ss(e,"end",this.Vh),Ss(e,"out",this.Vh),this.xe(this.Wb,!0)},bt.prototype.renderInternal=bt.prototype.N,bt.prototype.getState=function(){return this.s},bt.prototype.getState=bt.prototype.getState,bt.prototype.F=function(e,n){return e!==this.s&&(this.s=e,e===ct.DOWN?this.Ha("H_active"):this.Bb("H_active"),n||this.dispatchEvent("statechange")),this},bt.prototype.setState=bt.prototype.F,bt.prototype.Gp=function(){return this.Wb},bt.prototype.getLabel=bt.prototype.Gp,bt.prototype.xe=function(e,n){return(n||e!==this.Wb)&&(this.Wb=e,(n=this.B())&&(n.innerHTML=e)),this},bt.prototype.setLabel=bt.prototype.xe,bt.prototype.cn=function(e){!this.ub&&Os(e)&&(this.F(ct.DOWN),e.preventDefault())},bt.prototype.Vh=function(e){!this.ub&&Os(e)&&(this.F(ct.UP),e.preventDefault())},bt.prototype.disposeInternal=function(){var e=this.B();e&&(Ts(e,"start",this.cn),Ts(e,"end",this.Vh),Ts(e,"out",this.Vh)),Y.prototype.disposeInternal.call(this)};var ct={UP:"up",DOWN:"down"};bt.State=ct;function dt(e){bt.call(this,e),this.XB=function(n){Os(n)&&n.preventDefault()},this.je=z(function(n){!this.ub&&Os(n)&&(this.toggleState(),n.preventDefault())},this)}u(dt,bt),t("H.ui.base.PushButton",dt),dt.prototype.N=function(e){Ss(e,"start",this.je),Ss(e,"end",this.XB),this.xe(this.Wb,!0)},dt.prototype.renderInternal=dt.prototype.N,dt.prototype.xx=function(){var e=ct.DOWN;return this.F(this.getState()===e?ct.UP:e),this},dt.prototype.toggleState=dt.prototype.xx,dt.prototype.disposeInternal=function(){var e=this.B();e&&Ts(e,"start",this.je),bt.prototype.disposeInternal.call(this)};function et(e){e=e||{},$s.call(this),this.tc=new dt({label:'<svg xmlns="http://www.w3.org/2000/svg" class="H_icon" viewBox="0 0 24 24"><g transform="translate(1 3)"><path fill-rule="nonzero" d="M5,0 L5,2 L2,2 L2,16 L5,16 L5,18 L2,18 C0.9,18 0,17 0,15.75 L0,2.25 C0,1 0.9,0 2,0 L5,0 Z M17,0 L20,0 C21.1,0 22,1 22,2.25 L22,15.75 C22,17 21.1,18 20,18 L17,18 L17,16 L20,16 L20,2 L17,2 L17,0 Z"></path><rect width="10" height="2" x="6" y="8"></rect><rect width="2" height="10" x="10" y="4"></rect></g></svg>',onStateChange:z(this.gf,this)}),this.Sa(this.tc),this.$c(e.alignment||"right-bottom")}u(et,$s),t("H.ui.ZoomRectangle",et),m=et.prototype,m.gf=function(e){var n=this.map,r=n.sa.element;e.target.getState()===ct.DOWN?(n.addEventListener("dragstart",this.Cd,!0,this),n.addEventListener("drag",this.ig,!0,this),n.addEventListener("dragend",this.ef,!0,this),e=r.ownerDocument.createElement("div"),e.className="H_zoom_lasso",r.appendChild(e),this.Om=e):(n.removeEventListener("dragstart",this.Cd,!0,this),n.removeEventListener("drag",this.ig,!0,this),n.removeEventListener("dragend",this.ef,!0,this),r.removeChild(this.Om))},m.Cd=function(e){var n=this.Om.style,r=e.currentPointer,o=r.viewportX;r=r.viewportY,e.target===this.map&&(e.stopPropagation(),n.width="0px",n.height="0px",n.top=r+"px",n.left=o+"px",n.display="block",this.ix=r,this.hx=o)},m.ig=function(e){var n=e.currentPointer,r=n.viewportX,o=n.viewportY;n=this.hx;var s=this.ix,l=this.Om.style;e.target===this.map&&(e.stopPropagation(),e=r-n,r=o-s,l.left=n+(0>e?e:0)+"px",l.top=s+(0>r?r:0)+"px",l.width=Math.abs(e)+"px",l.height=Math.abs(r)+"px")},m.ef=function(e){var n=this.map,r=e.currentPointer;e.target===this.map&&(e.stopPropagation(),this.Om.style.display="none",n.xa.ad({bounds:Xc([n.Wa(this.hx,this.ix),n.Wa(r.viewportX,r.viewportY)])},!0))},m.N=function(e,n){$s.prototype.renderInternal.call(this,e,n),this.tc.Gd(this.ma().translate("zoom.rectangle"))},et.prototype.renderInternal=et.prototype.N;function ft(e,n){if(n=n||{},!(e&&e instanceof sl))throw Error("Base layer is mandatory for overview UI element");$s.call(this),this.dr=new dt({label:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="H_icon"><g fill-rule="evenodd" transform="translate(2 2)"><rect width="9" height="9" x="10" y="10"/><rect class="H_icon_stroke" width="18" height="18" x="1" y="1" fill="none" stroke="#000" stroke-width="2" rx="2"/></g></svg>',onStateChange:z(this.gf,this)}),this.Sa(this.dr),this.$h=new gt(e,n.zoomDelta,n.scaleX,n.scaleY),this.$c(n.alignment||"right-bottom"),this.Sa(this.$h)}u(ft,$s),t("H.ui.Overview",ft),ft.prototype.Dg=function(e){return this.$h.Dg(e),this},ft.prototype.setBaseLayer=ft.prototype.Dg,ft.prototype.gf=function(e){e.target.getState()===ct.DOWN?(e=this.$h,ht(e,!0),e.js(),e.Ha(e.Xs),e.v.addEventListener("mapviewchange",e.js,!1,e)):it(this.$h)},ft.prototype.N=function(e,n){$s.prototype.renderInternal.call(this,e,n),this.dr.B().style.float=this.Fe.match("right")?"right":"left",this.$h.Qa(this.map),this.dr.Gd(this.ma().translate("minimap"))},ft.prototype.renderInternal=ft.prototype.N,ft.prototype.disposeInternal=function(){this.$h.l(),Y.prototype.disposeInternal.call(this)};function gt(e,n,r,o){this.pa=e,this.Xs="H_overview_active",typeof n=="number"&&(this.Px=n),typeof r=="number"&&(this.$v=r),typeof o=="number"&&(this.aw=o),Zs.call(this,"div","H_overview")}u(gt,$s),gt.prototype.Dg=function(e){this.ai.Dg(e)},gt.prototype.N=function(e,n){n=Ps(n,"div","H_overview_map"),Qs(e,n),this.Eq=n},gt.prototype.renderInternal=gt.prototype.N,gt.prototype.renderInternal=gt.prototype.N,m=gt.prototype,m.Px=3,m.$v=5,m.aw=5,m.Qa=function(e){this.v=e,this.ai=new U(this.Eq,this.pa,{pixelRatio:this.v.lb(),engineType:this.v.Ca.type}),this.ai.Yd.B().style.display="none",this.Zv=this.ai.xa,this.tv=this.v.xa};function it(e){!e.jh&&ht(e),e.Bb(e.Xs),e.v.removeEventListener("mapviewchange",e.js,!1,e)}m.js=function(e){e&&e.modifiers&e.SIZE&&ht(this,!0),e=this.tv.Ib(),e.zoom-=this.Px,this.Zv.ad(e)};function ht(e,n){var r=e.v.sa.element,o=e.B().style,s=r.offsetWidth/e.$v/10;r=r.offsetHeight/e.aw/10;var l=e.Eq.style;n?(o.width=s+"em",o.height=r+"em",l.width=s+"em",l.height=r+"em"):o.width=o.height="0em",e.ai.sa.resize()}m.disposeInternal=function(){gt.g.disposeInternal.call(this),it(this),this.ai.l(),this.ai=this.Zv=this.tv=this.v=this.pa=this.Eq=null};function jt(e,n){var r={},o={};r["top-left"]=Ps(n,"div",[kt,lt].join(" ")),r["top-center"]=Ps(n,"div",[kt,mt,nt,lt].join(" ")),r["top-right"]=Ps(n,"div",[kt,lt].join(" ")),r["left-top"]=Ps(n,"div",[kt,ot].join(" ")),r["left-middle"]=Ps(n,"div",[kt,pt,qt,ot].join(" ")),r["left-bottom"]=Ps(n,"div",[kt,ot].join(" ")),r["right-top"]=Ps(n,"div",[kt,ot].join(" ")),r["right-middle"]=Ps(n,"div",[kt,rt,qt,ot].join(" ")),r["right-bottom"]=Ps(n,"div",[kt,ot].join(" ")),r["bottom-left"]=Ps(n,"div",[kt,lt].join(" ")),r["bottom-center"]=Ps(n,"div",[kt,st,nt,lt].join(" ")),r["bottom-right"]=Ps(n,"div",[kt,lt].join(" ")),o["top-left"]=Ps(n,"div",[mt,pt].join(" ")),o["top-right"]=Ps(n,"div",[mt,rt].join(" ")),o["bottom-left"]=Ps(n,"div",[st,pt].join(" ")),o["bottom-right"]=Ps(n,"div",[st,rt].join(" ")),Qs(o["top-left"],r["top-left"],r["left-top"]),Qs(o["top-right"],r["top-right"],r["right-top"]),Qs(o["bottom-left"],r["left-bottom"],r["bottom-left"]),Qs(o["bottom-right"],r["right-bottom"],r["bottom-right"]),Qs(e,o["top-left"],o["top-right"],o["bottom-left"],o["bottom-right"],r["top-center"],r["left-middle"],r["right-middle"],r["bottom-center"]),this.at=r}var mt="H_l_top",st="H_l_bottom",pt="H_l_left",rt="H_l_right",nt="H_l_center",qt="H_l_middle",lt="H_l_horizontal",ot="H_l_vertical",kt="H_l_anchor";jt.prototype.update=function(){var e=this.at;tt(e["top-center"],!0),tt(e["bottom-center"],!0),tt(e["left-middle"],!1),tt(e["right-middle"],!1)};function tt(e,n){n?(n=e.offsetWidth,e.style.marginLeft=-Math.round(.5*n)+"px"):(n=e.offsetHeight,e.style.marginTop=-Math.round(.5*n)+"px")}jt.prototype.put=function(e,n){e=e?e.B():null;var r=n?this.at[n]:null;e&&r&&(e.parentElement&&e.parentElement.removeChild(e),r.insertBefore(e,/(bottom|right)$/.test(n)||/(center|middle)/.test(n)&&r.childNodes.length%2?r.firstChild:null)),this.update()};var ut=[];t("H.ui.i18n.defaultLocales",ut);var vt={},wt=[];function xt(e,n){vt[e]=n,ut.indexOf(e)===-1&&ut.push(e),wt.length?yt(e,n):wt=Object.keys(n)}function yt(e,n){for(var r=wt,o=r.length,s;o--;)if(s=r[o],!n[s])throw Error("'"+s+"' key missing in translation map for "+e)}xt("en-US",{"layers.normal":"Map view","layers.satellite":"Satellite","layers.terrain":"Terrain","layer.transit":"Public transport","layer.traffic":"Traffic conditions","layer.incidents":"Show traffic incidents","layers.choose":"Choose view",minimap:"Minimap","scale.switchToImperial":"Change to miles","scale.switchToMetric":"Change to km","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Zoom out","zoom.in":"Zoom in","zoom.rectangle":"Zoom rectangle","traffic.MASS_TRANSIT":"Public transport","traffic.MISCELLANEOUS":"Miscellaneous","traffic.ACCIDENT":"Accident","traffic.OTHER_NEWS":"Other news","traffic.OTHER":"Other news","traffic.PLANNED_EVENT":"Planned event","traffic.ROAD_HAZARD":"Road hazard","traffic.ROAD_CLOSURE":"Roadway closed","traffic.WEATHER":"Weather","traffic.CONGESTION":"Congestion","traffic.CONSTRUCTION":"Construction","traffic.DISABLED_VEHICLE":"Disabled vehicle","traffic.LANE_RESTRICTION":"Lane restriction","traffic.from":"Start time:","traffic.until":"Estimated end time:","distance.measurement":"Measure distance"}),xt("tr-TR",{"layers.normal":"Harita g\xF6r\xFCn\xFCm\xFC","layers.satellite":"Uydu","layers.terrain":"Arazi","layer.transit":"Toplu ula\u015F\u0131m","layer.traffic":"Trafik durumlar\u0131","layer.incidents":"Trafik olaylar\u0131n\u0131 g\xF6ster","layers.choose":"G\xF6r\xFCn\xFCm se\xE7",minimap:"Minimap","scale.switchToImperial":"Mile d\xF6n\xFC\u015Ft\xFCr","scale.switchToMetric":"Kilometreye d\xF6n\xFC\u015Ft\xFCr","scale.km":"km","scale.m":"m","scale.mi":"mil","scale.ft":"ft","zoom.out":"Uzakla\u015Ft\u0131r","zoom.in":"Yak\u0131nla\u015Ft\u0131r","zoom.rectangle":"Zoom rectangle","traffic.MASS_TRANSIT":"Toplu ula\u015F\u0131m","traffic.MISCELLANEOUS":"\xC7e\u015Fitli","traffic.ACCIDENT":"Kaza","traffic.OTHER_NEWS":"Di\u011Fer haberler","traffic.OTHER":"Di\u011Fer haberler","traffic.PLANNED_EVENT":"Planl\u0131 etkinlik","traffic.ROAD_HAZARD":"Yol tehlikesi","traffic.ROAD_CLOSURE":"Yol kapal\u0131","traffic.WEATHER":"Hava durumu","traffic.CONGESTION":"Yo\u011Funluk","traffic.CONSTRUCTION":"Yol \xE7al\u0131\u015Fmas\u0131","traffic.DISABLED_VEHICLE":"Ara\xE7 ar\u0131zas\u0131","traffic.LANE_RESTRICTION":"\u015Eerit k\u0131s\u0131tlamas\u0131","traffic.from":"Ba\u015Flang\u0131\xE7 zaman\u0131:","traffic.until":"Tahmini biti\u015F zaman\u0131:","distance.measurement":"Measure distance"}),xt("pt-PT",{"layers.normal":"Vista do mapa","layers.satellite":"Sat\xE9lite","layers.terrain":"Terreno","layer.transit":"Transportes p\xFAblicos","layer.traffic":"Condi\xE7\xF5es de tr\xE2nsito","layer.incidents":"Mostrar incidentes de tr\xE2nsito","layers.choose":"Escolher vista",minimap:"Minimap","scale.switchToImperial":"Mudar para milhas","scale.switchToMetric":"Mudar para km","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Diminuir","zoom.in":"Aumentar","zoom.rectangle":"Zoom rectangle","traffic.MASS_TRANSIT":"Transportes p\xFAblicos","traffic.MISCELLANEOUS":"Diversos","traffic.ACCIDENT":"Acidente","traffic.OTHER_NEWS":"Outras not\xEDcias","traffic.OTHER":"Outras not\xEDcias","traffic.PLANNED_EVENT":"Evento planeado","traffic.ROAD_HAZARD":"Perigo na estrada","traffic.ROAD_CLOSURE":"Estrada fechada","traffic.WEATHER":"Meteorologia","traffic.CONGESTION":"Congestionamento","traffic.CONSTRUCTION":"Constru\xE7\xE3o","traffic.DISABLED_VEHICLE":"Ve\xEDculo avariado","traffic.LANE_RESTRICTION":"Limita\xE7\xE3o da faixa de rodagem","traffic.from":"Hora de in\xEDcio:","traffic.until":"Hora de fim prevista:","distance.measurement":"Measure distance"}),xt("fr-FR",{"layers.normal":"Carte","layers.satellite":"Satellite","layers.terrain":"Terrain","layer.transit":"Transports publics","layer.traffic":"Conditions de circulation","layer.incidents":"Afficher les incidents de circulation","layers.choose":"Choisir la vue",minimap:"Minimap","scale.switchToImperial":"Passer en miles","scale.switchToMetric":"Passer en km","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Zoom arri\xE8re","zoom.in":"Zoom avant","zoom.rectangle":"Zoom rectangle","traffic.MASS_TRANSIT":"Transports publics","traffic.MISCELLANEOUS":"Divers","traffic.ACCIDENT":"Accident","traffic.OTHER_NEWS":"Autre","traffic.OTHER":"Autre","traffic.PLANNED_EVENT":"\xC9v\xE9nement pr\xE9vu","traffic.ROAD_HAZARD":"Danger routier","traffic.ROAD_CLOSURE":"Chauss\xE9e ferm\xE9e","traffic.WEATHER":"M\xE9t\xE9o","traffic.CONGESTION":"Embouteillage","traffic.CONSTRUCTION":"Travaux","traffic.DISABLED_VEHICLE":"V\xE9hicule en panne","traffic.LANE_RESTRICTION":"Restriction de voie","traffic.from":"Date ou heure de d\xE9but:","traffic.until":"Date et heure de fin estim\xE9es:","distance.measurement":"Measure distance"}),xt("de-DE",{"layers.normal":"Kartenansicht","layers.satellite":"Satellit","layers.terrain":"Gel\xE4nde","layer.transit":"\xD6ffentliche Verkehrsmittel","layer.traffic":"Verkehrslage","layer.incidents":"Verkehrsst\xF6rungen anzeigen","layers.choose":"Ansicht ausw\xE4hlen",minimap:"Minimap","scale.switchToImperial":"Umrechnung in Meilen","scale.switchToMetric":"Umrechnung in Kilometer","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Verkleinern","zoom.in":"Vergr\xF6\xDFern","zoom.rectangle":"Zoom rectangle","traffic.MASS_TRANSIT":"\xD6ffentliche Verkehrsmittel","traffic.MISCELLANEOUS":"Diverse","traffic.ACCIDENT":"Unfall","traffic.OTHER_NEWS":"Anderes Ereignis","traffic.OTHER":"Anderes Ereignis","traffic.PLANNED_EVENT":"Geplantes Ereignis","traffic.ROAD_HAZARD":"Verkehrshindernis","traffic.ROAD_CLOSURE":"Fahrbahn gesperrt","traffic.WEATHER":"Wetter","traffic.CONGESTION":"Verkehrsstau","traffic.CONSTRUCTION":"Baustelle","traffic.DISABLED_VEHICLE":"Liegengebliebenes Fahrzeug","traffic.LANE_RESTRICTION":"Fahrstreifensperrung","traffic.from":"Beginn:","traffic.until":"Voraussichtliches Ende:","distance.measurement":"Measure distance"}),xt("zh-CN",{"layers.normal":"\u5730\u56FE\u89C6\u56FE","layers.satellite":"\u536B\u661F","layers.terrain":"\u5730\u5F62","layer.transit":"\u516C\u5171\u4EA4\u901A","layer.traffic":"\u4EA4\u901A\u60C5\u51B5","layer.incidents":"\u663E\u793A\u4EA4\u901A\u4E8B\u4EF6","layers.choose":"\u9009\u62E9\u89C6\u56FE",minimap:"Minimap","scale.switchToImperial":"\u5207\u6362\u4E3A\u300C\u82F1\u91CC\u300D","scale.switchToMetric":"\u5207\u6362\u4E3A\u300C\u516C\u91CC\u300D","scale.km":"\u516C\u91CC","scale.m":"\u7C73","scale.mi":"\u82F1\u91CC","scale.ft":"\u82F1\u5C3A","zoom.out":"\u7F29\u5C0F","zoom.in":"\u653E\u5927","zoom.rectangle":"Zoom rectangle","traffic.MASS_TRANSIT":"\u516C\u5171\u4EA4\u901A","traffic.MISCELLANEOUS":"\u7EFC\u5408\u4E8B\u4EF6","traffic.ACCIDENT":"\u4EA4\u901A\u610F\u5916","traffic.OTHER_NEWS":"\u5176\u4ED6\u65B0\u95FB","traffic.OTHER":"\u5176\u4ED6\u65B0\u95FB","traffic.PLANNED_EVENT":"\u9884\u5B9A\u4E8B\u4EF6","traffic.ROAD_HAZARD":"\u9053\u8DEF\u5371\u9669","traffic.ROAD_CLOSURE":"\u9053\u8DEF\u5DF2\u5173\u95ED","traffic.WEATHER":"\u5929\u6C14","traffic.CONGESTION":"\u5835\u585E","traffic.CONSTRUCTION":"\u65BD\u5DE5","traffic.DISABLED_VEHICLE":"\u8F66\u8F86\u629B\u951A","traffic.LANE_RESTRICTION":"\u8F66\u9053\u9650\u5236","traffic.from":"\u5F00\u59CB\u65F6\u95F4\uFF1A","traffic.until":"\u9884\u8BA1\u7ED3\u675F\u65F6\u95F4\uFF1A","distance.measurement":"Measure distance"}),xt("pl-PL",{"layers.normal":"Widok mapy","layers.satellite":"Satelita","layers.terrain":"Teren","layer.transit":"Transport publiczny","layer.traffic":"Warunki drogowe","layer.incidents":"Poka\u017C zdarzenia drogowe","layers.choose":"Wybierz widok",minimap:"Minimap","scale.switchToImperial":"Zmie\u0144 na mile","scale.switchToMetric":"Zmie\u0144 na km","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Oddal","zoom.in":"Przybli\u017C","zoom.rectangle":"Zoom rectangle","traffic.MASS_TRANSIT":"Transport publiczny","traffic.MISCELLANEOUS":"Inne zdarzenie","traffic.ACCIDENT":"Wypadek","traffic.OTHER_NEWS":"Inne wiadomo\u015Bci","traffic.OTHER":"Inne wiadomo\u015Bci","traffic.PLANNED_EVENT":"Zdarzenie planowane","traffic.ROAD_HAZARD":"Niebezpiecze\u0144stwo na drodze","traffic.ROAD_CLOSURE":"Jezdnia zamkni\u0119ta","traffic.WEATHER":"Pogoda","traffic.CONGESTION":"Korek","traffic.CONSTRUCTION":"Budowa","traffic.DISABLED_VEHICLE":"Uszkodzony pojazd","traffic.LANE_RESTRICTION":"Ograniczenie pasa ruchu","traffic.from":"Data rozpocz\u0119cia:","traffic.until":"Przybli\u017Cona data zako\u0144czenia:","distance.measurement":"Measure distance"}),xt("ru-RU",{"layers.normal":"\u0420\u0435\u0436\u0438\u043C \u043A\u0430\u0440\u0442\u044B","layers.satellite":"\u0421\u043F\u0443\u0442\u043D\u0438\u043A\u043E\u0432\u0430\u044F","layers.terrain":"\u041C\u0435\u0441\u0442\u043D\u043E\u0441\u0442\u044C","layer.transit":"\u041E\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439 \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442","layer.traffic":"\u0414\u043E\u0440\u043E\u0436\u043D\u044B\u0435 \u0443\u0441\u043B\u043E\u0432\u0438\u044F","layer.incidents":"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u0434\u043E\u0440\u043E\u0436\u043D\u044B\u0435 \u0441\u043E\u0431\u044B\u0442\u0438\u044F","layers.choose":"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0438\u0434",minimap:"Minimap","scale.switchToImperial":"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C \u043C\u0438\u043B\u0438","scale.switchToMetric":"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C \u043A\u0438\u043B\u043E\u043C\u0435\u0442\u0440\u044B","scale.km":"\u043A\u043C","scale.m":"\u043C","scale.mi":"\u043C\u0438\u043B\u044C","scale.ft":"\u0444\u0443\u0442","zoom.out":"\u041E\u0442\u0434\u0430\u043B\u0438\u0442\u044C","zoom.in":"\u041F\u0440\u0438\u0431\u043B\u0438\u0437\u0438\u0442\u044C","zoom.rectangle":"Zoom rectangle","traffic.MASS_TRANSIT":"\u041E\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439 \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442","traffic.MISCELLANEOUS":"\u041F\u0440\u043E\u0447\u0435\u0435 \u0414\u0422\u041F","traffic.ACCIDENT":"\u0414\u0422\u041F","traffic.OTHER_NEWS":"\u0414\u0440\u0443\u0433\u0438\u0435 \u043D\u043E\u0432\u043E\u0441\u0442\u0438","traffic.OTHER":"\u0414\u0440\u0443\u0433\u0438\u0435 \u043D\u043E\u0432\u043E\u0441\u0442\u0438","traffic.PLANNED_EVENT":"\u041F\u043B\u0430\u043D\u043E\u0432\u043E\u0435 \u043C\u0435\u0440\u043E\u043F\u0440\u0438\u044F\u0442\u0438\u0435","traffic.ROAD_HAZARD":"\u0414\u043E\u0440\u043E\u0436\u043D\u0430\u044F \u043E\u043F\u0430\u0441\u043D\u043E\u0441\u0442\u044C","traffic.ROAD_CLOSURE":"\u0414\u043E\u0440\u043E\u0433\u0430 \u0437\u0430\u043A\u0440\u044B\u0442\u0430","traffic.WEATHER":"\u041F\u043E\u0433\u043E\u0434\u0430","traffic.CONGESTION":"\u041F\u0440\u043E\u0431\u043A\u0430","traffic.CONSTRUCTION":"\u0420\u0435\u043C\u043E\u043D\u0442","traffic.DISABLED_VEHICLE":"\u041D\u0435\u0438\u0441\u043F\u0440\u0430\u0432\u043D\u044B\u0439 \u0430\u0432\u0442\u043E\u043C\u043E\u0431\u0438\u043B\u044C","traffic.LANE_RESTRICTION":"\u041E\u0433\u0440\u0430\u043D\u0438\u0447\u0435\u043D\u0438\u0435 \u043F\u043E\u043B\u043E\u0441\u044B \u0434\u0432\u0438\u0436\u0435\u043D\u0438\u044F","traffic.from":"\u0412\u0440\u0435\u043C\u044F \u043D\u0430\u0447\u0430\u043B\u0430:","traffic.until":"\u041E\u0436\u0438\u0434\u0430\u0435\u043C\u043E\u0435 \u0432\u0440\u0435\u043C\u044F \u043E\u043A\u043E\u043D\u0447\u0430\u043D\u0438\u044F:","distance.measurement":"\u0418\u0437\u043C\u0435\u0440\u0438\u0442\u044C \u0440\u0430\u0441\u0441\u0442\u043E\u044F\u043D\u0438\u0435"}),xt("nl-NL",{"layers.normal":"Kaartweergave","layers.satellite":"Satelliet","layers.terrain":"Terrein","layer.transit":"Openbaar vervoer","layer.traffic":"Verkeerssituatie","layer.incidents":"Toon verkeersincidenten","layers.choose":"Weergave kiezen",minimap:"Minimap","scale.switchToImperial":"Overgaan naar mijlen","scale.switchToMetric":"Wijzigen naar km","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Uitzoomen","zoom.in":"Inzoomen","zoom.rectangle":"Zoom rectangle","traffic.MASS_TRANSIT":"Openbaar vervoer","traffic.MISCELLANEOUS":"Diversen","traffic.ACCIDENT":"Ongeval","traffic.OTHER_NEWS":"Meer informatie","traffic.OTHER":"Meer informatie","traffic.PLANNED_EVENT":"Geplande afzetting","traffic.ROAD_HAZARD":"Gevaar op de weg","traffic.ROAD_CLOSURE":"Rijbaan afgesloten","traffic.WEATHER":"Weer","traffic.CONGESTION":"Verkeersopstopping","traffic.CONSTRUCTION":"Wegwerkzaamheden","traffic.DISABLED_VEHICLE":"Voertuig met pech","traffic.LANE_RESTRICTION":"Rijstrookbeperking","traffic.from":"Begintijd:","traffic.until":"Geschatte eindtijd:","distance.measurement":"Measure distance"}),xt("pt-BR",{"layers.normal":"Exibi\xE7\xE3o do mapa","layers.satellite":"Sat\xE9lite","layers.terrain":"Terreno","layer.transit":"Transporte p\xFAblico","layer.traffic":"Condi\xE7\xF5es do tr\xE2nsito","layer.incidents":"Mostrar incidentes no tr\xE2nsito","layers.choose":"Escolher exibi\xE7\xE3o",minimap:"Minimap","scale.switchToImperial":"Mudar para milhas","scale.switchToMetric":"Mudar para km","scale.km":"km","scale.m":"m","scale.mi":"milhas","scale.ft":"p\xE9s","zoom.out":"Menos zoom","zoom.in":"Mais zoom","zoom.rectangle":"Zoom rectangle","traffic.MASS_TRANSIT":"Transporte p\xFAblico","traffic.MISCELLANEOUS":"Miscel\xE2nea","traffic.ACCIDENT":"Acidente","traffic.OTHER_NEWS":"Outras not\xEDcias","traffic.OTHER":"Outras not\xEDcias","traffic.PLANNED_EVENT":"Evento planejado","traffic.ROAD_HAZARD":"Risco na estrada","traffic.ROAD_CLOSURE":"Estrada fechada","traffic.WEATHER":"Clima","traffic.CONGESTION":"Congestionamento","traffic.CONSTRUCTION":"Constru\xE7\xE3o","traffic.DISABLED_VEHICLE":"Ve\xEDculo incapacitado","traffic.LANE_RESTRICTION":"Restri\xE7\xE3o de pista","traffic.from":"Hora de in\xEDcio:","traffic.until":"Tempo final estimado:","distance.measurement":"Measure distance"}),xt("es-ES",{"layers.normal":"Mapa","layers.satellite":"Sat\xE9lite","layers.terrain":"Terreno","layer.transit":"Transporte p\xFAblico","layer.traffic":"Estado del tr\xE1fico","layer.incidents":"Mostrar incidentes de tr\xE1fico","layers.choose":"Elija una vista",minimap:"Minimap","scale.switchToImperial":"Cambiar a millas","scale.switchToMetric":"Cambiar a km","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Alejar","zoom.in":"Acercar","zoom.rectangle":"Zoom rectangle","traffic.MASS_TRANSIT":"Transporte p\xFAblico","traffic.MISCELLANEOUS":"Varios","traffic.ACCIDENT":"Accidente","traffic.OTHER_NEWS":"M\xE1s noticias","traffic.OTHER":"M\xE1s noticias","traffic.PLANNED_EVENT":"Acto programado","traffic.ROAD_HAZARD":"Riesgo en carretera","traffic.ROAD_CLOSURE":"Carretera cerrada","traffic.WEATHER":"Tiempo","traffic.CONGESTION":"Atasco","traffic.CONSTRUCTION":"Construcci\xF3n","traffic.DISABLED_VEHICLE":"Veh\xEDculo averiado","traffic.LANE_RESTRICTION":"Restricci\xF3n de carril","traffic.from":"Inicio:","traffic.until":"Finalizaci\xF3n estimada:","distance.measurement":"Measure distance"}),xt("it-IT",{"layers.normal":"Vista mappa","layers.satellite":"Satellite","layers.terrain":"Terreno","layer.transit":"Mezzi pubblici","layer.traffic":"Condizioni del traffico","layer.incidents":"Mostra incidenti stradali","layers.choose":"Scegli vista",minimap:"Minimap","scale.switchToImperial":"Passa a miglia","scale.switchToMetric":"Passa a km","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Zoom indietro","zoom.in":"Zoom avanti","zoom.rectangle":"Zoom rectangle","traffic.MASS_TRANSIT":"Mezzi pubblici","traffic.MISCELLANEOUS":"Varie","traffic.ACCIDENT":"Incidente","traffic.OTHER_NEWS":"Altre notizie","traffic.OTHER":"Altre notizie","traffic.PLANNED_EVENT":"Evento pianificato","traffic.ROAD_HAZARD":"Strada dissestata","traffic.ROAD_CLOSURE":"Strada chiusa","traffic.WEATHER":"Maltempo","traffic.CONGESTION":"Ingorgo","traffic.CONSTRUCTION":"Lavori in corso","traffic.DISABLED_VEHICLE":"Veicolo in panne","traffic.LANE_RESTRICTION":"Restrizione di corsia","traffic.from":"Ora di inizio:","traffic.until":"Ora di fine stimata:","distance.measurement":"Measure distance"}),xt("fi-FI",{"layers.normal":"Karttan\xE4kym\xE4","layers.satellite":"Satelliitti","layers.terrain":"Maasto","layer.transit":"Julkinen liikenne","layer.traffic":"Liikenneolosuhteet","layer.incidents":"N\xE4yt\xE4 liikennetapahtumat","layers.choose":"Valitse n\xE4kym\xE4",minimap:"Minimap","scale.switchToImperial":"Vaihda maileihin","scale.switchToMetric":"Vaihda kilometreihin","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Loitonna","zoom.in":"L\xE4henn\xE4","zoom.rectangle":"Zoom rectangle","traffic.MASS_TRANSIT":"Julkinen liikenne","traffic.MISCELLANEOUS":"Erittelem\xE4t\xF6n syy","traffic.ACCIDENT":"Onnettomuus","traffic.OTHER_NEWS":"Muu tapahtuma","traffic.OTHER":"Muu tapahtuma","traffic.PLANNED_EVENT":"Suunniteltu tapahtuma","traffic.ROAD_HAZARD":"Vaara tiell\xE4","traffic.ROAD_CLOSURE":"Tie suljettu","traffic.WEATHER":"S\xE4\xE4","traffic.CONGESTION":"Ruuhka","traffic.CONSTRUCTION":"Rakennusty\xF6","traffic.DISABLED_VEHICLE":"Pys\xE4htynyt ajoneuvo","traffic.LANE_RESTRICTION":"Kaista rajoitus","traffic.from":"Alkamisaika:","traffic.until":"Arvioitu p\xE4\xE4ttymisaika:","distance.measurement":"Measure distance"});function zt(e,n){if(!lb(e))throw new TypeError("string locale code required");if(ya(n))yt(e,n);else{if(ut.indexOf(e)===-1)throw Error("Default locale '"+e+"' does nto exist.");n=vt[e]}this.v=n||{},this.Tm=e}t("H.ui.i18n.Localization",zt),zt.prototype.gA=function(){return this.Tm},zt.prototype.getLocale=zt.prototype.gA,zt.prototype.$z=function(){return Object.keys(this.v)},zt.prototype.getKeys=zt.prototype.$z,zt.prototype.xm=function(e){return!(!this.v||!this.v[e])},zt.prototype.hasKey=zt.prototype.xm,zt.prototype.translate=function(e){var n=this.v[e];if(!lb(n))throw Error("Translation missing for key '"+e+"'.");return n},zt.prototype.translate=zt.prototype.translate;function At(e,n){this.xc=e,this.Dc=null,this.hk=0,this.fg=22,this.CD=n,this.en=z(this.en,this),this.Zo=z(this.Zo,this),e=this.xc.lc(),e.addEventListener("mapviewchange",this.fC,!1,this),this.vb=e.Ca.type,e=e.O,e.addEventListener("add",this.jg,!1,this),e.addEventListener("remove",this.kg,!1,this)}function Bt(e,n,r){var o=n.D;o&&(r!==void 0&&r)&&o.removeEventListener("tap",e.en),n?(o.addEventListener("tap",e.en),e.hk=o.min,e.fg=o.max):(e.hk=0,e.fg=22)}m=At.prototype,m.fC=function(e){var n=e.newValue.zoom;this.Dc&&e.modifiers&e.ZOOM&&(n<this.hk||n>this.fg)&&this.Dc.close()},m.jg=function(e){e=e.added,Ct(e)&&Bt(this,e)},m.kg=function(e){e=e.removed,Ct(e)&&(this.Dc&&this.Dc.close(),Bt(this,e,!0))};function Ct(e){return window.H.service&&(e.D instanceof window.H.service.traffic.incidents.Provider||e.D instanceof window.H.service.trafficVectorTile.Provider&&e.D.$.Aq==="incident")}m.en=function(e){var n,r=this.vb===mi.HARP;e.target&&(n=e.target.getData())&&e.currentPointer.button===0&&(r?(n=this.xc.lc().Wa(e.currentPointer.viewportX,e.currentPointer.viewportY),(r=e.target.getData()?e.target.getData().properties.id:null)&&this.CD.requestIncidentById(r,{locationReferencing:"none",lang:this.xc.ma().Tm,units:this.xc.Qb===Ys.METRIC?"metric":"imperial"},this.Fx.bind(this,n),console.error)):(r=e.target.V(),this.Fx(r,n)),e.stopPropagation())},m.Fx=function(e,n){if(this.vb===mi.HARP){n=n.incidentDetails;var r=this.xc.ma().Tm,o=n.type,s=o.split(/(?=[A-Z])/).join("_").toUpperCase();this.xc.ma().xm("traffic."+s)&&(o=this.xc.ma().translate("traffic."+s)),e={position:e,title:o,description:n.description.value,startTime:new Date(n.startTime).toLocaleString(r).split(",").join(" "),endTime:new Date(n.endTime).toLocaleString(r).split(",").join(" ")}}else r=n.TRAFFIC_ITEM_TYPE_DESC.replace(" ","_"),r=this.xc.ma().xm("traffic."+r)?this.xc.ma().translate("traffic."+r):n.TRAFFIC_ITEM_DESCRIPTION[n.TRAFFIC_ITEM_DESCRIPTION.length-1].value,e={position:e,title:r,description:n.TRAFFIC_ITEM_DESCRIPTION[0].value,startTime:n.START_TIME,endTime:n.END_TIME};this.Zo(e)},m.Zo=function(e){var n=e.position,r=e.title,o=e.description,s=e.startTime;e=e.endTime,this.Dc||(this.Dc=new Vs(n),this.Dc.Ha("H_tib"),this.xc.Ys(this.Dc)),this.Dc.setPosition(n),this.Dc.Pk('<div class="H_tib_content"><div class="H_rdo_title" dir="auto">{{title}}</div><div class="H_tib_desc" dir="auto"><span>{{desc}}</span><div class="H_tib_time"><span class="H_tib_left">{{traffic.from}}</span><span class="H_tib_right">{{from}}</span><br/><span class="H_tib_left">{{traffic.until}}</span><span class="H_tib_right">{{until}}</span></div></div>'.replace("{{title}}",r).replace("{{desc}}",o).replace("{{traffic.from}}",this.xc.ma().translate("traffic.from")).replace("{{traffic.until}}",this.xc.ma().translate("traffic.until")).replace("{{from}}",s).replace("{{until}}",e)),this.Dc.open()};function Dt(){this.s=Et.CLOSED,Zs.call(this,"div","H_overlay")}u(Dt,Zs),t("H.ui.base.OverlayPanel",Dt),Dt.prototype.F=function(e,n){return(e!==this.s||n)&&(this.s=e,e===Et.OPEN?this.Ha("H_open"):this.Bb("H_open")),this},Dt.prototype.setState=Dt.prototype.F,Dt.prototype.getState=function(){return this.s},Dt.prototype.getState=Dt.prototype.getState,Dt.prototype.hw=function(e){var n=e.Fe;e=e.B();var r=this.B(),o=r.style;if(this.Bb("H_top"),this.Bb("H_middle"),this.Bb("H_bottom"),this.Bb("H_left"),this.Bb("H_center"),this.Bb("H_right"),o.bottom=o.top=o.left=o.right=o.margin="",/top/g.test(n)){this.Ha("H_top"),o.top="0",o.margin="0 12px";var s=-1}else/bottom/g.test(n)?(this.Ha("H_bottom"),o.bottom="0",o.margin="0 12px",s=1):(this.Ha("H_middle"),o.top="50%",o.margin="0 12px",o.marginTop=-Math.round(.5*r.offsetHeight)+"px",s=0);/left/g.test(n)?(this.Ha("H_left"),o.left=e.offsetWidth+"px",o.marginLeft="12px"):/right/g.test(n)?(this.Ha("H_right"),o.right=e.offsetWidth+"px",o.marginRight="12px"):(this.Ha("H_center"),o.left="50%",0>s?(o.top=e.offsetHeight+"px",o.marginTop="12px"):0<s&&(o.bottom=e.offsetHeight+"px",o.marginBottom="12px"),o.marginLeft=-Math.round(.5*r.offsetWidth)+"px",e.appendChild(r))},Dt.prototype.pointToControl=Dt.prototype.hw;var Et={OPEN:"open",CLOSED:"closed"};Dt.State=Et;function Ft(e){B(e,He,Ft,1),Y.call(this,"div","H_context_menu_item"),this.Kb=e,this.lk=z(this.lk,this),this.De=z(this.De,this),this.Kb.addEventListener("update",this.De)}u(Ft,Y),t("H.ui.context.Item",Ft),Ft.prototype.lk=function(e){var n=this.Kb,r=n.callback;r&&!n.isDisabled()&&(this.dispatchEvent("click"),r(e))},Ft.prototype.N=function(){var e=this,n=this.B();Ss(n,"click",this.lk),Ss(n,"keyup",function(r){r.code.code==="Enter"&&e.lk(r)}),this.uf(-1),this.De()},Ft.prototype.renderInternal=Ft.prototype.N,Ft.prototype.De=function(){var e=this.B(),n=this.Kb;n.callback?this.Ha("H_clickable"):this.Bb("H_clickable"),n.isDisabled()?this.Ha("H_disabled"):this.Bb("H_disabled"),n=n.getLabel(),Hs.textContent=n,e.innerHTML=Hs.innerHTML.split(`
`).join("<br/>")},Ft.prototype.disposeInternal=function(){Y.prototype.disposeInternal.call(this),this.Kb.removeEventListener("update",this.De)};function Gt(e){e=e||{},Zs.call(this,"div","H_rdo"),this.ms=new Y("div","H_rdo_title"),this.Ti=new Zs("div","H_rdo_buttons"),this.Sa(this.ms),this.Sa(this.Ti),this.Kv=z(function(n){n.target.getState()===ct.DOWN?(this.Ow(n.target,!0),this.dispatchEvent(Ht)):n.target.F(ct.DOWN,!0)},this),this.addEventListener("statechange",this.Kv),this.bs(e.title||""),e.onActiveButtonChange&&this.addEventListener(Ht,e.onActiveButtonChange),e.buttonsOptions&&e.buttonsOptions.forEach(function(n){this.yo(new dt(n))},this)}u(Gt,Zs),t("H.ui.base.RadioGroup",Gt);var Ht="activebuttonchange";Gt.prototype.N=function(e,n){Zs.prototype.renderInternal.call(this,e,n),this.bs(this.io,!0)},Gt.prototype.renderInternal=Gt.prototype.N,Gt.prototype.ia=function(){this.Ti.ia()},Gt.prototype.bs=function(e,n){return(e!==this.io||n)&&(this.io=e,this.ms.B()&&(this.ms.B().innerHTML=this.io)),this},Gt.prototype.setTitle=Gt.prototype.bs,Gt.prototype.JA=function(){return this.io},Gt.prototype.getTitle=Gt.prototype.JA,Gt.prototype.yo=function(e){if(!(e instanceof dt))throw Error("PushButton expected");return e.ea(this),this.Ti.Sa(e),this},Gt.prototype.addButton=Gt.prototype.yo,Gt.prototype.BC=function(e){return this.Ti.removeChild(e),e.ea(null),this},Gt.prototype.removeButton=Gt.prototype.BC,Gt.prototype.Cj=function(){return this.Ti.Dj()},Gt.prototype.getButtons=Gt.prototype.Cj,Gt.prototype.Ow=function(e,n){for(var r=this.Cj(),o=r.length;o--;)r[o].F(r[o]===e?ct.DOWN:ct.UP,n)},Gt.prototype.setActiveButton=Gt.prototype.Ow,Gt.prototype.disposeInternal=function(){this.removeEventListener("statechange",this.Kv),this.ia(),Zs.prototype.disposeInternal.call(this)};var It={};It=function(e,n,r){ed.call(this),this.qh=-1,this.G=e,this.Nm=n,this.Nv=r,this.je=z(this.je,this),e.focus(),Ss(e,"keydown",this.je)},u(It,ed),It.prototype.disposeInternal=function(){this.qh=-1,this.Gx(),It.g.disposeInternal.call(this),Ts(this.G,"keydown",this.je);var e=this.Nv;this.G=this.Nm=this.Nv=null,e()},It.prototype.je=function(e){if(e instanceof KeyboardEvent){var n=this.Nm.length-1,r=/^Arrow(Down|Up)$/.exec(e.code);r?(e={Up:-1,Down:1}[r[1]])&&(this.qh=0>this.qh&&0>e?n:gc(this.qh+e,0,n),this.Gx()):e.code==="Enter"?(n=this.Nm[this.qh],n instanceof bt?(n.Jb()instanceof Gt?n.F(ct.DOWN):n.xx(),this.l()):n instanceof Ft&&(n.lk(),this.l())):e.code==="Escape"&&this.l()}},It.prototype.Gx=function(){var e=this;this.Nm.forEach(function(n,r){r===e.qh?n.Ha("H_focused"):n.Bb("H_focused")})};function Jt(e){e=e||{},$s.call(this),this.ce=new Dt,this.te=this.te.bind(this),this.Fc=this.Fc.bind(this),this.Rc=this.Rc.bind(this),this.um=this.um.bind(this),this.$c(e.alignment||"bottom-right"),Kt(this,e.baseLayers,e.layers)}u(Jt,$s),t("H.ui.MapSettingsControl",Jt);function Lt(e,n){var r=[];return e.concat(n).forEach(function(o){r=r.concat(o.layer)}),r}function Mt(e,n,r){var o=e.lc();if(o){e=Lt(e.He,e.ag);var s=Lt(n,r);e.forEach(function(l){s.includes(l)||o.hi(l)})}}function Kt(e,n,r){Mt(e,n,r),e.vq=NaN,e.He=kb(n)?n:[],e.ag=kb(r)?r:[],e.Bf&&(e.Bf.ia(),e.ck.ia(),Nt(e))}Jt.prototype.subscribe=function(){var e=this.lc();if(e){var n=this.Jb();n&&(n=n.B())&&Dd(n,"pointerdown",this.Rc),Dd(e,"pointerdown",this.Rc),e=e.O,Dd(e,"add",this.te),Dd(e,"remove",this.te),Dd(e,"set",this.te)}},Jt.prototype.Rc=function(e){this.ce.getState()===Et.OPEN&&(e.currentTarget!==this.lc()&&this.ce.B().contains(e.target)||this.Fc())},Jt.prototype.unsubscribe=function(){var e=this.lc();if(e){var n=this.Jb();n&&(n=n.B())&&Ld(n,"pointerdown",this.Rc),Ld(e,"pointerdown",this.Rc),e=e.O,Ld(e,"add",this.te),Ld(e,"remove",this.te),Ld(e,"set",this.te)}},Jt.prototype.N=function(e,n){var r=this.ma().translate("layers.choose");$s.prototype.renderInternal.call(this,e,n),this.subscribe(),this.tc=new dt({tooltip:r,label:'<svg xmlns="http://www.w3.org/2000/svg" class="H_icon" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M6.7,14.6 L4.5,16 L12,20.6 L19.5,16 L17.3,14.6 L19.1,13.5 L23,16 L12,23 L1,16 L4.9,13.5 L6.7,14.6 Z M12,2 L23,9 L12,16 L1,9 L12,2 Z"></path></svg>',onStateChange:z(function(s){var l=this;s.target.getState()===ct.DOWN?(this.ce.F(Et.OPEN),this.ce.hw(this),this.Yj=new It(this.B().ownerDocument.body,this.Bf.Cj().concat(this.ck.Dj()),function(){l.tc.F(ct.UP),l.tc.B().blur()})):globalThis.setTimeout(function(){l.ce.F(Et.CLOSED),l.Yj.l()})},this)}),this.Bf=new Gt({title:r,onActiveButtonChange:function(){var s=this.vq;e:{for(var l=this.Bf.Cj(),d=l.length;d--;)if(l[d].getState()===ct.DOWN){l=l[d];break e}l=null}if(l=l.getData(),l=this.He[l].layer,d=kb(l),this.map.Dg(d?l[0]:l),(s=this.He[s])&&(s=s.layer,kb(s)))for(var h=s.length;1<h--;)this.map.hi(s[h]);if(d)for(s=l.length;1<s--;)this.map.Bl(l[s],1);Ot(this,l),this.um(),this.Fc()}.bind(this)}),this.ck=new Zs("div","H_grp"),this.Bu=new Y("div","H_separator"),this.Sa(this.tc),this.Sa(this.ce),this.ce.Sa(this.Bf),this.ce.Sa(this.Bu),this.ce.Sa(this.ck),Nt(this);var o=this;Ss(this.tc.B(),"focus",function(){o.tc.F(ct.DOWN)}),Ss(this.tc.B(),"blur",function(){o.Fc()})},Jt.prototype.renderInternal=Jt.prototype.N;function Ot(e,n){if(e.map.Ca.type===Nm){var r=H.map.render.harp.Style;n=[].concat(n);for(var o=0;!l&&o<n.length;o++){var s=n[o].D;if(s.Xc()&&s.K){s=s.K();var l=s.getConfig()||s.getUrl()}}if(l){var d=function(h){h=h.D,h.Xc()&&h.K&&h.K()instanceof r&&h.Cb(new r(l))};e.ag.forEach(function(h){h=h.layer,kb(h)?h.forEach(d):h&&d(h)})}}}function Nt(e){var n=e.ma();e.He.forEach(function(r,o){var s=r.layer;r=new dt({label:Pt(n,r.label),data:o,disabled:!s||kb(s)&&!s.length}),r.uf(-1),this.Bf.yo(r)},e),e.ag.forEach(function(r,o){var s=r.layer;r=new dt({label:Pt(n,r.label),onStateChange:this.bC.bind(this,r.layer),data:o,disabled:!s||kb(s)&&!s.length}),r.uf(-1),this.ck.Sa(r)},e),e.Bu.Zb(!(!e.ag.length||!e.He.length)),globalThis.setTimeout(function(){this.map&&(this.te(),this.tc.wa(!(this.He&&this.He.length||this.ag&&this.ag.length)))}.bind(e))}Jt.prototype.te=function(){var e=this.map.pa,n=this.map.O;this.vq=NaN,this.He.forEach(function(r,o){r=r.layer,r=e===(kb(r)?r[0]:r),this.Bf.Cj()[o].F(ct[r?"DOWN":"UP"],!0),r&&(this.vq=o)},this),this.ag.forEach(function(r,o){r=r.layer;var s=kb(r);o=this.ck.Dj()[o],!r||s&&!r.length?o.wa(!0):o.F(ct[n.indexOf(s?r[0]:r)!==-1?"DOWN":"UP"],!0)},this)},Jt.prototype.bC=function(e,n){e=kb(e)?e:[e],n=n.target.getState()===ct.DOWN;for(var r=0;r<e.length;r++)n?this.map.Bl(e[r]):this.map.hi(e[r]);this.um(),this.Fc()},Jt.prototype.um=function(){var e=Qt(this);e&&(e.vo.D.K().fk(e.D.K().Sd()),this.map.hi(e),e.l(),delete e.vo),Rt(this)&&St(this,this.map.pa)};function St(e,n){var r=window.H.service&&window.H.service.omv.Provider,o=n.D;if(r&&n.D instanceof r&&o.K().vj){var s=o.K(),l=function(){var d=Tt.ground.filter(function(g){return!!s.Op("layers."+g)}),h=Tt.water.filter(function(g){return!!s.Op("layers."+g)});if(d.concat(h).length){var p={};Dg(p,s.vj(d)),Dg(p,s.vj(h,!1,!0)),delete p.global,d=new Xg(p,s.Lc()),d=o.$.od(d),d.vo=n,this.map.Bl(d)}s.removeEventListener(Cg.CHANGE,l)}.bind(e);s.getState()!==Ag.READY?s.addEventListener(Cg.CHANGE,l):l()}}function Qt(e){return ys(e.map.O.Ta(),function(n){return!!n.vo})}function Rt(e){e=e.map.O.Ta();var n=window.H.service&&window.H.service.traffic.flow.Provider;return!!n&&e.some(function(r){return r.D instanceof n})}var Tt={water:["water.water-labels"],ground:"road_labels continent_label island_label roads.shields roads.directions truck-restriction.signs places landuse.label".split(" ")};function Pt(e,n){return/^layers?/.test(n)&&e.xm(n)?e.translate(n):n}Jt.prototype.Fc=function(){this.tc.F(ct.UP),this.tc.B().blur()},Jt.prototype.disposeInternal=function(){Jt.g.disposeInternal.call(this),this.unsubscribe()};function Ut(e){B(e,Array,Ut,1),Zs.call(this,"div","H_context_menu"),this.FB=e,this.v=null,this.Fc=this.Fc.bind(this)}u(Ut,Zs),t("H.ui.context.Menu",Ut),Ut.prototype.disposeInternal=function(){Ut.g.disposeInternal.call(this),this.Yj&&this.Yj.l(),this.Yj=null},Ut.prototype.disposeInternal=Ut.prototype.disposeInternal,Ut.prototype.N=function(){Zs.prototype.N.apply(this,arguments),this.FB.forEach(function(e){e===Ie?e=new Y("div","H_context_menu_item_separator"):(e=new Ft(e),e.addEventListener("click",this.Fc)),this.Sa(e),this.uf(0)},this),Dd(this.B(),["mousedown","touchstart","pointerdown","wheel"],function(e){e.stopPropagation()}),this.Yj=new It(this.B(),this.Dj().filter(function(e){return e instanceof Ft?(e=e.Kb,e.callback&&!e.isDisabled()):!1}),this.Fc)},Ut.prototype.renderInternal=Ut.prototype.N,Ut.prototype.setPosition=function(e,n){if(this.v){var r=this.B(),o=r.offsetWidth,s=r.offsetHeight,l=this.v,d=l.sa.width;l=l.sa.height,e+o>d&&e>d/2&&(e-=o),n+s>l&&n>l/2&&(n-=s),Bs(r,e,n)}},Ut.prototype.setPosition=Ut.prototype.setPosition,Ut.prototype.Fc=function(){this.v&&this.v.dispatchEvent(new pd("contextmenuclose",this.v))},Ut.prototype.Qa=function(e){this.v=e},Ut.prototype.setMap=Ut.prototype.Qa;function Vt(e,n,r){Li.call(this,e,{icon:Wt,visibility:r}),Xt(this,n)}u(Vt,Li);function Xt(e,n){e.mB=n,e.G&&(e.G.textContent=n)}var Wt=new Ei(Ps(globalThis.document,"span","H_dm_label"),{onAttach:function(e,n,r){r.G=e,Xt(r,r.mB)},onDetach:function(e,n,r){delete r.G}});function Yt(e,n){I.call(this),this.Ne=e,this.Wb=new Vt(this.zD,""),n.push(this.Wb),this.ud=new T({objects:n,data:this}),this.$n=this.$n.bind(this)}u(Yt,I),m=Yt.prototype,m.$e=!1,m.zD={lat:0,lng:0},m.xe=function(e,n){Xt(this.Wb,e),this.Wb.X(n)},m.Sk=function(e){(this.Ld=e)?this.$n():(this.kl&&globalThis.clearTimeout(this.kl),this.kl=globalThis.setTimeout(this.$n,100))},m.kl=0,m.$n=function(){this.Wb.Zb(this.Ld)};function Zt(e,n){n&&(e.nextSibling=n,n.previousSibling=e)}var $t={btn:'<svg class="H_icon" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><g transform="translate(3 2)"><path d="m18 13v7h-18v-7h2v5h2v-2h2v2h2v-3h2v3h2v-2h2v2h2v-5z"></path><path d="m2.3.3c.7 0 1.3.1 1.8.4s.9.6 1.1 1 .4.9.4 1.4c0 .5-.1 1-.3 1.4s-.57 1-1 1.6-1.3 1.3-2.3 2.2h3.9l-.2 1.7h-6.16v-1.6c1.1-1.1 2-2 2.5-2.6s.9-1 1-1.4.3-.8.3-1.2c0-.4-.1-.7-.3-.9s-.5-.3-.9-.3c-.3 0-.6 0-.9.2s-.5.4-.8.7l-1.3-1c.4-.5.9-.9 1.4-1.2s1.2-.4 1.8-.4zm14.4 9.7h-2.3l-.2-3.8c 0-.9-.1-1.7-.1-2.4 0-.5 0-1 0-1.5l-1.5 6.7h-2.2l-1.6-6.7c.1.8.1 1.6.1 2.3 0 .5 0 1.1 0 1.7l-.2 3.8h-2.2l.7-9.7h2.9l1.5 6.6 1.4-6.6h2.9z"></path></g></g></svg>',point:'<svg height="22" viewBox="0 0 12 12" width="22" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="m6 12c3.3 0 6-2.7 6-6s-2.7-6-6-6-6 2.7-6 6 2.7 6 6 6z" fill="#fff"></path><path d="m6 10c2.2 0 4-1.8 4-4s-1.8-4-4-4-4 1.8-4 4 1.8 4 4 4z" fill="#2ed5c9" stroke="#272c36" stroke-width="2"></path></g></svg>'};function au(e,n,r,o){var s=new J,l=[];Zt(e,this),Zt(this,n),s.tg(e.ya()),s.tg(n.ya()),this.Oh=new Bi(s,{style:r.Nh}),this.yu=new Bi(s,{style:{strokeColor:"transparent",lineWidth:Math.min(100,this.Oh.K().lineWidth+2*(o||5))}}),r.outlineStyle&&(this.cr=new Bi(s,{style:r.outlineStyle}),l.push(this.cr)),l.push(this.Oh,this.yu),Yt.call(this,r,l),this.fv=this.ev=-1,e=this.ud,e.addEventListener("pointermove",this.ie,!0,this),e.addEventListener("pointerleave",this.Wq,!0,this)}u(au,Yt),au.prototype.Ij=function(){var e=this.Oh.V();return e.wj(0).kb(e.wj(1))};function bu(e,n,r){var o=e.Oh.V();o.Yk(3*+r,3,[n.lat,n.lng,0]),e.cr&&e.cr.X(o),e.yu.X(o),e.Oh.X(o)}au.prototype.ie=function(e){var n=e.currentPointer;e=this.previousSibling.ya();var r=this.nextSibling.ya(),o=this.Ne.gx,s=n.viewportX;n=n.viewportY,(this.ev!==s||this.fv!==n)&&(this.ev=s,this.fv=n,o.X(this.Ne.kA(e,r,{x:s,y:n})),o.Zb(!0))},au.prototype.Wq=function(){this.Ne.gx.Zb()},au.prototype.Nr=function(){this.xe(this.Ne.Jt(this.Ij()),this.Oh.C().wb())};function cu(e,n,r){r=n.Jj(r||0),this.eg=new bn(e,{icon:r,zIndex:0}),this.eg.draggable=!0,Yt.call(this,n,[this.eg]),e=this.ud,e.addEventListener("dragstart",this.Cd,!0,this),e.addEventListener("drag",this.ig,!0,this),e.addEventListener("dragend",this.ef,!0,this)}u(cu,Yt),m=cu.prototype,m.kh=0,m.j={Af:"change"},m.Ij=function(){return this.kh},m.ya=function(){return this.eg.V()};function du(e){var n=0;e.nextSibling&&e.previousSibling&&(e.nextSibling.$e||e.previousSibling.$e?e.nextSibling.$e&&!e.previousSibling.$e&&(n=2):n=1),n=e.Ne.Jj(n),e.eg.we(n)}m.ig=function(e){var n=e.currentPointer;e=n.viewportX,n=n.viewportY,(this.nB!==e||this.oB!==n)&&(this.nB=e,this.oB=n,this.eg.X(this.Ne.map.Wa(e-this.wv.x,n-this.wv.y)),this.dispatchEvent(new pd(this.j.Af,this)))},m.Cd=function(e){var n=e.currentPointer,r=n.viewportX;n=n.viewportY;var o=this.Ne.map.La(this.ya());this.eg.ui(1),this.wv={x:r-o.x,y:n-o.y},e.stopPropagation()},m.ef=function(){this.eg.ui(0)},m.Nr=function(e){this.kh=e,this.xe(this.Ne.Jt(e),this.ya())};function eu(e,n){this.Ia=n,this.vc=e,this.nb={$e:!0},fu(this,this.nb),this.hn=z(this.hn,this)}t("H.ui.distanceMeasurement.Model",eu),m=eu.prototype,m.Im=function(){return this.nb.nextSibling===this.nb},m.Sk=function(e){for(var n=this.nb,r=n.nextSibling;r!==n;)r.Sk(r.previousSibling===n?!1:e),r=r.nextSibling};function gu(e,n){var r=n||e.nb.nextSibling,o=0,s=0;if(n&&!hu(e,n))throw new C(e.Ek,0,n);for(r instanceof cu?o=r.Ij():r instanceof au&&(o=r.previousSibling.Ij()),n=r;n&&n!==e.nb;n=n.nextSibling,s++)n.Nr(o),s%2===1&&(o+=n.Ij())}m.Pi=function(e){var n=this.nb.previousSibling,r=this.Im();return e=new cu(e,this.Ia,r?0:2),this.vc.Y(e.ud),Zt(e,this.nb),e.addEventListener(e.j.Af,this.hn),r?fu(this,e):(iu(this,n,e),du(n),gu(this,n)),e},m.insertBefore=function(e,n){var r,o=1;if(n){if(!hu(this,n))throw new C(this.insertBefore,1,n);(r=n.previousSibling.$e)&&(o=0),e=new cu(e,this.Ia,o),e.addEventListener(e.j.Af,this.hn),this.vc.Y(e.ud),r?(r=this.nb.nextSibling,iu(this,e,r),fu(this,e),n=e,du(r)):(r=n.previousSibling,n=r.previousSibling,o=r.nextSibling,this.vc.Oa(r.ud),iu(this,n,e),iu(this,e,o)),gu(this,n)}else e=this.Pi(e);return e},m.ia=function(){fu(this,this.nb),this.vc.ia()},m.Ek=function(e){var n=this.nb,r=e.previousSibling,o=e.nextSibling;if(!hu(this,e))throw new C(this.Ek,0,e);if(this.vc.Oa(e.ud),r===n){var s=o;s!==n?(e=s.nextSibling,fu(this,e),e.Nr(0),du(e),gu(this,e)):fu(this,this.nb)}else o===n?(s=r,e=s.previousSibling,Zt(e,n),du(e)):r&&o&&(iu(this,r.previousSibling,o.nextSibling),this.vc.vg([o.ud,r.ud]),gu(this,r.previousSibling));s&&s!==n&&this.vc.Oa(s.ud)};function hu(e,n){for(var r=e.nb.nextSibling,o=!1;r!==e.nb;){if(r===n){o=!0;break}r=r.nextSibling}return o}function iu(e,n,r){n=new au(n,r,e.Ia),e.vc.Y(n.ud)}function fu(e,n){e.nb.nextSibling=n,n.previousSibling=e.nb}m.hn=function(e){e=e.target;var n=e.previousSibling,r=e.nextSibling,o=e.ya();if(!r.$e){bu(r,o,!1);var s=e}n.$e||(bu(n,o,!0),s=n.previousSibling),gu(this,s)};function ju(e){e=e||{};var n,r=e.lineStyle;$s.call(this),this.Lo=new dt({label:$t.btn,onStateChange:z(this.gf,this)}),this.Sa(this.Lo),(n=e.distanceFormatter)&&(this.Kt=n),r&&(this.ov=r,this.Xv=A),this.$c(e.alignment||"right-bottom"),this.vd={},this.vd[0]=e.startIcon,this.vd[2]=e.endIcon,this.vd[1]=e.stopoverIcon,this.vd[3]=e.splitIcon}u(ju,$s),t("H.ui.DistanceMeasurement",ju),m=ju.prototype,m.Qb=Ys.METRIC,m.Vx=22,m.ov={strokeColor:"rgb(39,44,54)",lineWidth:5},m.Xv={strokeColor:"white",lineWidth:7},m.Wk=function(){var e=this.map,n,r={};this.Wj||(this.sc=new P,this.qb=new tl(this.sc,{pixelRatio:this.map.lb()}),this.vc=n=this.sc.sd(),this.vc.$w(!0),n.addEventListener("dragstart",this.Cd,!0,this),n.addEventListener("dragend",this.Xk,!0,this),n.addEventListener("pointerenter",this.Xk,!0,this),n.addEventListener("pointerleave",this.Wq,!0,this),n.addEventListener("tap",this.iC,!0,this),this.Zk=ku(this),r.Jt=z(this.Kt,this),r.Jj=z(this.Jj,this),r.kA=z(this.pu,this),r.map=this.map,r.gx=this.Zk,r.Nh=this.ov,r.outlineStyle=this.Xv,this.Kb=new eu(this.vc,r),this.Wj=!0),this.Zk&&this.vc.Y(this.Zk),e.addEventListener("tap",this.Qv,!0,this),e.O.add(this.qb)},m.Ai=function(){var e=this.map;this.Wj&&(e.removeEventListener("tap",this.Qv,!0,this),e.hi(this.qb),this.Kb.ia())};function ku(e){function n(){var h=r.mc();return h={anchor:r.Db.clone().scale(l).floor(),size:new Xh(Hb(h.w*l),Hb(h.h*l)),hitArea:o},new zm(r.Te(),h)}var r=e.Jj(3),o=new Gi(Hi.NONE,[]),s,l=r===e.Hs?.5:1;if(r.getState()===1)var d=n();else d=new zm("<svg/>",{hitArea:o}),r.addEventListener("statechange",function(){r.getState()===1&&s.we(n())});return s=new bn(e.map.wb(),{visibility:!1,icon:d})}m.Kt=function(e){var n="m",r=0;return this.Qb==="metric"?1e3<=e&&(e/=1e3,n="km",r=1):(e/=.3048,n="ft",5280<=e&&(e/=5280,n="mi",r=1)),e.toFixed(r)+" "+this.ma().translate("scale."+n)},m.pu=function(e,n,r){var o=this.map.La(e);return n=this.map.La(n),r=new K(r.x,r.y).ou(o,n),this.map.Wa(r.x,r.y)||vc(e)},m.N=function(e,n){var r=this.map.Ca.type===mi.P2D?this.map.lb():1;r*=this.Vx;var o=r/2;$s.prototype.renderInternal.call(this,e,n),this.Qb=Ys.METRIC,this.Hs=new zm($t.point,{anchor:{x:o,y:o},size:{w:r,h:r},hitArea:new Gi(Hi.CIRCLE,[o,o,o])}),this.Lo.Gd(this.ma().translate("distance.measurement"))},ju.prototype.renderInternal=ju.prototype.N,m=ju.prototype,m.Jj=function(e){return this.vd[e]||this.Hs},m.Xk=function(){this.Kb.Sk(!0)},m.Cd=function(){this.Kb.Sk()},m.Wq=function(e){e.currentPointer.type!=="touch"&&this.Kb.Sk()},m.iC=function(e){var n=e.currentPointer,r=e.target.Na,o;r&&(r=r.getData())instanceof Yt&&(o=r),r=o,e=e.originalEvent,e=e.metaKey||e.altKey,r&&(e&&r instanceof cu?this.Kb.Ek(r):r instanceof au&&(e=r.previousSibling.ya(),o=r.nextSibling.ya(),n={x:n.viewportX,y:n.viewportY},this.Kb.insertBefore(this.pu(e,o,n),r.nextSibling),this.Zk.Zb()),this.Xk())},m.Qv=function(e){var n=e.currentPointer;e=e.target,e!==this.map&&e.getProvider&&e.getProvider()===this.sc||(this.Kb.Pi(this.map.Wa(n.viewportX,n.viewportY)),this.Zk.Zb(),this.Xk())},m.gf=function(e){e.target.getState()==="down"?this.Wk():this.Ai()},m.qk=function(e){this.Qb=e,this.Wj&&(gu(this.Kb),this.Xk())},ju.prototype.onUnitSystemChange=ju.prototype.qk,ju.prototype.disposeInternal=function(){this.Ai(),this.Wj&&(this.sc.l(),this.qb.l()),ju.g.disposeInternal.call(this)},ju.prototype.Qa=function(e){e?this.Lo.getState()===ct.DOWN&&(this.map=e,this.Wk()):(this.Ai(),this.Wj=!1),$s.prototype.Qa.apply(this,arguments)},ju.prototype.setMap=ju.prototype.Qa;var lu={in:'<svg version="1.1" class="H_icon" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><g><path d="m5 10.6h5.6v-5.6h2.8v5.6h5.6v2.8h-5.6v5.6h-2.8v-5.6h-5.6v-2.8z"></path></g></svg>',out:'<svg version="1.1" class="H_icon" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><path d="m5 10.6h14v2.8h-14z"/></svg>'};function mu(e){e=e||{};var n;this.zf=!!e.vertical,this.rB=e.length||this.Wx,this.zb=ob(n=e.min)?n:this.Yx,this.Qc=Fb(this.zb,ob(n=e.max)?n:this.Xx),this.lD=D(n=e.step)?this.Zx:n,this.Ei=nu(this,ob(n=e.value)?n:(this.zb+this.Qc)/2),this.Rc=z(this.Rc,this),this.ie=z(this.ie,this),this.kn=z(this.kn,this),this.jn=z(this.jn,this),this.tk=e.pointerArea,Y.call(this,"div","H_slider"+(this.zf?"":" H_l_horizontal"))}u(mu,Y),t("H.ui.base.Slider",mu),m=mu.prototype,m.Ms=1,m.Yx=0,m.Xx=100,m.Zx=1,m.Wx="16em",m.bo=function(e,n){var r=this.zf,o=r?"top":"left";return(!this.Ka||n)&&(e=gc(e,this.zb,this.Qc),this.Lh&&(n=100*(e-this.zb)/(this.Qc-this.zb),r=(r?-1:1)*n,this.Lh.style[o]=r+"%",this.BD.style[o]=100+r+"%"),this.Ei=nu(this,e)),this.Ei},mu.prototype.setValue=mu.prototype.bo,mu.prototype.NA=function(){return this.Ei},mu.prototype.getValue=mu.prototype.NA,m=mu.prototype,m.Wk=function(){if(!this.jq){Ss(this.B(),"start",this.Rc);var e=this.tk;Ss(e,"move",this.ie),Ss(e,"end",this.kn),Ss(e,"out",this.jn),this.jq=!0}},m.Ai=function(){if(this.jq){Ts(this.B(),"start",this.Rc);var e=this.tk;Ts(e,"move",this.ie),Ts(e,"end",this.kn),Ts(e,"out",this.jn),this.jq=!1}};function nu(e,n){var r=e.lD;return n=gc(n,e.zb,e.Qc),r?e.zb+Gb((n-e.zb)/r)*r:n}function ou(e,n){var r=e.Ex,o=e.zf;e.Dx||(e.Dx=r["offset"+(o?"Height":"Width")]),n-=As(r)[o?"y":"x"],0>n&&(n=0),n=(e.Qc-e.zb)*n/e.Dx,n=nu(e,o?e.Qc-n:e.zb+n),e.Ei!==n&&(e.bo(n,!0),e.dispatchEvent(new ji(e.j.Af,n,e.Ei)))}function pu(e,n){return(n.touches?n.targetTouches[0]:n)["page"+(e.zf?"Y":"X")]}function qu(e,n){var r=!1,o=e.type;return o.indexOf("pointer")!==-1||o.indexOf("touch")!==-1?r=!0:B(e,MouseEvent)&&(r=e.which===n||e.buttons===n),r}function ru(e){var n=e.touches;return n&&n.length===1||B(e,MouseEvent)}m.Rc=function(e){var n=this.zf;if(qu(e,this.Ms)&&ru(e)){var r=pu(this,e),o=e.target;o===this.Lh||o.parentElement===this.Lh?(this.lB=r-As(this.Lh)[n?"y":"x"]-this.Lh.offsetWidth/2,this.B().className="H_slider H_slider_active"+(this.zf?"":" H_l_horizontal"),this.Ka=!0):ou(this,r),e.preventDefault()}},m.kn=function(){this.Ka&&(this.B().className="H_slider "+(this.zf?"":" H_l_horizontal"),this.Ka=!1)},m.jn=function(e){this.Ka&&e.target===this.tk&&(this.Ka=!1)},m.ie=function(e){this.Ka&&ru(e)&&(qu(e,this.Ms)?(ou(this,pu(this,e)-this.lB),e.preventDefault()):this.Ka=!1)},m.j={Af:"change"},m.N=function(e,n){var r=Ps(n,"div","H_slider_cont"),o=Ps(n,"div","H_slider_knob_cont"),s=Ps(n,"div","H_slider_knob"),l=Ps(n,"div","H_slider_knob_halo"),d=Ps(n,"div","H_slider_track");n=Ps(n,"div","H_slider_track H_slider_track_active"),e.appendChild(r),r.appendChild(d),d.appendChild(n),r.appendChild(o),o.appendChild(s),o.appendChild(l),this.Ex=d,this.BD=n,this.Lh=o,this.tk||(this.tk=e.ownerDocument.body),r.style[this.zf?"height":"width"]=this.rB,this.bo(this.Ei),this.Wk()},mu.prototype.renderInternal=mu.prototype.N,mu.prototype.disposeInternal=function(){this.Ai()},mu.prototype.wa=function(e,n){return e?this.Ai():this.Ex&&this.Wk(),Y.prototype.wa.call(this,e,n)},mu.prototype.setDisabled=mu.prototype.wa;function su(e){e=e||{};var n=e.slider;$s.call(this),this.on=z(this.on,this),this.ql=z(this.ql,this),this.Kd=z(this.Kd,this),n&&(this.Xq=z(this.Xq,this),this.Eu=n,this.kD=e.sliderSnaps,this.Ha("H_zoom_slider")),this.tl=new bt({label:lu.in,onStateChange:this.on}),this.so=new bt({label:lu.out,onStateChange:this.on}),this.Ha("H_zoom"),this.Ha("H_grp"),this.mz=e.fractionalZoom!==!1,this.setZoomSpeed(e.zoomSpeed||4),this.$c(e.alignment||"right-middle")}u(su,$s),t("H.ui.ZoomControl",su),su.prototype.TA=function(){return this.Qx},su.prototype.getZoomSpeed=su.prototype.TA,su.prototype.gD=function(e){this.Qx=e},su.prototype.setZoomSpeed=su.prototype.gD,su.prototype.Qa=function(e){this.map!==e&&(this.map&&this.map.removeEventListener("mapviewchange",this.ql),tu(this)),$s.prototype.Qa.apply(this,arguments),this.map&&(this.Kd(),e.addEventListener("mapviewchange",this.ql),e.addEventListener("baselayerchange",this.Kd))},su.prototype.setMap=su.prototype.Qa,su.prototype.disposeInternal=function(){$s.prototype.disposeInternal.apply(this,arguments),this.map.removeEventListener("baselayerchange",this.Kd),tu(this)},su.prototype.N=function(e,n){$s.prototype.renderInternal.call(this,e,n),this.tl.Gd(this.ma().translate("zoom.in")),this.so.Gd(this.ma().translate("zoom.out"))},su.prototype.renderInternal=su.prototype.N,su.prototype.$c=function(e){var n=this.Fe;return $s.prototype.$c.call(this,e),n!==e&&this.Kd(),this},su.prototype.setAlignment=su.prototype.$c,su.prototype.ql=function(){var e=this.map,n=e.Ub(),r=e.lb()-1;e=e.pa||e.Ca.getCapabilities().lookAt.zoom,this.Eu&&this.vi.bo(n),this.ub||(this.tl.wa(n+r>=e.max),this.so.wa(n<=e.min))},su.prototype.wa=function(e,n){return su.g.wa.call(this,e,n),this.ql(),this},su.prototype.setDisabled=su.prototype.wa;function tu(e){e.removeChild(e.vi),e.vi=null,e.pa&&(e.pa.removeEventListener("minchange",e.Kd),e.pa.removeEventListener("maxchange",e.Kd),e.pa=null)}su.prototype.on=function(e){e=e.target;var n=e===this.tl?1:-1,r=0<n?Math.ceil:Math.floor,o=this.map,s,l=this;o&&(e.getState()==="down"?(o.xa.startControl(),o.xa.control(0,0,n*this.Qx,0,0,0)):o.xa.endControl(!0,function(d){s=l.mz?d.zoom:r(d.zoom),d.zoom=s}))},su.prototype.Xq=function(e){this.map&&this.map.Vk(e.newValue)},su.prototype.Kd=function(){var e=this.Fe,n=this.lc();if(/^top/g.test(e)||/^bottom/g.test(e)){var r=this.so;e=this.tl;var o=!1}else r=this.tl,e=this.so,o=!0;if(this.removeChild(r),this.removeChild(e),this.Sa(r),this.Eu&&n){tu(this),n=o;var s=(o=(r=this.map)&&r.pa)||r.Ca.getCapabilities().lookAt.zoom;(this.pa=o)&&(o.addEventListener("minchange",this.Kd),o.addEventListener("maxchange",this.Kd)),this.vi=new mu({step:this.kD?1:0,vertical:n,min:s.min,max:s.max,value:r.Ub(),pointerArea:r.B()}),this.vi.addEventListener(this.vi.j.Af,this.Xq),this.Sa(this.vi)}this.Sa(e)};function uu(e,n){try{return e.Hm=!0,new e(n)}finally{e.Hm=!1}}function vu(e,n){var r=e.B(),o=this;I.call(this),this.v=e,this.qj=r.ownerDocument,this.Hf={},this.Je=[],this.G=Ps(this.qj,"div","H_ui"),this.setDirection(),this.UB=z(function(s){this.nv.put(s.target,s.target.Fe)},this),this.addEventListener("alignmentchange",this.UB),this.jC=z(function(){this.yx()},this),this.addEventListener("toggleunitsystem",this.jC),this.G.addEventListener("contextmenu",this.mw,!1),this.G.addEventListener("MSHoldVisual",this.mw,!1),this.v.addEventListener("contextmenu",this.bn,!1,this),this.v.addEventListener("contextmenuclose",this.Lv,!1,this),this.v.bc(this.l.bind(this)),this.Od=null,this.rt=-1,this.nv=new jt(this.G,this.qj),this.Qb=Ys.METRIC,wu(this,"en-US"),n&&xu(this,n),r.appendChild(this.G),globalThis.setTimeout(function(){o.nv.update()},1)}u(vu,I),t("H.ui.UI",vu),vu.prototype.mw=function(e){for(var n=e.target;n&&!/\bH_ib_content\b/.test(n.className);)n=n.parentNode;n||e.preventDefault()},vu.prototype.B=function(){return this.G},vu.prototype.getElement=vu.prototype.B,vu.prototype.lc=function(){return this.v},vu.prototype.getMap=vu.prototype.lc,vu.prototype.MA=function(){return this.Qb},vu.prototype.getUnitSystem=vu.prototype.MA,vu.prototype.ao=function(e){var n=this.Hf,r;if(e!==this.Qb)for(r in this.Qb=e,n)n[r]instanceof $s&&n[r].onUnitSystemChange(this.Qb)},vu.prototype.setUnitSystem=vu.prototype.ao,vu.prototype.setDirection=function(e){this.G.setAttribute("dir",e||getComputedStyle(this.lc().B()).direction)},vu.prototype.setDirection=vu.prototype.setDirection;function wu(e,n){if(lb(n))var r=n;else if(n instanceof zt){r=n.Tm;var o=n}else throw Error("The locale parameter must be a string or a H.ui.i18n.Localization object.");if(r)if(o)e.Bq=o;else if(0<=ut.indexOf(r))e.Bq=new zt(r);else throw Error("Locale ["+r+"] is not supported.");else throw Error("No locale was defined.")}vu.prototype.ma=function(){return this.Bq},vu.prototype.yx=function(){this.Qb===Ys.METRIC?this.ao(Ys.IMPERIAL):this.ao(Ys.METRIC)},vu.prototype.toggleUnitSystem=vu.prototype.yx,vu.prototype.Ys=function(e){var n=this.Je.length,r=this.G;if(0>this.Je.indexOf(e)){e.ea(this),e.Qa(this.v);var o=e.L(this.qj);n=0<n?this.Je[n-1].B().nextSibling:this.G.firstChild,r.insertBefore(o,n),this.Je.push(e)}},vu.prototype.addBubble=vu.prototype.Ys,vu.prototype.bn=function(e){var n=e.items;this.Od&&this.Lv(),clearTimeout(this.rt),this.rt=globalThis.setTimeout(function(){n.length&&(this.Od=new Ut(n),this.G.insertBefore(this.Od.L(this.qj),this.G.firstChild),this.Od.ea(this),this.Od.Qa(this.v),this.Od.setPosition(e.viewportX,e.viewportY))}.bind(this),0)},vu.prototype.Lv=function(){this.Od&&(this.Od.l(),this.Od=null)},vu.prototype.AC=function(e){var n=this.Je.indexOf(e);-1<n&&(e.ea(null),e.Qa(null),this.Je.splice(n,1),this.G.removeChild(e.B()))},vu.prototype.removeBubble=vu.prototype.AC,vu.prototype.zz=function(){return this.Je},vu.prototype.getBubbles=vu.prototype.zz,vu.prototype.Pg=function(e,n){if(this.Gj(e))throw Error("A control with name ["+e+"] is already registered.");n.ea(this),n.Qa(this.v),n.yB=this.Bq,n.L(this.qj),n.onUnitSystemChange(this.Qb),this.Hf[e]=n},vu.prototype.addControl=vu.prototype.Pg,vu.prototype.CC=function(e){var n=this.Gj(e);if(n)n.unsubscribe(),n.ea(null),n.Qa(null),Us(n),delete this.Hf[e];else throw Error("Control ["+e+"] not found in this UI's controls.");return n},vu.prototype.removeControl=vu.prototype.CC,vu.prototype.Gj=function(e){return this.Hf[e]},vu.prototype.getControl=vu.prototype.Gj,vu.prototype.disposeInternal=function(){for(var e in this.Hf)zs.hasOwnProperty.call(this.Hf,e)&&this.Hf[e].l();this.Je.forEach(function(n){n.l()}),(e=this.G.parentNode)&&e.removeChild(this.G),I.prototype.disposeInternal.call(this),delete this.G};function xu(e,n){var r,o;n.unitSystem&&e.ao(n.unitSystem),(o=n.locale)&&wu(e,o),(r=n.zoom)&&e.Pg("zoom",new su(ya(r)?r:null)),(r=n.zoomrectangle)&&e.Pg("zoomrectangle",new et(ya(r)?r:null)),(r=n.mapsettings)&&e.Pg("mapsettings",new Jt(ya(r)?r:null)),(r=n.scalebar)&&e.Pg("scalebar",new at(ya(r)?r:null)),(r=n.distancemeasurement)&&e.Pg("distancemeasurement",new ju(ya(r)?r:null))}vu.prototype.capture=function(e,n,r,o){var s=this.Gj("scalebar"),l=e.getContext("2d"),d=e.width,h=e.height,p=this.v.Yd,g=5+(p?p.B().childNodes[1].offsetHeight:0);s&&s.Wd()?s.capture(n,function(y){l.drawImage(y,d-y.width-5*n,h-y.height-g*n),r(e)},o):r(e)},vu.prototype.capture=vu.prototype.capture,vu.createDefault=function(e,n,r){var o=e.Ca.type;if(r=new vu(e,{unitSystem:Ys.METRIC,zoom:{alignment:"right-bottom"},mapsettings:yu(o,n,e.pa),scalebar:{alignment:"bottom-right"},locale:r||"en-US"}),o===mi.P2D){var s=r.Gj("mapsettings"),l=function(){if(s.lc()){var g=yu(o,n,e.pa);Kt(s,g.baseLayers,g.layers)}};e.addEventListener(e.j.xl,l),r.bc(function(){e.removeEventListener(e.j.xl,l)}),s.bc(function(){e.removeEventListener(e.j.xl,l)})}if(o===mi.HARP){if(window.H.service){var d=n.vector.traffic.map.D.$.i(),h=new window.H.service.Url(d.oi,d.Qj.split(".").slice(-2).join("."));h=uu(window.H.service.traffic.Service7,{platformBaseUrl:h});var p=h.i().getQuery();p.apikey=d.getQuery().apikey,h.i().Tk(p),new At(r,h)}}else new At(r);return r},vu.prototype.eD=function(){},vu.prototype.setTrafficIncidentsHandle=vu.prototype.eD;function zu(e,n,r,o){for(var s=e,l=0;s&&l<n.length;l++)s=s[n[l]];if(s&&s!==e)return e={label:r,layer:s},o.push(e),e}function yu(e,n,r){var o=[],s=[],l=n.raster;if(e===mi.P2D&&l){if(zu(n,["raster","normal","map"],"layers.normal",o),zu(n,["raster","satellite","map"],"layers.satellite",o),zu(n,["raster","terrain","map"],"layers.terrain",o),r){for(var d in l)if(l[d]&&l[d].map===r){var h=d;break}}zu(n,["raster","normal","trafficincidents"],"layer.incidents",s),zu(n,["raster",h,"transit"],"layer.transit",s)}else zu(n,["vector","normal","map"],"layers.normal",o),e===mi.WEBGL?(zu(n,["raster","satellite","map"],"layers.satellite",o),zu(n,["vector","normal","traffic"],"layer.traffic",s),zu(n,["vector","normal","trafficincidents"],"layer.incidents",s)):(r=zu(n,["hybrid","day","vector"],"",[]),l=zu(n,["hybrid","day","raster"],"layers.satellite",o),l.layer=[l.layer,r.layer],window.H.service&&(r=n.vector.traffic.map.D.$.i(),n=uu(window.H.service.trafficVectorTile.Service,{baseUrl:r,layer:"flow"}),r=uu(window.H.service.trafficVectorTile.Service,{baseUrl:r,layer:"incident"}),h=kn()+"/harp/oslo/normal.day.json",l=new H.map.render.harp.Style(h),h=new H.map.render.harp.Style(h),n=n.createLayer(l,{engineType:e}),e=r.createLayer(h,{engineType:e}),s.push({label:"layer.traffic",layer:n},{label:"layer.incidents",layer:e})));return{alignment:"bottom-right",baseLayers:o,layers:s}}t("H.ui.buildInfo",function(){return Wh("H-ui","1.61.0","3b08619",{region:"row"})});function Au(e,n){if(!e)throw new C(Au,0,e);Au.g.constructor.call(this,e),this.gw={},this.tj=!(!n||!n.Qd),this.Rj=Bu++}u(Au,rj);var Bu=0;Au.prototype.L=function(e,n,r,o,s,l){var d=Gb(o),h=this.yb,p=d+(r.exp-h.pixelProjection.exp),g=h.min,y=h.max;o=h.tileSize;var v=h.D.Sc,w=this.Pb,k=w.Ve(),F=w.mc().w,q=r.w,_r=r.x,ga=r.y,La={};if(d<g||d>y)return fh.DONE;for(s=h.requestTiles(e,p,s,l,this.Rj),e=s.total,s=s.tiles,l=s.length,this.me=r,this.WC=n,this.ws=p,k!==v&&w.Fd(v),r=o=o*q/(Mb(2,p)*o),this.tj||(o%1&&(o=Hb(o),q=r/o,_r/=q,ga/=q,q=Mb(2,p)*o),_r=Hb(_r),ga=Hb(ga)),this.IC=r,p=-o,d=F+o,h=0;h<l;h++){if(F=s[h],(g=F.data)&&g.tagName){for(r=n.x-(_r-F.x*o),v=n.y-(ga-F.y*o),w.Re(g,r,v,o,o),k=r;(k-=q)>p;)w.Re(g,k,v,o,o);for(k=r;(k+=q)<d;)w.Re(g,k,v,o,o)}La[this.ws+"_"+F.x+"_"+F.y]=F}return this.gw=La,l===e?fh.DONE:fh.PENDING},Au.prototype.Ma=function(e,n,r){var o=this.IC,s=o/this.yb.tileSize,l=this.me,d=this.WC,h;if(fb(this.ws)&&l){e=l.x+(e-d.x),n=l.y+(n-d.y);var p=Hb(l.w/o),g=l=Hb(e/o);d=Hb(n/o),Jb(g)>=p&&(g%=p),0>g&&(g=p+g),(p=this.gw[this.ws+"_"+g+"_"+d])&&p.Ma&&(h=p.Ma((e-o*l)/s,(n-o*d)/s,r))}return h||Ze},Au.prototype.Eh=function(){return"2d"};function Cu(e,n){this.Wm=[],Cu.g.constructor.apply(this,arguments)}u(Cu,sj),m=Cu.prototype,m.Xt=function(){return this.yb.qe.apply(this.yb,arguments)},m.L=function(e,n,r,o,s,l,d){return this.Wm=[],Cu.g.L.apply(this,arguments)},m.oa=1,m.Fw=function(e,n,r,o,s,l){var d=this.oa=o.lb();s*=d,l*=d;var h=r.mc();n=h.w*d,h=h.h*d;var p=r.Db;this.Qd?(s-=p.x*d,l-=p.y*d):(s=Gb(s-p.x*d),l=Gb(l-p.y*d)),o.Re(r.Te(),s,l,n,h),e.detail?e.detail.set(s,l,s+n,l+h):e.detail=new lh(s,l,s+n,l+h),this.Wm.push(e)},m.Ma=function(e,n,r){for(var o=this.Wm,s=o.length,l,d,h,p=Ze,g=this.oa;s--&&(l=o[s],d=l.detail,!(d.Ql(e,n)&&(l=l.vv,(!(h=l.kc().Am)||h.Bm((e-d.left)/g,(n-d.top)/g,0))&&0>p.indexOf(l)&&(p===Ze&&(p=[]),p.push(l),r)))););return p},m.Eh=function(){return"2d"},m.disposeInternal=function(){this.Wm=[],Cu.g.disposeInternal.call(this)},Cu.prototype.disposeInternal=Cu.prototype.disposeInternal;function Du(e,n){n=n||{},B(e,tl,Du,0),Du.g.constructor.call(this,e),this.Qd=!!n.Qd,this.tC=n.Ab||0,this.tn=[],this.Yv={}}u(Du,rj),Du.prototype.L=function(e,n,r,o,s,l){var d,h=this.yb,p;o-=this.tC,this.tn.length=0;var g=this.Yv;if(this.Yv=d={},o>=h.min&&o<=h.max){var y=h.xg(e,o,s,l),v=y.overlays;if(e=v.length)for(v.sort(Bh),o=this.Pb,s=this.Qd,l=0;l<e;l++){h=v[l];var w=h.C(),k=r.Gb(w.Oc()),F=r.Gb(w.Mc());w=r.w,k.x>=F.x&&(k.x-=w),w*=-((k.x+F.x)/w>>1),k.x+=w,k.add(n),F.x+=w,F.add(n),s||(k.round(),F.round()),(w=g[p=h.xb()])?delete g[p]:w={pC:h},d[p]=w;var q=k.x;k=k.y;var _r=F.x;F=F.y;var ga=_r-q,La=F-k;o.Fd(h.Ve()),o.Re(h.Te(),q,k,ga,La),w.details?w.details.set(q,k,_r,F):w.details=new lh(q,k,_r,F),this.tn.push(w)}}return!y||y.requested&&y.requested===y.total||!y.requested&&v.length===y.total?fh.DONE:fh.PENDING},Du.prototype.Ma=function(e,n,r){for(var o=this.tn,s=o.length,l,d,h;s--;)if(l=o[s],d=l.details,d.Ql(e,n)){if(l=l.pC,h)h.push(l);else if(h=[l],r)break}return h||Ze},Du.prototype.Eh=function(){return"2d"},Du.prototype.disposeInternal=function(){delete this.tn,Du.g.disposeInternal.call(this)},Du.prototype.disposeInternal=Du.prototype.disposeInternal;var Eu={lookAt:{zoom:{min:-8,max:24},tilt:{min:0,max:0},incline:{min:0,max:0},heading:{min:180,max:180}},interaction:{ZOOM:Yj.ZOOM,COORD:Yj.COORD},capture:!0};t("H.map.render.p2d.capabilities",Eu);function Z(e,n,r,o){Z.g.constructor.call(this,e,n,r,o),this.Xb=new K(0,0),(r=o.renderBaseBackground)&&(this.Ew=r.lower,this.Dw=r.higher),this.tj=!!o.enableSubpixelRendering,this.Kg=Fu,this.kv=0,this.xs=this.cv=!1,this.na=new Il,this.T=o=new tk,this.gg=z(this.gg,this),o.addEventListener(o.j.wo,this.gg),this.La=z(this.La,this),o=e.element,this.rc=e=o.ownerDocument.createElement("div"),e.style.position="absolute",e.style.width=e.style.height="100%",e.style.zIndex=0,o.insertBefore(e,o.firstChild),this.cl=new Dk(this.rc,this.ja),this.Ge=[],this.gq(),this.wg=z(Z.prototype.wg,this),this.s=Gu,this.Qn(),this.zoom=Hu(this,this.Ee.Ub()+this.Ab),this.Ac(),Iu(this,n.Ib().position,this.zoom),this.rb(),this.ng()}u(Z,Vj),t("H.map.render.p2d.RenderEngine",Z),Z.prototype.type=ek.P2D;var Gu=2;Z.prototype.getState=function(){return this.s},Z.prototype.getState=Z.prototype.getState,Z.prototype.Ej=function(e,n){return e=n-e,Jb(e)<this.pixelProjection.w/2?e:e-this.pixelProjection.w*n/Jb(n)},Z.prototype.ar=function(e){var n=this,r=e.animate,o=e.newValue,s=e.modifiers;e=o.position;var l=o.bounds,d,h=this.zoom,p=this.yd,g=0;if(s&Oi.POSITION&&(d=n.pixelProjection.Gb(e)),s&Oi.BOUNDS)o=Ju(this,l.C(),s&Oi.ZOOM?o.zoom:A,s&Oi.POSITION?e:A),this.Ee.ad(o,r);else{s&Oi.POSITION||(d=n.pixelProjection.Gb(o.position));var y=d.x,v=d.y;this.Jg(),this.Xb.set(0,0),o=this.Do(o);var w=o.zoom,k=o.position;if(r){var F=w-h,q={x:p.x,y:p.y};r=this.pixelProjection.bi(q).x;var _r=this.pixelProjection.projection.Se(e);(_r.x!==this.yd.x||_r.y!==this.yd.y||w!==this.zoom)&&(y=this.Ej(r,y),this.cd(function(ga){var La=ga-g;if(w!==h){d=n.pixelProjection.bi(_r);var jc=n.pixelProjection.bi(q);y=n.Ej(jc.x,d.x),v=d.y-jc.y}g=ga,n.Sg(y*La,v*La),h+=F*La,n.sb(h),n.rb(),n.ba()},this.vl,function(){Iu(n,k,w),n.sb(w),n.rb(k),n.ba()},this.wl))}else this.dd(),Iu(this,k,w),this.sb(w),this.rb(k);this.ba()}},Z.prototype.vl=300,Z.prototype.Wn=function(e){var n=ob(e);if(!n||n&&0>e)throw new C(this.Wn,1,"positive number required");this.vl=e},Z.prototype.setAnimationDuration=Z.prototype.Wn,Z.prototype.zp=function(){return this.vl},Z.prototype.getAnimationDuration=Z.prototype.zp,Z.prototype.wl=jj,Z.prototype.Xn=function(e){if(!db(e))throw new C(this.Xn,1,"function required");this.wl=e},Z.prototype.setAnimationEase=Z.prototype.Xn,Z.prototype.Ap=function(){return this.wl},Z.prototype.getAnimationEase=Z.prototype.Ap,Z.prototype.Qn=function(){this.wl=jj,this.vl=300},Z.prototype.resetAnimationDefaults=Z.prototype.Qn,m=Z.prototype,m.Uq=function(e,n,r){var o;this.$j=rk(),(o=this.Zh.ka.splice(e,1)[0])&&o.l&&o.l(),(o=this.Mf.ka.splice(e,1)[0])&&o.l&&o.l(),(o=this.ri.ka.splice(e,1)[0])&&o.l&&o.l(),(o=this.pi.ka.splice(e,1)[0])&&o.l&&o.l(),this.bf=this.ib.Ta(),e===0&&(Zj(this,n,!1),this.Ac()),this.Ge=Ek(this.cl,this.Tf(),this.Qf()),this.li(),r||this.ba()},m.gq=function(){var e=this.ib.Ta(),n=0,r=e.length;for([this.Zh={},this.Mf={},this.ri={},this.pi={}].forEach(function(o){o.Qe=[],o.ka=[]}),this.bf=this.ib.Ta();n<r;n++)this.pk(n,e[n]);this.Ac()},m.Vq=function(){this.Ac(),this.ba()},m.hq=function(e,n,r){var o,s,l,d;if(n){var h={Qd:this.tj,Ab:this.Ab};n.L?B(n,zi)?s=new ik(n):B(n,xi)&&(d=new ik(n)):(n.requestOverlays&&(o=new Du(n,h)),n.requestTiles&&(s=new Au(n,h)),n.requestMarkers&&(l=new Cu(n,h)),n.requestDomMarkers&&(d=new vj(n,h)))}r=r||0,this.Zh.ka.splice(e,r,o),this.Mf.ka.splice(e,r,s),this.ri.ka.splice(e,r,l),this.pi.ka.splice(e,r,d),this.bf=this.ib.Ta(),this.Ge=Ek(this.cl,this.Tf(),this.Qf())},m.Qf=function(){var e=[];return e=e.concat(this.Mf.ka),e=e.concat(this.Zh.ka),e=e.concat(this.ri.ka),e=e.concat(this.pi.ka),e=e.filter(fb)},m.Po=function(){return this.s===Gu},m.Do=function(e){var n=ak(this,ak(this,e.zoom)+this.Ab);return e=bk(this,e),e.zoom=n,e};function Iu(e,n,r){var o=e.pixelProjection;o.Va(r),e.yd=o.projection.Se(n),o.x=o.w*e.yd.x,o.y=o.h*e.yd.y}m.Wa=function(e,n){var r=this.za.center,o=this.ja;return this.pixelProjection.Za((e-r.x)*o,(n-r.y)*o)},Z.prototype.screenToGeo=Z.prototype.Wa,Z.prototype.Un=function(e,n){return e=this.Wa(e,n),n=this.Ee.Ib(),n.position=e,n},Z.prototype.La=function(e){var n=this.ja,r=this.za.center,o=r.x*n;r=r.y*n,e=this.pixelProjection.Gb(e);var s=this.pixelProjection.w;return new K(Gb((e.x-Gb(e.x/s)*s+o)/n),Gb((e.y+r)/n))},Z.prototype.geoToScreen=Z.prototype.La,Z.prototype.C=function(e,n){var r=this.rl[e||4];e=this.pixelProjection;var o=r.left-n,s=e.Za(o,r.top-n),l=r.right+n;return n=e.Za(l,r.bottom+n),l-o>=e.w&&(s.lng=-(n.lng=180)),Wc(s,n)},Z.prototype.Ma=function(e,n,r,o){var s=[],l=this.ja,d;for(e*=l,n*=l,l=[this.Zh,this.Mf,this.ri,this.pi],d=l.length;d--&&(!r||!s.length);)s=this.Mp(s,l[d].ka,e,n,r);o(s)},Z.prototype.getObjectsAt=Z.prototype.Ma,m=Z.prototype,m.Mp=function(e,n,r,o,s){for(var l=n.length,d;l--&&!((d=n[l])&&d.Ma&&(e=e.concat(d.Ma(r,o,s)),e.length&&s)););return e},m.ye=x,m.Tf=function(){var e=this.rl[2];return{w:e.right-e.left,h:e.bottom-e.top}},m.ng=function(){var e=this.Ge.length,n;Z.g.ng.call(this);var r=this.Tf();this.Xb.set(0,0);var o=r.w;for(n=r.h;e--;){r=this.Ge[e];var s=r.mc();s.w===o&&s.h===n||r.Uk(o,n)}this.ye=new Xh(o,n),this.ba()},m.getCapabilities=function(){return Eu},Z.prototype.getCapabilities=Z.prototype.getCapabilities,m=Z.prototype,m.Lk=function(){this.ta&&this.ta.R||rk()-this.$j<this.Kg&&!this.oe?this.rh=pk(this.wg):(this.oe&&(this.li(),this.pj()),this.s=Gu)},m.li=function(){this.Zh.Qe.length=0,this.Mf.Qe.length=0,this.ri.Qe.length=0,this.pi.Qe.length=0},m.wg=function(){var e;this.ff&&this.ff.before();var n=this.Mf.ka,r=this.za.center.clone().scale(this.ja).round(),o=this.C(1,0),s=this.C(1,Ku),l=this.zoom,d=l-this.Ab,h=this.pixelProjection,p=this.Ew,g=this.Dw,y=n[0];n=this.Xb;var v=this.Ge.length,w=this.bf;for(e=w.length;v--;){var k=this.Ge[v];B(k,hk)&&k.clear()}if(y){if(p)for(;p;)v=l-p,y.L(o,r,h,v,!0,n),--p;if(g&&this.xs)for(k=1;k<=g&&(v=l+k,h.Va(v),p=this.C(2,0),h.Va(l),!y.L(p,r,h,v,!0,n));k++);}for(this.Kg=Fu;e--;)h=w[e],B(h,vi)&&h.D&&h.D.xk(s,d);o=this.Ln(o,r,l,!1,n,Lu,this.Mf,this.Zh),r=this.Ln(s,r,d,!1,n,Mu,this.ri,this.pi),this.oe=o&&r,this.ta&&this.ta.R&&this.Fo(),this.vf||(this.vf=this.Ee.Ib()),this.vf.bounds=this.C(4,0),this.Ee.rb(this.vf),this.vf=null,this.ye&&(this.za.rb(this.ye),this.ye=x),l<this.kv?this.xs=!0:this.cv&&(this.xs=!1),this.kv=l,this.cv=o,this.ff&&this.ff.after(),this.Lk()},m.Ln=function(e,n,r,o,s,l,d){var h=Array.prototype.slice.call(arguments,6),p=h.length,g=h[0].ka.length,y=p*g,v=!!y,w;for(w=0;w<y;w++){if(l===Lu)var k=w%p,F=Math.floor(w/p);else k=Math.floor(w/g),F=w%g;var q=h[k].ka[F];k=h[k].Qe,q&&(q=q.L(e,n,this.pixelProjection,r,o,s,this.La),q===fh.ACTIVE&&(this.Kg=1/0),q!==fh.DONE||k[F]||(this.pj(this.bf[F]),k[F]=!0),k[F]||(v=!1))}return v},m.pj=function(e){this.dispatchEvent({type:this.j.Us,target:e||this})},m.disposeInternal=function(){var e=this.ib.Ta()[0],n=this.za;qk(this.rh),this.dd(!0),e&&Zj(this,e,!1),this.Qf().forEach(function(r){r.l()}),n.element&&n.element.removeChild(this.rc),this.rc=null,this.s=3,Z.g.disposeInternal.call(this)},m.ba=function(){this.$j=rk(),this.Po()&&(this.oe=!1,this.s=1,this.Lk())},m.Bc=function(e,n){this.Sg(e*this.ja,n*this.ja),this.Xb.set(0,0),this.rb(),this.ba()},m.Sg=function(e,n){var r=this.pixelProjection,o=this.yd;r.x=ec(r.x+e,r.w),r.y=Fb(0,Eb(r.w,r.y+n)),o.x=r.x/r.w,o.y=r.y/r.h},m.Ng=function(e,n,r){e=ak(this,ak(this,e)+this.Ab),this.sb(e,n,r)},Z.prototype.zoomAt=Z.prototype.Ng,Z.prototype.sb=function(e,n,r){var o=this.ja,s=this.za.center;n===+n&&r===+r?(n=(n-s.x)*o,r=(r-s.y)*o,this.Xb.set(n,r),this.Sg(n,r),this.pixelProjection.Va(e),this.Sg(-n,-r)):(this.Xb.set(0,0),this.pixelProjection.Va(e)),this.zoom=e,this.rb(),this.ba()};function Ju(e,n,r,o){var s=e.getCapabilities().lookAt.zoom.max,l=n.wb(),d=o||l;if(n.Im()||r&&o)r=r===A?s:r;else{var h=new si(e.pixelProjection.projection);h.Va(s);var p=h.Gb(n.Oc()).round(),g=h.Gb(n.Mc()).round();s=h.w,n.qc()&&(p.x-=s),o?(l=h.Gb(d),n=2*Fb(l.x-p.x,g.x-l.x),p=2*Fb(l.y-p.y,g.y-l.y)):(n=g.x-p.x,p=g.y-p.y,d=l),r===A&&(l=e.rl[4],r=l.right-l.left,l=l.bottom-l.top,r=-8+Eb(Kb(r/n*s)/Ub,Kb(l/p*s)/Ub)-e.Ab,r=ak(e,r))}return{zoom:Hb(r),position:d}}Z.prototype.Jg=function(){this.dd(!0),this.T.R&&this.hc(!0),this.na.R&&this.ic(!0),this.dd(!0)},Z.prototype.Jd=function(e,n){this.Jg(),this.Rk(n),this.na.start(e,!!n)},Z.prototype.startInteraction=Z.prototype.Jd,Z.prototype.Rk=function(e){if(e){var n={};n.wk=e.power,n.sj=e.ease,n.duration=e.duration,this.ua=n}};function Hu(e,n){return ak(e,ak(e,n-e.Ab)+e.Ab)}Z.prototype.wd=function(e,n,r,o,s){var l=!1;this.na.R&&(n=this.na.store(e,n,r,o,s),this.na.ae(Yj.COORD)&&(e=this.na.Ah(),0<Hl(e)&&(this.Bc(-e.x,-e.y),l=!0)),n&&this.na.ae(Yj.ZOOM)&&(e=this.na.im(),n=this.na.jm(),n=Kb(Mb(2,this.zoom)*n)/Ub,n!==this.zoom&&(n=Hu(this,n),this.sb(n,e.x,e.y),l=!0)),l&&this.ba())},Z.prototype.interaction=Z.prototype.wd,Z.prototype.ic=function(e){var n=this;if(this.na.R&&!e){if(this.ua){e=this.na.nc();var r=this.na.Nf(),o=this.ua.duration,s=(this.ua.wk||1)*e,l=new gk(-s/(0<o?o:1),s);!D(r.x)&&!D(r.y)&&0<s&&n.na.ae(Yj.COORD)&&this.cd(function(d){s=l.Hj(d*o),D(s)||n.Bc(Gb(-r.x*s),Gb(-r.y*s))},o,void 0,this.ua.sj)}this.ua=null,this.na.clear()}},Z.prototype.endInteraction=Z.prototype.ic,Z.prototype.Id=function(e,n,r){this.Jg(),this.T.start(n,r),this.Rk(e)},Z.prototype.startControl=Z.prototype.Id,Z.prototype.control=function(e,n,r){if(D(+r))throw new C(this.control,2,r);if(D(e))throw new C(this.control,0,e);if(D(n))throw new C(this.control,1,n);this.T.R&&this.T.set(e,n,r,0,0,0)},Z.prototype.control=Z.prototype.control,Z.prototype.hc=function(e,n){var r=this,o;if(this.T.R){this.dd(!0);var s=rk(),l=s-this.jj;if(1<=l){var d=wk(this.T);this.Qi(d,l)}if(!this.ua||e||n)typeof n=="function"&&(e=this.Ib(),e.zoom=this.zoom-this.Ab,n(e),e.zoom+=this.Ab,this.Go(e));else{n=this.T.nc();var h=this.T.Nf(),p=this.ua.duration,g=(this.ua.wk||1)*n,y=new gk(-g/(0<p?p:1),g);!D(h.Lb)&&!D(h.Mb)&&0<g&&this.cd(function(v,w,k,F){s&&(k=F-s,s=0),g=y.Hj(v*p)*k,D(g)||((o=h.Nb*g)&&r.sb(Hu(r,r.zoom+o),r.T.Ug,r.T.Vg),r.Bc(Gb(h.Lb*g),Gb(h.Mb*g)))},p,void 0,this.ua.sj)}this.T.reset()}},Z.prototype.endControl=Z.prototype.hc,m=Z.prototype,m.Go=function(e){var n=this,r=this.yd,o=this.pixelProjection.projection.Se(e.position),s=this.pixelProjection.bi(o),l=s.y;s=s.x;var d=e.zoom;r=this.pixelProjection.bi(r),e=r.y;var h=r.x;r=this.zoom;var p=this.T.nc(),g=this.T.Ug,y=this.T.Vg,v=0;if(s=this.Ej(h,s),s-=h,l-=e,r=d-r,e=Lb(s*s+l*l+r*r),p!==0&&e!==0){var w=s/e,k=l/e,F=r/e,q=p*p/(2*e);this.cd(function(_r,ga){var La;_r!==1?(_r=p*ga-q*ga*ga/2,ga=_r-v,(La=F*ga)&&(La=Hu(n,n.zoom+La),n.sb(Hu(n,La),g,y)),n.Bc(Gb(w*ga),Gb(k*ga)),v=_r):(n.yd=o,n.sb(Hu(n,d),g,y),n.rb(),n.ba())},2*e/p)}},m.gg=function(e){var n=this,r=e.mt;this.Xb.set(0,0),r.Lb||r.Mb||r.Nb?(this.jj=rk(),this.cd(function(o,s,l,d){n.jj=d,n.Qi(r,l)},Number.POSITIVE_INFINITY),this.ba()):this.dd(!0)},m.Qi=function(e,n){n=n||0,e.Nb&&this.sb(Hu(this,this.zoom+e.Nb*n),this.T.atX,this.T.atY),this.Bc(e.Lb*n,e.Mb*n)},m.cd=function(e,n,r,o){this.ta&&this.ta.R&&this.ta.stop(!0),this.ta=new sk(this,e,n,r,o),this.ta.start()},m.dd=function(e){this.ta&&this.ta.R&&this.ta.stop(e)},m.kp=function(){},Z.prototype.enter=Z.prototype.kp,Z.prototype.pp=function(e){Xj(this.rc,e)},Z.prototype.exit=Z.prototype.pp,Z.prototype.capture=function(e,n,r,o){var s=this.rc.ownerDocument.createElement("canvas"),l=s.getContext("2d"),d=this.ja;for(s.width=(r-e)*d,s.height=(o-n)*d,r=0;r<this.Ge.length;r++)o=this.Ge[r],B(o,hk)&&l.drawImage(o.B(),-e*d,-n*d);return me(s)};var Mu=0,Lu=1,Fu=1e3,Ku=256;function Nu(e){var n;if(e)for(Ou={},n=e.length;n--;)Ou[e[n]]=!0;this.jx={}}var Pu,Ou={};Nu.prototype.parse=function(e,n,r){var o,s,l,d,h;Pu=!1;try{r=JSON.parse(r)}catch{Pu=!0}if(r&&(o=r.metadata)){var p={spatials:[]};for(s in o)if((r=!Ou[s]&&(l=Qu[s]))&&((d=o[s])||(Pu=!0,d=void 0),r=d),r)for(r=d.length;r--;){var g;(g=d[r])||(Pu=!0,g=void 0),(h=g)&&l(n,e,this,s,h,p)}}else Pu=!0;return Pu?void 0:p},Nu.prototype.parse=Nu.prototype.parse;var Qu={"street labels":function(e,n,r,o,s,l){var d;if((d=s.vertices)||(Pu=!0,d=void 0),d){var h,p=d.length,g;if((g=0<p)||(Pu=!0,g=void 0),g)for(h=Array(p/2);p;){var y=d[--p];g=d[--p],h[p/2]=new K(g,y)}h=h?{Tc:[h]}:A,p=+s["font size"]/e.lb(),d=r.jx[p],d||(Ru.lineWidth=p,d=r.jx[p]=r.gh.fu(Ru)),Su(e,n,h,!1,d,s,o,l)}delete s.vertices},"city center labels":function(e,n,r,o,s,l){Su(e,n,Tu(s,new ih([])),!0,r.gh,s,o,l)},labels:function(e,n,r,o,s,l){var d;if((d=s["bounding boxes"])||(Pu=!0,d=void 0),d){for(var h=d.length,p=new ih([]),g;h--;){var y;(y=d[h])||(Pu=!0,y=void 0),(g=y)&&Tu(g,p)}Su(e,n,p,!0,r.gh,s,o,l)}delete s["bounding boxes"]},buildings:function(e,n,r,o,s,l){var d=s.id,h=n.Jn[d],p,g,y,v=[],w=[];if((p=s)||(Pu=!0,p=void 0),p&&((g=p.vertices)||(Pu=!0,g=void 0),g)){var k;(k=p.polygons)||(Pu=!0,k=void 0),(y=k)&&v.push.apply(v,Uu(g,y)),(p=p.outlines)||(Pu=!0,p=void 0),(y=p)&&w.push.apply(w,Uu(g,y))}y=v.length,v.push.apply(v,w),w=new ih(v,bc,y),(v=v.length)||(Pu=!0,v=void 0),v&&(h?(Dp(h,e,[w]),l.spatials.push(h)):(h=Su(e,n,w,!0,r.gh,s,o,l,d),n.Y(h)))}};Qu["transit stops"]=Qu.POIs=Qu.labels;var Vu=["box 2","box 1","annotation box","icon box"];function Tu(e,n){for(var r=Vu.length,o,s;r--;)if(o=Vu[r],s=e[o]){var l=s[0],d=s[1],h=s[2];s=s[3],n.Tc.push([new K(l,d),new K(l+h,d),new K(l+h,d+s),new K(l,d+s)]),delete e[o]}return n}function Uu(e,n){var r=n.length,o,s,l;if(0<r){for(s=Array(r);r--;)if((o=n[r])||(Pu=!0,o=void 0),o){var d=o.length;if(0<d)for(s[r]=l=Array(d);d--;){var h=2*o[d];l[d]=new K(e[h],e[h+1])}}}return s||[]}var Wu={};function Su(e,n,r,o,s,l,d,h,p){return Wu.style=s,o=new yp(n,o,p,Wu),r&&Dp(o,e,[r]),Xu(l),l.category=d,o.setData(l),h.spatials.push(o),o.ea(n),o}Nu.prototype.gh=new M({strokeColor:"transparent",fillColor:"transparent",lineWidth:0});var Ru={};function Xu(e){var n,r=!1;switch(typeof e){case"object":if(e instanceof Array)for(n=e.length;n--;)Xu(e[n])?r=!0:delete e[n];else if(e)for(n in e)Xu(e[n])?r=!0:delete e[n];break;case"number":r=!0;break;default:r=!!e}return r}function Yu(e,n,r){r=r||{},n=n||{};var o=r.tileType||"maptile",s=r.scheme||"normal.day";if(R.call(this,{min:0,max:20}),n.pois===!0&&(n.pois="!F"),this.Ga=n,!(e&&e instanceof Zu))throw Error("InvalidArgument: service required");this.$=e,this.Ce=z(this.Ce,this),this.$.addEventListener("versionupdate",this.Ce),this.md=e.i().clone().A(o+"/"+e.fb+"/"+s).u($u).u(n),this.bd=e.bd||null,this.oa=r.pixelRatio||r.pixelratio||Ke(),this.tileSize=r.tileSize||256,this.tileType=o,this.scheme=s,this.vs=0,this.Bd=new Jp(new Nu(r.categoryFilter)),this.Bd.ea(this),this.he=z(this.he,this),this.Bd.addEventListener("update",this.he),this.Ye=!1,R.call(this,{min:0,max:20}),this.Yn(new kk(r.tileCacheSize||256,z(this.ke,this)))}u(Yu,R),t("H.service.metaInfo.TileProvider",Yu),Yu.prototype.ke=function(e,n){e=n.bb();for(var r=e.length,o;r--;)o=e[r],delete o.Fk[n.key],o.release();n.data&&(lo.push(n.Hn(),this.tileSize),n.In())},Yu.prototype.he=function(){this.dispatchEvent("update")},Yu.prototype.o=function(e,n,r,o,s){var l=this.md.clone(),d=this.bd,h=this.tileSize,p=this.getTileKey(e,n,r);p=this.Sb().get(p);var g;if(p&&!p.Ih()){o(lo.pop(this.tileSize),null);var y={cancel:function(){}}}else{d&&l.la(d[(r+n+e)%d.length]),l.A(r+"/"+e+"/"+n+"/"+h+"/png8");var v=globalThis.setTimeout(function(){g=new qg("text/plain",l.toString()),g.then(function(w){o(null,w)},s)},500)}return this.Ye||(io(Yu,"Use HERE Vector Tile API or Raster Tile API v3 instead."),this.Ye=!0),y||{cancel:function(){g?g.cancel():globalThis.clearTimeout(v)}}},Yu.prototype.requestInternal=Yu.prototype.o,Yu.prototype.pd=function(e,n,r,o,s){var l=this.Bd,d=o||lo.pop(this.tileSize);if(o)e=this.Sb().get(this.getTileKey(e,n,r)),e.L(o);else if(o=e=new Yk(this.Vd(e,n,r),e,n,r,this.tileSize,this.oa,r+this.vs,l),delete o.Ji,o.ul=s,e.L(d))for(s=e.bb(),d=s.length;d--;)s[d].Sn();else lo.push(d,this.tileSize);return e},Yu.prototype.createTileInternal=Yu.prototype.pd,Yu.prototype.l=function(){this.Bd.l(),this.$.removeEventListener("versionupdate",this.Ce),R.prototype.l.call(this)},Yu.prototype.dispose=Yu.prototype.l,Yu.prototype.Ce=function(){var e=this.$;this.md=e.i().clone().A(this.tileType+"/"+e.fb+"/"+this.scheme).u($u).u(this.Ga),this.reload(!1)};var $u={metadata:"metaonly",mgen:"2"};function Zu(e){Zu.g.constructor.call(this,Zu,e),e=po(this,e),this.bd=e.shards,(this.Ra=e.ignoreTypes?null:e.type)&&this.i().la(this.Ra),this.fb=e.version,this.pr={},this.ec=new to,this.fb==="newest"&&this.rp()}u(Zu,oo),t("H.service.metaInfo.Service",Zu),Zu.prototype.Da=function(){return{type:"base",version:"newest",subDomain:"maps.ls",path:"maptile/2.1",shards:["1","2","3","4"]}},Zu.CONFIG_KEY="metaInfo";function av(e,n){for(var r={},o=e[n+"s"][n],s=o.length;s--;)r[o[s].id]=o[s];e[n+"s"]=r}Zu.prototype.vu=function(){return this.Ra},Zu.prototype.Wp=function(){return this.fb},Zu.prototype.getVersion=Zu.prototype.Wp,Zu.prototype.cs=function(e){this.fb=e},Zu.prototype.U=function(){return this.ec},Zu.prototype.getCopyrights=Zu.prototype.U,Zu.prototype.ss=function(e){e=e.response;var n;if(av(e,"map"),av(e,"scheme"),av(e,"tiletype"),av(e,"format"),av(e,"resolution"),av(e,"language"),this.fb==="newest"&&this.Ra!=="traffic")for(n in e.maps)e.maps[n].hash&&e.maps[n].newest&&(this.cs(e.maps[n].hash),this.dispatchEvent("versionupdate"));this.fq=e,this.dispatchEvent("infoupdate")},Zu.prototype.rp=function(){var e=this,n=this.i().clone().A("info").u({output:"json"});this.bd&&n.la(this.bd[0]),this.o(n,function(r){e.ss(r)},function(r){throw r})},Zu.prototype.Kj=function(){return this.fq},Zu.prototype.getInfo=Zu.prototype.Kj,Zu.prototype.nj=function(e,n,r,o,s,l){return new Yu(this,o,{tileSize:e,pixelRatio:n,categoryFilter:r,tileType:s,scheme:l})},Zu.prototype.createTileProvider=Zu.prototype.nj,Zu.prototype.Pd=function(e,n,r,o,s,l){return new sl(this.nj(e,n,r,o,s,l))},Zu.prototype.createTileLayer=Zu.prototype.Pd,X.prototype.mu=function(e){return this.Ja(Zu,e)},X.prototype.getMetaInfoService=X.prototype.mu,function(){var e=X.prototype.createDefaultLayers;X.prototype.createDefaultLayers=function(n,r,o,s,l,d){var h=e.call(this,n,r,o,s,l,d),p={},g=this.mu();typeof n=="object"&&(d=n,n=d.tileSize,r=d.ppi,o=d.lg,s=d.lg2,l=d.style,d=d.pois),n=n||256;var y=r===320?2:1;if(0>[72,250,320,500].indexOf(+r)){if(r!==A)throw new C(this.Xl,1,r)}else p.ppi=+r;return o&&(p.lg=o),s&&(p.lg2=s),l&&(p.style=l),d&&(p.pois=d),h.raster.normal.metaInfo=g.Pd(n,y,["buildings"],p),h}}(),H.__bootstrap__=`/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var l;function ba(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var ca=ba(this);function da(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}
var ea="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};function fa(a,b){if(b)a:{var c=ca;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ea(c,a,{configurable:!0,writable:!0,value:b})}}
fa("Symbol",function(a){function b(f){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new c(d+(f||"")+"_"+e++,f)}function c(f,g){this.fc=f;ea(this,"description",{configurable:!0,writable:!0,value:g})}if(a)return a;c.prototype.toString=function(){return this.fc};var d="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",e=0;return b});
fa("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=ca[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&ea(d.prototype,a,{configurable:!0,writable:!0,value:function(){return ha(da(this))}})}return a});function ha(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}
fa("globalThis",function(a){return a||ca});function ka(a,b){a instanceof String&&(a+="");var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e}fa("Array.prototype.keys",function(a){return a?a:function(){return ka(this,function(b){return b})}});var la;
if("function"==typeof Object.setPrototypeOf)la=Object.setPrototypeOf;else{var ma;a:{var na={a:!0},oa={};try{oa.__proto__=na;ma=oa.a;break a}catch(a){}ma=!1}la=ma?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var pa=la;fa("Object.setPrototypeOf",function(a){return a||pa});var p=this||self;
function qa(a,b,c,d){a=a.split(".");d=d||p;a[0]in d||"undefined"==typeof d.execScript||d.execScript("var "+a[0]);for(var e;a.length&&(e=a.shift());)if(a.length||void 0===b)d=d[e]&&d[e]!==Object.prototype[e]?d[e]:d[e]={};else if(!c&&ra(b)&&ra(d[e]))for(var f in b)b.hasOwnProperty(f)&&(d[e][f]=b[f]);else d[e]=b}function sa(){}function ta(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"}function ra(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}
function ua(a){return Object.prototype.hasOwnProperty.call(a,ya)&&a[ya]||(a[ya]=++za)}var ya="closure_uid_"+(1E9*Math.random()>>>0),za=0;function Aa(a,b,c){return a.call.apply(a.bind,arguments)}function Ba(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}}
function Ca(a,b,c){Ca=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Aa:Ba;return Ca.apply(null,arguments)}function Da(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();d.push.apply(d,arguments);return a.apply(this,d)}}function r(a,b){qa(a,b,!0,void 0)}
function Fa(a,b){function c(){}c.prototype=b.prototype;a.Z=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Cd=function(d,e,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[e].apply(d,g)}};function Ga(){var a=Ha,b;for(b in a)return!1;return!0}function Ia(a){var b={},c;for(c in a)b[c]=a[c];return b}var Ja="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ka(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Ja.length;f++)c=Ja[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function La(a){if(Error.captureStackTrace)Error.captureStackTrace(this,La);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}Fa(La,Error);La.prototype.name="CustomError";var Ma=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};var Na=Ca,Oa=String,Pa=globalThis.Object.freeze||function(a){return a},t=[].pop(),Qa=/x/.exec("");function Ra(a){return Oa(a).split(","!==t?",":" ")}var Sa="prototype constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ta(a,b,c,d){if(!(b=a instanceof b)&&c)throw new x(c,d,void 0!==t?void 0:a);return b}function Ua(a){return"function"==ta(a)}function Va(a,b,c,d){var e;if(!(e="Array"===Wa(a))&&b)throw new x(b,c,d!==t?d:a);return e}
r("H.lang.isArray",function(a,b,c,d){return Va(a,b,c,d)});function Xa(a){return"string"===typeof a}r("H.lang.isString",Xa);var Ya=isNaN;function $a(a){return a===+a}r("H.lang.isNumber",$a);r("H.lang.isInteger",Number.isInteger?Number.isInteger:function(a){return"number"===typeof a&&0===a%1});function Wa(a){var b=Object[Sa[0]][Sa[6]].call(a).match(/^\\[object (\\w+)\\]$/);return b?b[1]:typeof a}var ab=[];0>ab.indexOf(ab)&&ab.push(ab);
function bb(a,b,c,d){var e="",f=2>arguments.length,g;f&&(b={H:globalThis.H},c="",d=ab.slice());cb(b,!0,function(h,k){try{if(g=h[k],k=db(h,g),!(ra(g)&&g.window===g&&g.self===g||ra(g)&&0<g.nodeType&&Ua(g.cloneNode))&&ra(g)){if(g===a)return e=c+"."+k,!0;if(0>d.indexOf(g)&&(d.push(g),e=bb(a,g,c+"."+k,d)))return!0}}catch(m){}});f&&(e=e?e.substr(1).replace("."+Sa[0]+".","#"):"~"+(Ua(a)?eb(a)+"()":Wa(a)));return e}
function db(a,b){var c=[];cb(a,!1,function(d,e){d[e]===b&&c.push(e)});return c.sort(fb)[0]}function fb(a,b){return b.length-a.length}var gb=Object[Sa[0]][Sa[2]];function cb(a,b,c){var d;if(a){for(e in a)if((!b||gb.call(a,e))&&c(a,e,!0))return;for(d=Sa.length;d--;){var e=Sa[d];if((!b||gb.call(a,e))&&c(a,e,!1))break}}}function eb(a){return(a=/^\\s*function ([^\\( ]+)/.exec(a))?a[1]:"anonymous"}function hb(a,b,c){c[b]="#"+b}
function x(a,b,c){var d=arguments.length;b=b!==t?+b:b;if(b!==t){var e=(e=/^.*?\\(([^\\)]+)/.exec((""+a).replace(/(\\/\\*([\\s\\S]*?)\\*\\/)|(\\/\\/(.*)$)/gm,"")))?Ra(e[1].replace(/\\s+/g,"")):[];e.forEach(hb);e=e[b]||"#"+b}var f=a?bb(a):"";d=2<d?Oa(c):"";if(e||d)f+=" (Argument "+(e||"")+(d?" "+d:"")+")";d=Error(f);Object.setPrototypeOf(d,x.prototype);return d}Fa(x,Error);r("H.lang.InvalidArgumentError",x);x.prototype.name="InvalidArgumentError";
function ib(a,b){var c=[];a&&c.push(bb(a));1<arguments.length&&c.push(""+b);c=Error(c.join(" "));Object.setPrototypeOf(c,ib.prototype);return c}Fa(ib,Error);r("H.lang.IllegalOperationError",ib);ib.prototype.name="IllegalOperationError";var jb={};function kb(a){try{importScripts.apply(self,arguments)}catch(b){this.postError("invalid_script")}}function lb(a){delete jb[a];this.postMessage(a)}function mb(a,b,c){if(Ua(b))var d=b;else try{d=self.eval("("+b+")"),Ua(d)||(d=null)}catch(e){}d?(jb[a]=d,c||this.postMessage(a)):this.postError("invalid_processor")}function nb(a){this.Wb=a&&a[0];this.Ua=a&&a[1];this.kc=a&&a[2]||[]}nb.prototype.postError=function(a){this.postMessage(a,t,0)};
nb.prototype.postMessage=function(a,b,c){self.postMessage({processor:this.Wb,taskId:this.Ua,type:c===t?1:c,data:a},b||t)};function ob(a,b,c){if(!Xa(a))throw new x(ob,0,"InvalidArgument");if(!Ua(b))throw new x(ob,1,"InvalidArgument");var d=pb++;qb[d]={mimeType:c||rb,nc:b};(new nb(["3",d,[]])).postMessage(a,[],2)}var qb={},pb=0;
function sb(a,b){var c=a;if(qb[this.Ua]){var d=qb[this.Ua];var e=d.nc;delete qb[this.Ua];if(b)e(null,b);else{if(d.mimeType===tb){a=new Uint8Array(a);b=a.byteLength;d="";c=0;for(var f,g,h,k;c<b;)f=a[c++],192>f||(g=a[c++],224>f?f=(f&31)<<6|g&63:(h=a[c++],240>f?f=(f&15)<<12|(g&63)<<6|h&63:(k=a[c++],f=(f&7)<<18|(g&63)<<12|(h&63)<<6|k&63))),65536>f?d+=String.fromCharCode(f):(f-=65536,d+=String.fromCharCode((f>>10)+55296,(f&1023)+56320));c=d}e(c)}}}var rb=0,tb=1;var y=Math,ub=y.min,vb=y.max,wb=y.round,xb=y.floor,yb=y.ceil,zb=y.abs,Bb=y.log,Cb=y.sqrt,z=y.pow,Db=y.exp,Eb=y.sin,Fb=y.asin,Gb=y.cos,Hb=y.tan,Ib=y.atan,Jb=y.atan2,Kb=y.LN2,A=y.PI,Lb=A/2,Mb=A/4,Nb=2*A,Ob=3*A,Pb=A/180,Qb=180/A,Rb=1/0;function Sb(a,b){var c;return 0>(c=a%b)===0>b?c:c+b}r("H.math.normalize",function(a,b,c){b-=c=c||0;a-=c;return a-xb(a/b)*b+c});function Tb(a,b,c){return(a-=0)>c?c:a<b?b:a}r("H.math.clamp",Tb);
function Ub(a,b,c){var d=0;(d-=0)||(d=0);return b<c?a>=b-d&&a<=c+d:a>=c-d&&a<=b+d}var Vb={NONE:0,VERTEX:1,EDGE:2,SURFACE:3};r("H.math.CoverType",Vb);
function Wb(a,b,c){for(var d=c.length,e=d,f,g,h,k,m=c[0],n=0,q=0,u=0;1!=n&&1<e;){e-=0;g=c[--e];f=c[--e];k=c[e?e-0-1:(d+(e-0-1))%d];h=c[e?e-0-2:(d+(e-0-2))%d];if(f>=a-0&&f<=a+0&&g>=b-0&&g<=b+0||h>=a-0&&h<=a+0&&k>=b-0&&k<=b+0)n=1;else if(!n&&f===a)h===a&&(g<b&&k>b||g>b&&k<b)||(m<=a&&h>a||m>=a&&h<a)&&(g>=b?++q:++u),n=Ub(b,g,k)&&0>=Cb(z((a-h)*(g-k)-(b-k)*(f-h),2)/(z(f-h,2)+z(g-k,2)))?2:0;else if(!n&&Ub(a,f,h)){if(f<a&&h>a||f>a&&h<a)m=g+(a-f)/(h-f)*(k-g),q+=m>b,u+=m<b;n=Ub(b,g,k)&&0>=Cb(z((a-h)*(g-k)-
(b-k)*(f-h),2)/(z(f-h,2)+z(g-k,2)))?2:0}m=f}!n&&0!==u&&0!==q%2&&(n=3);return n}function Xb(a,b){return Wb(a.x,a.y,b)!==Vb.NONE}r("H.math.isPointInsidePolygon",Xb);function Yb(a){for(var b=a.length,c=new Float64Array(2*b),d=b&&a[0].x!==t;b--;){var e=a[b],f=b<<1;c[f]=d?e.x:e[0];c[f+1]=d?e.y:e[1]}return c}r("H.math.flatten",Yb);function B(a,b){this.x=+a;this.y=+b}r("H.math.Point",B);B.prototype.set=B;B.prototype.set=B.prototype.set;B.prototype.clone=function(a){a?(a.x=this.x,a.y=this.y):a=new B(this.x,this.y);return a};B.prototype.clone=B.prototype.clone;B.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};B.prototype.add=B.prototype.add;B.prototype.sub=function(a){this.x-=a.x;this.y-=a.y;return this};B.prototype.sub=B.prototype.sub;B.prototype.scale=function(a,b){this.x*=a;this.y*=void 0===b?a:b;return this};
B.prototype.scale=B.prototype.scale;B.prototype.round=function(){this.x=wb(this.x);this.y=wb(this.y);return this};B.prototype.round=B.prototype.round;B.prototype.floor=function(){this.x=xb(this.x);this.y=xb(this.y);return this};B.prototype.floor=B.prototype.floor;B.prototype.ceil=function(){this.x=yb(this.x);this.y=yb(this.y);return this};B.prototype.ceil=B.prototype.ceil;B.prototype.S=function(a){return!(!a||this.x!==a.x||this.y!==a.y)};B.prototype.equals=B.prototype.S;
B.prototype.Kc=function(a,b){var c=b.x-a.x,d=b.y-a.y;var e=a;if(c||d)e=((this.x-a.x)*c+(this.y-a.y)*d)/(c*c+d*d),e=0>=e?a:1<=e?b:new B(a.x+e*c,a.y+e*d);return e};B.prototype.getNearest=B.prototype.Kc;B.prototype.eb=function(a){return Cb(z(this.x-a.x,2)+z(this.y-a.y,2))};B.prototype.distance=B.prototype.eb;B.fromIPoint=function(a){if(!a)throw Error("invalid argument");return a instanceof B?a:new B(a.x,a.y)};r("H.util.constants.DEFAULT_MIN_ZOOM_LEVEL",0);r("H.util.constants.DEFAULT_MAX_ZOOM_LEVEL",22);function Zb(a,b,c){var d=Tb(+a,-90,90);if(b&&Ya(d))throw new x(b,c,a);return d}function $b(a,b,c){var d=+a;if(-180>d||180<d)d=Sb(d+180,360)-180;if(b&&Ya(d))throw new x(b,c,a);return d}function ac(a,b,c){var d;if(a!==t&&Ya(d=+a)&&b)throw new x(b,c,a);return d}r("H.geo.isDBC",function(a,b){return 0>a!==0>b&&180<zb(b-a)});function C(){var a=C;if(!0===(Ta(this,a)&&this.constructor===a))throw new TypeError("Illegal constructor "+bb(a));}r("H.geo.AbstractGeometry",C);C.prototype.getBoundingBox=C.prototype.pa;C.prototype.equals=C.prototype.S;C.prototype.Xa="";C.prototype.kb="";C.prototype.toString=function(){return this.dc([this.Xa.toUpperCase()," "]).join("")};C.prototype.toString=C.prototype.toString;C.prototype.sd=function(){return{type:this.kb,coordinates:this.cc()}};C.prototype.toGeoJSON=C.prototype.sd;
C.prototype.ib=function(){return{type:this.Xa,coordinates:this.jb(),boundingBox:this.pa().ib()}};C.prototype.forWorkerMessage=C.prototype.ib;function D(a,b,c){this.lat=Zb(a,D,0);this.lng=$b(b,D,1);c!==t&&(this.alt=ac(c,D,2))}Fa(D,C);r("H.geo.Point",D);D.prototype.S=function(a){return this===a||!!a&&this.lat===a.lat&&this.lng===a.lng&&(this.alt||0)===(a.alt||0)};D.prototype.equals=D.prototype.S;D.prototype.eb=function(a){if(this===a||this.lat===a.lat&&this.lng===a.lng)a=0;else{var b=this.lat*Pb;var c=a.lat*Pb;a=1.274200158E7*Fb(ub(1,Cb(z(Eb((b-c)/2),2)+Gb(b)*Gb(c)*z(Eb((this.lng*Pb-a.lng*Pb)/2),2))))}return a};
D.prototype.distance=D.prototype.eb;
D.prototype.vd=function(a,b,c){var d;if(c){if(d=b/6371000.79){b=a*Pb;a=Pb*this.lat;var e=Eb(a);c=Eb(d);var f=Gb(d);d=Pb*this.lng;var g=Gb(a);a=Fb(g*Gb(b)*c+e*f);b=Jb(Eb(b)*g*c,f-e*Eb(a));b=(d+b+A)%(2*A)-A;b*=Qb;e=new D(a*Qb,(b+540)%360-180)}return e||this}a=(a%360+360)%360;if(0===(a+90)%180)return a=this.lng+b/(6371000.79*Nb*Gb(this.lat*Pb))*(270===a?-360:360),new D(this.lat,(a+540)%360-180);if(b/=6371000.79)a*=Pb,e=this.lat*Pb,c=this.lng*Pb,d=e+b*Gb(a),f=d-e,g=Bb(Hb(d/2+Mb)/Hb(e/2+Mb)),g=Ya(f/g)?
Gb(e):f/g,a=b*Eb(a)/g,zb(d)>Lb&&(d=0<d?A-d:-(A+d)),d=new D(d*Qb,((c+a+Ob+(zb(e+f)>Lb?A:0))%Nb-A)*Qb);return d||this};D.prototype.walk=D.prototype.vd;D.prototype.pa=function(){return new E(this.lat,this.lng,this.lat,this.lng)};D.prototype.getBoundingBox=D.prototype.pa;function bc(a,b,c){var d=ra(a)&&!(Ya(a.lat=Zb(a.lat))||Ya(a.lng=$b(a.lng))||a.alt!==t&&Ya(a.alt=ac(a.alt)));if(!d&&b)throw new x(b,c,a);return d}D.validate=bc;function cc(a){if(!a)throw new x(cc,0,a);return new D(a.lat,a.lng,a.alt)}
D.fromIPoint=cc;l=D.prototype;l.Xa="Point";l.dc=function(a){a.push("(",this.lng," ",this.lat,")");return a};l.kb="Point";l.cc=function(){return[this.lng,this.lat,this.alt||0]};l.jb=function(){return[this.lat,this.lng,this.alt||0]};function dc(){}function ec(a){return ub(1,vb(0,.5-Bb(Hb(Mb+Lb*a/180))/A/2))}dc.prototype.Oa=function(a,b,c){c?(c.x=b/360+.5,c.y=ec(a)):c=new B(b/360+.5,ec(a));return c};dc.prototype.latLngToPoint=dc.prototype.Oa;dc.prototype.Ac=function(a,b){return this.Oa(a.lat,a.lng,b)};dc.prototype.geoToPoint=dc.prototype.Ac;function fc(a){return 0>=a?90:1<=a?-90:Qb*(2*Ib(Db(A*(1-2*a)))-Lb)}
dc.prototype.ka=function(a,b,c){c?(c.lat=fc(b),c.lng=360*(1===a?1:Sb(a,1))-180):c=new D(fc(b),360*(1===a?1:Sb(a,1))-180);return c};dc.prototype.xyToGeo=dc.prototype.ka;dc.prototype.ed=function(a,b){return this.ka(a.x,a.y,b)};dc.prototype.pointToGeo=dc.prototype.ed;var gc=new dc;r("H.geo.mercator",gc);function G(a,b){this.projection=a||gc;this.ec=0;this.Da=this.exp=Bb(b||256)/Kb;hc(this);this.y=this.x=0}r("H.geo.PixelProjection",G);var ic=zb(24)+zb(-8);G.prototype.hd=gc;G.prototype.projection=G.prototype.hd;G.prototype.x=0;G.prototype.x=G.prototype.x;G.prototype.y=0;G.prototype.y=G.prototype.y;G.prototype.w=z(2,ic);G.prototype.w=G.prototype.w;G.prototype.Rc=z(2,ic);G.prototype.h=G.prototype.Rc;
G.prototype.Aa=function(a){if(Ya(a))throw new x(this.Aa,0,a);var b=this.x/this.w;var c=this.y/this.h;this.ec=a;this.Da=this.exp+a;hc(this);this.x=b*this.w;this.y=c*this.h};G.prototype.rescale=G.prototype.Aa;function hc(a){a.Da>ic&&(a.Da=ic);a.w=z(2,a.Da);a.h=z(2,a.Da)}G.prototype.Ob=function(){return this.ec||0};G.prototype.getZoomScale=G.prototype.Ob;G.prototype.zc=function(a,b){a=this.projection.Oa(a.lat,a.lng,b);a.x=a.x*this.w-this.x;a.y=a.y*this.h-this.y;return a};G.prototype.geoToPixel=G.prototype.zc;
G.prototype.xb=function(a,b){return this.projection.ka((a.x+this.x)/this.w,(a.y+this.y)/this.h,b)};G.prototype.pixelToGeo=G.prototype.xb;G.prototype.ka=function(a,b,c){return this.projection.ka((a+this.x)/this.w,(b+this.y)/this.h,c)};G.prototype.xyToGeo=G.prototype.ka;G.prototype.sb=function(a,b,c){a=this.projection.Oa(a,b,c);a.x=a.x*this.w-this.x;a.y=a.y*this.h-this.y;return a};G.prototype.latLngToPixel=G.prototype.sb;G.prototype.fd=function(a){return new B(a.x*this.w-this.x,a.y*this.h-this.y)};
G.prototype.pointToPixel=G.prototype.fd;function jc(a,b,c){var d=a[b];a=a[b+1];this.Pb=[];this.Eb=0;this.oc=b;this.mc=[a-c,d-c,a+c,d+c]}jc.prototype.Ia=function(a,b){var c=a[b];a=a[b+1];b=this.mc;return b[1]<=c&&c<=b[3]&&b[0]<=a&&a<=b[2]};jc.prototype.T=function(){return this.oc};var kc=new B(0,0);function lc(a,b,c,d,e){d[e]=b;d[e+1]=a}var oc=new G;function pc(a,b,c,d,e){oc.sb(a,b,kc);d[e]=kc.x;d[e+1]=kc.y}
r("H.clustering.dynamicgrid.worker",function(a,b,c,d,e){var f=e?lc:pc,g=0;e=!!self.ArrayBuffer;var h=a.byteLength?new Float64Array(a):a,k=h.length/3;a=[];var m=[],n=[],q=e?new Float64Array(2*k):[];k=0;var u=0;for(oc.Aa(d);g<h.length;){var I=h[g++];var K=h[g++];var w=h[g++];f(w,K,d,q,u);for(w=a.length;w--;)if(K=a[w],K.Ia(q,u)){var F=K;break}F||(F=new jc(q,u,b),a.push(F));w=u/2;F.Eb+=I||1;F.Pb.push(w);F=null;u+=2}for(w=a.length;w--;)K=a[w],b=K.Eb>=c,f=K.Pb,d=f.length,b?(m.push(d),m=m.concat(f)):
(k+=d,n=n.concat(f));c=[k].concat(n).concat(m);c=e?(new Uint32Array(c)).buffer:c;this.postMessage(c,[c])});function L(){}r("H.util.ICache",L);L.prototype.add=function(){};L.prototype.add=L.prototype.add;L.prototype.get=function(){};L.prototype.get=L.prototype.get;L.prototype.fb=function(){};L.prototype.drop=L.prototype.fb;L.prototype.forEach=function(){};L.prototype.forEach=L.prototype.forEach;L.prototype.ia=function(){};L.prototype.removeAll=L.prototype.ia;L.prototype.ya=function(){};L.prototype.registerOnDrop=L.prototype.ya;L.prototype.bb=function(){};L.prototype.deRegisterOnDrop=L.prototype.bb;function M(a,b,c){this.ta=[];b&&this.ya(b);if(c&&!Ua(c))throw new x(M,2,c);this.J=0;this.filter=c;this.s={};this.qa=this.ea=null;this.zb(a)}r("H.util.Cache",M);M.prototype.add=function(a,b,c){var d,e;c=+c;if(!$a(c)||0>c)throw new x(this.add,2,c);a=String(a);if(e=this.filter?this.filter(a,b,c):!0)(d=this.s[a])?(d.data!==b&&qc(this,d),this.J+=c-d.size,d.size=c,d.data=b,rc(this,d)):this.s[a]=sc(this,{id:a,data:b,size:c,v:null,N:null},this.ea),tc(this);return e};M.prototype.add=M.prototype.add;
M.prototype.ya=function(a){if(!Ua(a))throw new x(this.ya,0,a);this.ta.push(a)};M.prototype.registerOnDrop=M.prototype.ya;M.prototype.bb=function(a){this.ta=this.ta.filter(function(b){return b!==a})};M.prototype.deRegisterOnDrop=M.prototype.bb;M.prototype.get=function(a,b){return(a=b?this.s[a]:rc(this,this.s[a]))&&a.data};M.prototype.get=M.prototype.get;M.prototype.fb=function(a){var b;(b=this.s[a])&&uc(this,b,!0)};M.prototype.drop=M.prototype.fb;
M.prototype.forEach=function(a,b,c){var d;for(d in this.s){var e=this.s[d];(c?c(d,e.data,e.size):1)&&a.call(b,d,e.data,e.size)}};M.prototype.forEach=M.prototype.forEach;M.prototype.ia=function(a){var b;for(b in this.s){var c=this.s[b];(a?a(b,c.data,c.size):1)&&uc(this,this.s[b],!0)}};M.prototype.removeAll=M.prototype.ia;M.prototype.zb=function(a){if(!(0<+a))throw new x(M.prototype.zb,0,a);this.Tb=+a;tc(this);return this};M.prototype.setMaxSize=M.prototype.zb;M.prototype.Jc=function(){return this.Tb};
M.prototype.getMaxSize=M.prototype.Jc;M.prototype.Ec=function(){return this.J};M.prototype.getCurrentSize=M.prototype.Ec;function rc(a,b){b&&(a.ea=sc(a,b,a.ea));return b}function tc(a){for(;a.J>a.Tb&&a.qa;)uc(a,a.qa,!0)}function sc(a,b,c){if(c!==b){(b.v||b.N)&&uc(a,b,!1);if(b.v=c)b.N=c.N,c.N=b;b.N||(a.ea=b);b.v||(a.qa=b);a.J+=b.size}return b}function uc(a,b,c){var d=b.N,e=b.v;if(d||e||b==a.ea&&b==a.qa)d?d.v=e:a.ea=e,e?e.N=d:a.qa=d,a.J-=b.size,c&&(delete a.s[b.id],qc(a,b));b.v=b.N=null}
function qc(a,b){for(var c=a.ta.length;c--;)a.ta[c].call(a,b.id,b.data,b.size)};function vc(a){p.setTimeout(function(){throw a;},0)};function wc(a,b){return-1!=a.indexOf(b)};var O;a:{var xc=p.navigator;if(xc){var yc=xc.userAgent;if(yc){O=yc;break a}}O=""};function zc(a){zc[" "](a);return a}zc[" "]=sa;var Ac=wc(O,"Gecko")&&!(wc(O.toLowerCase(),"webkit")&&!wc(O,"Edge"))&&!(wc(O,"Trident")||wc(O,"MSIE"))&&!wc(O,"Edge"),Bc=wc(O.toLowerCase(),"webkit")&&!wc(O,"Edge");function Cc(){var a=document;var b="IFRAME";"application/xhtml+xml"===a.contentType&&(b=b.toLowerCase());return a.createElement(b)};var Dc;
function Ec(){var a=p.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!wc(O,"Presto")&&(a=function(){var e=Cc();e.style.display="none";document.documentElement.appendChild(e);var f=e.contentWindow;e=f.document;e.open();e.close();var g="callImmediate"+Math.random(),h="file:"==f.location.protocol?"*":f.location.protocol+"//"+f.location.host;e=Ca(function(k){if(("*"==h||k.origin==h)&&k.data==g)this.port1.onmessage()},this);f.addEventListener("message",e,
!1);this.port1={};this.port2={postMessage:function(){f.postMessage(g,h)}}});if("undefined"!==typeof a&&!wc(O,"Trident")&&!wc(O,"MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var e=c.Jb;c.Jb=null;e()}};return function(e){d.next={Jb:e};d=d.next;b.port2.postMessage(0)}}return function(e){p.setTimeout(e,0)}};function Fc(a,b){this.$c=100;this.rc=a;this.md=b;this.Qa=0;this.Ma=null}Fc.prototype.get=function(){if(0<this.Qa){this.Qa--;var a=this.Ma;this.Ma=a.next;a.next=null}else a=this.rc();return a};Fc.prototype.put=function(a){this.md(a);this.Qa<this.$c&&(this.Qa++,a.next=this.Ma,this.Ma=a)};function Gc(){this.Ya=this.ja=null}Gc.prototype.add=function(a,b){var c=Hc.get();c.set(a,b);this.Ya?this.Ya.next=c:this.ja=c;this.Ya=c};Gc.prototype.remove=function(){var a=null;this.ja&&(a=this.ja,this.ja=this.ja.next,this.ja||(this.Ya=null),a.next=null);return a};var Hc=new Fc(function(){return new Ic},function(a){return a.reset()});function Ic(){this.next=this.scope=this.hb=null}Ic.prototype.set=function(a,b){this.hb=a;this.scope=b;this.next=null};
Ic.prototype.reset=function(){this.next=this.scope=this.hb=null};function Jc(a,b){Kc||Lc();Mc||(Kc(),Mc=!0);Nc.add(a,b)}var Kc;function Lc(){if(p.Promise&&p.Promise.resolve){var a=p.Promise.resolve(void 0);Kc=function(){a.then(Oc)}}else Kc=function(){var b=Oc;"function"!==typeof p.setImmediate||p.Window&&p.Window.prototype&&!wc(O,"Edge")&&p.Window.prototype.setImmediate==p.setImmediate?(Dc||(Dc=Ec()),Dc(b)):p.setImmediate(b)}}var Mc=!1,Nc=new Gc;function Oc(){for(var a;a=Nc.remove();){try{a.hb.call(a.scope)}catch(b){vc(b)}Hc.put(a)}Mc=!1};function Pc(a){this.u=Qc;this.Zb=void 0;this.ba=this.I=this.W=null;this.Ka=this.gb=!1;if(a!=sa)try{var b=this;a.call(void 0,function(c){Rc(b,Sc,c)},function(c){Rc(b,Tc,c)})}catch(c){Rc(this,Tc,c)}}var Qc=0,Sc=2,Tc=3;function Uc(){this.next=this.context=this.ha=this.ua=this.R=null;this.Fa=!1}Uc.prototype.reset=function(){this.context=this.ha=this.ua=this.R=null;this.Fa=!1};var Vc=new Fc(function(){return new Uc},function(a){a.reset()});
function Wc(a,b,c){var d=Vc.get();d.ua=a;d.ha=b;d.context=c;return d}function Xc(a,b,c){Yc(a,b,c,null)||Jc(Da(b,a))}function Zc(a){return new Pc(function(b,c){var d=a.length,e=[];if(d)for(var f=function(m,n){d--;e[m]=n;0==d&&b(e)},g=function(m){c(m)},h=0,k;h<a.length;h++)k=a[h],Xc(k,Da(f,h),g);else b(e)})}function $c(){var a,b,c=new Pc(function(d,e){a=d;b=e});return new ad(c,a,b)}Pc.prototype.then=function(a,b,c){return bd(this,"function"===typeof a?a:null,"function"===typeof b?b:null,c)};
Pc.prototype.$goog_Thenable=!0;Pc.prototype.cancel=function(a){if(this.u==Qc){var b=new cd(a);Jc(function(){dd(this,b)},this)}};function dd(a,b){if(a.u==Qc)if(a.W){var c=a.W;if(c.I){for(var d=0,e=null,f=null,g=c.I;g&&(g.Fa||(d++,g.R==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(c.u==Qc&&1==d?dd(c,b):(f?(d=f,d.next==c.ba&&(c.ba=d),d.next=d.next.next):ed(c),fd(c,e,Tc,b)))}a.W=null}else Rc(a,Tc,b)}function gd(a,b){a.I||a.u!=Sc&&a.u!=Tc||hd(a);a.ba?a.ba.next=b:a.I=b;a.ba=b}
function bd(a,b,c,d){var e=Wc(null,null,null);e.R=new Pc(function(f,g){e.ua=b?function(h){try{var k=b.call(d,h);f(k)}catch(m){g(m)}}:f;e.ha=c?function(h){try{var k=c.call(d,h);void 0===k&&h instanceof cd?g(h):f(k)}catch(m){g(m)}}:g});e.R.W=a;gd(a,e);return e.R}Pc.prototype.td=function(a){this.u=Qc;Rc(this,Sc,a)};Pc.prototype.ud=function(a){this.u=Qc;Rc(this,Tc,a)};
function Rc(a,b,c){a.u==Qc&&(a===c&&(b=Tc,c=new TypeError("Promise cannot resolve to itself")),a.u=1,Yc(c,a.td,a.ud,a)||(a.Zb=c,a.u=b,a.W=null,hd(a),b!=Tc||c instanceof cd||id(a,c)))}function Yc(a,b,c,d){if(a instanceof Pc)return gd(a,Wc(b||sa,c||null,d)),!0;if(a)try{var e=!!a.$goog_Thenable}catch(g){e=!1}else e=!1;if(e)return a.then(b,c,d),!0;if(ra(a))try{var f=a.then;if("function"===typeof f)return jd(a,f,b,c,d),!0}catch(g){return c.call(d,g),!0}return!1}
function jd(a,b,c,d,e){function f(k){h||(h=!0,d.call(e,k))}function g(k){h||(h=!0,c.call(e,k))}var h=!1;try{b.call(a,g,f)}catch(k){f(k)}}function hd(a){a.gb||(a.gb=!0,Jc(a.uc,a))}function ed(a){var b=null;a.I&&(b=a.I,a.I=b.next,b.next=null);a.I||(a.ba=null);return b}Pc.prototype.uc=function(){for(var a;a=ed(this);)fd(this,a,this.u,this.Zb);this.gb=!1};
function fd(a,b,c,d){if(c==Tc&&b.ha&&!b.Fa)for(;a&&a.Ka;a=a.W)a.Ka=!1;if(b.R)b.R.W=null,kd(b,c,d);else try{b.Fa?b.ua.call(b.context):kd(b,c,d)}catch(e){ld.call(null,e)}Vc.put(b)}function kd(a,b,c){b==Sc?a.ua.call(a.context,c):a.ha&&a.ha.call(a.context,c)}function id(a,b){a.Ka=!0;Jc(function(){a.Ka&&ld.call(null,b)})}var ld=vc;function cd(a){La.call(this,a)}Fa(cd,La);cd.prototype.name="cancel";function ad(a,b,c){this.promise=a;this.resolve=b;this.reject=c};function md(){}r("H.util.ICancelable",md);md.prototype.cancel=function(){};md.prototype.cancel=md.prototype.cancel;function nd(a,b,c,d){this.key="";this.x=a;this.y=b;this.Sb=c;this.ra=d;this.O=$c()}nd.prototype.then=function(a,b,c){return this.O.promise.then(a,b,c)};nd.prototype.resolve=function(a){this.O.resolve(a)};nd.prototype.reject=function(a){this.O.reject(a)};nd.prototype.cancel=function(){this.O.promise.cancel()};nd.prototype.cancel=nd.prototype.cancel;function E(a,b,c,d){od(this,Zb(a,E,0),$b(b,E,1),Zb(c,E,2),$b(d,E,3))}Fa(E,C);r("H.geo.Rect",E);E.prototype.Xa="Polygon";E.prototype.dc=function(a){var b=this.l,c=this.g,d=this.j,e=this.i;a.push("(","(",c," ",b,",",e," ",b,",",e," ",d,",",c," ",d,",",c," ",b,")",")");return a};E.prototype.S=function(a){var b=this===a;!b&&Ta(a,E)&&(b=this.l===a.l&&this.g===a.g&&this.j===a.j&&this.i===a.i);return b};E.prototype.equals=E.prototype.S;
E.prototype.clone=function(){return new E(this.l,this.g,this.j,this.i)};E.prototype.clone=E.prototype.clone;function od(a,b,c,d,e){a.g=c;a.i=e;b<d&&(c=b,b=d,d=c);a.l=b;a.j=d;a.Db=a.Za=a.$a=null;return a}E.prototype.Nb=function(){this.Db||(this.Db=new D(this.l,this.g));return this.Db};E.prototype.getTopLeft=E.prototype.Nb;E.prototype.Mb=function(){this.Za||(this.Za=new D(this.j,this.i));return this.Za};E.prototype.getBottomRight=E.prototype.Mb;E.prototype.Pc=function(){return this.l};
E.prototype.getTop=E.prototype.Pc;E.prototype.Cc=function(){return this.j};E.prototype.getBottom=E.prototype.Cc;E.prototype.Ic=function(){return this.g};E.prototype.getLeft=E.prototype.Ic;E.prototype.Nc=function(){return this.i};E.prototype.getRight=E.prototype.Nc;E.prototype.T=function(){this.$a||(this.$a=new D(this.j+(this.l-this.j)/2,pd(this.g,this.U())));return this.$a};E.prototype.getCenter=E.prototype.T;E.prototype.U=function(){return qd(this.g,this.i)};E.prototype.getWidth=E.prototype.U;
E.prototype.fa=function(){return this.l-this.j};E.prototype.getHeight=E.prototype.fa;E.prototype.Wc=function(){return this.g>this.i};E.prototype.isCDB=E.prototype.Wc;E.prototype.Yc=function(){return!this.U()&&!this.fa()};E.prototype.isEmpty=E.prototype.Yc;E.prototype.pa=function(){return new E(this.l,this.g,this.j,this.i)};E.prototype.getBoundingBox=E.prototype.pa;
E.prototype.Ha=function(a,b,c){var d=this.T();c||(a=Zb(a,this.Ha,0),b=$b(b,this.Ha,1));b=this.V(a,b,c);a=b.T();return a.lat===d.lat&&a.lng===d.lng&&this.fa()===b.fa()&&this.U()===b.U()};E.prototype.containsLatLng=E.prototype.Ha;E.prototype.Ia=function(a,b){b||bc(a,this.Ia,0);return this.Ha(a.lat,a.lng,b)};E.prototype.containsPoint=E.prototype.Ia;
E.prototype.Kb=function(a,b){var c=this.T();if(!b&&!Ta(a,E))throw new x(this.Kb,0,a);b=this.Pa(a,b);a=b.T();return a.lat===c.lat&&a.lng===c.lng&&this.fa()===b.fa()&&this.U()===b.U()};E.prototype.containsRect=E.prototype.Kb;E.prototype.V=function(a,b,c,d){if(!c){if(Ya(a=Zb(a)))throw new x(this.V,0,a);if(Ya(b=$b(b)))throw new x(this.V,1,b);}return rd(this.l,this.g,this.j,this.i,a,b,a,b,d)};E.prototype.mergeLatLng=E.prototype.V;
E.prototype.Ub=function(a,b,c){b||bc(a,this.Ub,0);return this.V(a.lat,a.lng,b,c)};E.prototype.mergePoint=E.prototype.Ub;E.prototype.Pa=function(a,b,c){if(!b&&!Ta(a,E))throw new x(this.Pa,0,a);return rd(this.l,this.g,this.j,this.i,a.l,a.g,a.j,a.i,c)};E.prototype.mergeRect=E.prototype.Pa;E.prototype.sa=function(a,b,c,d,e,f){e||(a=Zb(a,this.sa,0),b=$b(b,this.sa,1),c=Zb(c,this.sa,2),d=$b(d,this.sa,3));return rd(this.l,this.g,this.j,this.i,a,b,c,d,f)};E.prototype.mergeTopLeftBottomRight=E.prototype.sa;
E.prototype.Qb=function(a,b){var c=this.g<=this.i,d=a.g<=a.i,e=this.g<a.i,f=a.g<this.i;if(!b&&!Ta(a,E))throw new x(this.Qb,0,a);return this.j<=a.l&&a.j<=this.l&&(!c&&(!d||e||f)||!d&&(e||f)||e&&f)};E.prototype.intersects=E.prototype.Qb;function qd(a,b){a=b-a;return a+(0>a?360:0)}function pd(a,b){a+=b/2;return a-(180<a?360:0)}
function rd(a,b,c,d,e,f,g,h,k){c=ub(c,g);a=vb(a,e);e=qd(b,d);var m=pd(b,e);g=qd(f,h);var n=pd(f,g)-m;n+=0>n-1E-6?360:0;if(180>n-1E-6){m=b;var q=h}else n=360-n,m=f,q=d;n=n+e/2+g/2;360<=n+5E-7?(m=-180,q=180):n-5E-7<e?(m=b,q=d):n-5E-7<g&&(m=f,q=h);return k?od(k,a,m,c,q):new E(a,m,c,q)}E.merge=rd;function sd(a,b,c){c||(bc(a,sd,0),bc(b,sd,1));return new E(a.lat,a.lng,b.lat,b.lng)}E.fromPoints=sd;
function td(a,b){var c=1,d=a.length,e=null;var f=ta(a);if("array"!=f&&("object"!=f||"number"!=typeof a.length))throw new x(td,0,a);if(0<d)for(f=a[0],e=sd(f,f,b);c<d;c++)f=a[c],e.V(f.lat,f.lng,b,e);return e}E.coverPoints=td;function ud(a,b){var c=3,d=a.length,e;if(!(b||a&&null!=a.length))throw new x(ud,0,a);if(0<d)for(e=new E(a[0],a[1],a[0],a[1]);c<d;c+=3)e.V(a[c],a[c+1],b,e);return e}E.coverLatLngAlts=ud;
function vd(a,b){var c=1,d=a.length,e;if(b&&(!a||null==a.length))throw new x(vd,0,a);if(0<d)for(e=new E(a[0].l,a[0].g,a[0].j,a[0].i);c<d;c++)e.Pa(a[c],b,e);return e}E.coverRects=vd;
E.prototype.Yb=function(a,b){var c=this.g,d=this.l,e=this.i,f=this.j,g=this.T().lng;bc(a,this.Yb,0);var h=a.lat-f-(d-f)/2;var k=a.lng-g;k=180<k||-180>k?-(g+a.lng):k;a=c+(0>k?2*k:0);a=-180>a?360+a:a;e+=0<k?2*k:0;e=180<e?e-360:e;d=0<h?d+2*h:d;90<=d&&(d=90);f=0>h?f+2*h:f;-90>=f&&(f=-90);return b?od(b,d,a,f,e):new E(d,a,f,e)};E.prototype.resizeToCenter=E.prototype.Yb;E.prototype.kb="Polygon";
E.prototype.cc=function(){return[[this.g,this.l,0],[this.i,this.l,0],[this.i,this.j,0],[this.g,this.j,0],[this.g,this.l,0]]};E.prototype.ib=function(){return this.jb()};E.prototype.jb=function(){return[this.l,this.g,this.j,this.i]};function wd(a,b,c,d){var e=!!c,f,g=0,h=0,k=0,m=0,n=0,q,u=-1;var I=globalThis.Float32Array;var K,w=[];if(b){b=Ra(b);a=Ra(a);e&&(f=Ra(c));c=b.length;d=d?1E-7:1E-5;for(K=new I(3*c);g<c;){I=b[g];var F=+I;var W=+a[g];e&&(q=+f[g]);xd.test(I)?0<=u&&(0<g-u&&w.push(u,g+1),u=-1):0>u&&(u=g);g++;m=K[h++]=m+W*d;k=K[h++]=k+F*d;e&&(n=K[h]=n+q);h++}0<=u&&1<c-u&&w.push(u,c)}else K=new I(0);return{path:K,outlineIndices:w}}var xd=/^-?0\\d/;
function yd(a,b){for(var c=0,d=a.length/3,e=new globalThis.Array(d),f=0;c<d;)e[c++]=b.sb(a[f],a[++f]),f+=2;return e};function Q(){0!=zd&&(Ad[ua(this)]=this);this.na=this.na;this.G=this.G}var zd=0,Ad={};Q.prototype.na=!1;Q.prototype.C=function(){if(!this.na&&(this.na=!0,this.K(),0!=zd)){var a=ua(this);if(0!=zd&&this.G&&0<this.G.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ad[a]}};
Q.prototype.aa=function(a,b){this.na?void 0!==b?a.call(b):a():(this.G||(this.G=[]),this.G.push(void 0!==b?Ca(a,b):a))};Q.prototype.K=function(){if(this.G)for(;this.G.length;)this.G.shift()()};var Bd=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{p.addEventListener("test",sa,b),p.removeEventListener("test",sa,b)}catch(c){}return a}();function S(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.xa=!1}S.prototype.stopPropagation=function(){this.xa=!0};S.prototype.preventDefault=function(){this.defaultPrevented=!0};function Cd(a,b){S.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.oa=null;if(a){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=
b;if(b=a.relatedTarget){if(Ac){a:{try{zc(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.offsetX=Bc||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=Bc||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,
this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:Dd[a.pointerType]||"";this.state=a.state;this.oa=a;a.defaultPrevented&&Cd.Z.preventDefault.call(this)}}
Fa(Cd,S);var Dd={2:"touch",3:"pen",4:"mouse"};Cd.prototype.stopPropagation=function(){Cd.Z.stopPropagation.call(this);this.oa.stopPropagation?this.oa.stopPropagation():this.oa.cancelBubble=!0};Cd.prototype.preventDefault=function(){Cd.Z.preventDefault.call(this);var a=this.oa;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ed="closure_listenable_"+(1E6*Math.random()|0);var Fd=0;function Gd(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.La=e;this.key=++Fd;this.za=this.Ga=!1}function Hd(a){a.za=!0;a.listener=null;a.proxy=null;a.src=null;a.La=null};function Id(a){this.src=a;this.m={};this.Ea=0}Id.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.m[f];a||(a=this.m[f]=[],this.Ea++);var g=Jd(a,b,d,e);-1<g?(b=a[g],c||(b.Ga=!1)):(b=new Gd(b,this.src,f,!!d,e),b.Ga=c,a.push(b));return b};Id.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.m))return!1;var e=this.m[a];b=Jd(e,b,c,d);return-1<b?(Hd(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.m[a],this.Ea--),!0):!1};
function Kd(a,b){var c=b.type;if(c in a.m){var d=a.m[c],e=Ma(d,b),f;(f=0<=e)&&Array.prototype.splice.call(d,e,1);f&&(Hd(b),0==a.m[c].length&&(delete a.m[c],a.Ea--))}}Id.prototype.ia=function(a){a=a&&a.toString();var b=0,c;for(c in this.m)if(!a||c==a){for(var d=this.m[c],e=0;e<d.length;e++)++b,Hd(d[e]);delete this.m[c];this.Ea--}return b};Id.prototype.mb=function(a,b,c,d){a=this.m[a.toString()];var e=-1;a&&(e=Jd(a,b,c,d));return-1<e?a[e]:null};
function Jd(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.za&&f.listener==b&&f.capture==!!c&&f.La==d)return e}return-1};var Ld="closure_lm_"+(1E6*Math.random()|0),Md={},Nd=0;function Od(a,b,c,d,e){if(d&&d.once)Pd(a,b,c,d,e);else if(Array.isArray(b))for(var f=0;f<b.length;f++)Od(a,b[f],c,d,e);else c=Qd(c),a&&a[Ed]?a.D.add(String(b),c,!1,ra(d)?!!d.capture:!!d,e):Rd(a,b,c,!1,d,e)}
function Rd(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=ra(e)?!!e.capture:!!e,h=Sd(a);h||(a[Ld]=h=new Id(a));c=h.add(b,c,d,g,f);if(!c.proxy){d=Td();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)Bd||(e=g),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(Ud(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");Nd++}}
function Td(){function a(c){return b.call(a.src,a.listener,c)}var b=Vd;return a}function Pd(a,b,c,d,e){if(Array.isArray(b))for(var f=0;f<b.length;f++)Pd(a,b[f],c,d,e);else c=Qd(c),a&&a[Ed]?a.D.add(String(b),c,!0,ra(d)?!!d.capture:!!d,e):Rd(a,b,c,!0,d,e)}function Xd(a,b,c,d,e){if(Array.isArray(b))for(var f=0;f<b.length;f++)Xd(a,b[f],c,d,e);else d=ra(d)?!!d.capture:!!d,c=Qd(c),a&&a[Ed]?a.D.remove(String(b),c,d,e):a&&(a=Sd(a))&&(b=a.mb(b,c,d,e))&&Yd(b)}
function Yd(a){if("number"!==typeof a&&a&&!a.za){var b=a.src;if(b&&b[Ed])Kd(b.D,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(Ud(c),d):b.addListener&&b.removeListener&&b.removeListener(d);Nd--;(c=Sd(b))?(Kd(c,a),0==c.Ea&&(c.src=null,b[Ld]=null)):Hd(a)}}}function Ud(a){return a in Md?Md[a]:Md[a]="on"+a}function Vd(a,b){if(a.za)a=!0;else{b=new Cd(b,this);var c=a.listener,d=a.La||a.src;a.Ga&&Yd(a);a=c.call(d,b)}return a}
function Sd(a){a=a[Ld];return a instanceof Id?a:null}var Zd="__closure_events_fn_"+(1E9*Math.random()>>>0);function Qd(a){if("function"===typeof a)return a;a[Zd]||(a[Zd]=function(b){return a.handleEvent(b)});return a[Zd]};r("H.util.Event",S);S.prototype.stopPropagation=S.prototype.stopPropagation;S.prototype.stopPropagation=S.prototype.stopPropagation;S.prototype.CAPTURING_PHASE=1;S.prototype.CAPTURING_PHASE=S.prototype.CAPTURING_PHASE;S.prototype.AT_TARGET=2;S.prototype.AT_TARGET=S.prototype.AT_TARGET;S.prototype.BUBBLING_PHASE=3;S.prototype.BUBBLING_PHASE=S.prototype.BUBBLING_PHASE;S.prototype.eventPhase=0;S.prototype.eventPhase=S.prototype.eventPhase;function T(){Q.call(this);this.D=new Id(this);this.hc=this;this.wb=null}Fa(T,Q);T.prototype[Ed]=!0;l=T.prototype;l.M=function(){return this.wb};l.Sa=function(a){this.wb=a};l.addEventListener=function(a,b,c,d){Od(this,a,b,c,d)};l.removeEventListener=function(a,b,c,d){Xd(this,a,b,c,d)};
l.dispatchEvent=function(a){var b,c=this.M();if(c)for(b=[];c;c=c.M())b.push(c);c=this.hc;var d=a.type||a;if("string"===typeof a)a=new S(a,c);else if(a instanceof S)a.target=a.target||c;else{var e=a;a=new S(d,c);Ka(a,e)}e=!0;if(b)for(var f=b.length-1;!a.xa&&0<=f;f--){var g=a.currentTarget=b[f];e=g.da(d,!0,a)&&e}a.xa||(g=a.currentTarget=c,e=g.da(d,!0,a)&&e,a.xa||(e=g.da(d,!1,a)&&e));if(b)for(f=0;!a.xa&&f<b.length;f++)g=a.currentTarget=b[f],e=g.da(d,!1,a)&&e;return e};
l.K=function(){T.Z.K.call(this);this.D&&this.D.ia(void 0);this.wb=null};l.da=function(a,b,c){a=this.D.m[String(a)];if(!a)return!0;a=a.concat();for(var d=!0,e=0;e<a.length;++e){var f=a[e];if(f&&!f.za&&f.capture==b){var g=f.listener,h=f.La||f.src;f.Ga&&Kd(this.D,f);d=!1!==g.call(h,c)&&d}}return d&&!c.defaultPrevented};l.mb=function(a,b,c,d){return this.D.mb(String(a),b,c,d)};r("H.util.EventTarget",T);T.prototype.Sa=T.prototype.Sa;T.prototype.setParentEventTarget=T.prototype.Sa;T.prototype.M=T.prototype.M;T.prototype.getParentEventTarget=T.prototype.M;T.prototype.addEventListener=T.prototype.addEventListener;T.prototype.addEventListener=T.prototype.addEventListener;T.prototype.removeEventListener=T.prototype.removeEventListener;T.prototype.removeEventListener=T.prototype.removeEventListener;T.prototype.dispatchEvent=T.prototype.dispatchEvent;
T.prototype.dispatchEvent=T.prototype.dispatchEvent;T.prototype.C=T.prototype.C;T.prototype.dispose=T.prototype.C;T.prototype.aa=T.prototype.aa;T.prototype.addOnDisposeCallback=T.prototype.aa;T.prototype.yc=T.prototype.da;
T.prototype.da=function(a,b,c){var d,e,f=!0;var g=c[c.currentTarget===c.target?"AT_TARGET":b?"CAPTURING_PHASE":(d=!0,"BUBBLING_PHASE")];if(!d||"pointerenter"!==(e=c.type)&&"pointerleave"!==e)c.eventPhase=g,f=T.prototype.yc.apply(this,arguments),d&&this.M&&null===this.M()&&delete c.eventPhase;return f};T.prototype.qd=function(a){for(var b,c=this;c&&(b=c.M())&&b!==a;)c=b;b||c.Sa(a)};T.prototype.setRootParentEventTarget=T.prototype.qd;function U(a){a=a||{};var b=a.callback;this.rb=a.label;Ua(b)&&(this.callback=b);this.cb=!!a.disabled;U.Z.constructor.call(this)}Fa(U,T);r("H.util.ContextItem",U);U.prototype.Hc=function(){return this.rb};U.prototype.getLabel=U.prototype.Hc;U.prototype.pd=function(a){this.rb!==a&&(this.rb=a,this.dispatchEvent("update"));return this};U.prototype.setLabel=U.prototype.pd;U.prototype.Xc=function(){return this.cb};U.prototype.isDisabled=U.prototype.Xc;
U.prototype.od=function(a){a!==this.cb&&(this.cb=a,this.dispatchEvent("update"));return this};U.prototype.setDisabled=U.prototype.od;var $d=new U;U.SEPARATOR=$d;function ae(a,b,c){this.type=a;this.data=b;this.O=$c();this.resolve=Na(this.resolve,this);this.reject=Na(this.reject,this);this.priority=be;c!==t&&(this.priority=c);this.Gc().add(this)}var be=1,ce={zd:0,Ad:be,yd:2};l=ae.prototype;l.then=function(a,b,c){return this.O.promise.then(a,b,c)};l.resolve=function(a){this.state=3;this.O.resolve(a)};l.reject=function(a){this.state=5;this.O.reject(a)};l.state=0;l.cancel=function(){3>this.state&&(this.Dd(),this.Gc().remove(this),this.state=4)};
ae.prototype.cancel=ae.prototype.cancel;function de(a){var b;this.Y={};for(b in ce)this.Y[ce[b]]=[];this.Ba=a;this.Ba.addEventListener("allocatable",Na(this.Lb,this))}r("H.util.JobManager",de);var ee=Object.keys(ce).map(function(a){return ce[a]}).sort().reverse();de.prototype.add=function(a){Ta(a,ae,this.add,0);this.Y[a.priority].push(a);this.Lb()};de.prototype.contains=function(a){return-1<this.Y[a.priority].indexOf(a)};
de.prototype.remove=function(a){var b=a.priority,c=this.Y[b].indexOf(a);if(-1<c)return this.Y[b].splice(c,1),!0;a.Fb&&this.Ba.sc(a.Fb);return!1};de.prototype.Lb=function(){ee.forEach(function(a){this.Y[a]=this.Y[a].filter(function(b){var c;if((c=this.Ba.Bd(b))!==Qa){var d=Na(this.Ba.sc,this.Ba,c,b);b.Fb=c;b.then(d,d);b.state=b.Ed(c)?1:5}else return!0},this)},this)};function fe(a,b,c){fe.Z.constructor.call(this,a,c);this.message=b}Fa(fe,S);r("H.util.ErrorEvent",fe);function ge(a,b,c){var d=[],e=arguments.length;a&&d.push(bb(a));1<e&&(e=2<e&&Va(c,void 0,void 0,void 0)?" out of ["+c[0]+"..."+c[1]+"]":"",d.push("("+b+e+")"));d=Error(d.join(" "));Object.setPrototypeOf(d,ge.prototype);return d}Fa(ge,Error);r("H.lang.OutOfRangeError",ge);ge.prototype.name="OutOfRangeError";function he(a,b,c){he.Z.constructor.call(this,a,c);this.data=b}Fa(he,S);r("H.util.DataEvent",he);function ie(a){if(globalThis.document){var b=document.createElement("canvas");b.width=b.height=1;b.getContext("2d",{Fd:a})}}r("H.util.getPixelRatio",function(){return window.devicePixelRatio||1});Object.create(Qa,void 0);r("H.util.eval",function(a){return eval(a)});r("H.util.provide",function(a){var b=p.$jscomp;if(b&&("function"!=typeof b.Dc?0:b.Dc()))throw Error("goog.provide cannot be used within a module.");qa(a,void 0,void 0)});function je(){this.v=0}
je.prototype.next=function(a){if(9007199254740992===this.v)throw new ge(a,this.v,[0,9007199254740991]);return this.v++};var ke=new je;Na(ke.next,ke);var le=Pa([]);Pa({});ie(!0);ie(!1);r("H.util.Disposable",Q);Q.prototype.aa=Q.prototype.aa;Q.prototype.addOnDisposeCallback=Q.prototype.aa;r("H.util.dispose",function(a){a&&"function"==typeof a.C&&a.C()});Q.prototype.C=Q.prototype.C;Q.prototype.dispose=Q.prototype.C;Q.prototype.K=Q.prototype.K;Q.prototype.disposeInternal=Q.prototype.K;function me(a,b){b=180/(1<<b);var c=a.lat+90;a=(a.lng+180)%360;var d=0;180==c&&d--;d+=Math.floor(c/b);return[d,0+Math.floor(a/b)]}var ne=1/Math.pow(10,10);function oe(a,b){var c=[],d=a.Nb();a=a.Mb();var e;180==a.lng&&(a.lng-=ne);d=me(d,b);a=me(a,b);for(e=d[0];e>=a[0];e--)for(b=d[1];b<=a[1];b++)c.push(e,b);return c};function pe(a,b,c,d){if(!a||!b||!c)throw new x(pe,t,"Must specify name, version and revision parameter");this.name=a;this.version=b;this.revision=c;d&&Ka(this,d)}r("H.util.BuildInfo",pe);pe.prototype.toString=function(){var a,b=[];for(a in this)Xa(this[a])&&b.push(this[a]);return b.join(";")};var qe={};function re(a,b,c,d){if(!a)throw new x(re,1,"Must specify a name parameter");return qe[a]||(qe[a]=new pe(a,b,c,d))}pe.get=re;function X(a,b,c,d,e,f){if(a&&b)this.Cb(a),this.Ra(b),this.Ab(c),this.Bb(e),this.ac(f),this.Ta(d);else throw new x(X,t,'Parameters "scheme" and "host" must be specified');}r("H.service.Url",X);
function se(a,b){var c=globalThis.document,d;var e="";if(c){e=c.createElement("a");if(b){var f=(d=c.getElementsByTagName("base")[0])&&d.href;var g=c.head;var h=d||g.appendChild(c.createElement("base"));h.href=b}e.href=a;e=e.href;b&&(d?d.href=f:g.removeChild(h))}else/[\\w]+:\\/\\//.test(a)&&(e=a);f=/(?:(\\w+):\\/\\/)?(?:([^:]+):([^@/]*)@)?([^/:]+)?(?:[:]{1}([0-9]+))?(\\/[^?#]*)?(\\?[^#]+)?(#.*)?/.exec(e);a=f[1];g=f[4];b=f[5];h=f[6];c=f[7];d=f[8];!f[2]&&g&&/@/.test(g)&&(g=g.split("@")[1]);f=X;h=h&&0<h.length?
h.substr(1):"";e={};var k,m;if(c)for(k=/([?&]?([^=&+]+))(=([^&]+))?/g;m=k.exec(c);)e[decodeURIComponent(m[2])]=m[4]?decodeURIComponent(m[4]):void 0;return new f(a,g,h,e,isNaN(+b)?void 0:+b,d&&0<d.length?d.substr(1):"")}X.parse=se;X.prototype.clone=function(){var a={},b;for(b in this.A)a[b]=this.A[b];return new X(this.yb,this.Na,this.X,a,this.wa,this.la)};X.prototype.clone=X.prototype.clone;
X.prototype.Cb=function(a){if(!a||"string"!==typeof a)throw new x(this.Cb,0,'The "scheme" parameter must be a non-empty string.');this.yb=a;return this};X.prototype.setScheme=X.prototype.Cb;X.prototype.Oc=function(){return this.yb};X.prototype.getScheme=X.prototype.Oc;X.prototype.Ra=function(a){if(!a||"string"!==typeof a||"-"===a.charAt(0)||"."===a.charAt(0)||"."===a.charAt(a.length-1))throw new x(this.Ra,0,'The "host" parameter is not a valid host name.');this.Na=a;return this};
X.prototype.setHost=X.prototype.Ra;X.prototype.Fc=function(){return this.Na};X.prototype.getHost=X.prototype.Fc;X.prototype.Ab=function(a){this.X=a||void 0;return this};X.prototype.setPath=X.prototype.Ab;X.prototype.Lc=function(){return this.X};X.prototype.getPath=X.prototype.Lc;X.prototype.Ta=function(a){if(a)if("object"==typeof a)this.A=a;else throw new x(this.Ta,0,'Parameter "params" must be an object.');else this.A={};return this};X.prototype.setQuery=X.prototype.Ta;X.prototype.Sc=function(){return!te(this)};
X.prototype.hasQuery=X.prototype.Sc;X.prototype.getQuery=function(){return this.A};X.prototype.getQuery=X.prototype.getQuery;X.prototype.Bb=function(a){if(void 0===a)this.wa=a;else{var b=Tb(+a<<0,0,65535);if(b!=a)throw new x(this.Bb,0,'Parameter "port" must be an integer in range [0...65535]');this.wa=b}return this};X.prototype.setPort=X.prototype.Bb;X.prototype.Mc=function(){return this.wa};X.prototype.getPort=X.prototype.Mc;X.prototype.ac=function(a){this.la=a||void 0;return this};
X.prototype.setAnchor=X.prototype.ac;X.prototype.Bc=function(){return this.la};X.prototype.getAnchor=X.prototype.Bc;X.prototype.ga=function(a){if("object"!==typeof a)throw new x(this.ga,0,'Parameter "other" must be an object.');var b=this.A,c;for(c in a)a.hasOwnProperty(c)&&"function"!==typeof a[c]&&(b[c]=a[c]);return this};X.prototype.mergeQuery=X.prototype.ga;
X.prototype.Gb=function(a){if(!a||"string"!==typeof a)throw new x(this.Gb,0,'Parameter "subDomain" must be a non-empty string');"."===a.substr(a.length-1)&&(a=a.substr(0,a.length-1));return this.Ra(a+"."+this.Na)};X.prototype.addSubDomain=X.prototype.Gb;X.prototype.Hb=function(a){if(!a||"string"!==typeof a)throw new x(this.Hb,0,'Parameter "subPath" must be a non-empty string');return this.Ab((this.X?this.X+"/":"")+a)};X.prototype.addSubPath=X.prototype.Hb;
X.prototype.toString=function(){return[this.yb+"://",this.Na,this.wa?":"+this.wa:"",this.X||!te(this)||this.la?"/":"",this.X?encodeURI(this.X):"",ue(this),this.la?"#"+encodeURIComponent(this.la):""].join("")};X.prototype.toString=X.prototype.toString;function ve(a){return encodeURIComponent(a).replace(/[!'()*]/g,function(b){return"%"+b.charCodeAt(0).toString(16)})}
function ue(a){var b=[],c=a.A,d={},e;for(e in c){if(c.hasOwnProperty(e)&&"function"!==typeof c[e]){var f=a.A[e];d.$=ve(e);Ta(f,we)?f.Va.forEach(function(g){return function(h){b.push(g.$+"="+ve(h))}}(d)):Ta(f,xe)?b.push(d.$+"="+f.Va.map(function(g){return ve(g)}).join(f.tc)):b.push(void 0===f?d.$:d.$+"="+ve(f))}d={$:d.$}}return 0<b.length?"?"+b.join("&"):""}function te(a){var b,c=0;for(b in a.A)if(a.A.hasOwnProperty(b)&&"function"!==typeof a.A[b]&&(c++,0<c))break;return!c}
function ye(a,b){if(Va(a,void 0,void 0,void 0))for(var c=0;c<a.length;c++){var d=a[c];if(!Xa(d)&&!$a(d)){var e="The Array does not contain only strings and numbers";break}}else e="Not an Array";if(e)throw new x(b,0,a);return a}function we(a){this.Va=ye(a,we)}X.MultiValueQueryParameter=we;we.prototype.Qc=function(){return this.Va};we.prototype.getValues=we.prototype.Qc;function xe(a,b){this.Va=ye(a,xe);if(!/^[!\\$\\(\\)\\*\\+,;]$/.test(b))throw new x(xe,1,'Invalid delimiter "'+b+'"');this.tc=b}
X.DelimitedQuerySubValues=xe;function Y(){}r("H.service.extension.dataView.ITable",Y);Y.prototype.nb=function(){};Y.prototype.getMeta=Y.prototype.nb;Y.prototype.ob=function(){};Y.prototype.getRowCount=Y.prototype.ob;Y.prototype.Ja=function(){};Y.prototype.getRow=Y.prototype.Ja;Y.prototype.L=function(){};Y.prototype.getColumnNames=Y.prototype.L;Y.prototype.lb=function(){};Y.prototype.getColumn=Y.prototype.lb;Y.prototype.o=function(){};Y.prototype.getCell=Y.prototype.o;Y.prototype.concat=function(){};Y.prototype.concat=Y.prototype.concat;function ze(){}r("H.service.extension.dataView.IRow",ze);ze.prototype.L=function(){};ze.prototype.getColumnNames=ze.prototype.L;ze.prototype.o=function(){};ze.prototype.getCell=ze.prototype.o;ze.prototype.pb=function(){};ze.prototype.getTable=ze.prototype.pb;function Ae(a,b){this.Ca=a;this.nd=b}r("H.service.extension.dataView.ObjRow",Ae);Ae.prototype.L=function(){return this.Ca.L()};Ae.prototype.getColumnNames=Ae.prototype.L;Ae.prototype.o=function(a){return this.Ca.o(this.nd,a)};Ae.prototype.getCell=Ae.prototype.o;Ae.prototype.pb=function(){return this.Ca};Ae.prototype.getTable=Ae.prototype.pb;function Be(){}r("H.service.extension.dataView.IColumn",Be);Be.prototype.o=function(){};Be.prototype.getCell=Be.prototype.o;function Ce(a,b){this.Ca=a;this.qc=b}r("H.service.extension.dataView.ObjColumn",Ce);Ce.prototype.o=function(a){return this.Ca.o(a,this.qc)};Ce.prototype.getCell=Ce.prototype.o;function Z(a,b,c){var d;b=b||(a&&a.length?Object.keys(a[0]):t);this.P=a;if(b)for(this.ca=b,this.ab=a=Object.create(Qa,void 0),d=b.length;d--;)a[b[d]]=!0;c!==t&&(this.ub=c)}r("H.service.extension.dataView.ObjTable",Z);l=Z.prototype;l.ub=t;l.P=t;l.ca=t;l.ab=t;l.nb=function(){return this.ub};Z.prototype.getMeta=Z.prototype.nb;Z.prototype.ob=function(){return this.P?this.P.length:0};Z.prototype.getRowCount=Z.prototype.ob;Z.prototype.Ja=function(a){var b=this.P;return b&&b[a]?new Ae(this,a):t};
Z.prototype.getRow=Z.prototype.Ja;Z.prototype.L=function(){return this.ca||le};Z.prototype.getColumnNames=Z.prototype.L;Z.prototype.lb=function(a){return this.ab[a]?new Ce(this,a):t};Z.prototype.getColumn=Z.prototype.lb;Z.prototype.o=function(a,b){var c=this.P;return(a=c&&this.ab[b]&&c[a])&&a[b]};Z.prototype.getCell=Z.prototype.o;
Z.prototype.concat=function(){var a=arguments.length,b,c=this.ca,d=""+this.ca,e=(this.P||[]).slice();for(b=0;b<a;b++){var f=arguments[b];if(!(f instanceof Z))throw new x(this.concat,b);if(f.P){if(c&&""+f.ca!==d)throw new x(this.concat,b,"Incompatible columns!");e=e.concat(f.P)}}return new Z(e,this.ca,this.ub)};Z.prototype.concat=Z.prototype.concat;function De(a,b,c,d,e,f){var g,h,k=a.length,m,n;if(k)for(g=[];k--;){var q=a[k];var u=q.length;var I=0;for(m=1;m<u;m++)if(n=Ee(q[m-1],q[m],c,b,d,e)){var K=n[0];var w=n[1];I&&I.S(K)?h.push(w):g.push(h=n);I=w;f&&(m=u,k=0)}}else g=a;return g}r("H.math.clipping.clipStrips",De);
function Ee(a,b,c,d,e,f){var g=a.x;a=-a.y;var h=b.x;b=-b.y;c=-c;f=-f;if(g>h){if(h>e||g<d)return;var k=g;var m=a;g=h;a=b;h=k;b=m;k=1}else if(g>e||h<d)return;if(a>b){if(b>c||a<f)return;var n=1;a=-a;b=-b;m=f;f=-c;c=-m}else if(a>c||b<f)return;if(g<d){if((a+=(d-g)*(b-a)/(h-g))>c)return;g=d}if(a<f){if((g+=(f-a)*(h-g)/(b-a))>e)return;a=f}h>e&&(b=a+(e-g)*(b-a)/(h-g),h=e);b>c&&(h=g+(c-a)*(h-g)/(b-a),b=c);n&&(a=-a,b=-b);return k?[new B(h,-b),new B(g,-a)]:[new B(g,-a),new B(h,-b)]}
function Fe(a,b,c){a=Ge(a,!0);b=Ge(b,!1);var d,e;var f={};var g=d=1;switch(~~(1*(c||0))){case 1:g=d=0;break;case 2:d=0;g=1;break;case 3:d=1,g=0}c=d;var h=g;if(b&&a){b.ma=new He(b.x,b.y,null,Ie(b));a.ma=new He(a.x,a.y,null,Ie(a));for(g=b;g.next;g=g.next)if(!g.F)for(d=a;d.next;d=d.next)if(!d.F){var k=Je(g.next);var m=Je(d.next);if(e=Ke(g,k,d,m,f)){e=f.ic;var n=f.jc;var q=f.wd;var u=f.xd;e=new He(q,u,null,null,null,null,!0,0,0,e);Le(e,g,k);k=new He(q,u,null,null,null,null,!0,0,0,n);Le(k,d,m);e.vb=k;
k.vb=e}}f=Xb(b,Me(a));c&&(f=!f);for(g=b;g;g=g.next)g.F&&(g.qb=f,f=!f);f=Xb(a,Me(b));h&&(f=!f);for(d=a;d.next;d=d.next)d.F&&(d.qb=f,f=!f);Ne(b);for(Ne(a);(a=Oe(b))!=b;){for(c=null;!a.Wa;a=a.vb){for(f=a.qb;;){c=new He(a.x,a.y,c);c.artificial=a.F||a.Rb;a.Wa=1;a=f?a.next:a.B;if(!a)break;if(a.F){a.Wa=1;break}}if(!a)break}c.Vb=I||null;var I=c}return I}}r("H.math.clipping.clipPolygon",Fe);
function He(a,b,c,d,e,f,g,h,k,m){this.x=a;this.y=b;this.next=c||null;this.B=d||null;this.Vb=e||null;this.vb=f||null;this.F=!!g;this.qb=!!h;this.Wa=k||0;this.alpha=m||0;d&&(d.next=this);c&&(c.B=this);this.Rb=!1;this.ma=null}function Je(a){for(;a&&a.F;)a=a.next;return a}function Ie(a){if(a)for(;a.next;)a=a.next;return a}function Oe(a){var b=a;if(b){do b=b.next;while(b!=a&&(!b.F||b.F&&b.Wa))}return b}function Ne(a){var b=Ie(a);b.B.next=a;a.B=b.B}
function Ke(a,b,c,d,e){var f,g=b.x-a.x,h=b.y-a.y;var k=d.x-c.x;var m=d.y-c.y;var n=g*m-h*k;if(!n)return 0;k=((c.x-a.x)*m-(c.y-a.y)*k)/n;n=(h*(c.x-a.x)-g*(c.y-a.y))/n;if(0>k||1<k||0>n||1<n)return 0;0===k?f=a:1===k?f=b:0===n?f=c:1===n&&(f=d);if(f)return f.x+=2.480549651603763E-5,f.y+=7.321997314118067E-5,f.ma&&(f.ma.x=f.x,f.ma.y=f.y),Ke(a,b,c,d,e);e.wd=a.x+k*g;e.xd=a.y+k*h;e.ic=k;e.jc=n;return 1}function Me(a){for(var b=[];a;)b.push(a.x,a.y),a=a.next;return b}
function Le(a,b,c){for(b=b.next;b!==c&&b.alpha<=a.alpha;)b=b.next;a.next=b;a.B=b.B;a.next.B=a;a.B.next=a}function Ge(a,b){for(var c,d=null,e=0,f=a.length;e<f;e++){c=new He(a[e].x,a[e].y,d);c.Rb=b;if(c.next=d)d.B=c;d=c}return d};function Pe(a,b){var c=a.tileSize||256;this.va={};this.$b=se(a.serverUrl);this.Ib=b;this.Zc=a.layerConfigs||[];this.Xb=a.projected;this.bc=c;this.lc=!1!==a.batchTiles;this.Tc=a.horizontalMargin||0;this.ad=a.onlyOutline;this.jd=new G(t,c);this.tb=new G(t,c);this.tb.Aa(22-Math.log(c)/Math.LN2+8)}Fa(Pe,Q);
Pe.prototype.ld=function(a,b,c){var d=this.bc,e=this.Tc,f={x:a*d-e,y:b*d};d={x:(a+1)*d-1+e,y:(b+1)*d-1};e=this.jd;e.Aa(c);f=e.xb(f);d=e.xb(d);return Qe(this,new E(f.lat,f.lng,d.lat,d.lng),this.Zc,{x:a,y:b,z:c})};Pe.prototype.kd=function(a,b,c,d,e){return Qe(this,new E(a,b,c,d),e)};
function Qe(a,b,c,d){var e=Re(c),f=e.length,g={},h,k=a.va,m=[],n=[];for(c=0;c<f;c++){var q=e[c];var u=q.layerId;var I=q.level;g[u]=q.columns;q=oe(b,I);var K=q.length-1;for(h=0;h<K;h+=2){var w=[u,q[h+1],q[h],I].join("_");var F=k[w]||a.Ib.get(w);F||(F=new nd(q[h+1],q[h],I,u),F.key=w,k[w]=F,n.push(F));m.push(F)}}n.length&&(a.lc?Se(a,n):Te(a,n));return Zc(m.map(function(W){var ia=Na(this.xc,this,g[W.ra]),N=Na(this.gd,this,W,d||Ue),Ea=W.then,va=this.wc,wa=W.ra,xa={},v,R=e.length;for(v=0;v<R;v++){var J=
e[v];if(J.rowFilter){var V=J.layerId;V=V!==t?V:J.layer;xa[V]=Na(J.rowFilter,J.rowFilterContext)}}return Ea.call(W,Na(va,this,wa,xa)).then(N).then(ia)},a))}var Ue={x:0,y:0,z:0};Pe.prototype.wc=function(a,b,c){var d=c.Rows,e=d.length,f,g;if(e&&(f=b[a])){b=new Z(c.Rows);var h=[];for(g=0;g<e;g++){var k=d[g];f(b.Ja(g),a)&&h.push(k)}a={Rows:h};if(c=c.Meta)a.Meta=c}else a=c;return a};
function Te(a,b){function c(k,m,n){n?(delete a.va[k.key],k.reject(n)):Ve(a,k,m)}var d,e=b.length,f=a.$b;for(d=0;d<e;d++){var g=b[d];var h=f.clone().ga({tilex:g.x}).ga({tiley:g.y}).ga({level:g.Sb}).ga({layer:g.ra});new ob(h.toString(),Na(c,null,g),tb)}}function Se(a,b){var c=b.length,d;for(d=0;d<c;d+=15){var e=b.slice(d,d+15);We(a,e)}}
function We(a,b){var c=a.$b.clone(),d=[],e=[],f=[],g=c.getQuery();b.length&&(b.forEach(function(h){d.push(h.x,h.y);e.push(h.Sb);f.push(h.ra)}),g.tilexy=d.join(","),g.layers=f.join(","),g.levels=e.join(","),c.Ta(g),new ob(c.toString(),function(h,k){k?b.forEach(function(m){delete a.va[m.key];m.reject("error")}):Ve(a,b,h)},tb))}
function Ve(a,b,c){var d=b.length,e;if(Va(b,void 0,void 0,void 0)){var f=c.indexOf("[")+1;for(e=0;e<d;e++){var g=c.indexOf("]},{",f+3)+2;g<f&&(g=c.lastIndexOf("]}"));var h=c.substr(f,g-f);f=g+1;Xe(a,b[e],h)}}else Xe(a,b,c)}function Xe(a,b,c){try{var d=c.length;var e=b.key;delete a.va[e];a.Ib.add(e,b,2*d);b.resolve(JSON.parse(c))}catch(f){b.reject(f.message)}}function Ye(a,b,c,d,e){return e?[new B(a,b),new B(c,b),new B(c,d),new B(a,d),new B(a,b)]:[a,b,c,b,c,d,a,d]}
Pe.prototype.gd=function(a,b,c){var d=this.tb.Ob()-b.z,e=this.bc<<d,f=50<<d,g=b.x*e;b=b.y*e;var h=g+e;e=b+e;var k=g-f,m=b-f,n=h+f;f=e+f;var q,u,I=c.Rows,K=I.length,w,F=/^ADAS/.test(a.ra),W=this.tb,ia=this.ad,N,Ea=[],va=[],wa=[],xa=[];for(a=0;a<K;a++){var v=w=I[a];var R=(N=F)?"HPY":"LAT";var J=N?"HPX":"LON";var V=N?"HPZ":"ZLEVEL";if(v[R]){var P=wd(v[R],v[J],v[V],N);v.geometry=P;delete v[R];delete v[J];delete v[V];if(v.INNER_LAT)for(R=v.INNER_LAT.split(";"),P=v.INNER_LON.split(";"),delete v.INNER_LAT,
delete v.INNER_LON,v.interiors=V=[],J=R.length,v=0;v<J;v++)V.push(wd(R[v],P[v],"",N))}if(this.Xb){J=w;v=W;P=J.$$projected$$;R=0;if(!P){var aa=J.geometry;N=yd(aa.path,v);w=[N];J.$$projected$$=P={dd:w};J=(V=J.interiors)?V.length:0;w.length+=J;R|=+Ze(w,N,aa.outlineIndices);if(J)for(P.Uc=1,q=0;q<J;q++)aa=V[q],N=yd(aa.path,v),w[1+q]=N,R|=+Ze(w,N,aa.outlineIndices);R&&(P.bd=1+J)}v=P;N=v.dd;w=v.Uc;var mc=v.bd;P=[];R=J=Rb;var Za=V=t;v=N[0];if(1===v.length){var nc=nc||(nc=Ye(g,b,h,e,!1));w=v[0];Wb(w.x,w.y,
nc)&&P.push($e(v,g,b,d))}else{var Wd=N.length;for(aa=ia?mc:0;aa<Wd&&(ia||!aa||P.length);aa++)if(v=N[aa],aa>=mc){aa===mc&&(R=P.length);var ja=De([v],k,m,n,f,!1);af(ja,g,b,d,P)}else{var Ab=Ab||(Ab=Ye(k,m,n,f,!0));if(aa>=w)if(aa===w&&(J=P.length),Za)for(q=Za.length;q--;){if(ja=bf(Za[q],v),u=ja.length){for(V=V||[];u--;)V.push(q);af(ja,g,b,d,P)}}else ja=bf(Ab,v),af(ja,g,b,d,P);else if(ja=bf(Ab,v),af(ja,g,b,d,P),1<ja.length&&w<Wd)for(Za=[],q=ja.length;q--;)Za[q]=ja[q]}}P.length&&(Ea[a]=P,va[a]=J,wa[a]=
V,xa[a]=R)}}return{rd:c,pc:Ea,Vc:va,vc:wa,cd:xa}};function Ze(a,b,c){for(var d=c.length,e=0,f,g,h=b.length;e<d;)f=c[e++],g=c[e++],a.push(g-f===h?b:b.slice(f,g));return 0<c.length}function bf(a,b){var c,d=[];if(c=Fe(a,b)){do{a=[];b=c;do a.push(b);while(b=b.next);d.push(a)}while(c=c.Vb)}else Xb(b[0],Yb(a))?d.push(b):Xb(a[0],Yb(b))&&d.push(a);return d}function af(a,b,c,d,e){for(var f=0,g=a.length;f<g;f++)e.push($e(a[f],b,c,d))}
function $e(a,b,c,d){var e,f=a.length,g=new Int32Array(2*f),h=0;for(e=0;e<f;e++){var k=a[e];g[h++]=k.x-b>>d;g[h++]=k.y-c>>d}return g}
Pe.prototype.xc=function(a,b){var c=b.rd,d=b.pc,e=b.Vc,f=b.cd;b=b.vc;for(var g=[],h,k={Rows:g},m,n=a?a.length:0,q=0,u,I=c.Rows,K=I.length,w;q<K;q+=1)if(d[q]||!this.Xb){h={};u=I[q];if(n)for(m=0;m<n;m++)u.hasOwnProperty(a[m])&&(h[a[m]]=u[a[m]]);else for(w in u)"$$projected$$"!==w&&(h[w]=u[w]);u.geometry&&(h.geometry=u.geometry);m=void 0;var F,W=h,ia=d[q],N=e[q],Ea=b[q],va=f[q],wa=g;if(ia){var xa=ia.length;if(Ea)for(F=N;F--;){if(F){var v={};for(m in W)v[m]=W[m]}else v=W;u=[ia[F]];var R=ub(xa,va)-N;for(h=
0;h<R;h++)Ea[h]===F&&u.push(ia[N+h]);R=u.length;if(!F)for(h=va;h<xa;h++)u.push(ia[h]);v.$HProjGeometry={paths:u,interiorsIndex:1,outlinesIndex:R};wa.push(v)}else W.$HProjGeometry={paths:ia,interiorsIndex:N,outlinesIndex:va},wa.push(W)}else wa.push(W)}c.Meta&&(k.Meta=c.Meta);return k};Pe.prototype.K=function(){var a,b=this.va;for(a in b)b.hasOwnProperty(a)&&(b[a].reject("disposed"),delete b[a])};Pe.prototype.disposeInternal=Pe.prototype.K;
function Re(a){for(var b=[],c,d=a.length,e=0;e<d;e++){c=Ia(a[e]);if(c.rowFilter&&(c.rowFilter=eval("("+c.rowFilter+")"),!Ua(c.rowFilter)))throw Error("Invalid row filter for layer "+c.layerId);b.push(c)}return b};r("H.service.extension.worker.processor",function(a,b,c){function d(h){e.postMessage(h)}var e=this,f=Ha[a];var g=function(h){e.postError(h.toString())};if(0===b)f||(Ha[a]=new Pe(c,cf)),this.postMessage(void 0);else if(f)switch(b){case 1:try{f.ld.apply(f,c).then(d,g)}catch(h){this.postError(h.message)}break;case 2:try{f.kd.apply(f,c).then(d,g)}catch(h){this.postError(h.message)}break;case 3:f.C();delete Ha[a];Ga()&&cf.ia();break;default:e.postError("Unsupported command")}});
var cf=new M(26214400),Ha=Object.create(Qa,void 0);self.addEventListener("message",function(a){a=new nb(a.data);var b=jb[a.Wb];if(b)try{b.apply(a,a.kc)}catch(c){a.postError(c.message)}else a.postError("processor_not_found")});(function(){var a=new nb;var b=function(c,d){mb.apply(a,[c,d,!0])};b("0",kb);b("1",mb);b("2",lb);b("3",sb)})();
`,function(){var f=function(){var target=(typeof self>"u"||!(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope))&&(typeof module<"u"&&module.exports||typeof window<"u");if(target)var __worker_src__=f.toString(),__worker_src_map__="",__worker_src_origin__=typeof document<"u"&&document.currentScript instanceof HTMLScriptElement?document.currentScript.src:"";(function(){"use strict";var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var r=function o(){return this instanceof o?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};r.prototype=n.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var s=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(r,o,s.get?s:{enumerable:!0,get:function(){return e[o]}})}),r}var toString$2={}.toString,classofRaw$1=function(e){return toString$2.call(e).slice(8,-1)},shared$1={exports:{}},O="object",check=function(e){return e&&e.Math==Math&&e},global$c=check(typeof globalThis==O&&globalThis)||check(typeof window==O&&window)||check(typeof self==O&&self)||check(typeof commonjsGlobal==O&&commonjsGlobal)||Function("return this")(),objectDefineProperty={},fails$3=function(e){try{return!!e()}catch{return!0}},descriptors=!fails$3(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7}),isObject$9=function(e){return typeof e=="object"?e!==null:typeof e=="function"},isObject$8=isObject$9,document$3=global$c.document,exist=isObject$8(document$3)&&isObject$8(document$3.createElement),documentCreateElement$1=function(e){return exist?document$3.createElement(e):{}},ie8DomDefine=!descriptors&&!fails$3(function(){return Object.defineProperty(documentCreateElement$1("div"),"a",{get:function(){return 7}}).a!=7}),isObject$7=isObject$9,anObject$9=function(e){if(!isObject$7(e))throw TypeError(String(e)+" is not an object");return e},isObject$6=isObject$9,toPrimitive$2=function(e,n){if(!isObject$6(e))return e;var r,o;if(n&&typeof(r=e.toString)=="function"&&!isObject$6(o=r.call(e))||typeof(r=e.valueOf)=="function"&&!isObject$6(o=r.call(e))||!n&&typeof(r=e.toString)=="function"&&!isObject$6(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")},DESCRIPTORS$2=descriptors,IE8_DOM_DEFINE$1=ie8DomDefine,anObject$8=anObject$9,toPrimitive$1=toPrimitive$2,nativeDefineProperty=Object.defineProperty;objectDefineProperty.f=DESCRIPTORS$2?nativeDefineProperty:function(e,n,r){if(anObject$8(e),n=toPrimitive$1(n,!0),anObject$8(r),IE8_DOM_DEFINE$1)try{return nativeDefineProperty(e,n,r)}catch{}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[n]=r.value),e};var createPropertyDescriptor$3=function(e,n){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:n}},definePropertyModule$2=objectDefineProperty,createPropertyDescriptor$2=createPropertyDescriptor$3,hide$7=descriptors?function(e,n,r){return definePropertyModule$2.f(e,n,createPropertyDescriptor$2(1,r))}:function(e,n,r){return e[n]=r,e},global$b=global$c,hide$6=hide$7,setGlobal$2=function(e,n){try{hide$6(global$b,e,n)}catch{global$b[e]=n}return n},isPure=!1,global$a=global$c,setGlobal$1=setGlobal$2,SHARED="__core-js_shared__",store$2=global$a[SHARED]||setGlobal$1(SHARED,{});(shared$1.exports=function(e,n){return store$2[e]||(store$2[e]=n!==void 0?n:{})})("versions",[]).push({version:"3.1.0",mode:"global",copyright:"\xA9 2019 Denis Pushkarev (zloirock.ru)"});var sharedExports=shared$1.exports,id$2=0,postfix=Math.random(),uid$2=function(e){return"Symbol(".concat(e===void 0?"":e,")_",(++id$2+postfix).toString(36))},nativeSymbol=!fails$3(function(){return!String(Symbol())}),store$1=sharedExports("wks"),uid$1=uid$2,Symbol$1=global$c.Symbol,NATIVE_SYMBOL=nativeSymbol,wellKnownSymbol$1=function(e){return store$1[e]||(store$1[e]=NATIVE_SYMBOL&&Symbol$1[e]||(NATIVE_SYMBOL?Symbol$1:uid$1)("Symbol."+e))},classofRaw=classofRaw$1,TO_STRING_TAG$2=wellKnownSymbol$1("toStringTag"),CORRECT_ARGUMENTS=classofRaw(function(){return arguments}())=="Arguments",tryGet=function(e,n){try{return e[n]}catch{}},classof$6=function(e){var n,r,o;return e===void 0?"Undefined":e===null?"Null":typeof(r=tryGet(n=Object(e),TO_STRING_TAG$2))=="string"?r:CORRECT_ARGUMENTS?classofRaw(n):(o=classofRaw(n))=="Object"&&typeof n.callee=="function"?"Arguments":o},classof$5=classof$6,TO_STRING_TAG$1=wellKnownSymbol$1("toStringTag"),test={};test[TO_STRING_TAG$1]="z";var objectToString$1=String(test)!=="[object z]"?function(){return"[object "+classof$5(this)+"]"}:test.toString,redefine$2={exports:{}},hasOwnProperty$1={}.hasOwnProperty,has$6=function(e,n){return hasOwnProperty$1.call(e,n)},functionToString,hasRequiredFunctionToString;function requireFunctionToString(){return hasRequiredFunctionToString?functionToString:(hasRequiredFunctionToString=1,functionToString=sharedExports("native-function-to-string",Function.toString))}var nativeFunctionToString=requireFunctionToString(),WeakMap$1=global$c.WeakMap,nativeWeakMap=typeof WeakMap$1=="function"&&/native code/.test(nativeFunctionToString.call(WeakMap$1)),shared=sharedExports("keys"),uid=uid$2,sharedKey$1=function(e){return shared[e]||(shared[e]=uid(e))},hiddenKeys$3={},NATIVE_WEAK_MAP=nativeWeakMap,isObject$5=isObject$9,hide$5=hide$7,objectHas=has$6,sharedKey=sharedKey$1,hiddenKeys$2=hiddenKeys$3,WeakMap=global$c.WeakMap,set$2,get,has$5,enforce=function(e){return has$5(e)?get(e):set$2(e,{})},getterFor=function(e){return function(n){var r;if(!isObject$5(n)||(r=get(n)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}};if(NATIVE_WEAK_MAP){var store=new WeakMap,wmget=store.get,wmhas=store.has,wmset=store.set;set$2=function(e,n){return wmset.call(store,e,n),n},get=function(e){return wmget.call(store,e)||{}},has$5=function(e){return wmhas.call(store,e)}}else{var STATE=sharedKey("state");hiddenKeys$2[STATE]=!0,set$2=function(e,n){return hide$5(e,STATE,n),n},get=function(e){return objectHas(e,STATE)?e[STATE]:{}},has$5=function(e){return objectHas(e,STATE)}}var internalState={set:set$2,get,has:has$5,enforce,getterFor},hasRequiredRedefine;function requireRedefine(){if(hasRequiredRedefine)return redefine$2.exports;hasRequiredRedefine=1;var e=global$c,n=hide$7,r=has$6,o=setGlobal$2,s=requireFunctionToString(),l=internalState,d=l.get,h=l.enforce,p=String(s).split("toString");return sharedExports("inspectSource",function(g){return s.call(g)}),(redefine$2.exports=function(g,y,v,w){var k=!!w&&!!w.unsafe,F=!!w&&!!w.enumerable,q=!!w&&!!w.noTargetGet;typeof v=="function"&&(typeof y!="string"||r(v,"name")||n(v,"name",y),h(v).source=p.join(typeof y=="string"?y:"")),g!==e?(k?!q&&g[y]&&(F=!0):delete g[y],F?g[y]=v:n(g,y,v)):F?g[y]=v:o(y,v)})(Function.prototype,"toString",function(){return typeof this=="function"&&d(this).source||s.call(this)}),redefine$2.exports}var toString$1=objectToString$1,ObjectPrototype$1=Object.prototype;toString$1!==ObjectPrototype$1.toString&&requireRedefine()(ObjectPrototype$1,"toString",toString$1,{unsafe:!0});var ceil=Math.ceil,floor=Math.floor,toInteger$3=function(e){return isNaN(e=+e)?0:(e>0?floor:ceil)(e)},requireObjectCoercible$3=function(e){if(e==null)throw TypeError("Can't call method on "+e);return e},toInteger$2=toInteger$3,requireObjectCoercible$2=requireObjectCoercible$3,stringAt=function(e,n,r){var o,s,l=String(requireObjectCoercible$2(e)),d=toInteger$2(n),h=l.length;return d<0||d>=h?r?"":void 0:(o=l.charCodeAt(d))<55296||o>56319||d+1===h||(s=l.charCodeAt(d+1))<56320||s>57343?r?l.charAt(d):o:r?l.slice(d,d+2):s-56320+(o-55296<<10)+65536},objectGetOwnPropertyDescriptor={},objectPropertyIsEnumerable={},nativePropertyIsEnumerable={}.propertyIsEnumerable,nativeGetOwnPropertyDescriptor$1=Object.getOwnPropertyDescriptor,NASHORN_BUG=nativeGetOwnPropertyDescriptor$1&&!nativePropertyIsEnumerable.call({1:2},1);objectPropertyIsEnumerable.f=NASHORN_BUG?function(e){var n=nativeGetOwnPropertyDescriptor$1(this,e);return!!n&&n.enumerable}:nativePropertyIsEnumerable;var fails$2=fails$3,classof$4=classofRaw$1,split="".split,indexedObject=fails$2(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return classof$4(e)=="String"?split.call(e,""):Object(e)}:Object,IndexedObject=indexedObject,requireObjectCoercible$1=requireObjectCoercible$3,toIndexedObject$4=function(e){return IndexedObject(requireObjectCoercible$1(e))},DESCRIPTORS$1=descriptors,propertyIsEnumerableModule=objectPropertyIsEnumerable,createPropertyDescriptor$1=createPropertyDescriptor$3,toIndexedObject$3=toIndexedObject$4,toPrimitive=toPrimitive$2,has$4=has$6,IE8_DOM_DEFINE=ie8DomDefine,nativeGetOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor.f=DESCRIPTORS$1?nativeGetOwnPropertyDescriptor:function(e,n){if(e=toIndexedObject$3(e),n=toPrimitive(n,!0),IE8_DOM_DEFINE)try{return nativeGetOwnPropertyDescriptor(e,n)}catch{}if(has$4(e,n))return createPropertyDescriptor$1(!propertyIsEnumerableModule.f.call(e,n),e[n])};var objectGetOwnPropertyNames={},toInteger$1=toInteger$3,min$1=Math.min,toLength$2=function(e){return e>0?min$1(toInteger$1(e),9007199254740991):0},toInteger=toInteger$3,max=Math.max,min=Math.min,toAbsoluteIndex$1=function(e,n){var r=toInteger(e);return r<0?max(r+n,0):min(r,n)},toIndexedObject$2=toIndexedObject$4,toLength$1=toLength$2,toAbsoluteIndex=toAbsoluteIndex$1,arrayIncludes=function(e){return function(n,r,o){var s,l=toIndexedObject$2(n),d=toLength$1(l.length),h=toAbsoluteIndex(o,d);if(e&&r!=r){for(;d>h;)if((s=l[h++])!=s)return!0}else for(;d>h;h++)if((e||h in l)&&l[h]===r)return e||h||0;return!e&&-1}},has$3=has$6,toIndexedObject$1=toIndexedObject$4,arrayIndexOf$1=arrayIncludes(!1),hiddenKeys$1=hiddenKeys$3,objectKeysInternal=function(e,n){var r,o=toIndexedObject$1(e),s=0,l=[];for(r in o)!has$3(hiddenKeys$1,r)&&has$3(o,r)&&l.push(r);for(;n.length>s;)has$3(o,r=n[s++])&&(~arrayIndexOf$1(l,r)||l.push(r));return l},enumBugKeys$2=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],internalObjectKeys$1=objectKeysInternal,hiddenKeys=enumBugKeys$2.concat("length","prototype");objectGetOwnPropertyNames.f=Object.getOwnPropertyNames||function(e){return internalObjectKeys$1(e,hiddenKeys)};var objectGetOwnPropertySymbols={};objectGetOwnPropertySymbols.f=Object.getOwnPropertySymbols;var getOwnPropertyNamesModule=objectGetOwnPropertyNames,getOwnPropertySymbolsModule=objectGetOwnPropertySymbols,anObject$7=anObject$9,Reflect$1=global$c.Reflect,ownKeys$1=Reflect$1&&Reflect$1.ownKeys||function(e){var n=getOwnPropertyNamesModule.f(anObject$7(e)),r=getOwnPropertySymbolsModule.f;return r?n.concat(r(e)):n},has$2=has$6,ownKeys=ownKeys$1,getOwnPropertyDescriptorModule=objectGetOwnPropertyDescriptor,definePropertyModule$1=objectDefineProperty,copyConstructorProperties$1=function(e,n){for(var r=ownKeys(n),o=definePropertyModule$1.f,s=getOwnPropertyDescriptorModule.f,l=0;l<r.length;l++){var d=r[l];has$2(e,d)||o(e,d,s(n,d))}},fails$1=fails$3,replacement=/#|\.prototype\./,isForced$2=function(e,n){var r=data[normalize$1(e)];return r==POLYFILL||r!=NATIVE&&(typeof n=="function"?fails$1(n):!!n)},normalize$1=isForced$2.normalize=function(e){return String(e).replace(replacement,".").toLowerCase()},data=isForced$2.data={},NATIVE=isForced$2.NATIVE="N",POLYFILL=isForced$2.POLYFILL="P",isForced_1=isForced$2,global$9=global$c,getOwnPropertyDescriptor$1=objectGetOwnPropertyDescriptor.f,hide$4=hide$7,redefine$1=requireRedefine(),setGlobal=setGlobal$2,copyConstructorProperties=copyConstructorProperties$1,isForced$1=isForced_1,_export=function(e,n){var r,o,s,l,d,h=e.target,p=e.global,g=e.stat;if(r=p?global$9:g?global$9[h]||setGlobal(h,{}):(global$9[h]||{}).prototype)for(o in n){if(l=n[o],s=e.noTargetGet?(d=getOwnPropertyDescriptor$1(r,o))&&d.value:r[o],!isForced$1(p?o:h+(g?".":"#")+o,e.forced)&&s!==void 0){if(typeof l==typeof s)continue;copyConstructorProperties(l,s)}(e.sham||s&&s.sham)&&hide$4(l,"sham",!0),redefine$1(r,o,l,e)}},requireObjectCoercible=requireObjectCoercible$3,toObject$1=function(e){return Object(requireObjectCoercible(e))},correctPrototypeGetter=!fails$3(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),has$1=has$6,toObject=toObject$1,IE_PROTO$1=sharedKey$1("IE_PROTO"),CORRECT_PROTOTYPE_GETTER=correctPrototypeGetter,ObjectPrototype=Object.prototype,objectGetPrototypeOf=CORRECT_PROTOTYPE_GETTER?Object.getPrototypeOf:function(e){return e=toObject(e),has$1(e,IE_PROTO$1)?e[IE_PROTO$1]:typeof e.constructor=="function"&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?ObjectPrototype:null},getPrototypeOf$1=objectGetPrototypeOf,hide$3=hide$7,has=has$6,ITERATOR$5=wellKnownSymbol$1("iterator"),BUGGY_SAFARI_ITERATORS$1=!1,returnThis$2=function(){return this},IteratorPrototype$2,PrototypeOfArrayIteratorPrototype,arrayIterator;[].keys&&(arrayIterator=[].keys(),"next"in arrayIterator?(PrototypeOfArrayIteratorPrototype=getPrototypeOf$1(getPrototypeOf$1(arrayIterator)),PrototypeOfArrayIteratorPrototype!==Object.prototype&&(IteratorPrototype$2=PrototypeOfArrayIteratorPrototype)):BUGGY_SAFARI_ITERATORS$1=!0),IteratorPrototype$2==null&&(IteratorPrototype$2={}),has(IteratorPrototype$2,ITERATOR$5)||hide$3(IteratorPrototype$2,ITERATOR$5,returnThis$2);var iteratorsCore={IteratorPrototype:IteratorPrototype$2,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS$1},internalObjectKeys=objectKeysInternal,enumBugKeys$1=enumBugKeys$2,objectKeys$2=Object.keys||function(e){return internalObjectKeys(e,enumBugKeys$1)},DESCRIPTORS=descriptors,definePropertyModule=objectDefineProperty,anObject$6=anObject$9,objectKeys$1=objectKeys$2,objectDefineProperties=DESCRIPTORS?Object.defineProperties:function(e,n){anObject$6(e);for(var r,o=objectKeys$1(n),s=o.length,l=0;s>l;)definePropertyModule.f(e,r=o[l++],n[r]);return e},document$2=global$c.document,html$2=document$2&&document$2.documentElement,anObject$5=anObject$9,defineProperties=objectDefineProperties,enumBugKeys=enumBugKeys$2,html$1=html$2,documentCreateElement=documentCreateElement$1,IE_PROTO=sharedKey$1("IE_PROTO"),PROTOTYPE="prototype",Empty=function(){},createDict=function(){var e,n=documentCreateElement("iframe"),r=enumBugKeys.length,o="script",s="java"+o+":";for(n.style.display="none",html$1.appendChild(n),n.src=String(s),(e=n.contentWindow.document).open(),e.write("<"+o+">document.F=Object</"+o+">"),e.close(),createDict=e.F;r--;)delete createDict[PROTOTYPE][enumBugKeys[r]];return createDict()},objectCreate=Object.create||function(e,n){var r;return e!==null?(Empty[PROTOTYPE]=anObject$5(e),r=new Empty,Empty[PROTOTYPE]=null,r[IE_PROTO]=e):r=createDict(),n===void 0?r:defineProperties(r,n)},setToStringTag$2,hasRequiredSetToStringTag;function requireSetToStringTag(){if(hasRequiredSetToStringTag)return setToStringTag$2;hasRequiredSetToStringTag=1;var e=objectDefineProperty.f,n=has$6,r=wellKnownSymbol$1("toStringTag");return setToStringTag$2=function(o,s,l){o&&!n(o=l?o:o.prototype,r)&&e(o,r,{configurable:!0,value:s})}}hiddenKeys$3[IE_PROTO]=!0;var iterators={},IteratorPrototype$1=iteratorsCore.IteratorPrototype,create$3=objectCreate,createPropertyDescriptor=createPropertyDescriptor$3,setToStringTag$1=requireSetToStringTag(),Iterators$4=iterators,returnThis$1=function(){return this},createIteratorConstructor$1=function(e,n,r){var o=n+" Iterator";return e.prototype=create$3(IteratorPrototype$1,{next:createPropertyDescriptor(1,r)}),setToStringTag$1(e,o,!1,!0),Iterators$4[o]=returnThis$1,e},isObject$4=isObject$9,anObject$4=anObject$9,validateSetPrototypeOfArguments$1=function(e,n){if(anObject$4(e),!isObject$4(n)&&n!==null)throw TypeError("Can't set "+String(n)+" as a prototype")},validateSetPrototypeOfArguments=validateSetPrototypeOfArguments$1,objectSetPrototypeOf=Object.setPrototypeOf||("__proto__"in{}?function(){var e,n=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),n=r instanceof Array}catch{}return function(o,s){return validateSetPrototypeOfArguments(o,s),n?e.call(o,s):o.__proto__=s,o}}():void 0),$export$1=_export,createIteratorConstructor=createIteratorConstructor$1,getPrototypeOf=objectGetPrototypeOf,setPrototypeOf=objectSetPrototypeOf,setToStringTag=requireSetToStringTag(),hide$2=hide$7,redefine=requireRedefine(),ITERATOR$4=wellKnownSymbol$1("iterator"),Iterators$3=iterators,IteratorsCore=iteratorsCore,IteratorPrototype=IteratorsCore.IteratorPrototype,BUGGY_SAFARI_ITERATORS=IteratorsCore.BUGGY_SAFARI_ITERATORS,KEYS="keys",VALUES="values",ENTRIES="entries",returnThis=function(){return this},defineIterator$2=function(e,n,r,o,s,l,d){createIteratorConstructor(r,n,o);var h,p,g,y=function(ga){if(ga===s&&q)return q;if(!BUGGY_SAFARI_ITERATORS&&ga in k)return k[ga];switch(ga){case KEYS:case VALUES:case ENTRIES:return function(){return new r(this,ga)}}return function(){return new r(this)}},v=n+" Iterator",w=!1,k=e.prototype,F=k[ITERATOR$4]||k["@@iterator"]||s&&k[s],q=!BUGGY_SAFARI_ITERATORS&&F||y(s),_r=n=="Array"&&k.entries||F;if(_r&&(h=getPrototypeOf(_r.call(new e)),IteratorPrototype!==Object.prototype&&h.next&&(getPrototypeOf(h)!==IteratorPrototype&&(setPrototypeOf?setPrototypeOf(h,IteratorPrototype):typeof h[ITERATOR$4]!="function"&&hide$2(h,ITERATOR$4,returnThis)),setToStringTag(h,v,!0,!0))),s==VALUES&&F&&F.name!==VALUES&&(w=!0,q=function(){return F.call(this)}),k[ITERATOR$4]!==q&&hide$2(k,ITERATOR$4,q),Iterators$3[n]=q,s)if(p={values:y(VALUES),keys:l?q:y(KEYS),entries:y(ENTRIES)},d)for(g in p)(BUGGY_SAFARI_ITERATORS||w||!(g in k))&&redefine(k,g,p[g]);else $export$1({target:n,proto:!0,forced:BUGGY_SAFARI_ITERATORS||w},p);return p},codePointAt$1=stringAt,InternalStateModule$2=internalState,defineIterator$1=defineIterator$2,STRING_ITERATOR="String Iterator",setInternalState$2=InternalStateModule$2.set,getInternalState$2=InternalStateModule$2.getterFor(STRING_ITERATOR);defineIterator$1(String,"String",function(e){setInternalState$2(this,{type:STRING_ITERATOR,string:String(e),index:0})},function(){var e,n=getInternalState$2(this),r=n.string,o=n.index;return o>=r.length?{value:void 0,done:!0}:(e=codePointAt$1(r,o,!0),n.index+=e.length,{value:e,done:!1})});var domIterables={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},UNSCOPABLES=wellKnownSymbol$1("unscopables"),create$2=objectCreate,hide$1=hide$7,ArrayPrototype$1=Array.prototype;ArrayPrototype$1[UNSCOPABLES]==null&&hide$1(ArrayPrototype$1,UNSCOPABLES,create$2(null));var addToUnscopables$1=function(e){ArrayPrototype$1[UNSCOPABLES][e]=!0},toIndexedObject=toIndexedObject$4,addToUnscopables=addToUnscopables$1,Iterators$2=iterators,InternalStateModule$1=internalState,defineIterator=defineIterator$2,ARRAY_ITERATOR="Array Iterator",setInternalState$1=InternalStateModule$1.set,getInternalState$1=InternalStateModule$1.getterFor(ARRAY_ITERATOR),es_array_iterator=defineIterator(Array,"Array",function(e,n){setInternalState$1(this,{type:ARRAY_ITERATOR,target:toIndexedObject(e),index:0,kind:n})},function(){var e=getInternalState$1(this),n=e.target,r=e.kind,o=e.index++;return!n||o>=n.length?(e.target=void 0,{value:void 0,done:!0}):r=="keys"?{value:o,done:!1}:r=="values"?{value:n[o],done:!1}:{value:[o,n[o]],done:!1}},"values");Iterators$2.Arguments=Iterators$2.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries");var DOMIterables=domIterables,ArrayIteratorMethods=es_array_iterator,global$8=global$c,hide=hide$7,wellKnownSymbol=wellKnownSymbol$1,ITERATOR$3=wellKnownSymbol("iterator"),TO_STRING_TAG=wellKnownSymbol("toStringTag"),ArrayValues=ArrayIteratorMethods.values;for(var COLLECTION_NAME in DOMIterables){var Collection=global$8[COLLECTION_NAME],CollectionPrototype=Collection&&Collection.prototype;if(CollectionPrototype){if(CollectionPrototype[ITERATOR$3]!==ArrayValues)try{hide(CollectionPrototype,ITERATOR$3,ArrayValues)}catch{CollectionPrototype[ITERATOR$3]=ArrayValues}if(CollectionPrototype[TO_STRING_TAG]||hide(CollectionPrototype,TO_STRING_TAG,COLLECTION_NAME),DOMIterables[COLLECTION_NAME]){for(var METHOD_NAME in ArrayIteratorMethods)if(CollectionPrototype[METHOD_NAME]!==ArrayIteratorMethods[METHOD_NAME])try{hide(CollectionPrototype,METHOD_NAME,ArrayIteratorMethods[METHOD_NAME])}catch{CollectionPrototype[METHOD_NAME]=ArrayIteratorMethods[METHOD_NAME]}}}}var aFunction$5=function(e){if(typeof e!="function")throw TypeError(String(e)+" is not a function");return e},anInstance$1=function(e,n,r){if(!(e instanceof n))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e},iterate$1={exports:{}},Iterators$1=iterators,ITERATOR$2=wellKnownSymbol$1("iterator"),ArrayPrototype=Array.prototype,isArrayIteratorMethod$1=function(e){return e!==void 0&&(Iterators$1.Array===e||ArrayPrototype[ITERATOR$2]===e)},aFunction$4=aFunction$5,bindContext=function(e,n,r){if(aFunction$4(e),n===void 0)return e;switch(r){case 0:return function(){return e.call(n)};case 1:return function(o){return e.call(n,o)};case 2:return function(o,s){return e.call(n,o,s)};case 3:return function(o,s,l){return e.call(n,o,s,l)}}return function(){return e.apply(n,arguments)}},classof$3=classof$6,ITERATOR$1=wellKnownSymbol$1("iterator"),Iterators=iterators,getIteratorMethod$1=function(e){if(e!=null)return e[ITERATOR$1]||e["@@iterator"]||Iterators[classof$3(e)]},anObject$3=anObject$9,callWithSafeIterationClosing$1=function(e,n,r,o){try{return o?n(anObject$3(r)[0],r[1]):n(r)}catch(l){var s=e.return;throw s!==void 0&&anObject$3(s.call(e)),l}},anObject$2=anObject$9,isArrayIteratorMethod=isArrayIteratorMethod$1,toLength=toLength$2,bind$2=bindContext,getIteratorMethod=getIteratorMethod$1,callWithSafeIterationClosing=callWithSafeIterationClosing$1,BREAK={},exports$1=iterate$1.exports=function(e,n,r,o,s){var l,d,h,p,g,y=bind$2(n,r,o?2:1);if(s)l=e;else{if(typeof(d=getIteratorMethod(e))!="function")throw TypeError("Target is not iterable");if(isArrayIteratorMethod(d)){for(h=0,p=toLength(e.length);p>h;h++)if((o?y(anObject$2(g=e[h])[0],g[1]):y(e[h]))===BREAK)return BREAK;return}l=d.call(e)}for(;!(g=l.next()).done;)if(callWithSafeIterationClosing(l,y,g.value,o)===BREAK)return BREAK};exports$1.BREAK=BREAK;var iterateExports=iterate$1.exports,ITERATOR=wellKnownSymbol$1("iterator"),SAFE_CLOSING=!1;try{var called=0,iteratorWithReturn={next:function(){return{done:!!called++}},return:function(){SAFE_CLOSING=!0}};iteratorWithReturn[ITERATOR]=function(){return this},Array.from(iteratorWithReturn,function(){throw 2})}catch(e){}var checkCorrectnessOfIteration$1=function(e,n){if(!n&&!SAFE_CLOSING)return!1;var r=!1;try{var o={};o[ITERATOR]=function(){return{next:function(){return{done:r=!0}}}},e(o)}catch{}return r},anObject$1=anObject$9,aFunction$3=aFunction$5,SPECIES$1=wellKnownSymbol$1("species"),speciesConstructor$2=function(e,n){var r,o=anObject$1(e).constructor;return o===void 0||(r=anObject$1(o)[SPECIES$1])==null?n:aFunction$3(r)},global$7=global$c,fails=fails$3,classof$2=classofRaw$1,bind$1=bindContext,html=html$2,createElement=documentCreateElement$1,location=global$7.location,set$1=global$7.setImmediate,clear=global$7.clearImmediate,process$2=global$7.process,MessageChannel=global$7.MessageChannel,Dispatch=global$7.Dispatch,counter=0,queue={},ONREADYSTATECHANGE="onreadystatechange",defer,channel,port,run=function(e){if(queue.hasOwnProperty(e)){var n=queue[e];delete queue[e],n()}},runner=function(e){return function(){run(e)}},listener=function(e){run(e.data)},post=function(e){global$7.postMessage(e+"",location.protocol+"//"+location.host)};set$1&&clear||(set$1=function(e){for(var n=[],r=1;arguments.length>r;)n.push(arguments[r++]);return queue[++counter]=function(){(typeof e=="function"?e:Function(e)).apply(void 0,n)},defer(counter),counter},clear=function(e){delete queue[e]},classof$2(process$2)=="process"?defer=function(e){process$2.nextTick(runner(e))}:Dispatch&&Dispatch.now?defer=function(e){Dispatch.now(runner(e))}:MessageChannel?(channel=new MessageChannel,port=channel.port2,channel.port1.onmessage=listener,defer=bind$1(port.postMessage,port,1)):!global$7.addEventListener||typeof postMessage!="function"||global$7.importScripts||fails(post)?defer=ONREADYSTATECHANGE in createElement("script")?function(e){html.appendChild(createElement("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this),run(e)}}:function(e){setTimeout(runner(e),0)}:(defer=post,global$7.addEventListener("message",listener,!1)));var task$1={set:set$1,clear},global$6=global$c,navigator$1=global$6.navigator,userAgent$2=navigator$1&&navigator$1.userAgent||"",global$5=global$c,getOwnPropertyDescriptor=objectGetOwnPropertyDescriptor.f,classof$1=classofRaw$1,macrotask=task$1.set,userAgent$1=userAgent$2,MutationObserver=global$5.MutationObserver||global$5.WebKitMutationObserver,process$1=global$5.process,Promise$1=global$5.Promise,IS_NODE$1=classof$1(process$1)=="process",queueMicrotaskDescriptor=getOwnPropertyDescriptor(global$5,"queueMicrotask"),queueMicrotask=queueMicrotaskDescriptor&&queueMicrotaskDescriptor.value,flush,head,last,notify$1,toggle,node,promise;queueMicrotask||(flush=function(){var e,n;for(IS_NODE$1&&(e=process$1.domain)&&e.exit();head;){n=head.fn,head=head.next;try{n()}catch(r){throw head?notify$1():last=void 0,r}}last=void 0,e&&e.enter()},IS_NODE$1?notify$1=function(){process$1.nextTick(flush)}:MutationObserver&&!/(iphone|ipod|ipad).*applewebkit/i.test(userAgent$1)?(toggle=!0,node=document.createTextNode(""),new MutationObserver(flush).observe(node,{characterData:!0}),notify$1=function(){node.data=toggle=!toggle}):Promise$1&&Promise$1.resolve?(promise=Promise$1.resolve(void 0),notify$1=function(){promise.then(flush)}):notify$1=function(){macrotask.call(global$5,flush)});var microtask$1=queueMicrotask||function(e){var n={fn:e,next:void 0};last&&(last.next=n),head||(head=n,notify$1()),last=n},newPromiseCapability$2={},aFunction$2=aFunction$5,PromiseCapability=function(e){var n,r;this.promise=new e(function(o,s){if(n!==void 0||r!==void 0)throw TypeError("Bad Promise constructor");n=o,r=s}),this.resolve=aFunction$2(n),this.reject=aFunction$2(r)};newPromiseCapability$2.f=function(e){return new PromiseCapability(e)};var anObject=anObject$9,isObject$3=isObject$9,newPromiseCapability$1=newPromiseCapability$2,promiseResolve$2=function(e,n){if(anObject(e),isObject$3(n)&&n.constructor===e)return n;var r=newPromiseCapability$1.f(e);return(0,r.resolve)(n),r.promise},global$4=global$c,hostReportErrors$1=function(e,n){var r=global$4.console;r&&r.error&&(arguments.length===1?r.error(e):r.error(e,n))},perform$1=function(e){try{return{error:!1,value:e()}}catch(n){return{error:!0,value:n}}},redefineAll,hasRequiredRedefineAll;function requireRedefineAll(){if(hasRequiredRedefineAll)return redefineAll;hasRequiredRedefineAll=1;var e=requireRedefine();return redefineAll=function(n,r,o){for(var s in r)e(n,s,r[s],o);return n},redefineAll}var path$1=global$c,path=path$1,global$3=global$c,aFunction$1=function(e){return typeof e=="function"?e:void 0},getBuiltIn$1=function(e,n){return arguments.length<2?aFunction$1(path[e])||aFunction$1(global$3[e]):path[e]&&path[e][n]||global$3[e]&&global$3[e][n]},setSpecies,hasRequiredSetSpecies;function requireSetSpecies(){if(hasRequiredSetSpecies)return setSpecies;hasRequiredSetSpecies=1;var e=getBuiltIn$1,n=objectDefineProperty,r=descriptors,o=wellKnownSymbol$1("species");return setSpecies=function(s){var l=e(s),d=n.f;r&&l&&!l[o]&&d(l,o,{configurable:!0,get:function(){return this}})}}var PROMISE="Promise",IS_PURE=isPure,global$2=global$c,$export=_export,isObject$2=isObject$9,aFunction=aFunction$5,anInstance=anInstance$1,classof=classofRaw$1,iterate=iterateExports,checkCorrectnessOfIteration=checkCorrectnessOfIteration$1,speciesConstructor$1=speciesConstructor$2,task=task$1.set,microtask=microtask$1,promiseResolve$1=promiseResolve$2,hostReportErrors=hostReportErrors$1,newPromiseCapabilityModule=newPromiseCapability$2,perform=perform$1,userAgent=userAgent$2,SPECIES=wellKnownSymbol$1("species"),InternalStateModule=internalState,isForced=isForced_1,getInternalState=InternalStateModule.get,setInternalState=InternalStateModule.set,getInternalPromiseState=InternalStateModule.getterFor(PROMISE),PromiseConstructor=global$2[PROMISE],TypeError$1=global$2.TypeError,document$1=global$2.document,process=global$2.process,$fetch=global$2.fetch,versions=process&&process.versions,v8=versions&&versions.v8||"",newPromiseCapability=newPromiseCapabilityModule.f,newGenericPromiseCapability=newPromiseCapability,IS_NODE=classof(process)=="process",DISPATCH_EVENT=!!(document$1&&document$1.createEvent&&global$2.dispatchEvent),UNHANDLED_REJECTION="unhandledrejection",REJECTION_HANDLED="rejectionhandled",PENDING=0,FULFILLED=1,REJECTED=2,HANDLED=1,UNHANDLED=2,Internal,OwnPromiseCapability,PromiseWrapper,FORCED=isForced(PROMISE,function(){var e=PromiseConstructor.resolve(1),n=function(){},r=(e.constructor={})[SPECIES]=function(o){o(n,n)};return!((IS_NODE||typeof PromiseRejectionEvent=="function")&&!IS_PURE&&e.then(n)instanceof r&&v8.indexOf("6.6")!==0&&userAgent.indexOf("Chrome/66")===-1)}),INCORRECT_ITERATION=FORCED||!checkCorrectnessOfIteration(function(e){PromiseConstructor.all(e).catch(function(){})}),isThenable=function(e){var n;return!(!isObject$2(e)||typeof(n=e.then)!="function")&&n},notify=function(e,n,r){if(!n.notified){n.notified=!0;var o=n.reactions;microtask(function(){for(var s=n.value,l=n.state==FULFILLED,d=0,h=function(p){var g,y,v,w=l?p.ok:p.fail,k=p.resolve,F=p.reject,q=p.domain;try{w?(l||(n.rejection===UNHANDLED&&onHandleUnhandled(e,n),n.rejection=HANDLED),w===!0?g=s:(q&&q.enter(),g=w(s),q&&(q.exit(),v=!0)),g===p.promise?F(TypeError$1("Promise-chain cycle")):(y=isThenable(g))?y.call(g,k,F):k(g)):F(s)}catch(_r){q&&!v&&q.exit(),F(_r)}};o.length>d;)h(o[d++]);n.reactions=[],n.notified=!1,r&&!n.rejection&&onUnhandled(e,n)})}},dispatchEvent=function(e,n,r){var o,s;DISPATCH_EVENT?((o=document$1.createEvent("Event")).promise=n,o.reason=r,o.initEvent(e,!1,!0),global$2.dispatchEvent(o)):o={promise:n,reason:r},(s=global$2["on"+e])?s(o):e===UNHANDLED_REJECTION&&hostReportErrors("Unhandled promise rejection",r)},onUnhandled=function(e,n){task.call(global$2,function(){var r,o=n.value;if(isUnhandled(n)&&(r=perform(function(){IS_NODE?process.emit("unhandledRejection",o,e):dispatchEvent(UNHANDLED_REJECTION,e,o)}),n.rejection=IS_NODE||isUnhandled(n)?UNHANDLED:HANDLED,r.error))throw r.value})},isUnhandled=function(e){return e.rejection!==HANDLED&&!e.parent},onHandleUnhandled=function(e,n){task.call(global$2,function(){IS_NODE?process.emit("rejectionHandled",e):dispatchEvent(REJECTION_HANDLED,e,n.value)})},bind=function(e,n,r,o){return function(s){e(n,r,s,o)}},internalReject=function(e,n,r,o){n.done||(n.done=!0,o&&(n=o),n.value=r,n.state=REJECTED,notify(e,n,!0))},internalResolve=function(e,n,r,o){if(!n.done){n.done=!0,o&&(n=o);try{if(e===r)throw TypeError$1("Promise can't be resolved itself");var s=isThenable(r);s?microtask(function(){var l={done:!1};try{s.call(r,bind(internalResolve,e,l,n),bind(internalReject,e,l,n))}catch(d){internalReject(e,l,d,n)}}):(n.value=r,n.state=FULFILLED,notify(e,n,!1))}catch(l){internalReject(e,{done:!1},l,n)}}};FORCED&&(PromiseConstructor=function(e){anInstance(this,PromiseConstructor,PROMISE),aFunction(e),Internal.call(this);var n=getInternalState(this);try{e(bind(internalResolve,this,n),bind(internalReject,this,n))}catch(r){internalReject(this,n,r)}},Internal=function(e){setInternalState(this,{type:PROMISE,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:PENDING,value:void 0})},Internal.prototype=requireRedefineAll()(PromiseConstructor.prototype,{then:function(e,n){var r=getInternalPromiseState(this),o=newPromiseCapability(speciesConstructor$1(this,PromiseConstructor));return o.ok=typeof e!="function"||e,o.fail=typeof n=="function"&&n,o.domain=IS_NODE?process.domain:void 0,r.parent=!0,r.reactions.push(o),r.state!=PENDING&&notify(this,r,!1),o.promise},catch:function(e){return this.then(void 0,e)}}),OwnPromiseCapability=function(){var e=new Internal,n=getInternalState(e);this.promise=e,this.resolve=bind(internalResolve,e,n),this.reject=bind(internalReject,e,n)},newPromiseCapabilityModule.f=newPromiseCapability=function(e){return e===PromiseConstructor||e===PromiseWrapper?new OwnPromiseCapability(e):newGenericPromiseCapability(e)},typeof $fetch=="function"&&$export({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return promiseResolve$1(PromiseConstructor,$fetch.apply(global$2,arguments))}})),$export({global:!0,wrap:!0,forced:FORCED},{Promise:PromiseConstructor}),requireSetToStringTag()(PromiseConstructor,PROMISE,!1,!0),requireSetSpecies()(PROMISE),PromiseWrapper=path$1[PROMISE],$export({target:PROMISE,stat:!0,forced:FORCED},{reject:function(e){var n=newPromiseCapability(this);return n.reject.call(void 0,e),n.promise}}),$export({target:PROMISE,stat:!0,forced:FORCED},{resolve:function(e){return promiseResolve$1(this,e)}}),$export({target:PROMISE,stat:!0,forced:INCORRECT_ITERATION},{all:function(e){var n=this,r=newPromiseCapability(n),o=r.resolve,s=r.reject,l=perform(function(){var d=aFunction(n.resolve),h=[],p=0,g=1;iterate(e,function(y){var v=p++,w=!1;h.push(void 0),g++,d.call(n,y).then(function(k){w||(w=!0,h[v]=k,--g||o(h))},s)}),--g||o(h)});return l.error&&s(l.value),r.promise},race:function(e){var n=this,r=newPromiseCapability(n),o=r.reject,s=perform(function(){var l=aFunction(n.resolve);iterate(e,function(d){l.call(n,d).then(r.resolve,o)})});return s.error&&o(s.value),r.promise}});var getBuiltIn=getBuiltIn$1,speciesConstructor=speciesConstructor$2,promiseResolve=promiseResolve$2,perf;if(_export({target:"Promise",proto:!0,real:!0},{finally:function(e){var n=speciesConstructor(this,getBuiltIn("Promise")),r=typeof e=="function";return this.then(r?function(o){return promiseResolve(n,e()).then(function(){return o})}:e,r?function(o){return promiseResolve(n,e()).then(function(){throw o})}:e)}}),path$1.Promise,typeof Object.assign!="function"&&(Object.assign=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(o!=null)for(var s in o)o.hasOwnProperty(s)&&(n[s]=o[s])}return n}),typeof Object.values!="function"&&(Object.values=function(e){return Object.keys(e).map(function(n){return e[n]})}),Math.hypot=Math.hypot||function(){for(var e=0,n=arguments.length,r=0;r<n;r++){if(arguments[r]===1/0||arguments[r]===-1/0)return 1/0;e+=arguments[r]*arguments[r]}return Math.sqrt(e)},Math.log2=Math.log2||function(e){return Math.log(e)*Math.LOG2E},typeof window<"u"?(!("performance"in window)&&(window.performance={}),perf=window.performance):typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&(!("performance"in self)&&(self.performance={}),perf=self.performance),perf&&typeof perf.now!="function"){var start=+new Date;perf.now=function(){return+new Date-start}}function _callSuper(e,n,r){return n=_getPrototypeOf(n),_possibleConstructorReturn(e,_isNativeReflectConstruct()?Reflect.construct(n,r||[],_getPrototypeOf(e).constructor):n.apply(e,r))}function _construct(e,n,r){if(_isNativeReflectConstruct())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,n);var s=new(e.bind.apply(e,o));return r&&_setPrototypeOf(s,r.prototype),s}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct=function(){return!!e})()}function _iterableToArrayLimit(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,s,l,d,h=[],p=!0,g=!1;try{if(l=(r=r.call(e)).next,n===0){if(Object(r)!==r)return;p=!1}else for(;!(p=(o=l.call(r)).done)&&(h.push(o.value),h.length!==n);p=!0);}catch(y){g=!0,s=y}finally{try{if(!p&&r.return!=null&&(d=r.return(),Object(d)!==d))return}finally{if(g)throw s}}return h}}function _toPrimitive(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,n||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function _toPropertyKey(e){var n=_toPrimitive(e,"string");return typeof n=="symbol"?n:n+""}function _typeof(e){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof(e)}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,n,r){return n&&_defineProperties(e.prototype,n),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _defineProperty(e,n,r){return(n=_toPropertyKey(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function _inherits(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&_setPrototypeOf(e,n)}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf(e)}function _setPrototypeOf(e,n){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},_setPrototypeOf(e,n)}function _isNativeFunction(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function _wrapNativeSuper(e){var n=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(r){if(r===null||!_isNativeFunction(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(n!==void 0){if(n.has(r))return n.get(r);n.set(r,o)}function o(){return _construct(r,arguments,_getPrototypeOf(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(o,r)},_wrapNativeSuper(e)}function _assertThisInitialized(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _possibleConstructorReturn(e,n){if(n&&(typeof n=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _superPropBase(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=_getPrototypeOf(e))!==null;);return e}function _get(){return _get=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,n,r){var o=_superPropBase(e,n);if(o){var s=Object.getOwnPropertyDescriptor(o,n);return s.get?s.get.call(arguments.length<3?e:r):s.value}},_get.apply(this,arguments)}function _slicedToArray(e,n){return _arrayWithHoles(e)||_iterableToArrayLimit(e,n)||_unsupportedIterableToArray(e,n)||_nonIterableRest()}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArray(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _unsupportedIterableToArray(e,n){if(e){if(typeof e=="string")return _arrayLikeToArray(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,n):void 0}}function _arrayLikeToArray(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,o=new Array(n);r<n;r++)o[r]=e[r];return o}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _createForOfIteratorHelper(e,n){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||n&&e&&typeof e.length=="number"){r&&(e=r);var o=0,s=function(){};return{s,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(p){throw p},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l,d=!0,h=!1;return{s:function(){r=r.call(e)},n:function(){var p=r.next();return d=p.done,p},e:function(p){h=!0,l=p},f:function(){try{d||r.return==null||r.return()}finally{if(h)throw l}}}}var global$1=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},ns={},MathUtils;(function(){var e,n=typeof Object.defineProperties=="function"?Object.defineProperty:function(_t,aa,_c){_t!=Array.prototype&&_t!=Object.prototype&&(_t[aa]=_c.value)},r=typeof window<"u"&&window===this?this:global$1!==void 0&&global$1!=null?global$1:this;if(typeof Object.setPrototypeOf=="function")e=Object.setPrototypeOf;else{var o;e:{var s={};try{s.__proto__={ea:!0},o=s.ea;break e}catch{}o=!1}e=o?function(_t,aa){if(_t.__proto__=aa,_t.__proto__!==aa)throw new TypeError(_t+" is not extensible");return _t}:null}var l=e;(function(_t,aa){if(aa){var _c=r;_t=_t.split(".");for(var ic=0;ic<_t.length-1;ic++){var t1=_t[ic];t1 in _c||(_c[t1]={}),_c=_c[t1]}(aa=aa(ic=_c[_t=_t[_t.length-1]]))!=ic&&aa!=null&&n(_c,_t,{configurable:!0,writable:!0,value:aa})}})("Object.setPrototypeOf",function(_t){return _t||l});var d=this||self;function h(_t){var aa=_typeof(_t);if(aa=="object"){if(!_t)return"null";if(_t instanceof Array)return"array";if(_t instanceof Object)return aa;var _c=Object.prototype.toString.call(_t);if(_c=="[object Window]")return"object";if(_c=="[object Array]"||typeof _t.length=="number"&&_t.splice!==void 0&&_t.propertyIsEnumerable!==void 0&&!_t.propertyIsEnumerable("splice"))return"array";if(_c=="[object Function]"||_t.call!==void 0&&_t.propertyIsEnumerable!==void 0&&!_t.propertyIsEnumerable("call"))return"function"}else if(aa=="function"&&_t.call===void 0)return"object";return aa}function p(_t){return h(_t)=="function"}function g(_t){var aa=_typeof(_t);return aa=="object"&&_t!=null||aa=="function"}function y(_t,aa){_t=_t.split(".");var _c,ic=d;for((_t[0]in ic)||ic.execScript===void 0||ic.execScript("var "+_t[0]);_t.length&&(_c=_t.shift());)_t.length||aa===void 0?ic=ic[_c]&&ic[_c]!==Object.prototype[_c]?ic[_c]:ic[_c]={}:ic[_c]=aa}function v(_t,aa){function _c(){}_c.prototype=aa.prototype,_t.ua=aa.prototype,_t.prototype=new _c,_t.prototype.constructor=_t}var w=Math,k=w.min,F=w.max,q=w.round,_r=w.floor,ga=w.ceil,La=w.abs,jc=w.log,_l=w.sqrt,e1=w.pow,n1=w.sin,d1=w.asin,c1=w.cos,h1=w.tan,N1=w.atan2,k1=w.PI,R1=k1/2,U1=k1/4,x1=2*k1,m2=3*k1,w1=k1/180,B1=180/k1;function A1(_t,aa,_c){return _t>_c?_c:_t<aa?aa:_t}function H1(_t,aa,_c){return aa<_c?_t>=aa&&_t<=_c:_t>=_c&&_t<=aa}function L2(_t,aa,_c,ic,t1,i1){return _l(e1((_t-t1)*(ic-i1)-(aa-i1)*(_c-t1),2)/(e1(_c-t1,2)+e1(ic-i1,2)))}y("H.math.normalize",function(_t,aa,_c){return aa-=_c=_c||0,(_t-=_c)-_r(_t/aa)*aa+_c}),y("H.math.clamp",A1);var o0={NONE:0,VERTEX:1,EDGE:2,SURFACE:3};function $2(_t,aa){var _c=_t.x;_t=_t.y;for(var ic,t1,i1,a1,y1=aa.length,S1=y1,G1=aa[0],O1=0,D2=0,D0=0;O1!=1&&1<S1;)t1=aa[--S1],ic=aa[--S1],a1=aa[S1?S1-1:(y1+(S1-1))%y1],i1=aa[S1?S1-2:(y1+(S1-2))%y1],ic>=_c&&ic<=_c&&t1>=_t&&t1<=_t||i1>=_c&&i1<=_c&&a1>=_t&&a1<=_t?O1=1:O1||ic!==_c?!O1&&H1(_c,ic,i1)&&((ic<_c&&i1>_c||ic>_c&&i1<_c)&&(D2+=(G1=t1+(_c-ic)/(i1-ic)*(a1-t1))>_t,D0+=G1<_t),O1=H1(_t,t1,a1)&&0>=L2(_c,_t,ic,t1,i1,a1)?2:0):(i1===_c&&(t1<_t&&a1>_t||t1>_t&&a1<_t)||(G1<=_c&&i1>_c||G1>=_c&&i1<_c)&&(t1>=_t?++D2:++D0),O1=H1(_t,t1,a1)&&0>=L2(_c,_t,ic,t1,i1,a1)?2:0),G1=ic;return!O1&&D0!==0&&D2%2!=0&&(O1=3),O1!==o0.NONE}function b1(_t,aa){this.x=+_t,this.y=+aa}function X2(_t,aa,_c,ic,t1,i1){var a1=_t.x;_t=-_t.y;var y1=aa.x;if(aa=-aa.y,_c=-_c,i1=-i1,a1>y1){if(y1>t1||a1<ic)return;var S1=a1,G1=_t;a1=y1,_t=aa,y1=S1,aa=G1,S1=1}else if(a1>t1||y1<ic)return;if(_t>aa){if(aa>_c||_t<i1)return;var O1=1;_t=-_t,aa=-aa,G1=i1,i1=-_c,_c=-G1}else if(_t>_c||aa<i1)return;if(a1<ic){if((_t+=(ic-a1)*(aa-_t)/(y1-a1))>_c)return;a1=ic}if(_t<i1){if((a1+=(i1-_t)*(y1-a1)/(aa-_t))>t1)return;_t=i1}return y1>t1&&(aa=_t+(t1-a1)*(aa-_t)/(y1-a1),y1=t1),aa>_c&&(y1=a1+(_c-_t)*(y1-a1)/(aa-_t),aa=_c),O1&&(_t=-_t,aa=-aa),S1?[new b1(y1,-aa),new b1(a1,-_t)]:[new b1(a1,-_t),new b1(y1,-aa)]}function e3(_t,aa,_c,ic,t1,i1,a1,y1,S1,G1){return _t={x:_t,y:aa,next:_c||null,s:ic||null,ta:t1||null,X:i1||null,o:!!a1,T:y1||0,O:S1||0,alpha:G1||0},ic&&(_t.s.next=_t),_c&&(_t.next.s=_t),_t}function d3(_t){for(;_t&&_t.o;)_t=_t.next;return _t}function p0(_t){if(_t)for(;_t.next;)_t=_t.next;return _t}function $0(_t){var aa=_t;if(aa)do aa=aa.next;while(aa!=_t&&(!aa.o||aa.o&&aa.O));return aa}function M2(_t){var aa=p0(_t);aa.s.next=_t,_t.s=aa.s}function J0(_t,aa,_c,ic,t1){var i1,a1=aa.x-_t.x,y1=aa.y-_t.y,S1=ic.x-_c.x,G1=ic.y-_c.y,O1=a1*G1-y1*S1;return O1?(S1=((_c.x-_t.x)*G1-(_c.y-_t.y)*S1)/O1,O1=(y1*(_c.x-_t.x)-a1*(_c.y-_t.y))/O1,0>S1||1<S1||0>O1||1<O1?0:(S1===0?i1=_t:S1===1?i1=aa:O1===0?i1=_c:O1===1&&(i1=ic),i1?(i1.x+=2480549651603763e-20,i1.y+=7321997314118067e-20,i1.M&&(i1.M.x=i1.x,i1.M.y=i1.y),J0(_t,aa,_c,ic,t1)):(t1.xa=_t.x+S1*a1,t1.ya=_t.y+S1*y1,t1.fa=S1,t1.ga=O1,1))):0}function W3(_t){for(var aa=[];_t;)aa.push(_t.x,_t.y),_t=_t.next;return aa}function M6(_t,aa,_c){for(aa=aa.next;aa!==_c&&aa.alpha<=_t.alpha;)aa=aa.next;_t.next=aa,_t.s=aa.s,_t.next.s=_t,_t.s.next=_t}function E6(_t,aa){for(var _c,ic=null,t1=0,i1=_t.length;t1<i1;t1++)(_c=e3(_t[t1].x,_t[t1].y,ic)).qa=aa,(_c.next=ic)&&(ic.s=_c),ic=_c;return ic}function h4(_t,aa,_c,ic){return(_t-=_c)*_t+(aa-=ic)*aa}function X6(_t,aa,_c,ic,t1){var i1=0,a1=ic,y1=_t[ic].x,S1=_t[ic].y,G1=_t[t1].x,O1=_t[t1].y,D2=ic+1,D0=h4(y1,S1,G1,O1);if(D0)for(;D2<t1;){var f0=_t[D2++],c3=f0.x,h3=((c3-y1)*(G1-y1)+((f0=f0.y)-S1)*(O1-S1))/D0;(c3=0>h3?h4(c3,f0,y1,S1):1<h3?h4(c3,f0,G1,O1):h4(c3,f0,y1+h3*(G1-y1),S1+h3*(O1-S1)))>i1&&(i1=c3,a1=D2-1)}else for(;D2<t1;)(c3=h4(c3=(f0=_t[D2++]).x,f0=f0.y,y1,S1))>i1&&(i1=c3,a1=D2-1);return i1>=aa||0<_c&&a1-ic?(--_c,1<a1-ic?(ic=X6(_t,aa,_c,ic,a1)).splice(ic.length-1,1):ic=[_t[ic]],ic=1<t1-a1?ic.concat(X6(_t,aa,_c,a1,t1)):ic.concat(_t.slice(a1,t1+1))):ic=[_t[ic],_t[t1]],ic}y("H.math.CoverType",o0),y("H.math.isPointInsidePolygon",$2),y("H.math.flatten",function(_t){for(var aa=_t.length,_c=new Float64Array(2*aa),ic=aa&&_t[0].x!==a3;aa--;){var t1=_t[aa],i1=aa<<1;_c[i1]=ic?t1.x:t1[0],_c[i1+1]=ic?t1.y:t1[1]}return _c}),y("H.math.Point",b1),b1.prototype.set=b1,b1.prototype.set=b1.prototype.set,b1.prototype.clone=function(_t){return _t?(_t.x=this.x,_t.y=this.y):_t=new b1(this.x,this.y),_t},b1.prototype.clone=b1.prototype.clone,b1.prototype.add=function(_t){return this.x+=_t.x,this.y+=_t.y,this},b1.prototype.add=b1.prototype.add,b1.prototype.sub=function(_t){return this.x-=_t.x,this.y-=_t.y,this},b1.prototype.sub=b1.prototype.sub,b1.prototype.scale=function(_t,aa){return this.x*=_t,this.y*=aa===void 0?_t:aa,this},b1.prototype.scale=b1.prototype.scale,b1.prototype.round=function(){return this.x=q(this.x),this.y=q(this.y),this},b1.prototype.round=b1.prototype.round,b1.prototype.floor=function(){return this.x=_r(this.x),this.y=_r(this.y),this},b1.prototype.floor=b1.prototype.floor,b1.prototype.ceil=function(){return this.x=ga(this.x),this.y=ga(this.y),this},b1.prototype.ceil=b1.prototype.ceil,b1.prototype.w=function(_t){return!(!_t||this.x!==_t.x||this.y!==_t.y)},b1.prototype.equals=b1.prototype.w,b1.prototype.la=function(_t,aa){var _c=aa.x-_t.x,ic=aa.y-_t.y,t1=_t;if(_c||ic){var i1=((this.x-_t.x)*_c+(this.y-_t.y)*ic)/(_c*_c+ic*ic);t1=0>=i1?_t:1<=i1?aa:new b1(_t.x+i1*_c,_t.y+i1*ic)}return t1},b1.prototype.getNearest=b1.prototype.la,b1.prototype.R=function(_t){return _l(e1(this.x-_t.x,2)+e1(this.y-_t.y,2))},b1.prototype.distance=b1.prototype.R,b1.fromIPoint=function(_t){if(!_t)throw Error("invalid argument");return _t instanceof b1?_t:new b1(_t.x,_t.y)},y("H.math.clipping.clipStrips",function(_t,aa,_c,ic,t1,i1){var a1,y1,S1,G1,O1=_t.length;if(O1)for(a1=[];O1--;){var D2=_t[O1],D0=D2.length,f0=0;for(S1=1;S1<D0;S1++)if(G1=X2(D2[S1-1],D2[S1],_c,aa,ic,t1)){var c3=G1[0],h3=G1[1];f0&&f0.w(c3)?y1.push(h3):a1.push(y1=G1),f0=h3,i1&&(S1=D0,O1=0)}}else a1=_t;return a1}),y("H.math.clipping.clipPolygon",function(_t,aa,_c){var ic,t1;_t=E6(_t,!0),aa=E6(aa,!1);var i1={},a1=ic=1;switch(~~(_c||0)){case 1:a1=ic=0;break;case 2:ic=0,a1=1;break;case 3:ic=1,a1=0}_c=ic;var y1=a1;if(aa&&_t){for(aa.M=e3(aa.x,aa.y,null,p0(aa)),_t.M=e3(_t.x,_t.y,null,p0(_t)),a1=aa;a1.next;a1=a1.next)if(!a1.o){for(ic=_t;ic.next;ic=ic.next)if(!ic.o){var S1=d3(a1.next),G1=d3(ic.next);if(t1=J0(a1,S1,ic,G1,i1)){t1=i1.fa;var O1=i1.ga,D2=i1.xa,D0=i1.ya;M6(t1=e3(D2,D0,null,null,null,null,!0,0,0,t1),a1,S1),M6(S1=e3(D2,D0,null,null,null,null,!0,0,0,O1),ic,G1),t1.X=S1,S1.X=t1}}}for(i1=$2(aa,W3(_t)),_c&&(i1=!i1),a1=aa;a1;a1=a1.next)a1.o&&(a1.T=i1,i1=!i1);for(i1=$2(_t,W3(aa)),y1&&(i1=!i1),ic=_t;ic.next;ic=ic.next)ic.o&&(ic.T=i1,i1=!i1);for(M2(aa),M2(_t);(_t=$0(aa))!=aa;){for(_c=null;!_t.O;_t=_t.X){for(i1=_t.T;(_c=e3(_t.x,_t.y,_c)).artificial=_t.o||_t.qa,_t.O=1,_t=i1?_t.next:_t.s;)if(_t.o){_t.O=1;break}if(!_t)break}_c.ta=f0;var f0=_c}return f0}}),y("H.math.simplifyDP",function(_t,aa,_c){return X6(_t,aa*aa,_c||0,0,_t.length-1)});var _h=this,O3=String,a3=[].pop(),t3=/x/.exec(""),E3="prototype constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function p4(_t,aa){if(_t instanceof aa&&_t.constructor===aa)throw new TypeError("Illegal constructor "+Q6(aa))}y("H.lang.isArray",function(_t,aa,_c,ic){var t1;if(!(t1=b3(_t)==="Array")&&aa)throw new S0(aa,_c,ic!==a3?ic:_t);return t1}),y("H.lang.isString",function(_t){return typeof _t=="string"});var n3=isNaN;function F8(_t){return _t===+_t}function b3(_t){var aa=Object[E3[0]][E3[6]].call(_t).match(/^\[object (\w+)\]$/);return aa?aa[1]:_typeof(_t)}y("H.lang.isNumber",F8),y("H.lang.isInteger",Number.isInteger?Number.isInteger:function(_t){return typeof _t=="number"&&_t%1==0});var _p=[];function Q6(_t,aa,_c,ic){var t1,i1="",a1=2>arguments.length;return a1&&(aa={H:_h.H},_c="",ic=_p.slice()),T5(aa,!0,function(y1,S1){try{if(S1=function(G1,O1){var D2=[];return T5(G1,!1,function(D0,f0){D0[f0]===O1&&D2.push(f0)}),D2.sort(J6)[0]}(y1,t1=y1[S1]),!(g(t1)&&t1.window===t1&&t1.self===t1||g(t1)&&0<t1.nodeType&&p(t1.cloneNode))&&g(t1)){if(t1===_t)return i1=_c+"."+S1,!0;if(0>ic.indexOf(t1)&&(ic.push(t1),i1=Q6(_t,t1,_c+"."+S1,ic)))return!0}}catch{}}),a1&&(i1=i1?i1.substr(1).replace("."+E3[0]+".","#"):"~"+(p(_t)?function(y1){return(y1=/^\s*function ([^\( ]+)/.exec(y1))?y1[1]:"anonymous"}(_t)+"()":b3(_t))),i1}function J6(_t,aa){return aa.length-_t.length}0>_p.indexOf(_p)&&_p.push(_p);var b0=Object[E3[0]][E3[2]];function T5(_t,aa,_c){var ic;if(_t){for(t1 in _t)if((!aa||b0.call(_t,t1))&&_c(_t,t1,!0))return;for(ic=E3.length;ic--;){var t1=E3[ic];if((!aa||b0.call(_t,t1))&&_c(_t,t1,!1))break}}}function F0(_t,aa,_c){_c[aa]="#"+aa}function S0(_t,aa,_c){var ic=arguments.length;if((aa=aa!==a3?+aa:aa)!==a3){var t1,i1=/^.*?\(([^\)]+)/.exec((""+_t).replace(/(\/\*([\s\S]*?)\*\/)|(\/\/(.*)$)/gm,""));t1=i1?O3(i1[1].replace(/\s+/g,"")).split(a3!==","?",":" "):[],(i1=t1).forEach(F0),i1=i1[aa]||"#"+aa}return t1=_t?Q6(_t):"",ic=2<ic?O3(_c):"",(i1||ic)&&(t1+=" (Argument "+(i1||"")+(ic?" "+ic:"")+")"),ic=Error(t1),Object.setPrototypeOf(ic,S0.prototype),ic}function a4(_t,aa,_c){var ic=A1(+_t,-90,90);if(aa&&n3(ic))throw new S0(aa,_c,_t);return ic}function Y3(_t,aa,_c){var ic,t1=+_t;if((-180>t1||180<t1)&&(t1=(0>(ic=(t1+180)%360)?ic+360:ic)-180),aa&&n3(t1))throw new S0(aa,_c,_t);return t1}function R4(_t,aa,_c){var ic;if(_t!==a3&&n3(ic=+_t)&&aa)throw new S0(aa,_c,_t);return ic}function j0(){p4(this,j0)}function a0(_t,aa,_c){this.lat=a4(_t,a0,0),this.lng=Y3(aa,a0,1),_c!==a3&&(this.alt=R4(_c,a0,2))}function m4(_t,aa,_c){var ic=g(_t)&&!(n3(_t.lat=a4(_t.lat))||n3(_t.lng=Y3(_t.lng))||_t.alt!==a3&&n3(_t.alt=R4(_t.alt)));if(!ic&&aa)throw new S0(aa,_c,_t);return ic}function T1(_t,aa,_c,ic){P4(this,a4(_t,T1,0),Y3(aa,T1,1),a4(_c,T1,2),Y3(ic,T1,3))}function P4(_t,aa,_c,ic,t1){return _t.f=_c,_t.g=t1,aa<ic&&(_c=aa,aa=ic,ic=_c),_t.i=aa,_t.h=ic,_t.m=_t.b=_t.c=null,_t}function g4(_t,aa){return(_t=aa-_t)+(0>_t?360:0)}function zp(_t,aa){return(_t+=aa/2)-(180<_t?360:0)}function Z3(_t,aa,_c,ic,t1,i1,a1,y1,S1){_c=k(_c,a1),_t=F(_t,t1);var G1=zp(aa,t1=g4(aa,ic)),O1=zp(i1,a1=g4(i1,y1))-G1;if(180>(O1+=0>O1-1e-6?360:0)-1e-6){G1=aa;var D2=y1}else O1=360-O1,G1=i1,D2=ic;return 360<=(O1=O1+t1/2+a1/2)+5e-7?(G1=-180,D2=180):O1-5e-7<t1?(G1=aa,D2=ic):O1-5e-7<a1&&(G1=i1,D2=y1),S1?P4(S1,_t,G1,_c,D2):new T1(_t,G1,_c,D2)}function $1(_t,aa,_c){return _c||(m4(_t,$1,0),m4(aa,$1,1)),new T1(_t.lat,_t.lng,aa.lat,aa.lng)}function _m(_t,aa,_c,ic,t1,i1){p4(this,_m),this.sa=_t||10,this.c=this.b=null,this.j=ic||0,this.l=t1||0,this.m=aa||1,this.u=_c||1,this.I=!!i1,this.flush()}function D5(_t,aa){var _c,ic,t1,i1,a1=0;for(_c=3;0<=_c;_c--){var y1=_c+4,S1=0<_c%3,G1=[],O1=aa[_c],D2=_t[_c];for(ic=D2.length;ic--;){var D0=D2[ic];if(t1=D0.entries)for(i1=t1.length;i1--;){var f0=t1[i1][_c];(S1?f0>O1:f0<O1)&&(O1=f0)}for(i1=4;i1--;)(t1=D0[i1])&&(S1?t1[y1]>O1:t1[y1]<O1)&&G1.push(t1)}a1+=G1.length,aa[_c]=O1,_t[_c]=G1}return a1&&(aa=D5(_t,aa)),aa}function K3(_t,aa,_c){var ic,t1;if(_t.I&&(ic=_t.c))for(t1=3;0<=t1;t1--){var i1=aa[t1];if(t1%3?i1>=ic[t1]:i1<=ic[t1]){if(!_c){_t.c=null;break}ic[t1]=i1}}}function S3(_t,aa){var _c,ic=_t.a;if(aa){var t1=aa;if(t1!==ic)for(ic=t1;t1=t1.c;)(t1.entries||1<t1.a)&&(ic=t1)}else for(;!ic.entries&&2>(_c=ic.a)&&_c;)ic=t1;_t.a=ic}function V2(_t,aa,_c,ic,t1,i1,a1,y1,S1){var G1,O1=aa.entries,D2=aa[7],D0=aa[4],f0=aa[5],c3=aa[6],h3=aa[8],_4=aa[9];if(O1){var b4=O1.length;if(t1>D0||ic>D2||a1<c3||i1<f0)for(;b4--;)D0=(D2=O1[b4])[3],f0=D2[0],c3=D2[1],D2[2]>=t1&&c3>=ic&&(f0<a1||y1&&f0==a1)&&(D0<i1||S1&&D0==i1)&&_c.push(D2);else for(;b4--;)_c.push(O1[b4])}(i1>h3||S1&&i1==h3)&&(t1<_4&&(G1=aa[1])&&V2(_t,G1,_c,ic,t1,i1,a1,y1,S1),(a1>_4||y1&&a1==_4)&&(G1=aa[3])&&V2(_t,G1,_c,ic,t1,i1,a1,y1,S1)),ic<h3&&(t1<_4&&(G1=aa[0])&&V2(_t,G1,_c,ic,t1,i1,a1,y1,S1),(a1>_4||y1&&a1==_4)&&(G1=aa[2])&&V2(_t,G1,_c,ic,t1,i1,a1,y1,S1))}v(S0,Error),y("H.lang.InvalidArgumentError",S0),S0.prototype.name="InvalidArgumentError",y("H.geo.isDBC",function(_t,aa){return!!(0>_t^0>aa)&&180<La(aa-_t)}),y("H.geo.AbstractGeometry",j0),j0.prototype.getBoundingBox=j0.prototype.D,j0.prototype.equals=j0.prototype.w,j0.prototype.a="",j0.prototype.l="",j0.prototype.toString=function(){return this.I([this.a.toUpperCase()," "]).join("")},j0.prototype.toString=j0.prototype.toString,j0.prototype.va=function(){return{type:this.l,coordinates:this.u()}},j0.prototype.toGeoJSON=j0.prototype.va,j0.prototype.U=function(){return{type:this.a,coordinates:this.j(),boundingBox:this.D().U()}},j0.prototype.forWorkerMessage=j0.prototype.U,v(a0,j0),y("H.geo.Point",a0),a0.prototype.w=function(_t){return this===_t||!!_t&&this.lat===_t.lat&&this.lng===_t.lng&&(this.alt||0)===(_t.alt||0)},a0.prototype.equals=a0.prototype.w,a0.prototype.R=function(_t){if(this===_t||this.lat===_t.lat&&this.lng===_t.lng)_t=0;else{var aa=this.lat*w1,_c=_t.lat*w1;_t=1274200158e-2*d1(k(1,_l(e1(n1((aa-_c)/2),2)+c1(aa)*c1(_c)*e1(n1((this.lng*w1-_t.lng*w1)/2),2))))}return _t},a0.prototype.distance=a0.prototype.R,a0.prototype.wa=function(_t,aa,_c){if(_c){if(aa/=637100079e-2){_t*=w1;var ic=w1*this.lat,t1=n1(ic),i1=n1(aa),a1=c1(aa),y1=w1*this.lng,S1=c1(ic);ic=d1(S1*c1(_t)*i1+t1*a1),S1=(_t=(y1+(_t=N1(n1(_t)*S1*i1,a1-t1*n1(ic)))+k1)%(2*k1)-k1)*B1}return aa?new a0(ic*B1,(S1+540)%360-180):this}if(((_t=(_t%360+360)%360)+90)%180==0)return ic=this.lng+aa/(637100079e-2*x1*c1(this.lat*w1))*(_t===270?-360:360),new a0(this.lat,(ic+540)%360-180);if(aa/=637100079e-2){_t*=w1,y1=this.lat*w1,t1=this.lng*w1,a1=(i1=y1+aa*c1(_t))-y1,ic=jc(h1(i1/2+U1)/h1(y1/2+U1)),ic=n3(a1/ic)?c1(y1):a1/ic;var G1=aa*n1(_t)/ic;La(i1)>R1&&(i1=0<i1?k1-i1:-(k1+i1))}return aa?new a0(i1*B1,((t1+G1+m2+(La(y1+a1)>R1?k1:0))%x1-k1)*B1):this},a0.prototype.walk=a0.prototype.wa,a0.prototype.D=function(){return new T1(this.lat,this.lng,this.lat,this.lng)},a0.prototype.getBoundingBox=a0.prototype.D,a0.validate=m4,a0.fromIPoint=function _t(aa){if(!aa)throw new S0(_t,0,aa);return new a0(aa.lat,aa.lng,aa.alt)},a0.prototype.a="Point",a0.prototype.I=function(_t){return _t.push("(",this.lng," ",this.lat,")"),_t},a0.prototype.l="Point",a0.prototype.u=function(){return[this.lng,this.lat,this.alt||0]},a0.prototype.j=function(){return[this.lat,this.lng,this.alt||0]},v(T1,j0),y("H.geo.Rect",T1),T1.prototype.a="Polygon",T1.prototype.I=function(_t){var aa=this.i,_c=this.f,ic=this.h,t1=this.g;return _t.push("(","(",_c," ",aa,",",t1," ",aa,",",t1," ",ic,",",_c," ",ic,",",_c," ",aa,")",")"),_t},T1.prototype.w=function(_t){return this===_t||!!_t&&this.i===_t.i&&this.f===_t.f&&this.h===_t.h&&this.g===_t.g},T1.prototype.equals=T1.prototype.w,T1.prototype.clone=function(){return new T1(this.i,this.f,this.h,this.g)},T1.prototype.clone=T1.prototype.clone,T1.prototype.W=function(){return this.m||(this.m=new a0(this.i,this.f)),this.m},T1.prototype.getTopLeft=T1.prototype.W,T1.prototype.V=function(){return this.b||(this.b=new a0(this.h,this.g)),this.b},T1.prototype.getBottomRight=T1.prototype.V,T1.prototype.na=function(){return this.i},T1.prototype.getTop=T1.prototype.na,T1.prototype.ha=function(){return this.h},T1.prototype.getBottom=T1.prototype.ha,T1.prototype.ja=function(){return this.f},T1.prototype.getLeft=T1.prototype.ja,T1.prototype.ma=function(){return this.g},T1.prototype.getRight=T1.prototype.ma,T1.prototype.F=function(){return this.c||(this.c=new a0(this.h+(this.i-this.h)/2,zp(this.f,this.A()))),this.c},T1.prototype.getCenter=T1.prototype.F,T1.prototype.A=function(){return g4(this.f,this.g)},T1.prototype.getWidth=T1.prototype.A,T1.prototype.G=function(){return this.i-this.h},T1.prototype.getHeight=T1.prototype.G,T1.prototype.N=function(){return this.f>this.g},T1.prototype.isCDB=T1.prototype.N,T1.prototype.ra=function(){return!this.A()&&!this.G()},T1.prototype.isEmpty=T1.prototype.ra,T1.prototype.D=function(){return new T1(this.i,this.f,this.h,this.g)},T1.prototype.getBoundingBox=T1.prototype.D,T1.prototype.L=function(_t,aa,_c){var ic=this.F();return _c||(_t=a4(_t,this.L,0),aa=Y3(aa,this.L,1)),(_t=(aa=this.B(_t,aa,_c)).F()).lat===ic.lat&&_t.lng===ic.lng&&this.G()===aa.G()&&this.A()===aa.A()},T1.prototype.containsLatLng=T1.prototype.L,T1.prototype.$=function(_t,aa){return aa||m4(_t,this.$,0),this.L(_t.lat,_t.lng,aa)},T1.prototype.containsPoint=T1.prototype.$,T1.prototype.aa=function(_t,aa){var _c=this.F();if(!(aa||_t instanceof T1))throw new S0(this.aa,0,_t);return(_t=(aa=this.J(_t,aa)).F()).lat===_c.lat&&_t.lng===_c.lng&&this.G()===aa.G()&&this.A()===aa.A()},T1.prototype.containsRect=T1.prototype.aa,T1.prototype.B=function(_t,aa,_c,ic){if(!_c){if(n3(_t=a4(_t)))throw new S0(this.B,0,_t);if(n3(aa=Y3(aa)))throw new S0(this.B,1,aa)}return Z3(this.i,this.f,this.h,this.g,_t,aa,_t,aa,ic)},T1.prototype.mergeLatLng=T1.prototype.B,T1.prototype.ca=function(_t,aa,_c){return aa||m4(_t,this.ca,0),this.B(_t.lat,_t.lng,aa,_c)},T1.prototype.mergePoint=T1.prototype.ca,T1.prototype.J=function(_t,aa,_c){if(!(aa||_t instanceof T1))throw new S0(this.J,0,_t);return Z3(this.i,this.f,this.h,this.g,_t.i,_t.f,_t.h,_t.g,_c)},T1.prototype.mergeRect=T1.prototype.J,T1.prototype.C=function(_t,aa,_c,ic,t1,i1){return t1||(_t=a4(_t,this.C,0),aa=Y3(aa,this.C,1),_c=a4(_c,this.C,2),ic=Y3(ic,this.C,3)),Z3(this.i,this.f,this.h,this.g,_t,aa,_c,ic,i1)},T1.prototype.mergeTopLeftBottomRight=T1.prototype.C,T1.prototype.ba=function(_t,aa){var _c=this.f<=this.g,ic=_t.f<=_t.g,t1=this.f<_t.g,i1=_t.f<this.g;if(!(aa||_t instanceof T1))throw new S0(this.ba,0,_t);return this.h<=_t.i&&_t.h<=this.i&&(!_c&&(!ic||t1||i1)||!ic&&(t1||i1)||t1&&i1)},T1.prototype.intersects=T1.prototype.ba,T1.merge=Z3,T1.fromPoints=$1,T1.coverPoints=function _t(aa,_c){var ic=1,t1=aa.length,i1=null,a1=h(aa);if(a1!="array"&&(a1!="object"||typeof aa.length!="number"))throw new S0(_t,0,aa);if(0<t1)for(i1=$1(a1=aa[0],a1,_c);ic<t1;ic++)a1=aa[ic],i1.B(a1.lat,a1.lng,_c,i1);return i1},T1.coverLatLngAlts=function _t(aa,_c){var ic,t1=3,i1=aa.length;if(!(_c||aa&&aa.length!=null))throw new S0(_t,0,aa);if(0<i1)for(ic=new T1(aa[0],aa[1],aa[0],aa[1]);t1<i1;t1+=3)ic.B(aa[t1],aa[t1+1],_c,ic);return ic},T1.coverRects=function _t(aa,_c){var ic,t1=1,i1=aa.length;if(_c&&(!aa||aa.length==null))throw new S0(_t,0,aa);if(0<i1)for(ic=new T1(aa[0].i,aa[0].f,aa[0].h,aa[0].g);t1<i1;t1++)ic.J(aa[t1],_c,ic);return ic},T1.prototype.da=function(_t,aa){var _c=this.f,ic=this.i,t1=this.g,i1=this.h,a1=this.F().lng;m4(_t,this.da,0);var y1=_t.lat-i1-(ic-i1)/2,S1=_t.lng-a1;return _t=-180>(_t=_c+(0>(S1=180<S1||-180>S1?-(a1+_t.lng):S1)?2*S1:0))?360+_t:_t,t1=180<(t1+=0<S1?2*S1:0)?t1-360:t1,90<=(ic=0<y1?ic+2*y1:ic)&&(ic=90),-90>=(i1=0>y1?i1+2*y1:i1)&&(i1=-90),aa?P4(aa,ic,_t,i1,t1):new T1(ic,_t,i1,t1)},T1.prototype.resizeToCenter=T1.prototype.da,T1.prototype.l="Polygon",T1.prototype.u=function(){return[[this.f,this.i,0],[this.g,this.i,0],[this.g,this.h,0],[this.f,this.h,0],[this.f,this.i,0]]},T1.prototype.U=function(){return this.j()},T1.prototype.j=function(){return[this.i,this.f,this.h,this.g]},_m.prototype.remove=function(_t){var aa,_c,ic,t1=!1;if(_t&&(aa=_t.a)&&aa.b===this&&(_c=aa.entries)&&0<=(ic=_c.indexOf(_t))){var i1,a1;for(_c.splice(ic,1),_c=this.a;aa;)if((i1=aa.entries)&&i1.length||(i1&&delete aa.entries,aa.a||!(a1=aa.c)))aa=t3;else{ic=a1;var y1=(t1=aa).j;ic[y1]===t1&&(delete ic[y1],delete t1.c,--ic.a),_c===aa&&(_c=a1),aa=a1}this.a!==_c&&(this.a=_c,S3(this)),K3(this,_t,!1),t1=!0}return t1},_m.prototype.flush=function(){var _t=new g2(null,NaN,this.j-this.m,this.l-this.u,this.j+this.m,this.l+this.u);_t.b=this,this.a=this.b=_t,this.c=null},_m.prototype.o=function(_t,aa,_c,ic,t1,i1){var a1=[],y1=this.a,S1=this.b;return _t<=y1[5]&&aa<=y1[6]&&(t1?_c>=y1[7]:_c>y1[7])&&(i1?ic>=y1[4]:ic>y1[4])&&V2(this,y1,a1,_t,aa,_c,ic,i1||ic>=S1[6],t1||_c>=S1[5]),a1};var y4=0;function g2(_t,aa,_c,ic,t1,i1){this.j=aa,_t&&(this.c=_t,this.b=_t.b,1&aa?(_c=_t[8],t1=_t[5]):(_c=_t[7],t1=_t[8]),2&aa?(ic=_t[9],i1=_t[6]):(ic=_t[4],i1=_t[9])),this[7]=_c,this[5]=t1,this[8]=(_c+t1)/2,this[4]=ic,this[6]=i1,this[9]=(ic+i1)/2}function e6(_t,aa,_c,ic,t1,i1){e6.ua.constructor.apply(this,arguments)}function P7(_t,aa,_c,ic,t1,i1,a1){var y1,S1,G1=aa[8],O1=aa[9];return a1&&(t1<G1||(y1=_c>=G1))&&(i1<O1||(S1=ic>=O1))?_c=(G1=P7)(_t,aa=aa[y1|=S1<<1]||(++aa.a,aa[y1]=new g2(aa,y1)),_c,ic,t1,i1,a1-1):(ic=_c=new e8(_c,ic,t1,i1),(aa.entries||(aa.entries=[])).push(ic),ic.a=aa,K3(_t,_c,!0),S3(_t,aa)),_c}function e8(_t,aa,_c,ic){this.id=y4++,this[0]=aa,this[1]=_c,this[2]=ic,this[3]=_t}function y0(_t){this.l=new e6(+_t||10,180,90,0,0,!0),this.j=[],this.m=!1,this.a=this.b=this.c=null}function c4(_t,aa,_c,ic,t1,i1){if(i1)i1=new e8(t1,-aa,_c+360,-ic),_t.j.push(i1),_t.m=!0,_t.a&&_t.a.C(aa,_c,ic,t1,!0,_t.a);else{var a1=-aa,y1=-ic,S1=(i1=_t.l).b,G1=S1[5],O1=S1[6];if(!(S1[7]<=_c&&S1[4]<=a1&&(G1>t1||G1===t1&&G1===S1.b.b[5])&&(O1>y1||O1===y1&&O1===S1.b.b[6])))throw Error("Coordinates out of bounds");i1=P7(i1,i1.b,_c,a1,t1,y1,i1.sa),_t.b&&_t.b.C(aa,_c,ic,t1,!0,_t.b)}return _t.c=null,i1}function L3(_t,aa,_c,ic,t1,i1,a1){var y1,S1=(_t=_t.j).length,G1=[];if(S1){var O1=_c+360;for(y1=t1+360;S1--;){var D2=_t[S1];(H0(D2,aa,_c,ic,t1,i1,a1)||H0(D2,aa,O1,ic,y1,i1,a1))&&G1.push(D2)}}return G1}function H0(_t,aa,_c,ic,t1,i1,a1){var y1=_t[3],S1=_t[0],G1=_t[1];return _t=_t[2],(i1?S1<=ic:S1<ic)&&(a1?y1<=t1:y1<t1)&&_t>=aa&&G1>=_c}function f3(_t,aa){var _c,ic,t1;if(_c=aa.length){var i1=_t.length;for(ic={};i1--;)ic[_t[i1].id]=1;for(;_c--;)(t1=aa[_c]).id in ic||_t.push(t1)}}function s0(){}function z2(_t,aa,_c){if(this.l=[],aa&&this.K(aa),_c&&!p(_c))throw new S0(z2,2,_c);this.b=0,this.m=_c,this.a={},this.j=this.c=null,this.Z(_t)}function j8(_t,aa){return aa&&(_t.c=F4(_t,aa,_t.c)),aa}function B8(_t){for(;_t.b>_t.u&&_t.j;)v4(_t,_t.j,!0)}function F4(_t,aa,_c){return _c!==aa&&((aa.H||aa.v)&&v4(_t,aa,!1),(aa.H=_c)&&(aa.v=_c.v,_c.v=aa),aa.v||(_t.c=aa),aa.H||(_t.j=aa),_t.b+=aa.size),aa}function v4(_t,aa,_c){var ic=aa.v,t1=aa.H;(ic||t1||aa==_t.c&&aa==_t.j)&&(ic?ic.H=t1:_t.c=t1,t1?t1.v=ic:_t.j=ic,_t.b-=aa.size,_c&&(delete _t.a[aa.id],I5(_t,aa))),aa.H=aa.v=null}function I5(_t,aa){for(var _c=_t.l.length;_c--;)_t.l[_c].call(_t,aa.id,aa.data,aa.size)}g2.prototype.a=0,v(e6,_m),y("H.geo.QuadTree",y0),y0.prototype.N=function(){return this.m},y0.prototype.D=function(){var _t;if(!this.c){var aa,_c,ic,t1,i1=[];if(aa=!this.b){var a1=this.l,y1=a1.c;a1.I&&!y1&&((aa=a1.a).entries||aa[0]||aa[1]||aa[2]||aa[3])&&(y1=D5([y1=[aa],y1,y1,y1],[aa[6],aa[7],aa[4],aa[5]]),a1.c=y1),aa=a1=y1}if(aa&&(this.b=new T1(-a1[0],a1[3],-a1[2],a1[1])),(_t=this.b)&&i1.push(_t),!this.a&&(t1=(ic=this.j).length)){for(a1=90,aa=360,y1=-90,_c=0;t1--;){var S1=ic[t1];a1=k(a1,S1[0]),aa=k(aa,S1[3]),y1=F(y1,S1[2]),_c=F(_c,S1[1])}this.a=new T1(-a1,aa,-y1,_c-360)}(_t=this.a)&&i1.push(_t),(_t=i1[0])&&(i1[1]&&(_t=_t.J(i1[1],!0)),this.c=_t)}return this.c},y0.prototype.oa=function(_t){var aa=_t.W(),_c=_t.V();return(_t=_t.N())?c4(this,aa.lat,_c.lng,_c.lat,aa.lng,_t):c4(this,aa.lat,aa.lng,_c.lat,_c.lng,_t)},y0.prototype.insertBoundingBox=y0.prototype.oa,y0.prototype.remove=function(_t){var aa;if(_t.a){var _c=this.l.remove(_t);this.b=null}else(_c=0<=(_t=(aa=this.j).indexOf(_t)))&&(aa.splice(_t,1),this.m=0<aa.length,this.a=null);return _c&&(this.c=null),_c},y0.prototype.remove=y0.prototype.remove,y0.prototype.pa=function(_t,aa,_c){var ic=this.l,t1=_t.W(),i1=_t.V(),a1=-t1.lat;t1=t1.lng;var y1=-i1.lat;return i1=i1.lng,!aa&&a1===y1||!_c&&t1===i1?_t=[]:_t.N()?(f3(_t=ic.o(-180,a1,i1,y1,_c,aa),ic.o(t1,a1,180,y1,!1,aa)),f3(_t,L3(this,a1,i1,y1,t1+360,aa,_c))):f3(_t=ic.o(t1,a1,i1,y1,_c,aa),L3(this,a1,t1,y1,i1,aa,_c)),_t},y0.prototype.intersectBoundingBox=y0.prototype.pa,y("H.util.ICache",s0),s0.prototype.add=function(){},s0.prototype.add=s0.prototype.add,s0.prototype.get=function(){},s0.prototype.get=s0.prototype.get,s0.prototype.S=function(){},s0.prototype.drop=s0.prototype.S,s0.prototype.forEach=function(){},s0.prototype.forEach=s0.prototype.forEach,s0.prototype.Y=function(){},s0.prototype.removeAll=s0.prototype.Y,s0.prototype.K=function(){},s0.prototype.registerOnDrop=s0.prototype.K,s0.prototype.P=function(){},s0.prototype.deRegisterOnDrop=s0.prototype.P,y("H.util.Cache",z2),z2.prototype.add=function(_t,aa,_c){var ic,t1;if(!F8(_c=+_c)||0>_c)throw new S0(this.add,2,_c);return _t=String(_t),(t1=!this.m||this.m(_t,aa,_c))&&((ic=this.a[_t])?(ic.data!==aa&&I5(this,ic),this.b+=_c-ic.size,ic.size=_c,ic.data=aa,j8(this,ic)):this.a[_t]=F4(this,{id:_t,data:aa,size:_c,H:null,v:null},this.c),B8(this)),t1},z2.prototype.add=z2.prototype.add,z2.prototype.K=function(_t){if(!p(_t))throw new S0(this.K,0,_t);this.l.push(_t)},z2.prototype.registerOnDrop=z2.prototype.K,z2.prototype.P=function(_t){this.l=this.l.filter(function(aa){return aa!==_t})},z2.prototype.deRegisterOnDrop=z2.prototype.P,z2.prototype.get=function(_t,aa){return(_t=aa?this.a[_t]:j8(this,this.a[_t]))&&_t.data},z2.prototype.get=z2.prototype.get,z2.prototype.S=function(_t){var aa;(aa=this.a[_t])&&v4(this,aa,!0)},z2.prototype.drop=z2.prototype.S,z2.prototype.forEach=function(_t,aa,_c){var ic;for(ic in this.a){var t1=this.a[ic];(!_c||_c(ic,t1.data,t1.size))&&_t.call(aa,ic,t1.data,t1.size)}},z2.prototype.forEach=z2.prototype.forEach,z2.prototype.Y=function(_t){var aa;for(aa in this.a){var _c=this.a[aa];(!_t||_t(aa,_c.data,_c.size))&&v4(this,this.a[aa],!0)}},z2.prototype.removeAll=z2.prototype.Y,z2.prototype.Z=function(_t){if(!(0<+_t))throw new S0(z2.prototype.Z,0,_t);return this.u=+_t,B8(this),this},z2.prototype.setMaxSize=z2.prototype.Z,z2.prototype.ka=function(){return this.u},z2.prototype.getMaxSize=z2.prototype.ka,z2.prototype.ia=function(){return this.b},z2.prototype.getCurrentSize=z2.prototype.ia}).call(ns);var MathUtils$1=MathUtils={},Geo;function _xyToArr(e){return[e.x,e.y]}function _arrToXy(e){return _construct(ns.H.math.Point,_toConsumableArray(e))}MathUtils.clipPolygon=function(e,n){var r,o,s,l=[];if(r=ns.H.math.clipping.clipPolygon(e.map(_arrToXy),n.map(_arrToXy)))do{o=[],s=r;do o.push(_xyToArr(s));while(s=s.next);l.push(o)}while(r=r.nextPoly);else MathUtils.isPointInsidePolygon(n[0],e)?l.push(n):MathUtils.isPointInsidePolygon(e[0],n)&&l.push(e);return l},MathUtils.isPointInsidePolygon=function(e,n){return ns.H.math.isPointInsidePolygon({x:e[0],y:e[1]},ns.H.math.flatten(n))},MathUtils.clamp=function(e,n,r){return(e-=0)>r?r:e<n?n:e},MathUtils.splitLegs=function(e,n){var r=[];e.push(e[0]);for(var o=0;o<e.length-1;o++){var s=e[o],l=e[o+1];if(r.push(s),Math.abs(l[0]-s[0])>=n){var d=[(s[0]+l[0])/2,(s[1]+l[1])/2];r.push(d)}}return r.length!==e.length-1?MathUtils.splitLegs(r,n):r},MathUtils.getBBox=function(e){var n=1/0,r=1/0,o=-1/0,s=-1/0;return e.forEach(function(l){l[0]<n&&(n=l[0]),l[1]<r&&(r=l[1]),l[0]>o&&(o=l[0]),l[1]>s&&(s=l[1])}),[n,r,o,s]},MathUtils.getBBoxCenter=function(e){var n=_slicedToArray(e,4),r=n[0],o=n[1];return[r+(n[2]-r)/2,o+(n[3]-o)/2]},MathUtils.getLineLength=function(e,n,r,o){return Math.sqrt(Math.pow(e-r,2)+Math.pow(n-o,2))},MathUtils.modulo=function(e,n){var r;return(r=e%n)<0==n<0?r:r+n};var Geo$1=Geo={};Geo.default_source_max_zoom=18,Geo.default_view_max_zoom=20,Geo.tile_size=256,Geo.half_circumference_meters=20037508342789244e-9,Geo.circumference_meters=2*Geo.half_circumference_meters,Geo.min_zoom_meters_per_pixel=Geo.circumference_meters/Geo.tile_size;var meters_per_pixel=[];Geo.metersPerPixel=function(e){return meters_per_pixel[e]=meters_per_pixel[e]||Geo.min_zoom_meters_per_pixel/Math.pow(2,e),meters_per_pixel[e]};var meters_per_tile=[];Geo.metersPerTile=function(e){return meters_per_tile[e]=meters_per_tile[e]||Geo.circumference_meters/Math.pow(2,e),meters_per_tile[e]},Geo.tile_scale=4096,Geo.units_per_pixel=Geo.tile_scale/Geo.tile_size,Geo.height_scale=16;var units_per_meter=[];Geo.unitsPerMeter=function(e){return units_per_meter[e]=units_per_meter[e]||Geo.tile_scale/(Geo.tile_size*Geo.metersPerPixel(e)),units_per_meter[e]},Geo.metersForTile=function(e){return{x:e.x*Geo.circumference_meters/Math.pow(2,e.z)-Geo.half_circumference_meters,y:-(e.y*Geo.circumference_meters/Math.pow(2,e.z)-Geo.half_circumference_meters)}},Geo.tileForMeters=function(e,n){var r=_slicedToArray(e,2),o=r[0],s=r[1];return{x:Math.floor((o+Geo.half_circumference_meters)/(Geo.circumference_meters/Math.pow(2,n))),y:Math.floor((-s+Geo.half_circumference_meters)/(Geo.circumference_meters/Math.pow(2,n))),z:n}},Geo.metersToExactTileCoords=function(e,n){var r=_slicedToArray(e,2),o=r[0],s=r[1];return{x:Math.pow(2,n-1)*(1+o/Geo.half_circumference_meters),y:Math.pow(2,n-1)*(1-s/Geo.half_circumference_meters),z:n}},Geo.wrapTile=function(e){var n=e.x,r=e.y,o=e.z,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{x:!0,y:!1},l=(1<<o)-1;return s.x&&(n&=l),s.y&&(r&=l),{x:n,y:r,z:o}},Geo.wrapMeters=function(e){var n=e.x,r=e.y;return{x:MathUtils$1.modulo(n+Geo.half_circumference_meters,Geo.circumference_meters)-Geo.half_circumference_meters,y:r}},Geo.metersToLatLng=function(e){var n=_slicedToArray(e,2),r=n[0],o=n[1];return r/=Geo.half_circumference_meters,o/=Geo.half_circumference_meters,o=(2*Math.atan(Math.exp(o*Math.PI))-Math.PI/2)/Math.PI,[r*=180,o*=180]},Geo.latLngToMeters=function(e){var n=_slicedToArray(e,2),r=n[0],o=n[1];return o=Math.log(Math.tan(o*Math.PI/360+Math.PI/4))/Math.PI,o*=Geo.half_circumference_meters,o=Math.min(Math.max(o,-Geo.half_circumference_meters),Geo.half_circumference_meters),[r*=Geo.half_circumference_meters/180,o]},Geo.tileSpaceToMeters=function(e,n,r){var o=_slicedToArray(e,2),s=o[0],l=o[1],d=Geo.unitsPerMeter(n);return[s/d+r.x,l/d+r.y]},Geo.tileSpaceToLatlng=function(e,n,r){var o=Geo.unitsPerMeter(n);return Geo.transformGeometry(e,function(s){s[0]=s[0]/o+r.x,s[1]=s[1]/o+r.y;var l=_slicedToArray(Geo.metersToLatLng(s),2),d=l[0],h=l[1];s[0]=d,s[1]=h}),e},Geo.copyGeometry=function(e){if(e!=null){var n={type:e.type};return e.type==="Point"?n.coordinates=[e.coordinates[0],e.coordinates[1]]:e.type==="LineString"||e.type==="MultiPoint"?n.coordinates=e.coordinates.map(function(r){return[r[0],r[1]]}):e.type==="Polygon"||e.type==="MultiLineString"?n.coordinates=e.coordinates.map(function(r){return r.map(function(o){return[o[0],o[1]]})}):e.type==="MultiPolygon"&&(n.coordinates=e.coordinates.map(function(r){return r.map(function(o){return o.map(function(s){return[s[0],s[1]]})})})),n}},Geo.transformGeometry=function(e,n){e!=null&&(e.type==="Point"?n(e.coordinates):e.type==="LineString"||e.type==="MultiPoint"?e.coordinates.forEach(n):e.type==="Polygon"||e.type==="MultiLineString"?e.coordinates.forEach(function(r){return r.forEach(n)}):e.type==="MultiPolygon"&&e.coordinates.forEach(function(r){r.forEach(function(o){return o.forEach(n)})}))},Geo.boxIntersect=function(e,n){return!(n.sw.x>e.ne.x||n.ne.x<e.sw.x||n.sw.y>e.ne.y||n.ne.y<e.sw.y)},Geo.findBoundingBox=function(e){for(var n=1/0,r=-1/0,o=1/0,s=-1/0,l=e[0].length,d=0;d<l;d++){var h=e[0][d];h[0]<n&&(n=h[0]),h[1]<o&&(o=h[1]),h[0]>r&&(r=h[0]),h[1]>s&&(s=h[1])}return[n,o,r,s]},Geo.geometryType=function(e){return e==="Polygon"||e==="MultiPolygon"?"polygon":e==="LineString"||e==="MultiLineString"?"line":e==="Point"||e==="MultiPoint"?"point":void 0},Geo.centroid=function(e){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(e&&e.length!==0){var r,o=0,s=0,l=0,d=e[0],h=d.length;n&&(r=d[0],d=d.map(function(F){return[F[0]-r[0],F[1]-r[1]]}));for(var p=0,g=h-1;p<h;g=p,p++){var y=d[p],v=d[g],w=y[1]*v[0]-v[1]*y[0];o+=(y[0]+v[0])*w,s+=(y[1]+v[1])*w,l+=3*w}var k=[o/l,s/l];return n&&(k[0]+=r[0],k[1]+=r[1]),k}},Geo.multiCentroid=function(e){for(var n=e.length,r=[0,0],o=0;o<e.length;o++){var s=Geo.centroid(e[o]);r[0]+=s[0],r[1]+=s[1]}return r[0]/=n,r[1]/=n,r},Geo.signedPolygonRingAreaSum=function(e){for(var n=0,r=e.length,o=0;o<r-1;o++){var s=e[o],l=e[o+1];n+=s[0]*l[1]-l[0]*s[1]}return n+=e[r-1][0]*e[0][1]-e[0][0]*e[r-1][1]},Geo.polygonRingArea=function(e){return Math.abs(Geo.signedPolygonRingAreaSum(e))/2},Geo.polygonArea=function(e){if(e)return Geo.polygonRingArea(e[0])},Geo.multiPolygonArea=function(e){for(var n=0,r=0;r<e.length;r++)n+=Geo.polygonArea(e[r]);return n},Geo.ringWinding=function(e){var n=Geo.signedPolygonRingAreaSum(e);return n>0?"CW":n<0?"CCW":void 0},Geo.getTileBoundingBox=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=Geo.wrapTile(e,{x:!0}),s=Geo.metersForTile(o),l=Geo.metersPerPixel(o.z),d=Geo.metersToLatLng([s.x-r*l,s.y+r*l]),h=Geo.metersToLatLng([s.x+(n+r)*l,s.y-(n+r)*l]),p=Geo.isLastTile(o);return new ns.H.geo.Rect(e.y===0?90:MathUtils$1.clamp(d[1],-90,90),MathUtils$1.clamp(d[0],-180,180),p.row?-90:MathUtils$1.clamp(h[1],-90,90),p.column?180:MathUtils$1.clamp(h[0],-180,180))},Geo.isLastTile=function(e){var n=e.x,r=e.y,o=e.z;return{row:r===Math.pow(2,o)-1,column:n===Math.pow(2,o)-1}};var MethodNotImplemented=function(e){function n(r){var o;return _classCallCheck(this,n),(o=_callSuper(this,n)).name="MethodNotImplemented",o.message="Method "+r+" must be implemented in subclass",o}return _inherits(n,e),_createClass(n)}(_wrapNativeSuper(Error)),is_worker=!1,is_main=!1,force_main,force_worker;try{window.document!==HTMLDocument&&(is_main=!0)}catch(e){self!==void 0&&(is_worker=!0,self.window={document:{}},self.document=self.window.document)}var Thread={get is_fake_worker(){return self.is_fake_worker},get is_worker(){return force_worker!==void 0?force_worker:is_worker||self.is_fake_worker},set is_worker(e){force_worker=e},get is_main(){return force_main!==void 0?force_main:is_main&&!self.is_fake_worker},set is_main(e){force_main=e},is_native_worker:is_worker},WorkerBroker={},message_id=0,messages={},targets={},main_worker_targets={};function findTarget(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:targets,o=[];if(typeof e=="string"&&(o=e.split("."),e=o.pop()),Thread.is_main&&n&&o.length===1&&o[0]==="self")r=n;else for(var s=0;s<o.length;s++){if(!r[o[s]])return[];r=r[o[s]]}return[e,r]}WorkerBroker.addTarget=function(e,n){Thread.is_fake_worker?main_worker_targets[e]=n:targets[e]=n},WorkerBroker.removeTarget=function(e){delete targets[e],delete main_worker_targets[e]};var ERROR_NO_TARGET=" No object with that name is registered on main thread.",ERROR_NO_METHOD=" Object has no method with that name.",ERROR_NOT_SET="_worker_broker_error_not_set_";function setupMainThread(){WorkerBroker.postMessage=function(e,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];if(Array.isArray(e))return Promise.all(e.map(function(v){return WorkerBroker.postMessage.apply(WorkerBroker,[v,n].concat(_toConsumableArray(o)))}));var l,d={};_typeof(n)==="object"&&(d=n,n=n.method);var h="main_send";typeof e=="string"?(n=e,o=Array.prototype.slice.call(arguments,1),l=!0,h="worker_send"):e.init&&(l=!0);var p,g=[];if(o&&o.length===1&&o[0]instanceof WorkerBroker.withTransferables&&(g=o[0].transferables,o=o[0].value),p={type:h,message_id:++message_id,method:n,message:o},l)return function(v,w){var k=v.type,F=_slicedToArray(findTarget(v.method,w,k==="main_send"?main_worker_targets:targets),2),q=F[0],_r=F[1],ga="Worker broker could not dispatch message type ".concat(v.method," on target ").concat(v.target,".");if(!_r)throw Error(ga+ERROR_NO_TARGET);var La=typeof _r[q]=="function"&&_r[q];if(!La)throw Error(ga+ERROR_NO_METHOD);return new Promise(function(jc,_l){var e1;try{e1=La.apply(_r,v.message)}catch(n1){return void _l(n1)}e1 instanceof Promise?e1.then(function(n1){n1 instanceof WorkerBroker.withTransferables&&(n1=n1.value[0]),jc(n1)},function(n1){_l(n1 instanceof Error?"".concat(n1.message,": ").concat(n1.stack):n1)}):(e1 instanceof WorkerBroker.withTransferables&&(e1=e1.value[0]),jc(e1))})}(p,e&&e.init?e:void 0);var y=new Promise(function(v,w){messages[message_id]={method:n,message:o,resolve:v,reject:w}});return d.stringify&&(p=JSON.stringify(p)),e.postMessage(p,g.map(function(v){return v.object})),freeTransferables(g),y},WorkerBroker.addWorker=function(e){if(!(e instanceof Worker))throw Error("Worker broker could not add non-Worker object",e);e.addEventListener("message",function(n){var r=typeof n.data=="string"?JSON.parse(n.data):n.data,o=r.message_id;if(r.type==="worker_reply")messages[o]&&(r.error?messages[o].reject(r.error):messages[o].resolve(r.message),delete messages[o]);else if(r.type==="worker_send"&&o!=null){var s=_slicedToArray(findTarget(r.method),2),l=s[0],d=s[1],h="Worker broker could not dispatch message type ".concat(r.method," on target ").concat(r.target,".");if(!d)throw Error(h+ERROR_NO_TARGET);var p=typeof d[l]=="function"&&d[l];if(!p)throw Error(h+ERROR_NO_METHOD);var g,y=ERROR_NOT_SET;try{g=p.apply(d,r.message)}catch(k){y=k}var v,w=[];g&&typeof g.then=="function"?g.then(function(k){k instanceof WorkerBroker.withTransferables&&(w=k.transferables,k=k.value[0]),v={type:"main_reply",message_id:o,message:k},e.postMessage(v,w.map(function(F){return F.object})),freeTransferables(w)},function(k){e.postMessage({type:"main_reply",message_id:o,error:k instanceof Error?"".concat(k.message,": ").concat(k.stack):k})}):(g instanceof WorkerBroker.withTransferables&&(w=g.transferables,g=g.value[0]),v={type:"main_reply",message_id:o,message:g,error:y instanceof Error?"".concat(y.message,": ").concat(y.stack):y},e.postMessage(v,w.map(function(k){return k.object})),freeTransferables(w))}})},WorkerBroker.getMessages=function(){return messages},WorkerBroker.getMessageId=function(){return message_id}}function setupWorkerThread(){WorkerBroker.postMessage=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var s={};_typeof(e)==="object"&&(s=e,e=e.method);var l,d=new Promise(function(p,g){messages[message_id]={method:e,message:r,resolve:p,reject:g}}),h=[];return r&&r.length===1&&r[0]instanceof WorkerBroker.withTransferables&&(h=r[0].transferables,r=r[0].value),l={type:"worker_send",message_id,method:e,message:r},s.stringify&&(l=JSON.stringify(l)),self.postMessage(l,h.map(function(p){return p.object})),freeTransferables(h),message_id++,d},self.addEventListener("message",function(e){var n=typeof e.data=="string"?JSON.parse(e.data):e.data,r=n.message_id;if(n.type==="main_reply")messages[r]&&(n.hasOwnProperty("error")&&n.error!==ERROR_NOT_SET?messages[r].reject(n.error):messages[r].resolve(n.message),delete messages[r]);else if(n.type==="main_send"&&r!=null){var o=_slicedToArray(findTarget(n.method),2),s=o[0],l=o[1],d="Worker broker could not dispatch message type ".concat(n.method," on target ").concat(n.target,".");if(!l)throw Error(d+ERROR_NO_TARGET);var h,p,g=typeof l[s]=="function"&&l[s];if(!g)throw Error(d+ERROR_NO_METHOD);try{h=g.apply(l,n.message)}catch(w){p=w}var y,v=[];h instanceof Promise?h.then(function(w){w instanceof WorkerBroker.withTransferables&&(v=w.transferables,w=w.value[0]),y={type:"worker_reply",message_id:r,message:w},self.postMessage(y,v.map(function(k){return k.object})),freeTransferables(v)},function(w){self.postMessage({type:"worker_reply",message_id:r,error:w instanceof Error?"".concat(w.message,": ").concat(w.stack):w})}):(h instanceof WorkerBroker.withTransferables&&(v=h.transferables,h=h.value[0]),y={type:"worker_reply",message_id:r,message:h,error:p instanceof Error?"".concat(p.message,": ").concat(p.stack):p},self.postMessage(y,v.map(function(w){return w.object})),freeTransferables(v))}})}function findTransferables(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];if(!e)return o;if(Array.isArray(e))e.forEach(function(l,d){return findTransferables(l,e,d,o)});else if(_typeof(e)==="object")if(e instanceof ArrayBuffer)o.push({object:e,parent:n,property:r});else if(e.buffer instanceof ArrayBuffer)o.push({object:e.buffer,parent:n,property:r});else for(var s in e)findTransferables(e[s],e,s,o);return o}function freeTransferables(e){Array.isArray(e)&&e.filter(function(n){return n.parent&&n.property}).forEach(function(n){return delete n.parent[n.property]})}WorkerBroker.withTransferables=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!(this instanceof WorkerBroker.withTransferables))return _construct(WorkerBroker.withTransferables,n);this.value=n,this.transferables=findTransferables(this.value)},Thread.is_main&&setupMainThread(),Thread.is_worker&&setupWorkerThread();var LEVELS={silent:-1,error:0,warn:1,info:2,debug:3,trace:4},methods={},logged_once={},Utils;function methodForLevel(e){return methods[e]=methods[e]||(console[e]?console[e]:console.log).bind(console),methods[e]}function log(e){var n=_typeof(e)==="object"?e.level:e;if(LEVELS[n]<=LEVELS[log.level]){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];if(Thread.is_native_worker)WorkerBroker.postMessage.apply(WorkerBroker,[{method:"_logProxy",stringify:!0},e].concat(o));else{if(_typeof(e)==="object"&&e.once===!0){if(logged_once[JSON.stringify(o)])return;logged_once[JSON.stringify(o)]=!0}var l=methodForLevel(n);o.length>1?l.apply(void 0,["Tangram [".concat(n,"]: ").concat(o[0])].concat(_toConsumableArray(o.slice(1)))):l("Tangram [".concat(n,"]: ").concat(o[0]))}}}function debounce(e,n,r){var o,s;return r=r||0,function(){var l=this,d=arguments;function h(){s=0,e.apply(l,d)}clearTimeout(o),s&&r&&Date.now()-s>=r?h():(s||(s=Date.now()),o=setTimeout(function(){h()},n))}}log.level="info",log.workers=null,log.setLevel=function(e){log.level=e,Thread.is_main&&Array.isArray(log.workers)&&WorkerBroker.postMessage(log.workers,"_logSetLevelProxy",e)},Thread.is_main&&(log.setWorkers=function(e){log.workers=e},log.reset=function(){logged_once={}}),WorkerBroker.addTarget("_logProxy",log),WorkerBroker.addTarget("_logSetLevelProxy",log.setLevel);var Utils$1=Utils={};WorkerBroker.addTarget("Utils",Utils),Utils.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},Utils.isMicrosoft=function(){return/(Trident\/7.0|Edge[ /](\d+[\.\d]+))/i.test(navigator.userAgent)},Utils._requests={},Utils._proxy_requests={},Utils.io=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6e4,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"text",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"GET",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,d=arguments.length>6&&arguments[6]!==void 0&&arguments[6];if(Thread.is_worker&&Utils.isMicrosoft())return log("debug","Proxying request for URL to worker",e),l&&(Utils._proxy_requests[l]=!0),WorkerBroker.postMessage("Utils.io",e,n,r,o,s,l,!0);var h=new XMLHttpRequest,p=new Promise(function(g,y){h.open(o,e,!0),h.timeout=n,h.responseType=r,h.onload=function(){h.status===200?["text","json"].indexOf(h.responseType)>-1?g(h.responseText):g(h.response):y(Error("Request error with a status of "+h.statusText))},h.onerror=function(v){y(Error("There was a network error"+v.toString()))},h.ontimeout=function(v){y(Error("timeout "+v.toString()))},h.send()});return p=p.then(function(g){return l&&delete Utils._requests[l],d?WorkerBroker.withTransferables(g):g}),l&&(Utils._requests[l]=h),p},Utils.cancelRequest=function(e){if(Thread.is_worker&&Utils._proxy_requests[e])return WorkerBroker.postMessage("Utils.cancelRequest",e);Utils._requests[e]?(log("trace","Cancelling network request key '".concat(e,"'")),Utils._requests[e].abort(),delete Utils._requests[e]):log("trace","Could not find network request key '".concat(e,"'"))},Utils.requestAnimationFramePolyfill=function(){typeof window.requestAnimationFrame!="function"&&(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,16.666666666666668)})},Utils.serializeWithFunctions=function(e){return typeof e=="function"?e.toString():JSON.stringify(e,function(n,r){return typeof r=="function"?r.toString():r})},Utils.stringsToFunctions=function(e,n){if(typeof e=="string")e=Utils.stringToFunction(e,n);else if(e!=null&&_typeof(e)==="object")for(var r in e)e[r]=Utils.stringsToFunctions(e[r],n);return e},Utils._use_count=0,Utils._function_cache={};var _clear_function_cache=debounce(function(){log("trace","Cleared cached ".concat(Object.keys(Utils._function_cache).length," functions (reused ").concat(Utils._use_count," times)")),Utils._use_count=0,Utils._function_cache={}},1e4),FUNCTION_MATCH_RGX=/^\s*function[^(]*\(([^)]*)\)\s*?\{([\s\S]*)\}$/m,_createObjectURL,_revokeObjectURL;function addBaseURL(e,n){if(!e||!isRelativeURL(e))return e;var r,o=e[0]!=="/";if(n?(r=document.createElement("a")).href=n:r=window.location,o)e=pathForURL(r.href)+e;else{var s=r.origin;s||(s=r.protocol+"//"+r.host),e=s+e}return e}function pathForURL(e){if(typeof e=="string"&&e.search(/^(data|blob):/)===-1){var n=e.indexOf("?");n>-1&&(e=e.substr(0,n));var r=e.indexOf("#");return r>-1&&(e=e.substr(0,r)),e.substr(0,e.lastIndexOf("/")+1)||""}return""}function extensionForURL(e){var n=(e=e.split("/").pop()).lastIndexOf(".");if(n>-1)return e.substring(n+1)}function isRelativeURL(e){if(typeof e=="string")return!(e.search(/^(http|https|data|blob):/)>-1||e.substr(0,2)==="//")}function addParamsToURL(e,n){if(!n||Object.keys(n).length===0)return[e,[]];var r=e.indexOf("?"),o=e.indexOf("#"),s="";o>-1&&(s=e.slice(o),e=e.slice(0,o)),r===-1&&(r=e.length,e+="?"),r++;var l="",d=[];for(var h in n)getURLParameter(h,e)===""?l+="".concat(h,"=").concat(n[h],"&"):d.push([h,n[h]]);return[e=e.slice(0,r)+l+e.slice(r)+s,d]}function createObjectURL(e){return _createObjectURL===void 0&&typeof(_createObjectURL=window.URL&&window.URL.createObjectURL||window.webkitURL&&window.webkitURL.createObjectURL)!="function"&&(_createObjectURL=null,log("warn","window.URL.createObjectURL (or vendor prefix) not found, unable to create local blob URLs")),_createObjectURL?_createObjectURL(e):e}function revokeObjectURL(e){return _revokeObjectURL===void 0&&typeof(_revokeObjectURL=window.URL&&window.URL.revokeObjectURL||window.webkitURL&&window.webkitURL.revokeObjectURL)!="function"&&(_revokeObjectURL=null,log("warn","window.URL.revokeObjectURL (or vendor prefix) not found, unable to create local blob URLs")),_revokeObjectURL?_revokeObjectURL(e):e}function getURLParameter(e,n){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(n);return r===null?"":decodeURIComponent(r[1].replace(/\+/g," "))}Utils.stringToFunction=function(e,n){var r=e;n&&(r+=n.toString());var o=Utils._function_cache[r];if(_clear_function_cache(),o)return Utils._use_count++,o;var s=typeof e=="string"&&e.match(FUNCTION_MATCH_RGX);if(s&&s.length>2)try{var l=s[2],d=s[1].length>0&&s[1].split(",").map(function(p){return p.trim()}).filter(function(p){return p});d=d.length>0?d:["context"];var h=new Function(d.toString(),typeof n=="function"?n(l):l);return Utils._function_cache[r]=h,h}catch{return e}return e},Utils.device_pixel_ratio=1,Utils.isPowerOf2=function(e){return!(e&e-1)},Utils.interpolate=function(e,n,r){if(!Array.isArray(n)||!Array.isArray(n[0])||n.length<1)return n;var o,s,l,d,h;if(e<=n[0][0])d=n[0][1],typeof r=="function"&&(d=r(d));else if(e>=n[n.length-1][0])d=n[n.length-1][1],typeof r=="function"&&(d=r(d));else for(var p=0;p<n.length-1;p++)if(e>=n[p][0]&&e<n[p+1][0]){if(o=n[p][0],s=n[p+1][0],Array.isArray(n[p][1])){d=[];for(var g=0;g<n[p][1].length;g++)typeof r=="function"?(h=r(n[p][1][g]),l=r(n[p+1][1][g])-h,d[g]=l*(e-o)/(s-o)+h):(l=n[p+1][1][g]-n[p][1][g],d[g]=l*(e-o)/(s-o)+n[p][1][g])}else typeof r=="function"?(h=r(n[p][1]),d=(l=r(n[p+1][1])-h)*(e-o)/(s-o)+h):d=(l=n[p+1][1]-n[p][1])*(e-o)/(s-o)+n[p][1];break}return d},Utils.toCSSColor=function(e){return e[3]===1?"rgb(".concat(e.slice(0,3).map(function(n){return Math.round(255*n)}).join(", "),")"):"rgba(".concat(e.map(function(n,r){return r<3&&Math.round(255*n)||n}).join(", "),")")},Utils.pointInTile=function(e){return e[0]>=0&&e[1]>-Geo$1.tile_scale&&e[0]<Geo$1.tile_scale&&e[1]<=0},Utils.zoomToTileLevel=function(e){return Math.floor(e)};var DataSource=function(){function e(n,r){var o=this;if(_classCallCheck(this,e),this.config=n,this.sources=r,this.id=n.id,this.name=n.name,this.pad_scale=n.pad_scale||1e-4,this.default_winding=null,this.rasters=[],Array.isArray(n.rasters)&&n.rasters.forEach(function(l){o.rasters.indexOf(l)===-1&&o.rasters.push(l)}),this.preprocess=n.preprocess,typeof this.preprocess=="function"&&this.preprocess.bind(this),this.transform=n.transform,typeof this.transform=="function")this.transform=this.transform.bind(this);else if(_typeof(this.transform)==="object")for(var s in this.transform)typeof this.transform[s]=="function"&&(this.transform[s]=this.transform[s].bind(this));this.extra_data=n.extra_data,this.scripts=n.scripts,this.max_zoom=n.max_zoom!=null?n.max_zoom:Geo$1.default_source_max_zoom,this.setTileSize(n.tile_size),this.max_coord_zoom=this.max_zoom+this.zoom_bias,this.min_display_zoom=n.min_display_zoom!=null?n.min_display_zoom:0,this.max_display_zoom=n.max_display_zoom!=null?n.max_display_zoom:null,this._has_volatile_data=!!n.has_volatile_data}return _createClass(e,[{key:"has_volatile_data",get:function(){return this._has_volatile_data},set:function(){var n=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this._has_volatile_data=n}},{key:"hasLabeledData",value:function(){return!0}},{key:"_transformTile",value:function(n){if(n.source_data.layers){var r={coords:n.coords},o=[];if(typeof this.transform=="function")o.push(this.transform);else if(_typeof(this.transform)==="object")for(var s=Object.keys(this.transform).sort(),l=0;l<s.length;l++)o.push(this.transform[s[l]]);for(var d=Object.keys(n.source_data.layers).length===1&&n.source_data.layers._default,h=0;h<o.length;h++)d?n.source_data.layers._default=o[h](n.source_data.layers._default,this.extra_data,r):n.source_data.layers=o[h](n.source_data.layers,this.extra_data,r)}}},{key:"_postProcessTile",value:function(n){var r=this;for(var o in this._transformTile(n),n.source_data.layers){var s=n.source_data.layers[o];s&&s.features&&s.features.forEach(function(l){Geo$1.transformGeometry(l.geometry,function(d){d[1]=-d[1],r.pad_scale&&(d[0]=Math.round(d[0]*(1+r.pad_scale)-Geo$1.tile_scale*r.pad_scale/2),d[1]=Math.round(d[1]*(1+r.pad_scale)-Geo$1.tile_scale*r.pad_scale/2))}),r.updateDefaultWinding(l.geometry)})}n.default_winding=this.default_winding||"CCW"}},{key:"load",value:function(n){return n.source_data={},n.source_data.layers={},n.pad_scale=this.pad_scale,n.rasters=_toConsumableArray(this.rasters),this._load(n)}},{key:"_load",value:function(n){throw new MethodNotImplemented("_load")}},{key:"setTileSize",value:function(n){this.tile_size=n||256,(typeof this.tile_size!="number"||this.tile_size<256||!Utils$1.isPowerOf2(this.tile_size))&&(log({level:"warn",once:!0},"Data source '".concat(this.name,"': 'tile_size' parameter must be a number that is a power of 2 greater than or equal to 256, but was '").concat(n,"'")),this.tile_size=256),this.zoom_bias=Math.log2(this.tile_size)-8}},{key:"updateDefaultWinding",value:function(n){return this.default_winding==null&&(n.type==="Polygon"?this.default_winding=Geo$1.ringWinding(n.coordinates[0]):n.type==="MultiPolygon"&&(this.default_winding=Geo$1.ringWinding(n.coordinates[0][0]))),this.default_winding}},{key:"includesTile",value:function(n,r){if(n.z<this.min_display_zoom||this.max_display_zoom!=null&&r>this.max_display_zoom)return!1;for(var o=0;o<this.rasters.length;o++){var s=this.rasters[o];if(this.sources[s]&&this.sources[s]!==this&&!this.sources[s].includesTile(n,n.z))return!1}return!0}}],[{key:"create",value:function(n,r){for(var o in r)if(r[o].config.name===n.name&&e.sameConfig(r[o],{config:n}))return r[o];if(e.types[n.type])return new e.types[n.type](n,r)}},{key:"sameConfig",value:function(n,r){if(!n||!r)return!1;var o=Object.assign({},n.config,{id:null,tiled:null,url:null}),s=Object.assign({},r.config,{id:null,tiled:null,url:null});return JSON.stringify(o)===JSON.stringify(s)}},{key:"coordsToMeters",value:function(n){var r=_slicedToArray(Geo$1.latLngToMeters(n),2),o=r[0],s=r[1];n[0]=o,n[1]=s}},{key:"projectData",value:function(n){for(var r in n.layers)for(var o=n.layers[r].features.length,s=0;s<o;s++){var l=n.layers[r].features[s];Geo$1.transformGeometry(l.geometry,e.coordsToMeters)}}},{key:"metersToTileUnits",value:function(n,r,o){o[0]=Math.round((o[0]-r.x)*n),o[1]=-1*Math.round((o[1]-r.y)*n)}},{key:"scaleData",value:function(n,r){var o=r.coords.z,s=r.min;r.max;var l=e.metersToTileUnits.bind(this,Geo$1.unitsPerMeter(o),s);for(var d in n.layers)for(var h=n.layers[d].features.length,p=0;p<h;p++){var g=n.layers[d].features[p];Geo$1.transformGeometry(g.geometry,l)}}},{key:"register",value:function(n,r){n&&r&&(e.types[r]=n)}}])}();DataSource.types={};var network_request_id=0,NetworkSource=function(e){function n(r,o){var s;_classCallCheck(this,n),(s=_callSuper(this,n,[r,o])).response_type="";var l=_slicedToArray(addParamsToURL(r.url,r.url_params),2),d=l[0],h=l[1];if(s.url=d,h.forEach(function(p){var g=_slicedToArray(p,2),y=g[0],v=g[1];log({level:"warn",once:!0},"Data source '".concat(s.name,"': parameter '").concat(y,"' already present in URL '").concat(r.url,"', ")+"skipping value '".concat(y,"=").concat(v,"' specified in 'url_params'"))}),typeof s.url!="string")throw Error("Network data source must provide a string `url` property");return s}return _inherits(n,e),_createClass(n,[{key:"_load",value:function(r){var o=this,s=this.formatUrl(this.url,r),l=r.source_data;return l.url=s,new Promise(function(d,h){l.error=null;var p=network_request_id+++"-"+s,g=Utils$1.io(s,6e4,o.response_type,"GET",{},p);l.request_id=p,g.then(function(y){typeof o.preprocess=="function"&&(y=o.preprocess(y)),(y=y instanceof Promise?y:Promise.resolve(y)).then(function(v){o.parseSourceData(r,l,v),o._postProcessTile(r),d(r)})},function(y){l.error=y.stack,o._postProcessTile(r),d(r)})})}},{key:"formatUrl",value:function(r,o){throw new MethodNotImplemented("formatUrl")}},{key:"parseSourceData",value:function(r,o,s){throw new MethodNotImplemented("parseSourceData")}}])}(DataSource),NetworkTileSource=function(e){function n(r,o){var s;return _classCallCheck(this,n),(s=_callSuper(this,n,[r,o])).tiled=!0,s.parseBounds(r),s.builds_geometry_tiles=!1,s.tms=r.tms===!0,s.url.search("{s}")>-1&&(Array.isArray(r.url_subdomains)&&r.url_subdomains.length>0?(s.url_subdomains=r.url_subdomains,s.next_url_subdomain=0):log({level:"warn",once:!0},"Data source '".concat(s.name,"': source URL includes '{s}' subdomain marker ('").concat(s.url,"'), but no subdomains ")+"were specified in 'url_subdomains' parameter")),s}return _inherits(n,e),_createClass(n,[{key:"parseBounds",value:function(r){if(Array.isArray(r.bounds)&&r.bounds.length===4){this.bounds=r.bounds;var o=_slicedToArray(this.bounds,4),s=o[0],l=o[1],d=o[2],h=o[3];this.bounds_meters={min:Geo$1.latLngToMeters([s,h]),max:Geo$1.latLngToMeters([d,l])},this.bounds_tiles={min:{},max:{}}}}},{key:"checkBounds",value:function(r){if(this.bounds){r=Geo$1.wrapTile(r,{x:!0});var o=this.bounds_tiles.min[r.z];o||(o=this.bounds_tiles.min[r.z]=Geo$1.tileForMeters(this.bounds_meters.min,r.z));var s=this.bounds_tiles.max[r.z];if(s||(s=this.bounds_tiles.max[r.z]=Geo$1.tileForMeters(this.bounds_meters.max,r.z)),r.x<o.x||r.x>s.x||r.y<o.y||r.y>s.y)return!1}return!0}},{key:"includesTile",value:function(r,o){return!!_get(_getPrototypeOf(n.prototype),"includesTile",this).call(this,r,o)&&!!this.checkBounds(r)}},{key:"formatUrl",value:function(r,o){var s=Geo$1.wrapTile(o.coords,{x:!0});this.tms&&(s.y=Math.pow(2,s.z)-1-s.y);var l=r.replace("{x}",s.x).replace("{y}",s.y).replace("{z}",s.z);return this.url_subdomains!=null&&(l=l.replace("{s}",this.url_subdomains[this.next_url_subdomain]),this.next_url_subdomain=(this.next_url_subdomain+1)%this.url_subdomains.length),l}},{key:"urlHasTilePattern",value:function(r){return r&&r.search("{x}")>-1&&r.search("{y}")>-1&&r.search("{z}")>-1}}])}(NetworkSource),MapsJsSource=function(e){function n(r,o){var s;return _classCallCheck(this,n),(s=_callSuper(this,n,[r,o])).target_name="MapsJsSource"+r.uid,s.tiled=!!r.tiled,WorkerBroker.addTarget(s.target_name,s),Thread.is_worker&&WorkerBroker.postMessage(s.target_name+".onWorkerInitialized"),Thread.is_main&&(s._workers_left=0),s}return _inherits(n,e),_createClass(n,[{key:"initialize",value:function(r,o,s,l){this._main_initialized||(this.provider=r,this.worker=l,this._workers_left+=s,this._on_update=o,this._main_initialized=!0,this._onProviderUpdate=this._onProviderUpdate.bind(this),r.addEventListener("update",this._onProviderUpdate),this._isReady()&&this.onReady())}},{key:"onWorkerInitialized",value:function(){--this._workers_left,this._isReady()&&this.onReady()}},{key:"onReady",value:function(){}},{key:"_isReady",value:function(){return this._main_initialized&&!this._workers_left}},{key:"_onProviderUpdate",value:function(r){this._isReady()&&this.onProviderUpdate(r)}},{key:"onProviderUpdate",value:function(r){this.dispatchUpdate(void 0,r.data)}},{key:"dispatchUpdate",value:function(r,o){this._on_update(this.name,r,o)}},{key:"dispose",value:function(){WorkerBroker.removeTarget(this.target_name),this.provider.removeEventListener("update",this._onProviderUpdate)}}])}(DataSource),ieee754$1={read:function(e,n,r,o,s){var l,d,h=8*s-o-1,p=(1<<h)-1,g=p>>1,y=-7,v=r?s-1:0,w=r?-1:1,k=e[n+v];for(v+=w,l=k&(1<<-y)-1,k>>=-y,y+=h;y>0;l=256*l+e[n+v],v+=w,y-=8);for(d=l&(1<<-y)-1,l>>=-y,y+=o;y>0;d=256*d+e[n+v],v+=w,y-=8);if(l===0)l=1-g;else{if(l===p)return d?NaN:1/0*(k?-1:1);d+=Math.pow(2,o),l-=g}return(k?-1:1)*d*Math.pow(2,l-o)},write:function(e,n,r,o,s,l){var d,h,p,g=8*l-s-1,y=(1<<g)-1,v=y>>1,w=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,k=o?0:l-1,F=o?1:-1,q=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(h=isNaN(n)?1:0,d=y):(d=Math.floor(Math.log(n)/Math.LN2),n*(p=Math.pow(2,-d))<1&&(d--,p*=2),(n+=d+v>=1?w/p:w*Math.pow(2,1-v))*p>=2&&(d++,p/=2),d+v>=y?(h=0,d=y):d+v>=1?(h=(n*p-1)*Math.pow(2,s),d+=v):(h=n*Math.pow(2,v-1)*Math.pow(2,s),d=0));s>=8;e[r+k]=255&h,k+=F,h/=256,s-=8);for(d=d<<s|h,g+=s;g>0;e[r+k]=255&d,k+=F,d/=256,g-=8);e[r+k-F]|=128*q}},pbf=Pbf,ieee754=ieee754$1;function Pbf(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}Pbf.Varint=0,Pbf.Fixed64=1,Pbf.Bytes=2,Pbf.Fixed32=5;var SHIFT_LEFT_32=4294967296,SHIFT_RIGHT_32=1/SHIFT_LEFT_32;function readVarintRemainder(e,n,r){var o,s,l=r.buf;if(o=(112&(s=l[r.pos++]))>>4,s<128||(o|=(127&(s=l[r.pos++]))<<3,s<128)||(o|=(127&(s=l[r.pos++]))<<10,s<128)||(o|=(127&(s=l[r.pos++]))<<17,s<128)||(o|=(127&(s=l[r.pos++]))<<24,s<128)||(o|=(1&(s=l[r.pos++]))<<31,s<128))return toNum(e,o,n);throw new Error("Expected varint not more than 10 bytes")}function readPackedEnd(e){return e.type===Pbf.Bytes?e.readVarint()+e.pos:e.pos+1}function toNum(e,n,r){return r?4294967296*n+(e>>>0):4294967296*(n>>>0)+(e>>>0)}function writeBigVarint(e,n){var r,o;if(e>=0?(r=e%4294967296|0,o=e/4294967296|0):(o=~(-e/4294967296),4294967295^(r=~(-e%4294967296))?r=r+1|0:(r=0,o=o+1|0)),e>=18446744073709552e3||e<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");n.realloc(10),writeBigVarintLow(r,o,n),writeBigVarintHigh(o,n)}function writeBigVarintLow(e,n,r){r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos]=127&e}function writeBigVarintHigh(e,n){var r=(7&e)<<4;n.buf[n.pos++]|=r|((e>>>=3)?128:0),e&&(n.buf[n.pos++]=127&e|((e>>>=7)?128:0),e&&(n.buf[n.pos++]=127&e|((e>>>=7)?128:0),e&&(n.buf[n.pos++]=127&e|((e>>>=7)?128:0),e&&(n.buf[n.pos++]=127&e|((e>>>=7)?128:0),e&&(n.buf[n.pos++]=127&e)))))}function makeRoomForExtraLength(e,n,r){var o=n<=16383?1:n<=2097151?2:n<=268435455?3:Math.ceil(Math.log(n)/(7*Math.LN2));r.realloc(o);for(var s=r.pos-1;s>=e;s--)r.buf[s+o]=r.buf[s]}function writePackedVarint(e,n){for(var r=0;r<e.length;r++)n.writeVarint(e[r])}function writePackedSVarint(e,n){for(var r=0;r<e.length;r++)n.writeSVarint(e[r])}function writePackedFloat(e,n){for(var r=0;r<e.length;r++)n.writeFloat(e[r])}function writePackedDouble(e,n){for(var r=0;r<e.length;r++)n.writeDouble(e[r])}function writePackedBoolean(e,n){for(var r=0;r<e.length;r++)n.writeBoolean(e[r])}function writePackedFixed32(e,n){for(var r=0;r<e.length;r++)n.writeFixed32(e[r])}function writePackedSFixed32(e,n){for(var r=0;r<e.length;r++)n.writeSFixed32(e[r])}function writePackedFixed64(e,n){for(var r=0;r<e.length;r++)n.writeFixed64(e[r])}function writePackedSFixed64(e,n){for(var r=0;r<e.length;r++)n.writeSFixed64(e[r])}function readUInt32(e,n){return(e[n]|e[n+1]<<8|e[n+2]<<16)+16777216*e[n+3]}function writeInt32(e,n,r){e[r]=n,e[r+1]=n>>>8,e[r+2]=n>>>16,e[r+3]=n>>>24}function readInt32(e,n){return(e[n]|e[n+1]<<8|e[n+2]<<16)+(e[n+3]<<24)}function readUtf8(e,n,r){for(var o="",s=n;s<r;){var l,d,h,p=e[s],g=null,y=p>239?4:p>223?3:p>191?2:1;if(s+y>r)break;y===1?p<128&&(g=p):y===2?(192&(l=e[s+1]))==128&&(g=(31&p)<<6|63&l)<=127&&(g=null):y===3?(l=e[s+1],d=e[s+2],(192&l)==128&&(192&d)==128&&((g=(15&p)<<12|(63&l)<<6|63&d)<=2047||g>=55296&&g<=57343)&&(g=null)):y===4&&(l=e[s+1],d=e[s+2],h=e[s+3],(192&l)==128&&(192&d)==128&&(192&h)==128&&((g=(15&p)<<18|(63&l)<<12|(63&d)<<6|63&h)<=65535||g>=1114112)&&(g=null)),g===null?(g=65533,y=1):g>65535&&(g-=65536,o+=String.fromCharCode(g>>>10&1023|55296),g=56320|1023&g),o+=String.fromCharCode(g),s+=y}return o}function writeUtf8(e,n,r){for(var o,s,l=0;l<n.length;l++){if((o=n.charCodeAt(l))>55295&&o<57344){if(!s){o>56319||l+1===n.length?(e[r++]=239,e[r++]=191,e[r++]=189):s=o;continue}if(o<56320){e[r++]=239,e[r++]=191,e[r++]=189,s=o;continue}o=s-55296<<10|o-56320|65536,s=null}else s&&(e[r++]=239,e[r++]=191,e[r++]=189,s=null);o<128?e[r++]=o:(o<2048?e[r++]=o>>6|192:(o<65536?e[r++]=o>>12|224:(e[r++]=o>>18|240,e[r++]=o>>12&63|128),e[r++]=o>>6&63|128),e[r++]=63&o|128)}return r}Pbf.prototype={destroy:function(){this.buf=null},readFields:function(e,n,r){for(r=r||this.length;this.pos<r;){var o=this.readVarint(),s=o>>3,l=this.pos;this.type=7&o,e(s,n,this),this.pos===l&&this.skip(o)}return n},readMessage:function(e,n){return this.readFields(e,n,this.readVarint()+this.pos)},readFixed32:function(){var e=readUInt32(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=readInt32(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=readUInt32(this.buf,this.pos)+readUInt32(this.buf,this.pos+4)*SHIFT_LEFT_32;return this.pos+=8,e},readSFixed64:function(){var e=readUInt32(this.buf,this.pos)+readInt32(this.buf,this.pos+4)*SHIFT_LEFT_32;return this.pos+=8,e},readFloat:function(){var e=ieee754.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=ieee754.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var n,r,o=this.buf;return n=127&(r=o[this.pos++]),r<128?n:(n|=(127&(r=o[this.pos++]))<<7,r<128?n:(n|=(127&(r=o[this.pos++]))<<14,r<128?n:(n|=(127&(r=o[this.pos++]))<<21,r<128?n:readVarintRemainder(n|=(15&(r=o[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var e=this.readVarint()+this.pos,n=readUtf8(this.buf,this.pos,e);return this.pos=e,n},readBytes:function(){var e=this.readVarint()+this.pos,n=this.buf.subarray(this.pos,e);return this.pos=e,n},readPackedVarint:function(e,n){var r=readPackedEnd(this);for(e=e||[];this.pos<r;)e.push(this.readVarint(n));return e},readPackedSVarint:function(e){var n=readPackedEnd(this);for(e=e||[];this.pos<n;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){var n=readPackedEnd(this);for(e=e||[];this.pos<n;)e.push(this.readBoolean());return e},readPackedFloat:function(e){var n=readPackedEnd(this);for(e=e||[];this.pos<n;)e.push(this.readFloat());return e},readPackedDouble:function(e){var n=readPackedEnd(this);for(e=e||[];this.pos<n;)e.push(this.readDouble());return e},readPackedFixed32:function(e){var n=readPackedEnd(this);for(e=e||[];this.pos<n;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){var n=readPackedEnd(this);for(e=e||[];this.pos<n;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){var n=readPackedEnd(this);for(e=e||[];this.pos<n;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){var n=readPackedEnd(this);for(e=e||[];this.pos<n;)e.push(this.readSFixed64());return e},skip:function(e){var n=7&e;if(n===Pbf.Varint)for(;this.buf[this.pos++]>127;);else if(n===Pbf.Bytes)this.pos=this.readVarint()+this.pos;else if(n===Pbf.Fixed32)this.pos+=4;else{if(n!==Pbf.Fixed64)throw new Error("Unimplemented type: "+n);this.pos+=8}},writeTag:function(e,n){this.writeVarint(e<<3|n)},realloc:function(e){for(var n=this.length||16;n<this.pos+e;)n*=2;if(n!==this.length){var r=new Uint8Array(n);r.set(this.buf),this.buf=r,this.length=n}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),writeInt32(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),writeInt32(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),writeInt32(this.buf,-1&e,this.pos),writeInt32(this.buf,Math.floor(e*SHIFT_RIGHT_32),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),writeInt32(this.buf,-1&e,this.pos),writeInt32(this.buf,Math.floor(e*SHIFT_RIGHT_32),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?writeBigVarint(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(!!e)},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var n=this.pos;this.pos=writeUtf8(this.buf,e,this.pos);var r=this.pos-n;r>=128&&makeRoomForExtraLength(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeFloat:function(e){this.realloc(4),ieee754.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),ieee754.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var n=e.length;this.writeVarint(n),this.realloc(n);for(var r=0;r<n;r++)this.buf[this.pos++]=e[r]},writeRawMessage:function(e,n){this.pos++;var r=this.pos;e(n,this);var o=this.pos-r;o>=128&&makeRoomForExtraLength(r,o,this),this.pos=r-1,this.writeVarint(o),this.pos+=o},writeMessage:function(e,n,r){this.writeTag(e,Pbf.Bytes),this.writeRawMessage(n,r)},writePackedVarint:function(e,n){this.writeMessage(e,writePackedVarint,n)},writePackedSVarint:function(e,n){this.writeMessage(e,writePackedSVarint,n)},writePackedBoolean:function(e,n){this.writeMessage(e,writePackedBoolean,n)},writePackedFloat:function(e,n){this.writeMessage(e,writePackedFloat,n)},writePackedDouble:function(e,n){this.writeMessage(e,writePackedDouble,n)},writePackedFixed32:function(e,n){this.writeMessage(e,writePackedFixed32,n)},writePackedSFixed32:function(e,n){this.writeMessage(e,writePackedSFixed32,n)},writePackedFixed64:function(e,n){this.writeMessage(e,writePackedFixed64,n)},writePackedSFixed64:function(e,n){this.writeMessage(e,writePackedSFixed64,n)},writeBytesField:function(e,n){this.writeTag(e,Pbf.Bytes),this.writeBytes(n)},writeFixed32Field:function(e,n){this.writeTag(e,Pbf.Fixed32),this.writeFixed32(n)},writeSFixed32Field:function(e,n){this.writeTag(e,Pbf.Fixed32),this.writeSFixed32(n)},writeFixed64Field:function(e,n){this.writeTag(e,Pbf.Fixed64),this.writeFixed64(n)},writeSFixed64Field:function(e,n){this.writeTag(e,Pbf.Fixed64),this.writeSFixed64(n)},writeVarintField:function(e,n){this.writeTag(e,Pbf.Varint),this.writeVarint(n)},writeSVarintField:function(e,n){this.writeTag(e,Pbf.Varint),this.writeSVarint(n)},writeStringField:function(e,n){this.writeTag(e,Pbf.Bytes),this.writeString(n)},writeFloatField:function(e,n){this.writeTag(e,Pbf.Fixed32),this.writeFloat(n)},writeDoubleField:function(e,n){this.writeTag(e,Pbf.Fixed64),this.writeDouble(n)},writeBooleanField:function(e,n){this.writeVarintField(e,!!n)}};var Pbf$1=getDefaultExportFromCjs(pbf),pointGeometry=Point$1;function Point$1(e,n){this.x=e,this.y=n}Point$1.prototype={clone:function(){return new Point$1(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,n){return this.clone()._rotateAround(e,n)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var n=e.x-this.x,r=e.y-this.y;return n*n+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,n){return Math.atan2(this.x*n-this.y*e,this.x*e+this.y*n)},_matMult:function(e){var n=e[0]*this.x+e[1]*this.y,r=e[2]*this.x+e[3]*this.y;return this.x=n,this.y=r,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var n=Math.cos(e),r=Math.sin(e),o=n*this.x-r*this.y,s=r*this.x+n*this.y;return this.x=o,this.y=s,this},_rotateAround:function(e,n){var r=Math.cos(e),o=Math.sin(e),s=n.x+r*(this.x-n.x)-o*(this.y-n.y),l=n.y+o*(this.x-n.x)+r*(this.y-n.y);return this.x=s,this.y=l,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},Point$1.convert=function(e){return e instanceof Point$1?e:Array.isArray(e)?new Point$1(e[0],e[1]):e};var Point=pointGeometry,vectortilefeature=VectorTileFeature$2;function VectorTileFeature$2(e,n,r,o,s){this.properties={},this.extent=r,this.type=0,this._pbf=e,this._geometry=-1,this._keys=o,this._values=s,e.readFields(readFeature,this,n)}function readFeature(e,n,r){e==1?n.id=r.readVarint():e==2?readTag(r,n):e==3?n.type=r.readVarint():e==4&&(n._geometry=r.pos)}function readTag(e,n){for(var r=e.readVarint()+e.pos;e.pos<r;){var o=n._keys[e.readVarint()],s=n._values[e.readVarint()];n.properties[o]=s}}function classifyRings(e){var n=e.length;if(n<=1)return[e];for(var r,o,s=[],l=0;l<n;l++){var d=signedArea$1(e[l]);d!==0&&(o===void 0&&(o=d<0),o===d<0?(r&&s.push(r),r=[e[l]]):r.push(e[l]))}return r&&s.push(r),s}function signedArea$1(e){for(var n,r,o=0,s=0,l=e.length,d=l-1;s<l;d=s++)n=e[s],o+=((r=e[d]).x-n.x)*(n.y+r.y);return o}VectorTileFeature$2.types=["Unknown","Point","LineString","Polygon"],VectorTileFeature$2.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var n,r=e.readVarint()+e.pos,o=1,s=0,l=0,d=0,h=[];e.pos<r;){if(!s){var p=e.readVarint();o=7&p,s=p>>3}if(s--,o===1||o===2)l+=e.readSVarint(),d+=e.readSVarint(),o===1&&(n&&h.push(n),n=[]),n.push(new Point(l,d));else{if(o!==7)throw new Error("unknown command "+o);n&&n.push(n[0].clone())}}return n&&h.push(n),h},VectorTileFeature$2.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var n=e.readVarint()+e.pos,r=1,o=0,s=0,l=0,d=1/0,h=-1/0,p=1/0,g=-1/0;e.pos<n;){if(!o){var y=e.readVarint();r=7&y,o=y>>3}if(o--,r===1||r===2)(s+=e.readSVarint())<d&&(d=s),s>h&&(h=s),(l+=e.readSVarint())<p&&(p=l),l>g&&(g=l);else if(r!==7)throw new Error("unknown command "+r)}return[d,p,h,g]},VectorTileFeature$2.prototype.toGeoJSON=function(e,n,r){var o,s,l=this.extent*Math.pow(2,r),d=this.extent*e,h=this.extent*n,p=this.loadGeometry(),g=VectorTileFeature$2.types[this.type];function y(k){for(var F=0;F<k.length;F++){var q=k[F],_r=180-360*(q.y+h)/l;k[F]=[360*(q.x+d)/l-180,360/Math.PI*Math.atan(Math.exp(_r*Math.PI/180))-90]}}switch(this.type){case 1:var v=[];for(o=0;o<p.length;o++)v[o]=p[o][0];y(p=v);break;case 2:for(o=0;o<p.length;o++)y(p[o]);break;case 3:for(p=classifyRings(p),o=0;o<p.length;o++)for(s=0;s<p[o].length;s++)y(p[o][s])}p.length===1?p=p[0]:g="Multi"+g;var w={type:"Feature",geometry:{type:g,coordinates:p},properties:this.properties};return"id"in this&&(w.id=this.id),w};var VectorTileFeature$1=vectortilefeature;function VectorTileLayer$1(e,n){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(readLayer$1,this,n),this.length=this._features.length}function readLayer$1(e,n,r){e===15?n.version=r.readVarint():e===1?n.name=r.readString():e===5?n.extent=r.readVarint():e===2?n._features.push(r.pos):e===3?n._keys.push(r.readString()):e===4&&n._values.push(readValueMessage$1(r))}function readValueMessage$1(e){for(var n=null,r=e.readVarint()+e.pos;e.pos<r;){var o=e.readVarint()>>3;n=o===1?e.readString():o===2?e.readFloat():o===3?e.readDouble():o===4?e.readVarint64():o===5?e.readVarint():o===6?e.readSVarint():o===7?e.readBoolean():null}return n}VectorTileLayer$1.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var n=this._pbf.readVarint()+this._pbf.pos;return new VectorTileFeature$1(this._pbf,n,this.extent,this._keys,this._values)};var VectorTileFeature=vectortilefeature,long=Long,wasm=null;try{wasm=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function Long(e,n,r){this.low=0|e,this.high=0|n,this.unsigned=!!r}function isLong(e){return(e&&e.__isLong__)===!0}Long.prototype.__isLong__,Object.defineProperty(Long.prototype,"__isLong__",{value:!0}),Long.isLong=isLong;var INT_CACHE={},UINT_CACHE={};function fromInt(e,n){var r,o,s;return n?(s=0<=(e>>>=0)&&e<256)&&(o=UINT_CACHE[e])?o:(r=fromBits(e,(0|e)<0?-1:0,!0),s&&(UINT_CACHE[e]=r),r):(s=-128<=(e|=0)&&e<128)&&(o=INT_CACHE[e])?o:(r=fromBits(e,e<0?-1:0,!1),s&&(INT_CACHE[e]=r),r)}function fromNumber(e,n){if(isNaN(e))return n?UZERO:ZERO;if(n){if(e<0)return UZERO;if(e>=TWO_PWR_64_DBL)return MAX_UNSIGNED_VALUE}else{if(e<=-TWO_PWR_63_DBL)return MIN_VALUE;if(e+1>=TWO_PWR_63_DBL)return MAX_VALUE$1}return e<0?fromNumber(-e,n).neg():fromBits(e%TWO_PWR_32_DBL|0,e/TWO_PWR_32_DBL|0,n)}function fromBits(e,n,r){return new Long(e,n,r)}Long.fromInt=fromInt,Long.fromNumber=fromNumber,Long.fromBits=fromBits;var pow_dbl=Math.pow;function fromString$1(e,n,r){if(e.length===0)throw Error("empty string");if(e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return ZERO;if(typeof n=="number"?(r=n,n=!1):n=!!n,(r=r||10)<2||36<r)throw RangeError("radix");var o;if((o=e.indexOf("-"))>0)throw Error("interior hyphen");if(o===0)return fromString$1(e.substring(1),n,r).neg();for(var s=fromNumber(pow_dbl(r,8)),l=ZERO,d=0;d<e.length;d+=8){var h=Math.min(8,e.length-d),p=parseInt(e.substring(d,d+h),r);if(h<8){var g=fromNumber(pow_dbl(r,h));l=l.mul(g).add(fromNumber(p))}else l=(l=l.mul(s)).add(fromNumber(p))}return l.unsigned=n,l}function fromValue(e,n){return typeof e=="number"?fromNumber(e,n):typeof e=="string"?fromString$1(e,n):fromBits(e.low,e.high,typeof n=="boolean"?n:e.unsigned)}Long.fromString=fromString$1,Long.fromValue=fromValue;var TWO_PWR_16_DBL=65536,TWO_PWR_24_DBL=1<<24,TWO_PWR_32_DBL=TWO_PWR_16_DBL*TWO_PWR_16_DBL,TWO_PWR_64_DBL=TWO_PWR_32_DBL*TWO_PWR_32_DBL,TWO_PWR_63_DBL=TWO_PWR_64_DBL/2,TWO_PWR_24=fromInt(TWO_PWR_24_DBL),ZERO=fromInt(0);Long.ZERO=ZERO;var UZERO=fromInt(0,!0);Long.UZERO=UZERO;var ONE=fromInt(1);Long.ONE=ONE;var UONE=fromInt(1,!0);Long.UONE=UONE;var NEG_ONE=fromInt(-1);Long.NEG_ONE=NEG_ONE;var MAX_VALUE$1=fromBits(-1,2147483647,!1);Long.MAX_VALUE=MAX_VALUE$1;var MAX_UNSIGNED_VALUE=fromBits(-1,-1,!0);Long.MAX_UNSIGNED_VALUE=MAX_UNSIGNED_VALUE;var MIN_VALUE=fromBits(0,-2147483648,!1);Long.MIN_VALUE=MIN_VALUE;var LongPrototype=Long.prototype;LongPrototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},LongPrototype.toNumber=function(){return this.unsigned?(this.high>>>0)*TWO_PWR_32_DBL+(this.low>>>0):this.high*TWO_PWR_32_DBL+(this.low>>>0)},LongPrototype.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(MIN_VALUE)){var n=fromNumber(e),r=this.div(n),o=r.mul(n).sub(this);return r.toString(e)+o.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var s=fromNumber(pow_dbl(e,6),this.unsigned),l=this,d="";;){var h=l.div(s),p=(l.sub(h.mul(s)).toInt()>>>0).toString(e);if((l=h).isZero())return p+d;for(;p.length<6;)p="0"+p;d=""+p+d}},LongPrototype.getHighBits=function(){return this.high},LongPrototype.getHighBitsUnsigned=function(){return this.high>>>0},LongPrototype.getLowBits=function(){return this.low},LongPrototype.getLowBitsUnsigned=function(){return this.low>>>0},LongPrototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(MIN_VALUE)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&!(e&1<<n);n--);return this.high!=0?n+33:n+1},LongPrototype.isZero=function(){return this.high===0&&this.low===0},LongPrototype.eqz=LongPrototype.isZero,LongPrototype.isNegative=function(){return!this.unsigned&&this.high<0},LongPrototype.isPositive=function(){return this.unsigned||this.high>=0},LongPrototype.isOdd=function(){return!(1&~this.low)},LongPrototype.isEven=function(){return!(1&this.low)},LongPrototype.equals=function(e){return isLong(e)||(e=fromValue(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},LongPrototype.eq=LongPrototype.equals,LongPrototype.notEquals=function(e){return!this.eq(e)},LongPrototype.neq=LongPrototype.notEquals,LongPrototype.ne=LongPrototype.notEquals,LongPrototype.lessThan=function(e){return this.comp(e)<0},LongPrototype.lt=LongPrototype.lessThan,LongPrototype.lessThanOrEqual=function(e){return this.comp(e)<=0},LongPrototype.lte=LongPrototype.lessThanOrEqual,LongPrototype.le=LongPrototype.lessThanOrEqual,LongPrototype.greaterThan=function(e){return this.comp(e)>0},LongPrototype.gt=LongPrototype.greaterThan,LongPrototype.greaterThanOrEqual=function(e){return this.comp(e)>=0},LongPrototype.gte=LongPrototype.greaterThanOrEqual,LongPrototype.ge=LongPrototype.greaterThanOrEqual,LongPrototype.compare=function(e){if(isLong(e)||(e=fromValue(e)),this.eq(e))return 0;var n=this.isNegative(),r=e.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},LongPrototype.comp=LongPrototype.compare,LongPrototype.negate=function(){return!this.unsigned&&this.eq(MIN_VALUE)?MIN_VALUE:this.not().add(ONE)},LongPrototype.neg=LongPrototype.negate,LongPrototype.add=function(e){isLong(e)||(e=fromValue(e));var n=this.high>>>16,r=65535&this.high,o=this.low>>>16,s=65535&this.low,l=e.high>>>16,d=65535&e.high,h=e.low>>>16,p=0,g=0,y=0,v=0;return y+=(v+=s+(65535&e.low))>>>16,g+=(y+=o+h)>>>16,p+=(g+=r+d)>>>16,p+=n+l,fromBits((y&=65535)<<16|(v&=65535),(p&=65535)<<16|(g&=65535),this.unsigned)},LongPrototype.subtract=function(e){return isLong(e)||(e=fromValue(e)),this.add(e.neg())},LongPrototype.sub=LongPrototype.subtract,LongPrototype.multiply=function(e){if(this.isZero())return ZERO;if(isLong(e)||(e=fromValue(e)),wasm)return fromBits(wasm.mul(this.low,this.high,e.low,e.high),wasm.get_high(),this.unsigned);if(e.isZero())return ZERO;if(this.eq(MIN_VALUE))return e.isOdd()?MIN_VALUE:ZERO;if(e.eq(MIN_VALUE))return this.isOdd()?MIN_VALUE:ZERO;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(TWO_PWR_24)&&e.lt(TWO_PWR_24))return fromNumber(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,r=65535&this.high,o=this.low>>>16,s=65535&this.low,l=e.high>>>16,d=65535&e.high,h=e.low>>>16,p=65535&e.low,g=0,y=0,v=0,w=0;return v+=(w+=s*p)>>>16,y+=(v+=o*p)>>>16,v&=65535,y+=(v+=s*h)>>>16,g+=(y+=r*p)>>>16,y&=65535,g+=(y+=o*h)>>>16,y&=65535,g+=(y+=s*d)>>>16,g+=n*p+r*h+o*d+s*l,fromBits((v&=65535)<<16|(w&=65535),(g&=65535)<<16|(y&=65535),this.unsigned)},LongPrototype.mul=LongPrototype.multiply,LongPrototype.divide=function(e){if(isLong(e)||(e=fromValue(e)),e.isZero())throw Error("division by zero");var n,r,o;if(wasm)return this.unsigned||this.high!==-2147483648||e.low!==-1||e.high!==-1?fromBits((this.unsigned?wasm.div_u:wasm.div_s)(this.low,this.high,e.low,e.high),wasm.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?UZERO:ZERO;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return UZERO;if(e.gt(this.shru(1)))return UONE;o=UZERO}else{if(this.eq(MIN_VALUE))return e.eq(ONE)||e.eq(NEG_ONE)?MIN_VALUE:e.eq(MIN_VALUE)?ONE:(n=this.shr(1).div(e).shl(1)).eq(ZERO)?e.isNegative()?ONE:NEG_ONE:(r=this.sub(e.mul(n)),o=n.add(r.div(e)));if(e.eq(MIN_VALUE))return this.unsigned?UZERO:ZERO;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=ZERO}for(r=this;r.gte(e);){n=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(n)/Math.LN2),l=s<=48?1:pow_dbl(2,s-48),d=fromNumber(n),h=d.mul(e);h.isNegative()||h.gt(r);)h=(d=fromNumber(n-=l,this.unsigned)).mul(e);d.isZero()&&(d=ONE),o=o.add(d),r=r.sub(h)}return o},LongPrototype.div=LongPrototype.divide,LongPrototype.modulo=function(e){return isLong(e)||(e=fromValue(e)),wasm?fromBits((this.unsigned?wasm.rem_u:wasm.rem_s)(this.low,this.high,e.low,e.high),wasm.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},LongPrototype.mod=LongPrototype.modulo,LongPrototype.rem=LongPrototype.modulo,LongPrototype.not=function(){return fromBits(~this.low,~this.high,this.unsigned)},LongPrototype.and=function(e){return isLong(e)||(e=fromValue(e)),fromBits(this.low&e.low,this.high&e.high,this.unsigned)},LongPrototype.or=function(e){return isLong(e)||(e=fromValue(e)),fromBits(this.low|e.low,this.high|e.high,this.unsigned)},LongPrototype.xor=function(e){return isLong(e)||(e=fromValue(e)),fromBits(this.low^e.low,this.high^e.high,this.unsigned)},LongPrototype.shiftLeft=function(e){return isLong(e)&&(e=e.toInt()),(e&=63)==0?this:e<32?fromBits(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):fromBits(0,this.low<<e-32,this.unsigned)},LongPrototype.shl=LongPrototype.shiftLeft,LongPrototype.shiftRight=function(e){return isLong(e)&&(e=e.toInt()),(e&=63)==0?this:e<32?fromBits(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):fromBits(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},LongPrototype.shr=LongPrototype.shiftRight,LongPrototype.shiftRightUnsigned=function(e){if(isLong(e)&&(e=e.toInt()),(e&=63)===0)return this;var n=this.high;return e<32?fromBits(this.low>>>e|n<<32-e,n>>>e,this.unsigned):fromBits(e===32?n:n>>>e-32,0,this.unsigned)},LongPrototype.shru=LongPrototype.shiftRightUnsigned,LongPrototype.shr_u=LongPrototype.shiftRightUnsigned,LongPrototype.toSigned=function(){return this.unsigned?fromBits(this.low,this.high,!1):this},LongPrototype.toUnsigned=function(){return this.unsigned?this:fromBits(this.low,this.high,!0)},LongPrototype.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},LongPrototype.toBytesLE=function(){var e=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},LongPrototype.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,n>>>24,n>>>16&255,n>>>8&255,255&n]},Long.fromBytes=function(e,n,r){return r?Long.fromBytesLE(e,n):Long.fromBytesBE(e,n)},Long.fromBytesLE=function(e,n){return new Long(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)},Long.fromBytesBE=function(e,n){return new Long(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)};var Long$1=getDefaultExportFromCjs(long),indexMinimal={},minimal$1={},aspromise,hasRequiredAspromise;function requireAspromise(){return hasRequiredAspromise||(hasRequiredAspromise=1,aspromise=function(e,n){for(var r=new Array(arguments.length-1),o=0,s=2,l=!0;s<arguments.length;)r[o++]=arguments[s++];return new Promise(function(d,h){r[o]=function(p){if(l)if(l=!1,p)h(p);else{for(var g=new Array(arguments.length-1),y=0;y<g.length;)g[y++]=arguments[y];d.apply(null,g)}};try{e.apply(n||null,r)}catch(p){l&&(l=!1,h(p))}})}),aspromise}var base64$1={},hasRequiredBase64,eventemitter,hasRequiredEventemitter,float$1,hasRequiredFloat,inquire_1,hasRequiredInquire;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,function(e){var n=e;n.length=function(d){var h=d.length;if(!h)return 0;for(var p=0;--h%4>1&&d.charAt(h)==="=";)++p;return Math.ceil(3*d.length)/4-p};for(var r=new Array(64),o=new Array(123),s=0;s<64;)o[r[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;n.encode=function(d,h,p){for(var g,y=null,v=[],w=0,k=0;h<p;){var F=d[h++];switch(k){case 0:v[w++]=r[F>>2],g=(3&F)<<4,k=1;break;case 1:v[w++]=r[g|F>>4],g=(15&F)<<2,k=2;break;case 2:v[w++]=r[g|F>>6],v[w++]=r[63&F],k=0}w>8191&&((y||(y=[])).push(String.fromCharCode.apply(String,v)),w=0)}return k&&(v[w++]=r[g],v[w++]=61,k===1&&(v[w++]=61)),y?(w&&y.push(String.fromCharCode.apply(String,v.slice(0,w))),y.join("")):String.fromCharCode.apply(String,v.slice(0,w))};var l="invalid encoding";n.decode=function(d,h,p){for(var g,y=p,v=0,w=0;w<d.length;){var k=d.charCodeAt(w++);if(k===61&&v>1)break;if((k=o[k])===void 0)throw Error(l);switch(v){case 0:g=k,v=1;break;case 1:h[p++]=g<<2|(48&k)>>4,g=k,v=2;break;case 2:h[p++]=(15&g)<<4|(60&k)>>2,g=k,v=3;break;case 3:h[p++]=(3&g)<<6|k,v=0}}if(v===1)throw Error(l);return p-y},n.test=function(d){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(d)}}(base64$1)),base64$1}function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;function e(){this._listeners={}}return hasRequiredEventemitter=1,eventemitter=e,e.prototype.on=function(n,r,o){return(this._listeners[n]||(this._listeners[n]=[])).push({fn:r,ctx:o||this}),this},e.prototype.off=function(n,r){if(n===void 0)this._listeners={};else if(r===void 0)this._listeners[n]=[];else for(var o=this._listeners[n],s=0;s<o.length;)o[s].fn===r?o.splice(s,1):++s;return this},e.prototype.emit=function(n){var r=this._listeners[n];if(r){for(var o=[],s=1;s<arguments.length;)o.push(arguments[s++]);for(s=0;s<r.length;)r[s].fn.apply(r[s++].ctx,o)}return this},eventemitter}function requireFloat(){if(hasRequiredFloat)return float$1;function e(l){return typeof Float32Array<"u"?function(){var d=new Float32Array([-0]),h=new Uint8Array(d.buffer),p=h[3]===128;function g(k,F,q){d[0]=k,F[q]=h[0],F[q+1]=h[1],F[q+2]=h[2],F[q+3]=h[3]}function y(k,F,q){d[0]=k,F[q]=h[3],F[q+1]=h[2],F[q+2]=h[1],F[q+3]=h[0]}function v(k,F){return h[0]=k[F],h[1]=k[F+1],h[2]=k[F+2],h[3]=k[F+3],d[0]}function w(k,F){return h[3]=k[F],h[2]=k[F+1],h[1]=k[F+2],h[0]=k[F+3],d[0]}l.writeFloatLE=p?g:y,l.writeFloatBE=p?y:g,l.readFloatLE=p?v:w,l.readFloatBE=p?w:v}():function(){function d(p,g,y,v){var w=g<0?1:0;if(w&&(g=-g),g===0)p(1/g>0?0:2147483648,y,v);else if(isNaN(g))p(2143289344,y,v);else if(g>34028234663852886e22)p((w<<31|2139095040)>>>0,y,v);else if(g<11754943508222875e-54)p((w<<31|Math.round(g/1401298464324817e-60))>>>0,y,v);else{var k=Math.floor(Math.log(g)/Math.LN2);p((w<<31|k+127<<23|8388607&Math.round(g*Math.pow(2,-k)*8388608))>>>0,y,v)}}function h(p,g,y){var v=p(g,y),w=2*(v>>31)+1,k=v>>>23&255,F=8388607&v;return k===255?F?NaN:w*(1/0):k===0?1401298464324817e-60*w*F:w*Math.pow(2,k-150)*(F+8388608)}l.writeFloatLE=d.bind(null,n),l.writeFloatBE=d.bind(null,r),l.readFloatLE=h.bind(null,o),l.readFloatBE=h.bind(null,s)}(),typeof Float64Array<"u"?function(){var d=new Float64Array([-0]),h=new Uint8Array(d.buffer),p=h[7]===128;function g(k,F,q){d[0]=k,F[q]=h[0],F[q+1]=h[1],F[q+2]=h[2],F[q+3]=h[3],F[q+4]=h[4],F[q+5]=h[5],F[q+6]=h[6],F[q+7]=h[7]}function y(k,F,q){d[0]=k,F[q]=h[7],F[q+1]=h[6],F[q+2]=h[5],F[q+3]=h[4],F[q+4]=h[3],F[q+5]=h[2],F[q+6]=h[1],F[q+7]=h[0]}function v(k,F){return h[0]=k[F],h[1]=k[F+1],h[2]=k[F+2],h[3]=k[F+3],h[4]=k[F+4],h[5]=k[F+5],h[6]=k[F+6],h[7]=k[F+7],d[0]}function w(k,F){return h[7]=k[F],h[6]=k[F+1],h[5]=k[F+2],h[4]=k[F+3],h[3]=k[F+4],h[2]=k[F+5],h[1]=k[F+6],h[0]=k[F+7],d[0]}l.writeDoubleLE=p?g:y,l.writeDoubleBE=p?y:g,l.readDoubleLE=p?v:w,l.readDoubleBE=p?w:v}():function(){function d(p,g,y,v,w,k){var F=v<0?1:0;if(F&&(v=-v),v===0)p(0,w,k+g),p(1/v>0?0:2147483648,w,k+y);else if(isNaN(v))p(0,w,k+g),p(2146959360,w,k+y);else if(v>17976931348623157e292)p(0,w,k+g),p((F<<31|2146435072)>>>0,w,k+y);else{var q;if(v<22250738585072014e-324)p((q=v/5e-324)>>>0,w,k+g),p((F<<31|q/4294967296)>>>0,w,k+y);else{var _r=Math.floor(Math.log(v)/Math.LN2);_r===1024&&(_r=1023),p(4503599627370496*(q=v*Math.pow(2,-_r))>>>0,w,k+g),p((F<<31|_r+1023<<20|1048576*q&1048575)>>>0,w,k+y)}}}function h(p,g,y,v,w){var k=p(v,w+g),F=p(v,w+y),q=2*(F>>31)+1,_r=F>>>20&2047,ga=4294967296*(1048575&F)+k;return _r===2047?ga?NaN:q*(1/0):_r===0?5e-324*q*ga:q*Math.pow(2,_r-1075)*(ga+4503599627370496)}l.writeDoubleLE=d.bind(null,n,0,4),l.writeDoubleBE=d.bind(null,r,4,0),l.readDoubleLE=h.bind(null,o,0,4),l.readDoubleBE=h.bind(null,s,4,0)}(),l}function n(l,d,h){d[h]=255&l,d[h+1]=l>>>8&255,d[h+2]=l>>>16&255,d[h+3]=l>>>24}function r(l,d,h){d[h]=l>>>24,d[h+1]=l>>>16&255,d[h+2]=l>>>8&255,d[h+3]=255&l}function o(l,d){return(l[d]|l[d+1]<<8|l[d+2]<<16|l[d+3]<<24)>>>0}function s(l,d){return(l[d]<<24|l[d+1]<<16|l[d+2]<<8|l[d+3])>>>0}return hasRequiredFloat=1,float$1=e(e)}function requireInquire(){if(hasRequiredInquire)return inquire_1;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}return hasRequiredInquire=1,inquire_1=inquire,inquire_1}var utf8$2={},hasRequiredUtf8,pool_1,hasRequiredPool,longbits,hasRequiredLongbits,hasRequiredMinimal;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,function(e){var n=e;n.length=function(r){for(var o=0,s=0,l=0;l<r.length;++l)(s=r.charCodeAt(l))<128?o+=1:s<2048?o+=2:(64512&s)==55296&&(64512&r.charCodeAt(l+1))==56320?(++l,o+=4):o+=3;return o},n.read=function(r,o,s){if(s-o<1)return"";for(var l,d=null,h=[],p=0;o<s;)(l=r[o++])<128?h[p++]=l:l>191&&l<224?h[p++]=(31&l)<<6|63&r[o++]:l>239&&l<365?(l=((7&l)<<18|(63&r[o++])<<12|(63&r[o++])<<6|63&r[o++])-65536,h[p++]=55296+(l>>10),h[p++]=56320+(1023&l)):h[p++]=(15&l)<<12|(63&r[o++])<<6|63&r[o++],p>8191&&((d||(d=[])).push(String.fromCharCode.apply(String,h)),p=0);return d?(p&&d.push(String.fromCharCode.apply(String,h.slice(0,p))),d.join("")):String.fromCharCode.apply(String,h.slice(0,p))},n.write=function(r,o,s){for(var l,d,h=s,p=0;p<r.length;++p)(l=r.charCodeAt(p))<128?o[s++]=l:l<2048?(o[s++]=l>>6|192,o[s++]=63&l|128):(64512&l)==55296&&(64512&(d=r.charCodeAt(p+1)))==56320?(l=65536+((1023&l)<<10)+(1023&d),++p,o[s++]=l>>18|240,o[s++]=l>>12&63|128,o[s++]=l>>6&63|128,o[s++]=63&l|128):(o[s++]=l>>12|224,o[s++]=l>>6&63|128,o[s++]=63&l|128);return s-h}}(utf8$2)),utf8$2}function requirePool(){return hasRequiredPool||(hasRequiredPool=1,pool_1=function(e,n,r){var o=r||8192,s=o>>>1,l=null,d=o;return function(h){if(h<1||h>s)return e(h);d+h>o&&(l=e(o),d=0);var p=n.call(l,d,d+=h);return 7&d&&(d=1+(7|d)),p}}),pool_1}function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=n;var e=requireMinimal();function n(l,d){this.lo=l>>>0,this.hi=d>>>0}var r=n.zero=new n(0,0);r.toNumber=function(){return 0},r.zzEncode=r.zzDecode=function(){return this},r.length=function(){return 1};var o=n.zeroHash="\0\0\0\0\0\0\0\0";n.fromNumber=function(l){if(l===0)return r;var d=l<0;d&&(l=-l);var h=l>>>0,p=(l-h)/4294967296>>>0;return d&&(p=~p>>>0,h=~h>>>0,++h>4294967295&&(h=0,++p>4294967295&&(p=0))),new n(h,p)},n.from=function(l){if(typeof l=="number")return n.fromNumber(l);if(e.isString(l)){if(!e.Long)return n.fromNumber(parseInt(l,10));l=e.Long.fromString(l)}return l.low||l.high?new n(l.low>>>0,l.high>>>0):r},n.prototype.toNumber=function(l){if(!l&&this.hi>>>31){var d=1+~this.lo>>>0,h=~this.hi>>>0;return d||(h=h+1>>>0),-(d+4294967296*h)}return this.lo+4294967296*this.hi},n.prototype.toLong=function(l){return e.Long?new e.Long(0|this.lo,0|this.hi,!!l):{low:0|this.lo,high:0|this.hi,unsigned:!!l}};var s=String.prototype.charCodeAt;return n.fromHash=function(l){return l===o?r:new n((s.call(l,0)|s.call(l,1)<<8|s.call(l,2)<<16|s.call(l,3)<<24)>>>0,(s.call(l,4)|s.call(l,5)<<8|s.call(l,6)<<16|s.call(l,7)<<24)>>>0)},n.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},n.prototype.zzEncode=function(){var l=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^l)>>>0,this.lo=(this.lo<<1^l)>>>0,this},n.prototype.zzDecode=function(){var l=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^l)>>>0,this.hi=(this.hi>>>1^l)>>>0,this},n.prototype.length=function(){var l=this.lo,d=(this.lo>>>28|this.hi<<4)>>>0,h=this.hi>>>24;return h===0?d===0?l<16384?l<128?1:2:l<2097152?3:4:d<16384?d<128?5:6:d<2097152?7:8:h<128?9:10},longbits}function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(e){var n=e;function r(s,l,d){for(var h=Object.keys(l),p=0;p<h.length;++p)s[h[p]]!==void 0&&d||(s[h[p]]=l[h[p]]);return s}function o(s){function l(d,h){if(!(this instanceof l))return new l(d,h);Object.defineProperty(this,"message",{get:function(){return d}}),Error.captureStackTrace?Error.captureStackTrace(this,l):Object.defineProperty(this,"stack",{value:new Error().stack||""}),h&&r(this,h)}return(l.prototype=Object.create(Error.prototype)).constructor=l,Object.defineProperty(l.prototype,"name",{get:function(){return s}}),l.prototype.toString=function(){return this.name+": "+this.message},l}n.asPromise=requireAspromise(),n.base64=requireBase64(),n.EventEmitter=requireEventemitter(),n.float=requireFloat(),n.inquire=requireInquire(),n.utf8=requireUtf8(),n.pool=requirePool(),n.LongBits=requireLongbits(),n.isNode=!!(commonjsGlobal!==void 0&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),n.global=n.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(s){return typeof s=="number"&&isFinite(s)&&Math.floor(s)===s},n.isString=function(s){return typeof s=="string"||s instanceof String},n.isObject=function(s){return s&&typeof s=="object"},n.isset=n.isSet=function(s,l){var d=s[l];return!(d==null||!s.hasOwnProperty(l))&&(typeof d!="object"||(Array.isArray(d)?d.length:Object.keys(d).length)>0)},n.Buffer=function(){try{var s=n.inquire("buffer").Buffer;return s.prototype.utf8Write?s:null}catch{return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(s){return typeof s=="number"?n.Buffer?n._Buffer_allocUnsafe(s):new n.Array(s):n.Buffer?n._Buffer_from(s):typeof Uint8Array>"u"?s:new Uint8Array(s)},n.Array=typeof Uint8Array<"u"?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(s){return s?n.LongBits.from(s).toHash():n.LongBits.zeroHash},n.longFromHash=function(s,l){var d=n.LongBits.fromHash(s);return n.Long?n.Long.fromBits(d.lo,d.hi,l):d.toNumber(!!l)},n.merge=r,n.lcFirst=function(s){return s.charAt(0).toLowerCase()+s.substring(1)},n.newError=o,n.ProtocolError=o("ProtocolError"),n.oneOfGetter=function(s){for(var l={},d=0;d<s.length;++d)l[s[d]]=1;return function(){for(var h=Object.keys(this),p=h.length-1;p>-1;--p)if(l[h[p]]===1&&this[h[p]]!==void 0&&this[h[p]]!==null)return h[p]}},n.oneOfSetter=function(s){return function(l){for(var d=0;d<s.length;++d)s[d]!==l&&delete this[s[d]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var s=n.Buffer;s?(n._Buffer_from=s.from!==Uint8Array.from&&s.from||function(l,d){return new s(l,d)},n._Buffer_allocUnsafe=s.allocUnsafe||function(l){return new s(l)}):n._Buffer_from=n._Buffer_allocUnsafe=null}}(minimal$1)),minimal$1}var writer=Writer$1,util$4=requireMinimal(),BufferWriter$1,LongBits$1=util$4.LongBits,base64=util$4.base64,utf8$1=util$4.utf8;function Op(e,n,r){this.fn=e,this.len=n,this.next=void 0,this.val=r}function noop(){}function State$2(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$1=function(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};function writeByte(e,n,r){n[r]=255&e}function writeVarint32(e,n,r){for(;e>127;)n[r++]=127&e|128,e>>>=7;n[r]=e}function VarintOp(e,n){this.len=e,this.next=void 0,this.val=n}function writeVarint64(e,n,r){for(;e.hi;)n[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)n[r++]=127&e.lo|128,e.lo=e.lo>>>7;n[r++]=e.lo}function writeFixed32(e,n,r){n[r]=255&e,n[r+1]=e>>>8&255,n[r+2]=e>>>16&255,n[r+3]=e>>>24}Writer$1.create=create$1(),Writer$1.alloc=function(e){return new util$4.Array(e)},util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray)),Writer$1.prototype._push=function(e,n,r){return this.tail=this.tail.next=new Op(e,n,r),this.len+=n,this},VarintOp.prototype=Object.create(Op.prototype),VarintOp.prototype.fn=writeVarint32,Writer$1.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new VarintOp((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},Writer$1.prototype.int32=function(e){return e<0?this._push(writeVarint64,10,LongBits$1.fromNumber(e)):this.uint32(e)},Writer$1.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},Writer$1.prototype.uint64=function(e){var n=LongBits$1.from(e);return this._push(writeVarint64,n.length(),n)},Writer$1.prototype.int64=Writer$1.prototype.uint64,Writer$1.prototype.sint64=function(e){var n=LongBits$1.from(e).zzEncode();return this._push(writeVarint64,n.length(),n)},Writer$1.prototype.bool=function(e){return this._push(writeByte,1,e?1:0)},Writer$1.prototype.fixed32=function(e){return this._push(writeFixed32,4,e>>>0)},Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32,Writer$1.prototype.fixed64=function(e){var n=LongBits$1.from(e);return this._push(writeFixed32,4,n.lo)._push(writeFixed32,4,n.hi)},Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64,Writer$1.prototype.float=function(e){return this._push(util$4.float.writeFloatLE,4,e)},Writer$1.prototype.double=function(e){return this._push(util$4.float.writeDoubleLE,8,e)};var writeBytes=util$4.Array.prototype.set?function(e,n,r){n.set(e,r)}:function(e,n,r){for(var o=0;o<e.length;++o)n[r+o]=e[o]};Writer$1.prototype.bytes=function(e){var n=e.length>>>0;if(!n)return this._push(writeByte,1,0);if(util$4.isString(e)){var r=Writer$1.alloc(n=base64.length(e));base64.decode(e,r,0),e=r}return this.uint32(n)._push(writeBytes,n,e)},Writer$1.prototype.string=function(e){var n=utf8$1.length(e);return n?this.uint32(n)._push(utf8$1.write,n,e):this._push(writeByte,1,0)},Writer$1.prototype.fork=function(){return this.states=new State$2(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this},Writer$1.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this},Writer$1.prototype.ldelim=function(){var e=this.head,n=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=n,this.len+=r),this},Writer$1.prototype.finish=function(){for(var e=this.head.next,n=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,n,r),r+=e.len,e=e.next;return n},Writer$1._configure=function(e){BufferWriter$1=e,Writer$1.create=create$1(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=requireMinimal();function BufferWriter(){Writer.call(this)}function writeStringBuffer(e,n,r){e.length<40?util$3.utf8.write(e,n,r):n.utf8Write?n.utf8Write(e,r):n.write(e,r)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&util$3.Buffer.prototype.set.name==="set"?function(e,n,r){n.set(e,r)}:function(e,n,r){if(e.copy)e.copy(n,r,0,e.length);else for(var o=0;o<e.length;)n[r++]=e[o++]}},BufferWriter.prototype.bytes=function(e){util$3.isString(e)&&(e=util$3._Buffer_from(e,"base64"));var n=e.length>>>0;return this.uint32(n),n&&this._push(BufferWriter.writeBytesBuffer,n,e),this},BufferWriter.prototype.string=function(e){var n=util$3.Buffer.byteLength(e);return this.uint32(n),n&&this._push(writeStringBuffer,n,e),this},BufferWriter._configure();var reader=Reader$1,util$2=requireMinimal(),BufferReader$1,LongBits=util$2.LongBits,utf8=util$2.utf8;function indexOutOfRange(e,n){return RangeError("index out of range: "+e.pos+" + "+(n||1)+" > "+e.len)}function Reader$1(e){this.buf=e,this.pos=0,this.len=e.length}var create_array=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Reader$1(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Reader$1(e);throw Error("illegal buffer")},create=function(){return util$2.Buffer?function(e){return(Reader$1.create=function(n){return util$2.Buffer.isBuffer(n)?new BufferReader$1(n):create_array(n)})(e)}:create_array},value;function readLongVarint(){var e=new LongBits(0,0),n=0;if(!(this.len-this.pos>4)){for(;n<3;++n){if(this.pos>=this.len)throw indexOutOfRange(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*n)>>>0,e}for(;n<4;++n)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(n=0,this.len-this.pos>4){for(;n<5;++n)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return e}else for(;n<5;++n){if(this.pos>=this.len)throw indexOutOfRange(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function readFixed32_end(e,n){return(e[n-4]|e[n-3]<<8|e[n-2]<<16|e[n-1]<<24)>>>0}function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.create=create(),Reader$1.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice,Reader$1.prototype.uint32=(value=4294967295,function(){if(value=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(value=(value|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(value=(value|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(value=(value|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(value=(value|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return value;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return value}),Reader$1.prototype.int32=function(){return 0|this.uint32()},Reader$1.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)},Reader$1.prototype.bool=function(){return this.uint32()!==0},Reader$1.prototype.fixed32=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)},Reader$1.prototype.sfixed32=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return 0|readFixed32_end(this.buf,this.pos+=4)},Reader$1.prototype.float=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var e=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},Reader$1.prototype.double=function(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var e=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},Reader$1.prototype.bytes=function(){var e=this.uint32(),n=this.pos,r=this.pos+e;if(r>this.len)throw indexOutOfRange(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(n,r):n===r?new this.buf.constructor(0):this._slice.call(this.buf,n,r)},Reader$1.prototype.string=function(){var e=this.bytes();return utf8.read(e,0,e.length)},Reader$1.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw indexOutOfRange(this,e);this.pos+=e}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(128&this.buf[this.pos++]);return this},Reader$1.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(e=7&this.uint32())!=4;)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},Reader$1._configure=function(e){BufferReader$1=e,Reader$1.create=create(),BufferReader$1._configure();var n=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[n](!1)},uint64:function(){return readLongVarint.call(this)[n](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[n](!1)},fixed64:function(){return readFixed64.call(this)[n](!0)},sfixed64:function(){return readFixed64.call(this)[n](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$1=requireMinimal();function BufferReader(e){Reader.call(this,e)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)},BufferReader.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},BufferReader._configure();var rpc={},service=Service,util=requireMinimal(),exports;function Service(e,n,r){if(typeof e!="function")throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!n,this.responseDelimited=!!r}(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service,Service.prototype.rpcCall=function e(n,r,o,s,l){if(!s)throw TypeError("request must be specified");var d=this;if(!l)return util.asPromise(e,d,n,r,o,s);if(d.rpcImpl)try{return d.rpcImpl(n,r[d.requestDelimited?"encodeDelimited":"encode"](s).finish(),function(h,p){if(h)return d.emit("error",h,n),l(h);if(p!==null){if(!(p instanceof o))try{p=o[d.responseDelimited?"decodeDelimited":"decode"](p)}catch(g){return d.emit("error",g,n),l(g)}return d.emit("data",p,n),l(null,p)}d.end(!0)})}catch(h){return d.emit("error",h,n),void setTimeout(function(){l(h)},0)}else setTimeout(function(){l(Error("already ended"))},0)},Service.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},exports=rpc,exports.Service=service;var roots={};(function(e){var n=e;function r(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=writer,n.BufferWriter=writer_buffer,n.Reader=reader,n.BufferReader=reader_buffer,n.util=requireMinimal(),n.rpc=rpc,n.roots=roots,n.configure=r,r()})(indexMinimal);var minimal=indexMinimal,protobuf=getDefaultExportFromCjs(minimal);protobuf.util.Long=Long$1,protobuf.configure(),VectorTileFeature.prototype.loadGeometry=function(e){var n=this._pbf;n.pos=this._geometry;for(var r,o=n.readVarint()+n.pos,s=1,l=0,d=0,h=0,p=[];n.pos<o;){if(l<=0){var g=n.readVarint();s=7&g,l=g>>3}if(l--,s===1||s===2)d+=n.readSVarint(),h+=n.readSVarint(),s===1&&(r&&p.push(r),r=[]),r.push([d*e,h*e]);else{if(s!==7)throw new Error("unknown command "+s);r&&r.push(r[0].slice())}}return r&&p.push(r),p};var MAX_SAFE_INTEGER=Long$1.fromNumber(Number.MAX_SAFE_INTEGER,!0),MIN_SAFE_INTEGER=Long$1.fromNumber(Number.MIN_SAFE_INTEGER,!1);function readLong(e,n,r){n.pos=e.pos;var o=r.call(n);return e.pos=n.pos,Long$1.isLong(o)?o.comp(MAX_SAFE_INTEGER)>0||o.comp(MIN_SAFE_INTEGER)<0?o.toString():o.toNumber():o}var VectorTileLayer=function(){return _createClass(function e(n,r){_classCallCheck(this,e),this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=n,this._keys=[],this._values=[],this._features=[],this._protobufjsReader=protobuf.Reader.create(n.buf),n.readFields(readLayer,this,r),this.length=this._features.length},[{key:"feature",value:function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var n=this._pbf.readVarint()+this._pbf.pos;return new VectorTileFeature(this._pbf,n,this.extent,this._keys,this._values)}}])}();function readLayer(e,n,r){e===15?n.version=r.readVarint():e===1?n.name=r.readString():e===5?n.extent=r.readVarint():e===2?n._features.push(r.pos):e===3?n._keys.push(r.readString()):e===4&&n._values.push(readValueMessage(r,n._protobufjsReader))}function readValueMessage(e,n){for(var r=null,o=e.readVarint()+e.pos;e.pos<o;){var s=e.readVarint()>>3;r=s===1?e.readString():s===2?e.readFloat():s===3?e.readDouble():s===4?readLong(e,n,n.int64):s===5?readLong(e,n,n.uint64):s===6?readLong(e,n,n.sint64):s===7?e.readBoolean():null}return r}var VectorTile=_createClass(function e(n,r){_classCallCheck(this,e),this.layers=n.readFields(readTile,{},r)});function readTile(e,n,r){if(e===3){var o=new VectorTileLayer(r,r.readVarint()+r.pos);o.length&&(n[o.name]=o)}}function getLayersFromMVT(e){var n={};for(var r in e.layers){for(var o=e.layers[r],s=[],l=Geo$1.tile_scale/o.extent,d=0,h=o.length;d<h;d++){var p,g=o.feature(d),y=VectorTileFeature.types[g.type];p=g.loadGeometry(l);var v=null;switch(y){case"Point":v=decodePoint({coordinates:p});break;case"LineString":v=p.length===1?{type:y,coordinates:p[0]}:{type:"MultiLineString",coordinates:p};break;case"Polygon":v=decodeMultiPolygon({coordinates:p})}v&&v.coordinates&&s.push({type:"Feature",geometry:v,properties:g.properties})}n[r]={type:"FeatureCollection",features:s}}return n}var GeomType={UNKNOWN:0,POINT:1,LINESTRING:2,POLYGON:3};function parseGeoJSONVectorTile(e){var n=[],r=e&&e.features;if(r)for(var o=0,s=r.length;o<s;o++){var l=r[o],d=l.type,h=void 0;switch(d){case GeomType.POINT:h={type:"MultiPoint",coordinates:l.geometry.map(function(p){return p.slice()})};break;case GeomType.LINESTRING:case GeomType.POLYGON:if(h={type:"MultiLineString",coordinates:l.geometry.map(function(p){return p.map(function(g){return g.slice()})})},d===GeomType.POLYGON&&(h=decodeMultiPolygon(h))==null)continue;break;default:continue}n.push({id:l.id,type:"Feature",geometry:h,properties:l.tags})}return{type:"FeatureCollection",features:n}}function decodeMultiPolygon(e){for(var n,r=[],o=[],s=0,l=e.coordinates.length;s<l;s++){var d=e.coordinates[s],h=Geo$1.ringWinding(d);h!=null&&(h===(n=n||h)&&o.length&&(r.push(o),o=[]),o.push(d))}return o.length>0&&r.push(o),r.length===1?(e.type="Polygon",e.coordinates=r[0]):r.length>1?(e.type="MultiPolygon",e.coordinates=r):e=null,e}function decodePoint(e){var n=e.coordinates.length;if(n>1){e.type="MultiPoint";for(var r=[],o=0;o<n;o++)r.push(e.coordinates[o][0]);e.coordinates=r}else e.type="Point",e.coordinates=e.coordinates[0][0];return e}var EMPTY_FEATURE_COLLECTION$1={type:"FeatureCollection",features:[]},MVTSource=function(e){function n(r,o){return _classCallCheck(this,n),r.tiled=!0,_callSuper(this,n,[r,o])}return _inherits(n,e),_createClass(n,[{key:"fetchTile",value:function(r,o,s){return this.provider?this.provider.requestTileAsPromise(r,o,s).then(function(l){return l.data}):Promise.resolve()}},{key:"_load",value:function(r){var o=this,s=Geo$1.wrapTile(r.coords,{x:!0,y:!0}),l=s.x,d=s.y,h=s.z;return WorkerBroker.postMessage(this.target_name+".fetchTile",l,d,h).then(function(p){if(p instanceof ArrayBuffer){var g=new Pbf$1(new Uint8Array(p));r.source_data.layers=getLayersFromMVT(new VectorTile(g))}else p?r.source_data.error=p:r.source_data.layers={_default:EMPTY_FEATURE_COLLECTION$1};return o._postProcessTile(r),r})}},{key:"onReady",value:function(){this.dispatchUpdate()}}])}(MapsJsSource);DataSource.register(MVTSource,"MVT"),DataSource.register(MVTSource,"OMV");var csscolorparser={},parseCSSColor_1,kCSSColorTable={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function clamp_css_byte(e){return(e=Math.round(e))<0?0:e>255?255:e}function clamp_css_float(e){return e<0?0:e>1?1:e}function parse_css_int(e){return e[e.length-1]==="%"?clamp_css_byte(parseFloat(e)/100*255):clamp_css_byte(parseInt(e))}function parse_css_float(e){return e[e.length-1]==="%"?clamp_css_float(parseFloat(e)/100):clamp_css_float(parseFloat(e))}function css_hue_to_rgb(e,n,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?e+(n-e)*r*6:2*r<1?n:3*r<2?e+(n-e)*(.6666666666666666-r)*6:e}function parseCSSColor(e){var n,r=e.replace(/ /g,"").toLowerCase();if(r in kCSSColorTable)return kCSSColorTable[r].slice();if(r[0]==="#")return r.length===4?(n=parseInt(r.substr(1),16))>=0&&n<=4095?[(3840&n)>>4|(3840&n)>>8,240&n|(240&n)>>4,15&n|(15&n)<<4,1]:null:r.length===7&&(n=parseInt(r.substr(1),16))>=0&&n<=16777215?[(16711680&n)>>16,(65280&n)>>8,255&n,1]:null;var o=r.indexOf("("),s=r.indexOf(")");if(o!==-1&&s+1===r.length){var l=r.substr(0,o),d=r.substr(o+1,s-(o+1)).split(","),h=1;switch(l){case"rgba":if(d.length!==4)return null;h=parse_css_float(d.pop());case"rgb":return d.length!==3?null:[parse_css_int(d[0]),parse_css_int(d[1]),parse_css_int(d[2]),h];case"hsla":if(d.length!==4)return null;h=parse_css_float(d.pop());case"hsl":if(d.length!==3)return null;var p=(parseFloat(d[0])%360+360)%360/360,g=parse_css_float(d[1]),y=parse_css_float(d[2]),v=y<=.5?y*(g+1):y+g-y*g,w=2*y-v;return[clamp_css_byte(255*css_hue_to_rgb(w,v,p+.3333333333333333)),clamp_css_byte(255*css_hue_to_rgb(w,v,p)),clamp_css_byte(255*css_hue_to_rgb(w,v,p-.3333333333333333)),h];default:return null}}return null}try{parseCSSColor_1=csscolorparser.parseCSSColor=parseCSSColor}catch(e){}var StyleParser={},clampPositive=function(e){return Math.max(e,0)},noNaN=function(e){return isNaN(e)?0:e},parseNumber=function(e){return Array.isArray(e)?e.map(parseFloat).map(noNaN):noNaN(parseFloat(e))},parsePositiveNumber=function(e){return Array.isArray(e)?e.map(parseNumber).map(clampPositive):clampPositive(parseNumber(e))};Object.assign(StyleParser,{clampPositive,noNaN,parseNumber,parsePositiveNumber}),StyleParser.wrapFunction=function(e){return`
        var feature = context.feature.properties;
        var global = context.global;
        var $zoom = context.zoom;
        var $layer = context.layer;
        var $source = context.source;
        var sources = context.sources;
        var $geometry = context.geometry;
        var $meters_per_pixel = context.meters_per_pixel;

        var val = (function(){ `.concat(e,` }());

        if (typeof val === 'number' && isNaN(val)) {
            val = null; // convert NaNs to nulls
        }

        return val;
    `)},StyleParser.zeroPair=Object.freeze([0,0]),StyleParser.defaults={color:[1,1,1,1],width:1,size:1,extrude:!1,height:20,min_height:0,order:0,z:0,outline:{color:[0,0,0,0],width:0},material:{ambient:1,diffuse:1}},StyleParser.macros={"Style.color.pseudoRandomColor":function(){return[parseInt(feature.id,16)/100%1*.7,parseInt(feature.id,16)/1e4%1*.7,parseInt(feature.id,16)/1e6%1*.7,1]},"Style.color.randomColor":function(){return[.7*Math.random(),.7*Math.random(),.7*Math.random(),1]}},StyleParser.getFeatureParseContext=function(e,n,r,o){return{feature:e,tile:n,global:r,sources:o,zoom:n.style_zoom,geometry:Geo$1.geometryType(e.geometry.type),meters_per_pixel:n.meters_per_pixel,meters_per_pixel_sq:n.meters_per_pixel_sq,units_per_meter_overzoom:n.units_per_meter_overzoom}};var CACHE_TYPE={STATIC:0,DYNAMIC:1,ZOOM:2};StyleParser.CACHE_TYPE=CACHE_TYPE,StyleParser.createPropertyCache=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(e!=null){if(e.value)return{value:e.value,zoom:e.zoom?{}:null,type:e.type};var r={value:e,type:CACHE_TYPE.STATIC};return Array.isArray(r.value)&&Array.isArray(r.value[0])?(r.zoom={},r.type=CACHE_TYPE.ZOOM):typeof r.value=="function"&&(r.type=CACHE_TYPE.DYNAMIC),typeof n=="function"&&(r.zoom?r.value=r.value.map(function(o,s){return[o[0],n(o[1],s)]}):typeof r.value!="function"&&(r.value=n(r.value,0))),r}},StyleParser.createColorPropertyCache=function(e){return StyleParser.createPropertyCache(e,function(n){return n==="Style.color.pseudoRandomColor"?Utils$1.stringToFunction(StyleParser.wrapFunction(StyleParser.macros["Style.color.pseudoRandomColor"])):n==="Style.color.randomColor"?StyleParser.macros["Style.color.randomColor"]:n})};var isPercent=function(e){return typeof e=="string"&&e[e.length-1]==="%"},isRatio=function(e){return e==="auto"},isComputed=function(e){return isPercent(e)||isRatio(e)},dualRatioError="'size' can specify either width or height as derived from aspect ratio, but not both";StyleParser.createPointSizePropertyCache=function(e){var n=null,r=null;if(isPercent(e))n=[!0];else if(Array.isArray(e)){if(Array.isArray(e[0])){if(e.some(function(o){return Array.isArray(o[1])?o[1].some(function(s){return isComputed(s)}):isPercent(o[1])})&&(n=e.map(function(o){return Array.isArray(o[1])?o[1].map(function(s){return isPercent(s)}):isPercent(o[1])}),(r=e.map(function(o){return Array.isArray(o[1])&&o[1].map(function(s){return isRatio(s)})})).some(function(o){return Array.isArray(o)&&o.every(function(s){return s})})))throw dualRatioError}else if(e.some(isComputed)&&(n=[e.map(isPercent)],(r=[e.map(isRatio)])[0].every(function(o){return o})))throw dualRatioError}return n?((e={value:e}).has_pct=n,e.has_ratio=r,e.sprites={}):e=StyleParser.createPropertyCache(e,parsePositiveNumber),e},StyleParser.evalCachedPointSizeProperty=function(e,n,r){return e.has_pct||e.has_ratio?n?(e.sprites[n.sprite]||(e.sprites[n.sprite]=StyleParser.createPropertyCache(e.value,function(o,s){return Array.isArray(o)?(o=o.map(function(l,d){return e.has_ratio[s][d]?l:parsePositiveNumber(l)}).map(function(l,d){return e.has_pct[s][d]?n.css_size[d]*l/100:l}),e.has_ratio[s][0]?o[0]=o[1]*n.aspect:e.has_ratio[s][1]&&(o[1]=o[0]/n.aspect)):(o=parsePositiveNumber(o),o=e.has_pct[s]?n.css_size.map(function(l){return l*o/100}):[o,o]),o})),StyleParser.evalCachedProperty(e.sprites[n.sprite],r)):void 0:StyleParser.evalCachedProperty(e,r)},StyleParser.evalCachedProperty=function(e,n){if(e!=null)return e.dynamic?e.dynamic(n):e.static?e.static:e.zoom&&e.zoom[n.zoom]?e.zoom[n.zoom]:typeof e.value=="function"?(e.dynamic=e.value,e.dynamic(n)):Array.isArray(e.value)&&Array.isArray(e.value[0])?(e.zoom=e.zoom||{},e.zoom[n.zoom]=Utils$1.interpolate(n.zoom,e.value),e.zoom[n.zoom]):(e.static=e.value,e.static)},StyleParser.convertUnits=function(e,n){if(e.val!=null)return e.units==="px"?e.val*Geo$1.metersPerPixel(n.zoom):e.val;if(typeof e=="string")e.trim().slice(-2)==="px"?(e=parseNumber(e),e*=Geo$1.metersPerPixel(n.zoom)):e=parseNumber(e);else if(Array.isArray(e))return Array.isArray(e[0])?e.map(function(r){return[r[0],StyleParser.convertUnits(r[1],n)]}):e.map(function(r){return StyleParser.convertUnits(r,n)});return e},StyleParser.parseUnits=function(e){var n={val:parseNumber(e)};return n.val!==0&&typeof e=="string"&&e.trim().slice(-2)==="px"&&(n.units="px"),n},StyleParser.evalCachedDistanceProperty=function(e,n){return e.dynamic?e.dynamic(n):e.zoom&&e.zoom[n.zoom]?e.zoom[n.zoom]:typeof e.value=="function"?(e.dynamic=e.value,e.dynamic(n)):e.zoom?(e.zoom[n.zoom]=Utils$1.interpolate(n.zoom,e.value,function(r){return StyleParser.convertUnits(r,n)}),e.zoom[n.zoom]):StyleParser.convertUnits(e.value,n)},StyleParser.string_colors={},StyleParser.colorForString=function(e){if(StyleParser.string_colors[e])return StyleParser.string_colors[e];var n=null;return e!=="none"&&((n=csscolorparser.parseCSSColor(e))&&n.length===4?(n[0]/=255,n[1]/=255,n[2]/=255):n=StyleParser.defaults.color),StyleParser.string_colors[e]=n,n},StyleParser.evalCachedColorProperty=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e.dynamic){var r=e.dynamic(n);return typeof r=="string"&&(r=StyleParser.colorForString(r)),r&&r[3]==null&&(r[3]=1),r}if(e.static)return e.static;if(e.zoom&&e.zoom[n.zoom])return e.zoom[n.zoom];if(typeof e.value=="function"){e.dynamic=e.value;var o=e.dynamic(n);return typeof o=="string"&&(o=StyleParser.colorForString(o)),o&&o[3]==null&&(o[3]=1),o}if(typeof e.value=="string")return e.static=StyleParser.colorForString(e.value),e.static;if(e.zoom){if(!e.zoom_preprocessed){for(var s=0;s<e.value.length;s++){var l=e.value[s];l&&typeof l[1]=="string"&&(l[1]=StyleParser.colorForString(l[1]))}e.zoom_preprocessed=!0}return e.zoom[n.zoom]=Utils$1.interpolate(n.zoom,e.value),e.zoom[n.zoom][3]=e.zoom[n.zoom][3]||1,e.zoom[n.zoom]}return e.static=e.value.map(function(d){return d}),e.static&&e.static[3]==null&&(e.static[3]=1),e.static},StyleParser.parseColor=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof e=="function"&&(e=e(n)),typeof e=="string")e=StyleParser.colorForString(e);else if(Array.isArray(e)&&Array.isArray(e[0])){for(var r=0;r<e.length;r++){var o=e[r];typeof o[1]=="string"&&(o[1]=StyleParser.colorForString(o[1]))}n.zoom&&(e=Utils$1.interpolate(n.zoom,e))}return Array.isArray(e)?(e=e.map(function(s){return s}))[3]==null&&(e[3]=1):e=[0,0,0,1],e},StyleParser.calculateOrder=function(e,n){return typeof e=="function"?e=e(n):typeof e=="string"&&(e=n.feature.properties[e]?n.feature.properties[e]:parsePositiveNumber(e)),e},StyleParser.evalProperty=function(e,n){return typeof e=="function"?e(n):e};var RepeatGroup=function(){function e(n,r){_classCallCheck(this,e),this.key=n,this.repeat_dist=r,this.repeat_dist_sq=this.repeat_dist*this.repeat_dist,this.positions=[]}return _createClass(e,[{key:"check",value:function(n){for(var r=n.position,o=0;o<this.positions.length;o++){var s=this.positions[o],l=r[0]-s[0],d=r[1]-s[1],h=l*l+d*d;if(h<this.repeat_dist_sq)return{dist_sq:h,repeat_dist_sq:this.repeat_dist_sq}}}},{key:"add",value:function(n){n&&n.position&&this.positions.push(n.position)}}],[{key:"clear",value:function(n){this.groups[n]={}}},{key:"check",value:function(n,r,o){if(r.repeat_distance&&r.repeat_group&&this.groups[o][r.repeat_group])return this.groups[o][r.repeat_group].check(n)}},{key:"add",value:function(n,r,o){r.repeat_distance&&r.repeat_group&&(this.groups[o][r.repeat_group]==null&&(this.groups[o][r.repeat_group]=new e(r.repeat_group,r.repeat_distance*r.repeat_scale)),this.groups[o][r.repeat_group].add(n))}}])}();RepeatGroup.groups={};var GridIndex=function(){return _createClass(function e(n,r,o){_classCallCheck(this,e);var s=this.boxCells=[],l=this.circleCells=[];this.xCellCount=Math.ceil(n/o),this.yCellCount=Math.ceil(r/o);for(var d=0;d<this.xCellCount*this.yCellCount;d++)s.push([]),l.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=n,this.height=r,this.xScale=this.xCellCount/n,this.yScale=this.yCellCount/r,this.boxUid=0,this.circleUid=0},[{key:"keysLength",value:function(){return this.boxKeys.length+this.circleKeys.length}},{key:"insert",value:function(e,n,r,o,s){this._forEachCell(n,r,o,s,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(o),this.bboxes.push(s)}},{key:"insertCircle",value:function(e,n,r,o){this._forEachCell(n-o,r-o,n+o,r+o,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(n),this.circles.push(r),this.circles.push(o)}},{key:"insertCircleList",value:function(e,n){for(var r=0;r<n.length-2;r+=3)this.insertCircle("".concat(e,"/").concat(r),n[r],n[r+1],n[r+2])}},{key:"_insertBoxCell",value:function(e,n,r,o,s,l){this.boxCells[s].push(l)}},{key:"_insertCircleCell",value:function(e,n,r,o,s,l){this.circleCells[s].push(l)}},{key:"_query",value:function(e,n,r,o,s,l){if(r<0||e>this.width||o<0||n>this.height)return!s&&[];var d=[];if(e<=0&&n<=0&&this.width<=r&&this.height<=o){if(s)return!0;for(var h=0;h<this.boxKeys.length;h++)d.push({key:this.boxKeys[h],x1:this.bboxes[4*h],y1:this.bboxes[4*h+1],x2:this.bboxes[4*h+2],y2:this.bboxes[4*h+3]});for(var p=0;p<this.circleKeys.length;p++){var g=this.circles[3*p],y=this.circles[3*p+1],v=this.circles[3*p+2];d.push({key:this.circleKeys[p],x1:g-v,y1:y-v,x2:g+v,y2:y+v})}return l?d.filter(l):d}var w={hitTest:s,seenUids:{box:{},circle:{}}};return this._forEachCell(e,n,r,o,this._queryCell,d,w,l),s?d.length>0:d}},{key:"_queryCircle",value:function(e,n,r,o,s){var l=e-r,d=e+r,h=n-r,p=n+r;if(d<0||l>this.width||p<0||h>this.height)return!o&&[];var g=[],y={hitTest:o,circle:{x:e,y:n,radius:r},seenUids:{box:{},circle:{}}};return this._forEachCell(l,h,d,p,this._queryCellCircle,g,y,s),o?g.length>0:g}},{key:"query",value:function(e,n,r,o,s){return this._query(e,n,r,o,!1,s)}},{key:"hitTest",value:function(e,n,r,o,s){return this._query(e,n,r,o,!0,s)}},{key:"hitTestCircle",value:function(e,n,r,o){return this._queryCircle(e,n,r,!0,o)}},{key:"hitTestCircleList",value:function(e,n){for(var r=0;r<e.length-2;r+=3)if(this.hitTestCircle(e[r],e[r+1],e[r+2],n))return!0;return!1}},{key:"_queryCell",value:function(e,n,r,o,s,l,d,h){var p=d.seenUids,g=this.boxCells[s];if(g!==null){var y,v=this.bboxes,w=_createForOfIteratorHelper(g);try{for(w.s();!(y=w.n()).done;){var k=y.value;if(!p.box[k]){p.box[k]=!0;var F=4*k;if(e<=v[F+2]&&n<=v[F+3]&&r>=v[F+0]&&o>=v[F+1]&&(!h||h(this.boxKeys[k]))){if(d.hitTest)return l.push(!0),!0;l.push({key:this.boxKeys[k],x1:v[F],y1:v[F+1],x2:v[F+2],y2:v[F+3]})}}}}catch(c1){w.e(c1)}finally{w.f()}}var q=this.circleCells[s];if(q!==null){var _r,ga=this.circles,La=_createForOfIteratorHelper(q);try{for(La.s();!(_r=La.n()).done;){var jc=_r.value;if(!p.circle[jc]){p.circle[jc]=!0;var _l=3*jc;if(this._circleAndRectCollide(ga[_l],ga[_l+1],ga[_l+2],e,n,r,o)&&(!h||h(this.circleKeys[jc]))){if(d.hitTest)return l.push(!0),!0;var e1=ga[_l],n1=ga[_l+1],d1=ga[_l+2];l.push({key:this.circleKeys[jc],x1:e1-d1,y1:n1-d1,x2:e1+d1,y2:n1+d1})}}}}catch(c1){La.e(c1)}finally{La.f()}}}},{key:"_queryCellCircle",value:function(e,n,r,o,s,l,d,h){var p=d.circle,g=d.seenUids,y=this.boxCells[s];if(y!==null){var v,w=this.bboxes,k=_createForOfIteratorHelper(y);try{for(k.s();!(v=k.n()).done;){var F=v.value;if(!g.box[F]){g.box[F]=!0;var q=4*F;if(this._circleAndRectCollide(p.x,p.y,p.radius,w[q+0],w[q+1],w[q+2],w[q+3])&&(!h||h(this.boxKeys[F])))return l.push(!0),!0}}}catch(n1){k.e(n1)}finally{k.f()}}var _r=this.circleCells[s];if(_r!==null){var ga,La=this.circles,jc=_createForOfIteratorHelper(_r);try{for(jc.s();!(ga=jc.n()).done;){var _l=ga.value;if(!g.circle[_l]){g.circle[_l]=!0;var e1=3*_l;if(this._circlesCollide(La[e1],La[e1+1],La[e1+2],p.x,p.y,p.radius)&&(!h||h(this.circleKeys[_l])))return l.push(!0),!0}}}catch(n1){jc.e(n1)}finally{jc.f()}}}},{key:"_forEachCell",value:function(e,n,r,o,s,l,d,h){for(var p=this._convertToXCellCoord(e),g=this._convertToYCellCoord(n),y=this._convertToXCellCoord(r),v=this._convertToYCellCoord(o),w=p;w<=y;w++)for(var k=g;k<=v;k++){var F=this.xCellCount*k+w;if(s.call(this,e,n,r,o,F,l,d,h))return}}},{key:"_convertToXCellCoord",value:function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}},{key:"_convertToYCellCoord",value:function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}},{key:"_circlesCollide",value:function(e,n,r,o,s,l){var d=o-e,h=s-n,p=r+l;return p*p>d*d+h*h}},{key:"_circleAndRectCollide",value:function(e,n,r,o,s,l,d){var h=(l-o)/2,p=Math.abs(e-(o+h));if(p>h+r)return!1;var g=(d-s)/2,y=Math.abs(n-(s+g));if(y>g+r)return!1;if(p<=h||y<=g)return!0;var v=p-h,w=y-g;return v*v+w*w<=r*r}}])}(),CollisionUtils={toDiscardLabel:function(e,n,r,o){var s;if(o&&(s=function(d1){return d1!==o.id}),!n){if(e.type==="point"&&!e.angle){var l=e.getAABB(),d=l.left,h=l.top,p=l.right,g=l.bottom;if(r.hitTest(d,-h,p,-g,s)){if(Array.isArray(e.layout.anchor))for(var y=1;y<e.layout.anchor.length;y++){e.setAnchor(e.layout.anchor[y]);var v=e.getAABB(),w=v.left,k=v.top,F=v.right,q=v.bottom;if(!r.hitTest(w,-k,F,-q,s))return!1}return!0}return!1}var _r=e.getBoundingCircles();return r.hitTestCircleList(_r,s)}if(n){if(e.type==="point"&&!e.isFlat()){var ga=e.getScreenSpaceBoundingBox(),La=ga.left,jc=ga.top,_l=ga.right,e1=ga.bottom;return r.hitTest(La,jc,_l,e1,s)}var n1=e.getBoundingCircles();return r.hitTestCircleList(n1,s)}return!1},addLabel:function(e,n,r){var o=e.id;if(e.placed=!0,!n)if(e.type!=="point"||e.angle){var s=e.getBoundingCircles();r.insertCircleList(o,s)}else{var l=e.getAABB(),d=l.left,h=l.top,p=l.right,g=l.bottom;r.insert(o,d,-h,p,-g)}if(n)if(e.type!=="point"||e.isFlat()){var y=e.getBoundingCircles();r.insertCircleList(o,y)}else{var v=e.getScreenSpaceBoundingBox(),w=v.left,k=v.top,F=v.right,q=v.bottom;r.insert(o,w,k,F,q)}}},Collision={tiles:{},startTile:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.apply_repeat_groups,o=r===void 0||r,s=n.return_hidden,l=s!==void 0&&s,d=n.grid_index,h=d===void 0?null:d,p=this.tiles[e]={grid_index:h||new GridIndex(Geo$1.tile_scale,Geo$1.tile_scale,240),objects:{},labels:{},styles:{},repeat:o,return_hidden:l};p.complete==null&&(p.complete=new Promise(function(g,y){p.resolve=g,p.reject=y}))},resetTile:function(e){delete this.tiles[e]},abortTile:function(e){this.tiles[e]&&this.tiles[e].resolve&&this.tiles[e].resolve([]),this.resetTile(e)},addStyle:function(e,n){this.tiles[n].styles[e]=!0},collide:function(e,n,r){var o=this.tiles[r];if(!o)return Promise.resolve([]);for(var s=o.objects,l=0;l<e.length;l++){var d=e[l],h=d.label.layout.priority;s[h]=s[h]||{},s[h][n]=s[h][n]||[],s[h][n].push(d)}return delete o.styles[n],Object.keys(o.styles).length===0&&this.endTile(r),o.complete.then(function(){return o.resolve=null,o.labels[n]||[]})},endTile:function(e){var n=this.tiles[e],r=n.labels;n.repeat&&RepeatGroup.clear(e);for(var o=Object.keys(n.objects).sort(function(y,v){return y-v}),s=0;s<o.length;s++){var l=n.objects[o[s]];if(l)for(var d in l){var h=l[d];r[d]=r[d]||[];for(var p=0;p<h.length;p++){var g=h[p];this.canBePlaced(g,e,g.linked,n)?g.linked?this.canBePlaced(g.linked,e,g,n)?(g.show=!0,(g.label.breach||g.linked.label.breach)&&(g.label.breach=!0,g.linked.label.breach=!0),r[d].push(g),this.place(g,e,n),this.place(g.linked,e,n)):n.return_hidden&&(g.show=!1,r[d].push(g)):(g.show=!0,r[d].push(g),this.place(g,e,n)):n.return_hidden&&(g.show=!1,r[d].push(g))}}}delete this.tiles[e],n.resolve()},canBePlaced:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=(arguments.length>3&&arguments[3]!==void 0?arguments[3]:{}).repeat,s=o===void 0||o,l=e.label,d=e.label.layout;if(l.placed!==null)return l.placed;var h=this.tiles[n].grid_index;if(d.collide&&CollisionUtils.toDiscardLabel(l,n==="main",h,r&&r.label))d.collide&&(l.placed=!1);else{if(!(s&&RepeatGroup.check(l,d,n)))return!0;l.placed=!1}return l.placed},place:function(e,n,r){var o=e.label,s=r.repeat,l=s===void 0||s;o.placed===null&&(l&&RepeatGroup.add(o,o.layout,n),CollisionUtils.addLabel(o,n==="main",this.tiles[n].grid_index))}},Task={id:0,queue:[],max_time:20,start_time:null,state:{},ignore_user_moving_view:!1,_ignoreViewMoveWithDebounce:debounce(function(){Task.ignore_user_moving_view=!0},0,500),add:function(e){e.id=Task.id++,e.max_time=e.max_time||Task.max_time,e.pause_factor=e.pause_factor||1;var n=new Promise(function(r,o){e.resolve=r,e.reject=o});return e.promise=n,e.total_elapsed=0,e.stats={calls:0},this.queue.push(e),this.start_time=this.start_time||performance.now(),this.elapsed=performance.now()-this.start_time,this.elapsed<Task.max_time&&this.process(e),e.promise},remove:function(e){var n=this.queue.indexOf(e);n>-1&&this.queue.splice(n,1)},process:function(e){if(!this.state.user_moving_view||e.user_moving_view!==!1||this.ignore_user_moving_view)return e.pause?(e.pause--,!0):(e.stats.calls++,e.start_time=performance.now(),e.run(e));Task._ignoreViewMoveWithDebounce()},processAll:function(){this.start_time=this.start_time||performance.now(),this.ignore_user_moving_view&&!this.hasPendingTasks()&&(this.ignore_user_moving_view=!1);for(var e=0;e<this.queue.length;e++){var n=this.queue[e];if(this.process(n)!==!0&&(n.pause||(n.pause=n.elapsed>n.max_time?n.pause_factor:0),n.total_elapsed+=n.elapsed),this.elapsed=performance.now()-this.start_time,this.elapsed>=Task.max_time){this.start_time=null;break}}},finish:function(e,n){return e.elapsed=performance.now()-e.start_time,e.total_elapsed+=e.elapsed,this.remove(e),e.resolve(n),e.promise},cancel:function(e){var n;e.cancel instanceof Function&&(n=e.cancel(e)),e.resolve(n||{})},shouldContinue:function(e){return e.elapsed=performance.now()-e.start_time,this.elapsed=performance.now()-this.start_time,e.elapsed<e.max_time&&this.elapsed<Task.max_time},removeForTile:function(e){for(var n=this.queue.length-1;n>=0;n--)this.queue[n].tile_id===e&&(this.cancel(this.queue[n]),this.queue.splice(n,1))},setState:function(e){this.state=e},hasPendingTasks:function(){return!!this.queue.length}};function sliceOptions(e){return{coords:e.coords,uid:e.uid,filtering:e.filtering,sprites:e.sprites,url:e.url,element:e.element,data:e.data,width:e.width,height:e.height,density:e.density,repeat:e.repeat,TEXTURE_WRAP_S:e.TEXTURE_WRAP_S,TEXTURE_WRAP_T:e.TEXTURE_WRAP_T,UNPACK_FLIP_Y_WEBGL:e.UNPACK_FLIP_Y_WEBGL,UNPACK_PREMULTIPLY_ALPHA_WEBGL:e.UNPACK_PREMULTIPLY_ALPHA_WEBGL}}var Texture=function(){return _createClass(function e(n,r,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};_classCallCheck(this,e),s=sliceOptions(s),this.gl=n,this.texture=n.createTexture(),this.texture&&(this.valid=!0),this.manager=o,this.bind(),this.name=r,this.retain_count=0,this.config_type=null,this.loading=null,this.loaded=!1,this.filtering=s.filtering,this.density=s.density||1,this.sprites=s.sprites,this.texcoords={},this.sizes={},this.css_sizes={},this.aspects={},this._byte_length=0,this.setData(1,1,new Uint8Array([0,0,0,0]),{filtering:"nearest"}),this.loaded=!1,this.manager.textures[this.name]&&(this.retain_count=this.manager.textures[this.name].retain_count,this.manager.textures[this.name].retain_count=0,this.manager.textures[this.name].destroy()),this.manager.textures[this.name]=this,this.manager.texture_configs[this.name]=JSON.stringify(Object.assign({name:r},s)),this.load(s),log("trace","creating Texture ".concat(this.name))},[{key:"destroy",value:function(){var e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).force;this.retain_count>0&&!e?log("error","Texture '".concat(this.name,"': destroying texture with retain count of '").concat(this.retain_count,"'")):this.valid&&(this.gl.deleteTexture(this.texture),this.texture=null,delete this.data,this.data=null,delete this.manager.textures[this.name],delete this.manager.texture_configs[this.name],this.valid=!1,this._byte_length=0,log("trace","destroying Texture ".concat(this.name)))}},{key:"retain",value:function(){this.retain_count++}},{key:"release",value:function(){this.retain_count<=0&&log("error","Texture '".concat(this.name,"': releasing texture with retain count of '").concat(this.retain_count,"'")),this.retain_count--,this.retain_count<=0&&this.destroy()}},{key:"bind",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.valid&&(this.manager.activeUnit!==e&&(this.gl.activeTexture(this.gl.TEXTURE0+e),this.manager.activeUnit=e,this.manager.boundTexture=null),this.manager.boundTexture!==this.texture&&(this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),this.manager.boundTexture=this.texture))}},{key:"load",value:function(e){var n=this;return e?(this.loading=null,typeof e.url=="string"?(this.config_type="url",this.setUrl(e.url,e)):e.element?(this.config_type="element",this.setElement(e.element,e)):e.data&&e.width&&e.height&&(this.config_type="data",this.setData(e.width,e.height,e.data,e)),this.loading=this.loading&&this.loading.then(function(){return n.calculateSprites(),n})||Promise.resolve(this),this.loading):this.loading||Promise.resolve(this)}},{key:"setUrl",value:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.valid)return this.url=e,this.loading=new Promise(function(o,s){var l=new Image;l.onload=function(){try{n.setElement(l,r)}catch(d){n.loaded=!1,log("warn","Texture '".concat(n.name,"': failed to load url: '").concat(n.url,"'"),d,r),n.manager.trigger("warning",{message:"Failed to load texture from ".concat(n.url),error:d,texture:r})}n.loaded=!0,o(n)},l.onerror=function(d){n.loaded=!1,log("warn","Texture '".concat(n.name,"': failed to load url: '").concat(n.url,"'"),d,r),n.manager.trigger("warning",{message:"Failed to load texture from ".concat(n.url),error:d,texture:r}),o(n)},Utils$1.isSafari()&&n.url.slice(0,5)==="data:"||(l.crossOrigin="anonymous"),l.src=n.url}),this.loading}},{key:"setData",value:function(e,n,r){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.width=e,this.height=n,Array.isArray(r)&&(r=new Uint8Array(r)),this.update(r,o),this.setFiltering(o),this.loaded=!0,this.loading=Promise.resolve(this),this.loading}},{key:"setElement",value:function(e,n){var r=e;if(typeof e=="string"&&(e=document.querySelector(e)),e instanceof HTMLCanvasElement||e instanceof HTMLImageElement||e instanceof HTMLVideoElement)this.update(e,n),this.setFiltering(n);else{this.loaded=!1;var o="the 'element' parameter (`element: ".concat(JSON.stringify(r),"`) must be a CSS ");o+="selector string, or a <canvas>, <image> or <video> object",log("warn","Texture '".concat(this.name,"': ").concat(o),n),this.manager.trigger("warning",{message:"Failed to load texture because ".concat(o),texture:n})}return this.loaded=!0,this.loading=Promise.resolve(this),this.loading}},{key:"update",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.valid&&(this.bind(),e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof HTMLImageElement&&e.complete?(this.width=e.width,this.height=e.height,this._byte_length=this.width*this.height*4,this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,n.UNPACK_FLIP_Y_WEBGL!==!1),this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.UNPACK_PREMULTIPLY_ALPHA_WEBGL||!1),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,e)):(this._byte_length=e?e.byteLength:0,this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.width,this.height,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,e)),this.manager.trigger("update",this))}},{key:"getByteLength",value:function(){return this._byte_length}},{key:"setFiltering",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.valid){e.filtering=e.filtering||"linear";var n=this.gl;this.bind(),Utils$1.isPowerOf2(this.width)&&Utils$1.isPowerOf2(this.height)?(this.power_of_2=!0,n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,e.TEXTURE_WRAP_S||e.repeat&&n.REPEAT||n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,e.TEXTURE_WRAP_T||e.repeat&&n.REPEAT||n.CLAMP_TO_EDGE),e.filtering==="mipmap"?(this.filtering="mipmap",n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR_MIPMAP_LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.generateMipmap(n.TEXTURE_2D)):e.filtering==="linear"?(this.filtering="linear",n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR)):e.filtering==="nearest"&&(this.filtering="nearest",n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST))):(this.power_of_2=!1,n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),e.filtering==="nearest"?(this.filtering="nearest",n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST)):(this.filtering="linear",n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR))),this.manager.trigger("update",this)}}},{key:"calculateSprites",value:function(){if(this.sprites)for(var e in this.sprites){var n=this.sprites[e];this.texcoords[e]=this.manager.getTexcoordsForSprite([n[0],n[1]],[n[2],n[3]],[this.width,this.height]),this.sizes[e]=[n[2],n[3]],this.css_sizes[e]=[n[2]/this.density,n[3]/this.density],this.aspects[e]=n[2]/n[3]}}}])}();function subscribeMixin(e){var n=[];return Object.assign(e,{subscribe:function(r){n.indexOf(r)===-1&&n.push(r)},unsubscribe:function(r){var o=n.indexOf(r);o>-1&&n.splice(o,1)},unsubscribeAll:function(){n=[]},trigger:function(r){for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];n.forEach(function(d){if(typeof d[r]=="function")try{d[r].apply(d,s)}catch(h){log("warn","Caught exception in listener for event '".concat(r,"':"),h)}})},hasSubscribersFor:function(r){var o=!1;return n.forEach(function(s){typeof s[r]=="function"&&(o=!0)}),o}})}var TextureManager=function(){function e(n){_classCallCheck(this,e),this.default=e.DEFAULT_TEXTURE_NAME,this.textures={},this.texture_configs={},this.boundTexture=null,this.activeUnit=null,this.scene_id=n,WorkerBroker.addTarget("Texture"+this.scene_id,this),subscribeMixin(this)}return _createClass(e,[{key:"create",value:function(n,r,o){for(var s=e.matchers_,l=0;l<s.length;l++){var d=s[l][0],h=s[l][1];if(h&&h(o))return new d(n,r,this,o)}return new Texture(n,r,this,o)}},{key:"retain",value:function(n){this.textures[n]&&this.textures[n].retain()}},{key:"release",value:function(n){this.textures[n]&&this.textures[n].release()}},{key:"getRetainCount",value:function(n){if(this.textures[n])return this.textures[n].retain_count}},{key:"getByteLength",value:function(n){if(this.textures[n])return this.textures[n].getByteLength()}},{key:"destroy",value:function(n){var r=this;Object.keys(this.textures).forEach(function(o){var s=r.textures[o];o!==r.default&&s.gl===n&&s.destroy({force:!0})})}},{key:"getSpriteInfo",value:function(n,r){var o=this.textures[n];return o&&{size:o.sizes[r],css_size:o.css_sizes[r],aspect:o.aspects[r],texcoords:o.texcoords[r]}}},{key:"getTexcoordsForSprite",value:function(n,r,o){var s=o[1]-n[1]-r[1];return[n[0]/o[0],s/o[1],(r[0]+n[0])/o[0],(r[1]+s)/o[1]]}},{key:"createFromObject",value:function(n,r){var o=[];if(r)for(var s in r){var l=r[s];if(this.changed(s,l)){var d=this.create(n,s,l);o.push(d.loading)}}return Promise.all(o)}},{key:"createDefault",value:function(n){return this.create(n,this.default)}},{key:"changed",value:function(n,r){var o=this.textures[n];if(o){if(o.config_type==="element"||r.element!=null)return!0;if(r=sliceOptions(r),this.texture_configs[n]===JSON.stringify(Object.assign({name:n},r)))return!1}return!0}},{key:"getInfo",value:function(n){var r=this;if(n||(n=Object.keys(this.textures)),Array.isArray(n))return Promise.all(n.map(function(s){return r.getInfo(s)}));var o=this.textures[n];return o?(o.loading||Promise.resolve(o)).then(function(){return{name:o.name,width:o.width,height:o.height,density:o.density,sprites:o.sprites,texcoords:o.texcoords,sizes:o.sizes,css_sizes:o.css_sizes,aspects:o.aspects,filtering:o.filtering,power_of_2:o.power_of_2,valid:o.valid}}):Promise.resolve(null)}},{key:"syncTexturesToWorker",value:function(n){var r=this;return Thread.is_main?Promise.all(n.map(function(o){var s=r.textures[o];return s&&s.loading||Promise.resolve()})).then(function(){return r.textures}):WorkerBroker.postMessage("Texture"+this.scene_id+".getInfo",n).then(function(o){return o.forEach(function(s){r.textures[s.name]=s}),r.textures})}},{key:"getMaxTextureSize",value:function(n){return n.getParameter(n.MAX_TEXTURE_SIZE)}}],[{key:"register",value:function(n,r){var o=e.matchers_;if(!(n instanceof Function&&r instanceof Function))throw"Invalid texture constructor or matcher";this.deRegister(n),o.push([n,r])}},{key:"deRegister",value:function(n){for(var r=e.matchers_,o=0;o<r.length;o++)r[o][0]===n&&r.splice(o,1)}}])}();TextureManager.DEFAULT_TEXTURE_NAME="__default",TextureManager.matchers_=[];var Registry={};function getTextureManager(e){return Registry[e]||(Registry[e]=new TextureManager(e)),Registry[e]}var transformMat4_1$1=transformMat4$1;function transformMat4$1(e,n,r){var o=n[0],s=n[1],l=n[2],d=r[3]*o+r[7]*s+r[11]*l+r[15];return d=d||1,e[0]=(r[0]*o+r[4]*s+r[8]*l+r[12])/d,e[1]=(r[1]*o+r[5]*s+r[9]*l+r[13])/d,e[2]=(r[2]*o+r[6]*s+r[10]*l+r[14])/d,e}var vec3_transformMat4=getDefaultExportFromCjs(transformMat4_1$1),normalFromMat4_1=normalFromMat4;function normalFromMat4(e,n){var r=n[0],o=n[1],s=n[2],l=n[3],d=n[4],h=n[5],p=n[6],g=n[7],y=n[8],v=n[9],w=n[10],k=n[11],F=n[12],q=n[13],_r=n[14],ga=n[15],La=r*h-o*d,jc=r*p-s*d,_l=r*g-l*d,e1=o*p-s*h,n1=o*g-l*h,d1=s*g-l*p,c1=y*q-v*F,h1=y*_r-w*F,N1=y*ga-k*F,k1=v*_r-w*q,R1=v*ga-k*q,U1=w*ga-k*_r,x1=La*U1-jc*R1+_l*k1+e1*N1-n1*h1+d1*c1;return x1?(x1=1/x1,e[0]=(h*U1-p*R1+g*k1)*x1,e[1]=(p*N1-d*U1-g*h1)*x1,e[2]=(d*R1-h*N1+g*c1)*x1,e[3]=(s*R1-o*U1-l*k1)*x1,e[4]=(r*U1-s*N1+l*h1)*x1,e[5]=(o*N1-r*R1-l*c1)*x1,e[6]=(q*d1-_r*n1+ga*e1)*x1,e[7]=(_r*_l-F*d1-ga*jc)*x1,e[8]=(F*n1-q*_l+ga*La)*x1,e):null}var mat3_normalFromMat4=getDefaultExportFromCjs(normalFromMat4_1),invert_1$1=invert$1;function invert$1(e,n){var r=n[0],o=n[1],s=n[2],l=n[3],d=n[4],h=n[5],p=n[6],g=n[7],y=n[8],v=y*d-h*g,w=-y*l+h*p,k=g*l-d*p,F=r*v+o*w+s*k;return F?(F=1/F,e[0]=v*F,e[1]=(-y*o+s*g)*F,e[2]=(h*o-s*d)*F,e[3]=w*F,e[4]=(y*r-s*p)*F,e[5]=(-h*r+s*l)*F,e[6]=k*F,e[7]=(-g*r+o*p)*F,e[8]=(d*r-o*l)*F,e):null}var mat3_invert=getDefaultExportFromCjs(invert_1$1),identity_1$1=identity$2;function identity$2(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}var mat3_identity=getDefaultExportFromCjs(identity_1$1),multiply_1=multiply;function multiply(e,n,r){var o=n[0],s=n[1],l=n[2],d=n[3],h=n[4],p=n[5],g=n[6],y=n[7],v=n[8],w=n[9],k=n[10],F=n[11],q=n[12],_r=n[13],ga=n[14],La=n[15],jc=r[0],_l=r[1],e1=r[2],n1=r[3];return e[0]=jc*o+_l*h+e1*v+n1*q,e[1]=jc*s+_l*p+e1*w+n1*_r,e[2]=jc*l+_l*g+e1*k+n1*ga,e[3]=jc*d+_l*y+e1*F+n1*La,jc=r[4],_l=r[5],e1=r[6],n1=r[7],e[4]=jc*o+_l*h+e1*v+n1*q,e[5]=jc*s+_l*p+e1*w+n1*_r,e[6]=jc*l+_l*g+e1*k+n1*ga,e[7]=jc*d+_l*y+e1*F+n1*La,jc=r[8],_l=r[9],e1=r[10],n1=r[11],e[8]=jc*o+_l*h+e1*v+n1*q,e[9]=jc*s+_l*p+e1*w+n1*_r,e[10]=jc*l+_l*g+e1*k+n1*ga,e[11]=jc*d+_l*y+e1*F+n1*La,jc=r[12],_l=r[13],e1=r[14],n1=r[15],e[12]=jc*o+_l*h+e1*v+n1*q,e[13]=jc*s+_l*p+e1*w+n1*_r,e[14]=jc*l+_l*g+e1*k+n1*ga,e[15]=jc*d+_l*y+e1*F+n1*La,e}var mat4_multiply=getDefaultExportFromCjs(multiply_1),translate_1=translate;function translate(e,n,r){var o,s,l,d,h,p,g,y,v,w,k,F,q=r[0],_r=r[1],ga=r[2];return n===e?(e[12]=n[0]*q+n[4]*_r+n[8]*ga+n[12],e[13]=n[1]*q+n[5]*_r+n[9]*ga+n[13],e[14]=n[2]*q+n[6]*_r+n[10]*ga+n[14],e[15]=n[3]*q+n[7]*_r+n[11]*ga+n[15]):(o=n[0],s=n[1],l=n[2],d=n[3],h=n[4],p=n[5],g=n[6],y=n[7],v=n[8],w=n[9],k=n[10],F=n[11],e[0]=o,e[1]=s,e[2]=l,e[3]=d,e[4]=h,e[5]=p,e[6]=g,e[7]=y,e[8]=v,e[9]=w,e[10]=k,e[11]=F,e[12]=o*q+h*_r+v*ga+n[12],e[13]=s*q+p*_r+w*ga+n[13],e[14]=l*q+g*_r+k*ga+n[14],e[15]=d*q+y*_r+F*ga+n[15]),e}var mat4_translate=getDefaultExportFromCjs(translate_1),scale_1$1=scale$1;function scale$1(e,n,r){var o=r[0],s=r[1],l=r[2];return e[0]=n[0]*o,e[1]=n[1]*o,e[2]=n[2]*o,e[3]=n[3]*o,e[4]=n[4]*s,e[5]=n[5]*s,e[6]=n[6]*s,e[7]=n[7]*s,e[8]=n[8]*l,e[9]=n[9]*l,e[10]=n[10]*l,e[11]=n[11]*l,e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e}var mat4_scale=getDefaultExportFromCjs(scale_1$1),perspective_1=perspective;function perspective(e,n,r,o,s){var l=1/Math.tan(n/2),d=1/(o-s);return e[0]=l/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(s+o)*d,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*s*o*d,e[15]=0,e}var mat4_perspective=getDefaultExportFromCjs(perspective_1),identity_1=identity$1;function identity$1(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var mat4_identity=getDefaultExportFromCjs(identity_1),identity=identity_1,lookAt_1=lookAt;function lookAt(e,n,r,o){var s,l,d,h,p,g,y,v,w,k,F=n[0],q=n[1],_r=n[2],ga=o[0],La=o[1],jc=o[2],_l=r[0],e1=r[1],n1=r[2];return Math.abs(F-_l)<1e-6&&Math.abs(q-e1)<1e-6&&Math.abs(_r-n1)<1e-6?identity(e):(y=F-_l,v=q-e1,w=_r-n1,s=La*(w*=k=1/Math.sqrt(y*y+v*v+w*w))-jc*(v*=k),l=jc*(y*=k)-ga*w,d=ga*v-La*y,(k=Math.sqrt(s*s+l*l+d*d))?(s*=k=1/k,l*=k,d*=k):(s=0,l=0,d=0),h=v*d-w*l,p=w*s-y*d,g=y*l-v*s,(k=Math.sqrt(h*h+p*p+g*g))?(h*=k=1/k,p*=k,g*=k):(h=0,p=0,g=0),e[0]=s,e[1]=h,e[2]=y,e[3]=0,e[4]=l,e[5]=p,e[6]=v,e[7]=0,e[8]=d,e[9]=g,e[10]=w,e[11]=0,e[12]=-(s*F+l*q+d*_r),e[13]=-(h*F+p*q+g*_r),e[14]=-(y*F+v*q+w*_r),e[15]=1,e)}var mat4_lookAt=getDefaultExportFromCjs(lookAt_1),copy_1=copy;function copy(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e}var mat4_copy=getDefaultExportFromCjs(copy_1),invert_1=invert;function invert(e,n){var r=n[0],o=n[1],s=n[2],l=n[3],d=n[4],h=n[5],p=n[6],g=n[7],y=n[8],v=n[9],w=n[10],k=n[11],F=n[12],q=n[13],_r=n[14],ga=n[15],La=r*h-o*d,jc=r*p-s*d,_l=r*g-l*d,e1=o*p-s*h,n1=o*g-l*h,d1=s*g-l*p,c1=y*q-v*F,h1=y*_r-w*F,N1=y*ga-k*F,k1=v*_r-w*q,R1=v*ga-k*q,U1=w*ga-k*_r,x1=La*U1-jc*R1+_l*k1+e1*N1-n1*h1+d1*c1;return x1?(x1=1/x1,e[0]=(h*U1-p*R1+g*k1)*x1,e[1]=(s*R1-o*U1-l*k1)*x1,e[2]=(q*d1-_r*n1+ga*e1)*x1,e[3]=(w*n1-v*d1-k*e1)*x1,e[4]=(p*N1-d*U1-g*h1)*x1,e[5]=(r*U1-s*N1+l*h1)*x1,e[6]=(_r*_l-F*d1-ga*jc)*x1,e[7]=(y*d1-w*_l+k*jc)*x1,e[8]=(d*R1-h*N1+g*c1)*x1,e[9]=(o*N1-r*R1-l*c1)*x1,e[10]=(F*n1-q*_l+ga*La)*x1,e[11]=(v*_l-y*n1-k*La)*x1,e[12]=(h*h1-d*k1-p*c1)*x1,e[13]=(r*k1-o*h1+s*c1)*x1,e[14]=(q*jc-F*e1-_r*La)*x1,e[15]=(y*e1-v*jc+w*La)*x1,e):null}var mat4_invert=getDefaultExportFromCjs(invert_1),transformMat4_1=transformMat4;function transformMat4(e,n,r){var o=n[0],s=n[1],l=n[2],d=n[3];return e[0]=r[0]*o+r[4]*s+r[8]*l+r[12]*d,e[1]=r[1]*o+r[5]*s+r[9]*l+r[13]*d,e[2]=r[2]*o+r[6]*s+r[10]*l+r[14]*d,e[3]=r[3]*o+r[7]*s+r[11]*l+r[15]*d,e}var vec4_transformMat4=getDefaultExportFromCjs(transformMat4_1),normalize_1=normalize;function normalize(e,n){var r=n[0],o=n[1],s=n[2],l=n[3],d=r*r+o*o+s*s+l*l;return d>0&&(d=1/Math.sqrt(d),e[0]=r*d,e[1]=o*d,e[2]=s*d,e[3]=l*d),e}var vec4_normalize=getDefaultExportFromCjs(normalize_1),scale_1=scale;function scale(e,n,r){return e[0]=n[0]*r,e[1]=n[1]*r,e[2]=n[2]*r,e[3]=n[3]*r,e}var vec4_scale=getDefaultExportFromCjs(scale_1),vec3={fromValues:function(e,n,r){var o=new Float64Array(3);return o[0]=e,o[1]=n,o[2]=r,o},transformMat4:vec3_transformMat4},mat3={normalFromMat4:mat3_normalFromMat4,invert:mat3_invert,identity:mat3_identity},mat4={multiply:mat4_multiply,translate:mat4_translate,scale:mat4_scale,perspective:mat4_perspective,lookAt:mat4_lookAt,identity:mat4_identity,copy:mat4_copy,invert:mat4_invert},vec4={transformMat4:vec4_transformMat4,normalize:vec4_normalize,scale:vec4_scale},FeatureSelection=function(){function e(n,r){_classCallCheck(this,e),this._gl=n,this._requests={},this._pixels=null,this._has_dirty_buffer=!1,this._fbo=this._gl.createFramebuffer(),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,this._fbo),this._fbo_size={width:256,height:256};var o=getTextureManager(r).create(this._gl,"selection_fbo",{filtering:"nearest"});o.setData(this._fbo_size.width,this._fbo_size.height,null,{filtering:"nearest"}),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,o.texture,0);var s=this._gl.createRenderbuffer();this._gl.bindRenderbuffer(this._gl.RENDERBUFFER,s),this._gl.renderbufferStorage(this._gl.RENDERBUFFER,this._gl.DEPTH_COMPONENT16,this._fbo_size.width,this._fbo_size.height),this._gl.framebufferRenderbuffer(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.RENDERBUFFER,s),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,null)}return _createClass(e,[{key:"destroy",value:function(){this._gl&&this._fbo&&(this._gl.deleteFramebuffer(this._fbo),this._fbo=null,this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,null))}},{key:"bind",value:function(){var n;this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,this._fbo),this._gl.viewport(0,0,this._fbo_size.width,this._fbo_size.height),(n=this._gl).clearColor.apply(n,_toConsumableArray(e.defaultColor))}},{key:"getFeatureAt",value:function(n,r,o){var s=r.radius,l=r.top_most_only,d=l===void 0||l;!n||n.x<0||n.y<0||n.x>1||n.y>1?o({features:null}):(this.selection_request_id=this.selection_request_id+1||0,this._requests[this.selection_request_id]={id:this.selection_request_id,point:n,radius:s,top_most_only:d,ttl:d?1:e.MAX_PICKING_TRIES,callback:o})}},{key:"has_dirty_buffer",get:function(){return this._has_dirty_buffer},set:function(n){this._has_dirty_buffer=!!this._pending_deep_request}},{key:"hasPendingRequests",value:function(){return Object.keys(this._requests).length>0}},{key:"clearPendingRequests",value:function(){for(var n in this._requests)this._requests[n].callback(new Error("cleared")),delete this._requests[n];this._pending_deep_request=null}},{key:"read",value:function(n){if(this.hasPendingRequests()){var r=this._gl;for(var o in r.bindFramebuffer(r.FRAMEBUFFER,this._fbo),this._pending_deep_request&&this.processRequest(this._pending_deep_request,n),this._requests)if(this.processRequest(this._requests[o],n))break;r.bindFramebuffer(r.FRAMEBUFFER,null)}}},{key:"processRequest",value:function(n,r){var o,s,l=this._gl,d=255,h=n.point,p=n.radius;if(p){var g=Math.min(this._fbo_size.width,this._fbo_size.height);s={x:Math.min(Math.ceil(2*p.x*this._fbo_size.width),g),y:Math.min(Math.ceil(2*p.y*this._fbo_size.height),g)}}else p={x:0,y:0},s={x:1,y:1};var y=s.x*s.y*4;if(this._pixels==null||this._pixels.byteLength<y)this._pixels=new Uint8Array(y);else if(this._pixels.fill instanceof Function)this._pixels.fill(0,0,y);else for(var v=0;v<y;v++)this._pixels[v]=0;l.readPixels(Math.round((h.x-p.x)*this._fbo_size.width),Math.round((1-h.y-p.y)*this._fbo_size.height),s.x,s.y,l.RGBA,l.UNSIGNED_BYTE,this._pixels),n.ttl--;var w=Math.floor(s.x/2),k=Math.floor(s.y/2),F=4*(k*s.x+w),q=this._pixels.slice(F,F+4),_r=q[0]+(q[1]<<8)+(q[2]<<16);if(_r>0)o=_r+(q[3]<<24)>>>0,d=q[3];else if(y>4){var ga=1/0;F=0;for(var La=0;La<s.y;La++)for(var jc=0;jc<s.x;jc++,F+=4)if((_r=(q=this._pixels.slice(F,F+4))[0]+(q[1]<<8)+(q[2]<<16))>0){var _l=Math.pow(jc-w,2)+Math.pow(La-k,2);_l<ga&&(o=_r+(q[3]<<24)>>>0,d=q[3],ga=_l)}}if(d!==255){var e1=this._getFeatureByKey(o,r);if(n.features||(n.features=[]),!e1)return void this._finishRead(n);if(n.features.every(function(n1){return n1.id!==e1.id})&&n.features.push(e1),n.ttl)return this._pending_deep_request=n,e._discardColor(q),this._has_dirty_buffer=!0,!0;this._finishRead(n)}else this._finishRead(n)}},{key:"_finishRead",value:function(n){var r=n.features||e.EMPTY_ARRAY;n.top_most_only||(this._pending_deep_request=null,e._resetDiscardedColors()),delete this._requests[n.id],n.callback({features:r})}},{key:"_getFeatureByKey",value:function(n,r){for(var o=null,s=0;s<r.length;s++){var l=r[s];if(l.selection_data&&(o=l.selection_data[n])){o.tile={coords:l.coords};break}}return o}},{key:"setupDiscards",value:function(n){for(var r=e.MAX_PICKING_TRIES;r--;)n.uniform("4fv","u_selection_discard".concat(r),e._discarded_colors[r]||e.defaultColor)}}],[{key:"makeEntry",value:function(){this.map_entry++;var n=255&this.map_entry,r=this.map_entry>>8&255,o=this.map_entry>>16&255,s=this.map_prefix;return{key:n+(r<<8)+(o<<16)+(s<<24)>>>0,color:[n/255,r/255,o/255,s/255]}}},{key:"reset",value:function(){this.map_entry=0}},{key:"setPrefix",value:function(n){this.map_prefix=n}},{key:"_discardColor",value:function(n){this._discarded_colors.push([n[0]/255,n[1]/255,n[2]/255,n[3]/255])}},{key:"_resetDiscardedColors",value:function(){this._discarded_colors.length=0}}])}();FeatureSelection._discarded_colors=[],FeatureSelection.map_entry=0,FeatureSelection.map_prefix=0,FeatureSelection.defaultColor=[0,0,0,1],FeatureSelection.MAX_PICKING_TRIES=10,FeatureSelection.EMPTY_ARRAY=Object.freeze([]);var GLSL={parseUniforms:function(e){var n=[];for(var r in e){var o,s=r,l=e[r];if(typeof l=="number")n.push({type:"float",method:"1f",name:r,value:l,key:s,uniforms:e});else if(Array.isArray(l)){if(typeof l[0]=="number")l.length>=2&&l.length<=4?n.push({type:"vec"+l.length,method:l.length+"fv",name:r,value:l,key:s,uniforms:e}):l.length>4&&n.push({type:"float[]",method:"1fv",name:r+"[0]",value:l,key:s,uniforms:e});else if(typeof l[0]=="string")for(o=0;o<l.length;o++)n.push({type:"sampler2D",method:"1i",name:r+"["+o+"]",value:l[o],key:o,uniforms:l});else if(Array.isArray(l[0])&&typeof l[0][0]=="number"&&l[0].length>=2&&l[0].length<=4)for(o=0;o<l.length;o++)n.push({type:"vec"+l[0].length,method:l[o].length+"fv",name:r+"["+o+"]",value:l[o],key:o,uniforms:l})}else typeof l=="boolean"?n.push({type:"bool",method:"1i",name:r,value:l,key:s,uniforms:e}):typeof l=="string"&&n.push({type:"sampler2D",method:"1i",name:r,value:l,key:s,uniforms:e})}return n},defineVariable:function(e,n){var r,o;if(typeof n=="number")r="float";else if(Array.isArray(n))typeof n[0]=="number"?n.length>=2&&n.length<=4?r="vec"+n.length:(r="float",o=n.length):typeof n[0]=="string"&&(r="sampler2D",o=n.length);else if(typeof n=="boolean")r="bool";else{if(typeof n!="string")return;r="sampler2D"}var s="";return s+="".concat(r," ").concat(e),o&&(s+="[".concat(o,"]")),s+=`;
`},defineUniform:function(e,n){var r=GLSL.defineVariable(e,n);if(r)return"uniform "+r},isUniformDefined:function(e,n){var r=new RegExp("uniform[^;]+(?:{[\\s\\S]*})?[^;]*\\b"+e+"\\b","g");return!!n.match(r)},isSymbolReferenced:function(e,n){var r=new RegExp("\\b"+e+"\\b","g");return n.search(r)>=0},expandVec3:function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(Array.isArray(e)){if(e.length!==2)return e;n=[].concat(_toConsumableArray(e),[r]).map(parseFloat)}else n=[e,e,e].map(parseFloat);if(n&&n.every(function(o){return typeof o=="number"&&!isNaN(o)}))return n},expandVec4:function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(Array.isArray(e)){if(e.length!==3)return e;n=[].concat(_toConsumableArray(e),[r]).map(parseFloat)}else n=[e,e,e,r].map(parseFloat);if(n&&n.every(function(o){return typeof o=="number"&&!isNaN(o)}))return n}},extensions=[];function getExtension(e,n){var r=extensions.filter(function(o){return o[0]===e})[0];return(r=r&&r[1])||(extensions.push([e,{}]),r=extensions[extensions.length-1][1]),r[n]||(r[n]=e.getExtension(n)),r[n]}function hashString(e){var n,r,o=0;if(e.length===0)return o;for(n=0,r=e.length;n<r;n++)o=(o<<5)-o+e.charCodeAt(n),o|=0;return o}var stripComments={exports:{}},reBlock="\\/\\*",reBlockIgnore="\\/\\*(?!\\*?\\!)",reBlockEnd="(.|[\\r\\n]|\\n)*?\\*\\/\\n?\\n?",reLine=/(^|[^\S\n])(?:\/\/)([\s\S]+?)$/gm,reLineIgnore=/(^|[^\S\n])(?:\/\/[^!])([\s\S]+?)$/gm,strip=stripComments.exports=function(e,n){return e?strip.block(strip.line(e,n),n):""};strip.block=function(e,n){n=n||{};var r=new RegExp(reBlock+reBlockEnd,"gm");return n.safe&&(r=new RegExp(reBlockIgnore+reBlockEnd,"gm")),e?e.replace(r,""):""},strip.line=function(e,n){var r=reLine;return(n=n||{}).safe&&(r=reLineIgnore),e?e.replace(r,""):""};var stripCommentsExports=stripComments.exports,strip$1=getDefaultExportFromCjs(stripCommentsExports),glShaderErrors=parseErrors;function parseErrors(e){e=String(e);for(var n,r=[];n=e.match(/ERROR\:([^\n]+)/);){e=e.slice(n.index+1);var o=(d=n[1].trim()).split(":"),s=o.slice(2).join(":").trim(),l=parseInt(o[0],10),d=parseInt(o[1],10);r.push({message:s,file:l,line:d})}return r}var parseShaderErrors=getDefaultExportFromCjs(glShaderErrors),re_pragma=/^\s*#pragma.*$/gm,re_continue_line=/\\\s*\n/gm,ShaderProgram=function(){function e(n,r,o,s,l){if(_classCallCheck(this,e),l=l||{},this.textureManager=getTextureManager(s),this.gl=n,this.program=null,this.compiled=!1,this.compiling=!1,this.error=null,!e.polyfills[s]){e.polyfills[s]={};try{this.gl.uniformMatrix3fv(null,!1,new Float64Array(9))}catch{e.polyfills[s].uniformMatrix3fv=this.gl.uniformMatrix3fv,this.gl.uniformMatrix3fv=function(h,p,g){e.polyfills[s].uniformMatrix3fv.call(this,h,p,new Float32Array(g))}}try{this.gl.uniformMatrix4fv(null,!1,new Float64Array(16))}catch{e.polyfills[s].uniformMatrix4fv=this.gl.uniformMatrix4fv,this.gl.uniformMatrix4fv=function(h,p,g){e.polyfills[s].uniformMatrix4fv.call(this,h,p,new Float32Array(g))}}}this.defines=Object.assign({},l.defines||{}),this.blocks=Object.assign({},l.blocks||{}),this.block_scopes=Object.assign({},l.block_scopes||{}),this.extensions=l.extensions||[],this.dependent_uniforms=l.uniforms,this.uniforms={},this.attribs={},this.vertex_source=r,this.fragment_source=o,this.id=e.id++,this.name=l.name}return _createClass(e,[{key:"destroy",value:function(){this.gl.useProgram(null),this.gl.deleteProgram(this.program),this.program=null,this.uniforms={},this.attribs={},this.compiled=!1}},{key:"use",value:function(){this.compiled&&(e.current!==this&&this.gl.useProgram(this.program),e.current=this)}},{key:"compile",value:function(){var n=this;if(this.compiling)throw new Error("ShaderProgram.compile(): skipping for ".concat(this.id," (").concat(this.name,") because already compiling"));this.compiling=!0,this.compiled=!1,this.error=null,this.computed_vertex_source=this.vertex_source,this.computed_fragment_source=this.fragment_source;var r,o=this.checkExtensions(),s=this.buildDefineList(),l=this.buildShaderBlockList();for(var d in l){var h=l[d];if(h&&(!Array.isArray(h)||h.length!==0)){r=new RegExp("^\\s*#pragma\\s+tangram:\\s+"+d+"\\s*$","m");var p=this.computed_vertex_source.match(r),g=this.computed_fragment_source.match(r);if(p!=null||g!=null){var y="";h.forEach(function(k){var F="".concat(k.scope,", ").concat(k.key,", ").concat(k.num);y+=`
// tangram-block-start: `.concat(F,`
`),y+=k.source,y+=`
// tangram-block-end: `.concat(F,`
`)}),p!=null&&(this.computed_vertex_source=this.computed_vertex_source.replace(r,y)),g!=null&&(this.computed_fragment_source=this.computed_fragment_source.replace(r,y)),s["TANGRAM_BLOCK_"+d.replace(/[\s-]+/g,"_").toUpperCase()]=!0}}}this.computed_vertex_source=this.computed_vertex_source.replace(re_pragma,""),this.computed_fragment_source=this.computed_fragment_source.replace(re_pragma,""),this.ensureUniforms(this.dependent_uniforms);var v="",w=this.gl.getShaderPrecisionFormat(this.gl.FRAGMENT_SHADER,this.gl.HIGH_FLOAT);v=w&&w.precision>0?`precision highp float;
`:`precision mediump float;
`,s.TANGRAM_VERTEX_SHADER=!0,s.TANGRAM_FRAGMENT_SHADER=!1,this.computed_vertex_source=v+e.buildDefineString(s)+this.computed_vertex_source,s.TANGRAM_VERTEX_SHADER=!1,s.TANGRAM_FRAGMENT_SHADER=!0,this.computed_fragment_source=e.buildExtensionString(o)+v+e.buildDefineString(s)+this.computed_fragment_source,this.computed_vertex_source=this.computed_vertex_source.replace(re_continue_line,""),this.computed_fragment_source=this.computed_fragment_source.replace(re_continue_line,"");try{this.program=e.updateProgram(this.gl,this.program,this.computed_vertex_source,this.computed_fragment_source),this.compiled=!0,this.compiling=!1}catch(k){throw this.program=null,this.compiled=!1,this.compiling=!1,this.error=k,k.type!=="vertex"&&k.type!=="fragment"||(this.shader_errors=k.errors,this.shader_errors.forEach(function(F){F.type=k.type,F.block=n.block(k.type,F.line)})),k}this.computed_vertex_source=null,this.computed_fragment_source=null,this.use(),this.refreshUniforms(),this.refreshAttributes()}},{key:"buildDefineList",value:function(){var n,r={};for(n in e.defines)r[n]=e.defines[n];for(n in this.defines)r[n]=this.defines[n];return r}},{key:"buildShaderBlockList",value:function(){var n,r={};for(n in e.blocks){var o;r[n]=[],Array.isArray(e.blocks[n])?(o=r[n]).push.apply(o,_toConsumableArray(e.blocks[n].map(function(p,g){return{key:n,source:p,num:g,scope:"ShaderProgram"}}))):r[n]=[{key:n,source:e.blocks[n],num:0,scope:"ShaderProgram"}]}for(n in this.blocks)if(r[n]=r[n]||[],Array.isArray(this.blocks[n]))for(var s=this.block_scopes&&this.block_scopes[n]||[],l=null,d=0,h=0;h<this.blocks[n].length;h++)s[h]!==l&&(l=s[h],d=0),r[n].push({key:n,source:this.blocks[n][h],num:d,scope:l||this.name}),d++;else r[n].push({key:n,source:this.blocks[n],num:0,scope:this.name});return r}},{key:"ensureUniforms",value:function(n){if(n){var r,o=strip$1(this.computed_vertex_source),s=strip$1(this.computed_fragment_source),l=[],d=[];for(var h in n){var p=GLSL.isUniformDefined(h,o),g=GLSL.isUniformDefined(h,s);if(!p||!g){if(!(r=GLSL.defineUniform(h,n[h])))continue;p||(log("trace","Program ".concat(this.name,": ").concat(h," not defined in vertex shader, injecting: '").concat(r,"'")),l.push(r)),g||(log("trace","Program ".concat(this.name,": ").concat(h," not defined in fragment shader, injecting: '").concat(r,"'")),d.push(r))}}l.length>0&&(this.computed_vertex_source=l.join(`
`)+this.computed_vertex_source),d.length>0&&(this.computed_fragment_source=d.join(`
`)+this.computed_fragment_source)}}},{key:"setUniforms",value:function(n){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(this.compiled){r&&(this.texture_unit=0);for(var o=GLSL.parseUniforms(n),s=0;s<o.length;s++){var l=o[s];l.type==="sampler2D"?this.setTextureUniform(l.name,l.value):this.uniform(l.method,l.name,l.value)}}}},{key:"saveUniforms",value:function(n){var r=n||this.uniforms;for(var o in r){var s=this.uniforms[o];s&&(s.saved_value=s.value)}this.saved_texture_unit=this.texture_unit||0}},{key:"restoreUniforms",value:function(n){var r=n||this.uniforms;for(var o in r){var s=this.uniforms[o];s&&s.saved_value&&(s.value=s.saved_value,this.updateUniform(s))}this.texture_unit=this.saved_texture_unit||0}},{key:"setTextureUniform",value:function(n,r){var o=this.textureManager.textures[r];o!=null?(o.bind(this.texture_unit),this.uniform("1i",n,this.texture_unit),this.texture_unit++):log("warn","Cannot find texture '".concat(r,"'"))}},{key:"uniform",value:function(n,r,o){if(this.compiled){this.uniforms[r]=this.uniforms[r]||{};var s=this.uniforms[r];s.name=r,s.location===void 0&&(s.location=this.gl.getUniformLocation(this.program,r)),s.method=n,s.value=o,this.updateUniform(s)}}},{key:"updateUniform",value:function(n){this.compiled&&n&&n.location!=null&&(this.use(),this.commitUniform(n))}},{key:"commitUniform",value:function(n){var r=n.location,o=n.value;switch(n.method){case"1i":this.gl.uniform1i(r,o);break;case"1f":this.gl.uniform1f(r,o);break;case"2f":this.gl.uniform2f(r,o[0],o[1]);break;case"3f":this.gl.uniform3f(r,o[0],o[1],o[2]);break;case"4f":this.gl.uniform4f(r,o[0],o[1],o[2],o[3]);break;case"1iv":this.gl.uniform1iv(r,o);break;case"3iv":this.gl.uniform3iv(r,o);break;case"1fv":this.gl.uniform1fv(r,o);break;case"2fv":this.gl.uniform2fv(r,o);break;case"3fv":this.gl.uniform3fv(r,o);break;case"4fv":this.gl.uniform4fv(r,o);break;case"Matrix3fv":this.gl.uniformMatrix3fv(r,!1,o);break;case"Matrix4fv":this.gl.uniformMatrix4fv(r,!1,o)}}},{key:"refreshUniforms",value:function(){if(this.compiled)for(var n in this.uniforms){var r=this.uniforms[n];r.location=this.gl.getUniformLocation(this.program,n),this.updateUniform(r)}}},{key:"refreshAttributes",value:function(){this.attribs={}}},{key:"attribute",value:function(n){if(this.compiled){var r=this.attribs[n]=this.attribs[n]||{};return r.location!=null||(r.name=n,r.location=this.gl.getAttribLocation(this.program,n)),r}}},{key:"source",value:function(n){return n==="vertex"?this.computed_vertex_source:n==="fragment"?this.computed_fragment_source:void 0}},{key:"lines",value:function(n){var r=this.source(n);return r?r.split(`
`):[]}},{key:"line",value:function(n,r){var o=this.lines(n);if(o)return o[r]}},{key:"block",value:function(n,r){for(var o,s=this.lines(n),l=0;l<r&&l<s.length;l++){var d=s[l],h=d.match(/\/\/ tangram-block-start: ([A-Za-z0-9_-]+), ([A-Za-z0-9_-]+), (\d+)/);h&&h.length>1?o={scope:h[1],name:h[2],num:h[3]}:(h=d.match(/\/\/ tangram-block-end: ([A-Za-z0-9_-]+), ([A-Za-z0-9_-]+), (\d+)/))&&h.length>1&&(o=null),o&&(o.line=o.line==null?-1:o.line+1,o.source=d)}return o}},{key:"checkExtensions",value:function(){var n=this,r=[];return this.extensions.forEach(function(o){var s=getExtension(n.gl,o),l="TANGRAM_EXTENSION_".concat(o);n.defines[l]=s!=null,s?r.push(o):log("debug","Could not enable extension '".concat(o,"'"))}),r}}])}();ShaderProgram.polyfills={},ShaderProgram.id=0,ShaderProgram.current=null,ShaderProgram.defines={},ShaderProgram.blocks={},ShaderProgram.reset=function(){ShaderProgram.programs_by_source={},ShaderProgram.shaders_by_source={}},ShaderProgram.reset(),ShaderProgram.buildDefineString=function(e){var n="";for(var r in e)e[r]!=null&&e[r]!==!1&&(typeof e[r]=="boolean"&&e[r]===!0?n+="#define "+r+`
`:typeof e[r]=="number"&&Math.floor(e[r])===e[r]?n+="#define "+r+" "+e[r].toFixed(1)+`
`:n+="#define "+r+" "+e[r]+`
`);return n},ShaderProgram.buildExtensionString=function(e){var n="";return(e=e||[]).forEach(function(r){n+="#ifdef GL_".concat(r,`
#extension GL_`).concat(r,` : enable
#endif
`)}),n},ShaderProgram.addBlock=function(e){var n;ShaderProgram.blocks[e]=ShaderProgram.blocks[e]||[];for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];(n=ShaderProgram.blocks[e]).push.apply(n,o)},ShaderProgram.removeBlock=function(e){ShaderProgram.blocks[e]=[]},ShaderProgram.replaceBlock=function(e){ShaderProgram.removeBlock(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];ShaderProgram.addBlock.apply(ShaderProgram,[e].concat(r))},ShaderProgram.updateProgram=function(e,n,r,o){var s=hashString(e._tangram_id+"::"+r+"::"+o);if(ShaderProgram.programs_by_source[s])return log("trace","Reusing identical source GL program object"),ShaderProgram.programs_by_source[s];var l=ShaderProgram.createShader(e,r,e.VERTEX_SHADER),d=ShaderProgram.createShader(e,o,e.FRAGMENT_SHADER);if(e.useProgram(null),n!=null)for(var h=e.getAttachedShaders(n),p=0;p<h.length;p++)e.detachShader(n,h[p]);else n=e.createProgram();if(l==null||d==null)return n;if(e.attachShader(n,l),e.attachShader(n,d),e.linkProgram(n),!e.getProgramParameter(n,e.LINK_STATUS)){var g=new Error(`WebGL program error:
            VALIDATE_STATUS: `.concat(e.getProgramParameter(n,e.VALIDATE_STATUS),`
            ERROR: `).concat(e.getError(),`
            --- Vertex Shader ---
            `).concat(r,`
            --- Fragment Shader ---
            `).concat(o));throw Object.assign(new Error(g),{type:"program"})}return ShaderProgram.programs_by_source[s]=n,n},ShaderProgram.createShader=function(e,n,r){var o=hashString(e._tangram_id+"::"+n);if(ShaderProgram.shaders_by_source[o])return log("trace","Reusing identical source GL shader object"),ShaderProgram.shaders_by_source[o];var s=e.createShader(r);if(e.shaderSource(s,n),e.compileShader(s),!e.getShaderParameter(s,e.COMPILE_STATUS)){var l=r===e.VERTEX_SHADER?"vertex":"fragment",d=e.getShaderInfoLog(s),h=parseShaderErrors(d);throw Object.assign(new Error(d),{type:l,errors:h})}return ShaderProgram.shaders_by_source[o]=s,s};var VertexArrayObject={disabled:!1,bound_vao:[],init:function(e){var n;this.disabled!==!0&&(n=getExtension(e,"OES_vertex_array_object")),n!=null?log("info","Vertex Array Object extension available"):this.disabled!==!0?log("warn","Vertex Array Object extension NOT available"):log("warn","Vertex Array Object extension force disabled")},create:function(e,n,r){var o={};o.setup=n,o.teardown=r;var s=getExtension(e,"OES_vertex_array_object");return s!=null&&(o._vao=s.createVertexArrayOES(),s.bindVertexArrayOES(o._vao)),o.setup(!0),o},getCurrentBinding:function(e){var n=this.bound_vao.filter(function(r){return r[0]===e})[0];return n&&n[1]},setCurrentBinding:function(e,n){var r=this.bound_vao,o=r.filter(function(s){return s[0]===e})[0];o==null?r.push([e,n]):o[1]=n},bind:function(e,n){var r=getExtension(e,"OES_vertex_array_object");if(n!=null)r!=null&&n._vao!=null?(r.bindVertexArrayOES(n._vao),this.setCurrentBinding(e,n)):n.setup(!1);else{var o=this.getCurrentBinding(e);r!=null?r.bindVertexArrayOES(null):o!=null&&typeof o.teardown=="function"&&o.teardown(),this.setCurrentBinding(e,null)}},destroy:function(e,n){var r=getExtension(e,"OES_vertex_array_object");r!=null&&n!=null&&n._vao!=null&&(r.deleteVertexArrayOES(n._vao),n._vao=null)}},VBOMesh=function(){return _createClass(function e(n,r,o,s,l,d){_classCallCheck(this,e),d=d||{},this.textureManager=getTextureManager(l),this.gl=n,this.vertex_data=r,this.element_data=o,this.vertex_layout=s,this.vertex_buffer=this.gl.createBuffer(),this.buffer_size=this.vertex_data.byteLength,this.draw_mode=d.draw_mode||this.gl.TRIANGLES,this.data_usage=d.data_usage||this.gl.STATIC_DRAW,this.vertices_per_geometry=3,this.uniforms=d.uniforms,this.textures=d.textures,this.retain=d.retain||!1,this.created_at=+new Date,this.fade_in_time=d.fade_in_time||0,this.vertex_count=this.vertex_data.byteLength/this.vertex_layout.stride,this.element_count=0,this.vaos={},this.toggle_element_array=!1,this.element_data?(this.toggle_element_array=!0,this.element_count=this.element_data.length,this.geometry_count=this.element_count/this.vertices_per_geometry,this.element_type=this.element_data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT,this.element_buffer=this.gl.createBuffer(),this.buffer_size+=this.element_data.byteLength,this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.element_buffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,this.element_data,this.data_usage)):this.geometry_count=this.vertex_count/this.vertices_per_geometry,this.upload(),this.retain||(delete this.vertex_data,delete this.element_data),this.valid=!0},[{key:"render",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.valid)return!1;var n=e.program||ShaderProgram.current;n.use(),this.uniforms&&(n.saveUniforms(this.uniforms),n.setUniforms(this.uniforms,!1));var r=(+new Date-this.created_at)/1e3;return n.uniform("1f","u_visible_time",r),this.bind(n),this.toggle_element_array?this.gl.drawElements(this.draw_mode,this.element_count,this.element_type,0):this.gl.drawArrays(this.draw_mode,0,this.vertex_count),VertexArrayObject.bind(this.gl,null),this.uniforms&&n.restoreUniforms(this.uniforms),r<this.fade_in_time}},{key:"bind",value:function(e){var n=this,r=this.vaos[e.id];r?VertexArrayObject.bind(this.gl,r):this.vaos[e.id]=VertexArrayObject.create(this.gl,function(o){n.gl.bindBuffer(n.gl.ARRAY_BUFFER,n.vertex_buffer),n.toggle_element_array&&n.gl.bindBuffer(n.gl.ELEMENT_ARRAY_BUFFER,n.element_buffer),n.vertex_layout.enable(n.gl,e,o)})}},{key:"upload",value:function(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vertex_buffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.vertex_data,this.data_usage)}},{key:"destroy",value:function(){var e=this;if(!this.valid)return!1;for(var n in this.valid=!1,this.vaos)VertexArrayObject.destroy(this.gl,this.vaos[n]);return this.gl.deleteBuffer(this.vertex_buffer),this.vertex_buffer=null,this.element_buffer&&(this.gl.deleteBuffer(this.element_buffer),this.element_buffer=null),delete this.vertex_data,delete this.element_data,this.textures&&this.textures.forEach(function(r){return e.textureManager.release(r)}),!0}}])}(),shaderSrc_material=`/*Defines globals:materiallight_accumulator_**/struct Material{
#ifdef TANGRAM_MATERIAL_EMISSION
vec4 emission;
#ifdef TANGRAM_MATERIAL_EMISSION_TEXTURE
vec3 emissionScale;
#endif
#endif
#ifdef TANGRAM_MATERIAL_AMBIENT
vec4 ambient;
#ifdef TANGRAM_MATERIAL_AMBIENT_TEXTURE
vec3 ambientScale;
#endif
#endif
#ifdef TANGRAM_MATERIAL_DIFFUSE
vec4 diffuse;
#ifdef TANGRAM_MATERIAL_DIFFUSE_TEXTURE
vec3 diffuseScale;
#endif
#endif
#ifdef TANGRAM_MATERIAL_SPECULAR
vec4 specular;float shininess;
#ifdef TANGRAM_MATERIAL_SPECULAR_TEXTURE
vec3 specularScale;
#endif
#endif
#ifdef TANGRAM_MATERIAL_NORMAL_TEXTURE
vec3 normalScale;float normalAmount;
#endif
};uniform Material u_material;Material material;
#ifdef TANGRAM_MATERIAL_EMISSION_TEXTURE
uniform sampler2D u_material_emission_texture;
#endif
#ifdef TANGRAM_MATERIAL_AMBIENT_TEXTURE
uniform sampler2D u_material_ambient_texture;
#endif
#ifdef TANGRAM_MATERIAL_DIFFUSE_TEXTURE
uniform sampler2D u_material_diffuse_texture;
#endif
#ifdef TANGRAM_MATERIAL_SPECULAR_TEXTURE
uniform sampler2D u_material_specular_texture;
#endif
#ifdef TANGRAM_MATERIAL_NORMAL_TEXTURE
uniform sampler2D u_material_normal_texture;
#endif
vec4 light_accumulator_ambient=vec4(vec3(0.0),1.);vec4 light_accumulator_diffuse=vec4(vec3(0.0),1.);
#ifdef TANGRAM_MATERIAL_SPECULAR
vec4 light_accumulator_specular=vec4(vec3(0.0),1.);
#endif
#ifdef TANGRAM_MATERIAL_TEXTURE_SPHEREMAP
vec4 getSphereMap(in sampler2D _tex,in vec3 _eyeToPoint,in vec3 _normal,in vec2 _skew){vec3 eye=normalize(_eyeToPoint);eye.xy-=_skew;eye=normalize(eye);vec3 r=reflect(eye,_normal);r.z+=1.0;float m=2.*length(r);vec2 uv=r.xy/m+.5;return texture2D(_tex,uv);}
#endif
#ifdef TANGRAM_MATERIAL_TEXTURE_TRIPLANAR
vec3 getTriPlanarBlend(in vec3 _normal){vec3 blending=abs(_normal);blending=normalize(max(blending,0.00001));float b=(blending.x+blending.y+blending.z);return blending/b;}vec4 getTriPlanar(in sampler2D _tex,in vec3 _pos,in vec3 _normal,in vec3 _scale){vec3 blending=getTriPlanarBlend(_normal);vec4 xaxis=texture2D(_tex,fract(_pos.yz*_scale.x));vec4 yaxis=texture2D(_tex,fract(_pos.xz*_scale.y));vec4 zaxis=texture2D(_tex,fract(_pos.xy*_scale.z));return xaxis*blending.x+yaxis*blending.y+zaxis*blending.z;}
#endif
#ifdef TANGRAM_MATERIAL_TEXTURE_PLANAR
vec4 getPlanar(in sampler2D _tex,in vec3 _pos,in vec2 _scale){return texture2D(_tex,fract(_pos.xy*_scale.x));}
#endif
#ifdef TANGRAM_MATERIAL_NORMAL_TEXTURE
void calculateNormal(inout vec3 _normal){
#ifdef TANGRAM_MATERIAL_NORMAL_TEXTURE_UV
_normal+=texture2D(u_material_normal_texture,fract(v_texcoord*material.normalScale.xy)).rgb*2.0-1.0;
#endif
#ifdef TANGRAM_MATERIAL_NORMAL_TEXTURE_PLANAR
vec3 normalTex=getPlanar(u_material_normal_texture,v_world_position.xyz,material.normalScale.xy).rgb*2.0-1.0;_normal+=normalTex;
#endif
#ifdef TANGRAM_MATERIAL_NORMAL_TEXTURE_TRIPLANAR
vec3 normalTex=getTriPlanar(u_material_normal_texture,v_world_position.xyz,_normal,material.normalScale).rgb*2.0-1.0;_normal+=normalTex;
#endif
_normal=normalize(_normal);}
#endif
void calculateMaterial(in vec3 _eyeToPoint,inout vec3 _normal){
#ifdef TANGRAM_MATERIAL_EMISSION_TEXTURE
#ifdef TANGRAM_MATERIAL_EMISSION_TEXTURE_UV
material.emission*=texture2D(u_material_emission_texture,v_texcoord);
#endif
#ifdef TANGRAM_MATERIAL_EMISSION_TEXTURE_PLANAR
material.emission*=getPlanar(u_material_emission_texture,v_world_position.xyz,material.emissionScale.xy);
#endif
#ifdef TANGRAM_MATERIAL_EMISSION_TEXTURE_TRIPLANAR
material.emission*=getTriPlanar(u_material_emission_texture,v_world_position.xyz,_normal,material.emissionScale);
#endif
#ifdef TANGRAM_MATERIAL_EMISSION_TEXTURE_SPHEREMAP
material.emission*=getSphereMap(u_material_emission_texture,_eyeToPoint,_normal,u_center_offset);
#endif
#endif
#ifdef TANGRAM_MATERIAL_AMBIENT_TEXTURE
#ifdef TANGRAM_MATERIAL_AMBIENT_TEXTURE_UV
material.ambient*=texture2D(u_material_ambient_texture,v_texcoord);
#endif
#ifdef TANGRAM_MATERIAL_AMBIENT_TEXTURE_PLANAR
material.ambient*=getPlanar(u_material_ambient_texture,v_world_position.xyz,material.ambientScale.xy);
#endif
#ifdef TANGRAM_MATERIAL_AMBIENT_TEXTURE_TRIPLANAR
material.ambient*=getTriPlanar(u_material_ambient_texture,v_world_position.xyz,_normal,material.ambientScale);
#endif
#ifdef TANGRAM_MATERIAL_AMBIENT_TEXTURE_SPHEREMAP
material.ambient*=getSphereMap(u_material_ambient_texture,_eyeToPoint,_normal,u_center_offset);
#endif
#endif
#ifdef TANGRAM_MATERIAL_DIFFUSE_TEXTURE
#ifdef TANGRAM_MATERIAL_DIFFUSE_TEXTURE_UV
material.diffuse*=texture2D(u_material_diffuse_texture,v_texcoord);
#endif
#ifdef TANGRAM_MATERIAL_DIFFUSE_TEXTURE_PLANAR
material.diffuse*=getPlanar(u_material_diffuse_texture,v_world_position.xyz,material.diffuseScale.xy);
#endif
#ifdef TANGRAM_MATERIAL_DIFFUSE_TEXTURE_TRIPLANAR
material.diffuse*=getTriPlanar(u_material_diffuse_texture,v_world_position.xyz,_normal,material.diffuseScale);
#endif
#ifdef TANGRAM_MATERIAL_DIFFUSE_TEXTURE_SPHEREMAP
material.diffuse*=getSphereMap(u_material_diffuse_texture,_eyeToPoint,_normal,u_center_offset);
#endif
#endif
#ifdef TANGRAM_MATERIAL_SPECULAR_TEXTURE
#ifdef TANGRAM_MATERIAL_SPECULAR_TEXTURE_UV
material.specular*=texture2D(u_material_specular_texture,v_texcoord);
#endif
#ifdef TANGRAM_MATERIAL_SPECULAR_TEXTURE_PLANAR
material.specular*=getPlanar(u_material_specular_texture,v_world_position.xyz,material.specularScale.xy);
#endif
#ifdef TANGRAM_MATERIAL_SPECULAR_TEXTURE_TRIPLANAR
material.specular*=getTriPlanar(u_material_specular_texture,v_world_position.xyz,_normal,material.specularScale);
#endif
#ifdef TANGRAM_MATERIAL_SPECULAR_TEXTURE_SPHEREMAP
material.specular*=getSphereMap(u_material_specular_texture,_eyeToPoint,_normal,u_center_offset);
#endif
#endif
}`,material_props=["emission","ambient","diffuse","specular"],Material=function(){function e(n){var r=this;_classCallCheck(this,e),n=n||{},material_props.forEach(function(o){var s=n[o];s!=null&&(s.texture?r[o]={texture:s.texture,mapping:s.mapping||"spheremap",scale:GLSL.expandVec3(s.scale!=null?s.scale:1),amount:GLSL.expandVec4(s.amount!=null?s.amount:1)}:typeof s=="number"||Array.isArray(s)?r[o]={amount:GLSL.expandVec4(s)}:r[o]=typeof s=="string"?{amount:StyleParser.parseColor(s)}:s)}),this.specular&&(this.specular.shininess=n.shininess?parseFloat(n.shininess):.2),n.normal!=null&&(this.normal={texture:n.normal.texture,mapping:n.normal.mapping||"triplanar",scale:GLSL.expandVec3(n.normal.scale!=null?n.normal.scale:1),amount:n.normal.amount!=null?n.normal.amount:1})}return _createClass(e,[{key:"inject",value:function(n){var r=this;material_props.forEach(function(o){var s="TANGRAM_MATERIAL_".concat(o.toUpperCase()),l=s+"_TEXTURE";n.defines[s]=r[o]!=null,r[o]&&r[o].texture&&(n.defines[l]=!0,n.defines[l+"_"+r[o].mapping.toUpperCase()]=!0,n.defines["TANGRAM_MATERIAL_TEXTURE_".concat(r[o].mapping.toUpperCase())]=!0,n.texcoords=n.texcoords||r[o].mapping==="uv")}),this.normal&&this.normal.texture&&(n.defines.TANGRAM_MATERIAL_NORMAL_TEXTURE=!0,n.defines["TANGRAM_MATERIAL_NORMAL_TEXTURE_"+this.normal.mapping.toUpperCase()]=!0,n.defines["TANGRAM_MATERIAL_TEXTURE_".concat(this.normal.mapping.toUpperCase())]=!0,n.texcoords=n.texcoords||this.normal.mapping==="uv"),n.replaceShaderBlock(e.block,shaderSrc_material,"Material"),n.addShaderBlock("setup",`
material = u_material;
`,"Material")}},{key:"setupProgram",value:function(n){var r=this;material_props.forEach(function(o){r[o]&&(r[o].texture?(n.setTextureUniform("u_material_".concat(o,"_texture"),r[o].texture),n.uniform("3fv","u_material.".concat(o,"Scale"),r[o].scale),n.uniform("4fv","u_material.".concat(o),r[o].amount)):r[o].amount&&n.uniform("4fv","u_material.".concat(o),r[o].amount))}),this.specular&&n.uniform("1f","u_material.shininess",this.specular.shininess),this.normal&&this.normal.texture&&(n.setTextureUniform("u_material_normal_texture",this.normal.texture),n.uniform("3fv","u_material.normalScale",this.normal.scale),n.uniform("1f","u_material.normalAmount",this.normal.amount))}}],[{key:"isValid",value:function(n){return n!=null&&(n.emission!=null||n.ambient!=null||n.diffuse!=null||n.specular!=null)}}])}(),Vector;Material.block="material";var Vector$1=Vector={};Vector.copy=function(e){for(var n=[],r=e.length,o=0;o<r;o++)n[o]=e[o];return n},Vector.neg=function(e){for(var n=[],r=e.length,o=0;o<r;o++)n[o]=-e[o];return n},Vector.add=function(e,n){for(var r=[],o=Math.min(e.length,n.length),s=0;s<o;s++)r[s]=e[s]+n[s];return r},Vector.sub=function(e,n){for(var r=[],o=Math.min(e.length,n.length),s=0;s<o;s++)r[s]=e[s]-n[s];return r},Vector.signed_area=function(e,n,r){return(n[0]-e[0])*(r[1]-e[1])-(r[0]-e[0])*(n[1]-e[1])},Vector.mult=function(e,n){var r,o=[],s=e.length;if(typeof n=="number")for(r=0;r<s;r++)o[r]=e[r]*n;else for(s=Math.min(e.length,n.length),r=0;r<s;r++)o[r]=e[r]*n[r];return o},Vector.multMatrix=function(e,n){return[e[0][0]*n[0]+e[0][1]*n[1],e[1][0]*n[0]+e[1][1]*n[1]]},Vector.div=function(e,n){var r,o=[];if(typeof n=="number")for(r=0;r<e.length;r++)o[r]=e[r]/n;else{var s=Math.min(e.length,n.length);for(r=0;r<s;r++)o[r]=e[r]/n[r]}return o},Vector.perp=function(e,n){return[n[1]-e[1],e[0]-n[0]]},Vector.rot=function(e,n){var r=Math.cos(n),o=Math.sin(n);return[e[0]*r-e[1]*o,e[0]*o+e[1]*r]},Vector.angle=function(e){var n=_slicedToArray(e,2),r=n[0],o=n[1];return Math.atan2(o,r)},Vector.angleBetween=function(e,n){var r=Vector.dot(Vector.normalize(Vector.copy(e)),Vector.normalize(Vector.copy(n)));return r>1&&(r=1),Math.acos(r)},Vector.signedAngleBetween=function(e,n){return Math.atan2(e[0]*n[1]-e[1]*n[0],e[0]*n[0]+e[1]*n[1])},Vector.isEqual=function(e,n){for(var r=e.length,o=0;o<r;o++)if(e[o]!==n[o])return!1;return!0},Vector.lengthSq=function(e){return e.length===2?e[0]*e[0]+e[1]*e[1]:e.length>=3?e[0]*e[0]+e[1]*e[1]+e[2]*e[2]:0},Vector.length=function(e){return Math.sqrt(Vector.lengthSq(e))},Vector.normalize=function(e){var n;if(e.length===2){if((n=e[0]*e[0]+e[1]*e[1])===1)return e;(n=Math.sqrt(n))!==0?(e[0]/=n,e[1]/=n):(e[0]=0,e[1]=0)}else if(e.length>=3){if((n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2])===1)return e;(n=Math.sqrt(n))!==0?(e[0]/=n,e[1]/=n,e[2]/=n):(e[0]=0,e[1]=0,e[2]=0)}return e},Vector.cross=function(e,n){return e.length===2?e[0]*n[1]-e[1]*n[0]:e.length===3?[e[1]*n[2]-e[2]*n[1],e[2]*n[0]-e[0]*n[2],e[0]*n[1]-e[1]*n[0]]:void 0},Vector.dot=function(e,n){for(var r=0,o=Math.min(e.length,n.length),s=0;s<o;s++)r+=e[s]*n[s];return r};var shaderSrc_ambientLight="/*Expected globals:light_accumulator_**/struct AmbientLight{vec3 ambient;};void calculateLight(in AmbientLight _light,in vec3 _eyeToPoint,in vec3 _normal){light_accumulator_ambient.rgb+=_light.ambient;}",shaderSrc_directionalLight=`/*Expected globals:materiallight_accumulator_**/struct DirectionalLight{vec3 ambient;vec3 diffuse;vec3 specular;vec3 direction;};void calculateLight(in DirectionalLight _light,in vec3 _eyeToPoint,in vec3 _normal){light_accumulator_ambient.rgb+=_light.ambient;float nDotVP=clamp(dot(_normal,-_light.direction),0.0,1.0);
#ifdef TANGRAM_MATERIAL_DIFFUSE
light_accumulator_diffuse.rgb+=_light.diffuse*nDotVP;
#endif
#ifdef TANGRAM_MATERIAL_SPECULAR
float pf=0.0;if(nDotVP>0.0){vec3 reflectVector=reflect(_light.direction,_normal);float eyeDotR=max(dot(normalize(_eyeToPoint),reflectVector),0.0);pf=pow(eyeDotR,material.shininess);}light_accumulator_specular.rgb+=_light.specular*pf;
#endif
}`,shaderSrc_pointLight=`/*Expected globals:materiallight_accumulator_**/struct PointLight{vec3 ambient;vec3 diffuse;vec3 specular;vec4 position;
#ifdef TANGRAM_POINTLIGHT_ATTENUATION_EXPONENT
float attenuationExponent;
#endif
#ifdef TANGRAM_POINTLIGHT_ATTENUATION_INNER_RADIUS
float innerRadius;
#endif
#ifdef TANGRAM_POINTLIGHT_ATTENUATION_OUTER_RADIUS
float outerRadius;
#endif
};void calculateLight(in PointLight _light,in vec3 _eyeToPoint,in vec3 _normal){float dist=length(_light.position.xyz-_eyeToPoint);vec3 VP=(_light.position.xyz-_eyeToPoint)/dist;float nDotVP=clamp(dot(VP,_normal),0.0,1.0);float attenuation=1.0;
#ifdef TANGRAM_POINTLIGHT_ATTENUATION_EXPONENT
float Rin=1.0;float e=_light.attenuationExponent;
#ifdef TANGRAM_POINTLIGHT_ATTENUATION_INNER_RADIUS
Rin=_light.innerRadius;
#endif
#ifdef TANGRAM_POINTLIGHT_ATTENUATION_OUTER_RADIUS
float Rdiff=_light.outerRadius-Rin;float d=clamp(max(0.0,dist-Rin)/Rdiff,0.0,1.0);attenuation=1.0-(pow(d,e));
#else
float d=max(0.0,dist-Rin)/Rin+1.0;attenuation=clamp(1.0/(pow(d,e)),0.0,1.0);
#endif
#else
float Rin=0.0;
#ifdef TANGRAM_POINTLIGHT_ATTENUATION_INNER_RADIUS
Rin=_light.innerRadius;
#ifdef TANGRAM_POINTLIGHT_ATTENUATION_OUTER_RADIUS
float Rdiff=_light.outerRadius-Rin;float d=clamp(max(0.0,dist-Rin)/Rdiff,0.0,1.0);attenuation=1.0-d*d;
#else
float d=max(0.0,dist-Rin)/Rin+1.0;attenuation=clamp(1.0/d,0.0,1.0);
#endif
#else
#ifdef TANGRAM_POINTLIGHT_ATTENUATION_OUTER_RADIUS
float d=clamp(dist/_light.outerRadius,0.0,1.0);attenuation=1.0-d*d;
#else
attenuation=1.0;
#endif
#endif
#endif
light_accumulator_ambient.rgb+=_light.ambient*attenuation;
#ifdef TANGRAM_MATERIAL_DIFFUSE
light_accumulator_diffuse.rgb+=_light.diffuse*nDotVP*attenuation;
#endif
#ifdef TANGRAM_MATERIAL_SPECULAR
float pf=0.0;if(nDotVP>0.0){vec3 reflectVector=reflect(-VP,_normal);float eyeDotR=max(0.0,dot(-normalize(_eyeToPoint),reflectVector));pf=pow(eyeDotR,material.shininess);}light_accumulator_specular.rgb+=_light.specular*pf*attenuation;
#endif
}`,shaderSrc_spotLight=`/*Expected globals:materiallight_accumulator_**/struct SpotLight{vec3 ambient;vec3 diffuse;vec3 specular;vec4 position;
#ifdef TANGRAM_POINTLIGHT_ATTENUATION_EXPONENT
float attenuationExponent;
#endif
#ifdef TANGRAM_POINTLIGHT_ATTENUATION_INNER_RADIUS
float innerRadius;
#endif
#ifdef TANGRAM_POINTLIGHT_ATTENUATION_OUTER_RADIUS
float outerRadius;
#endif
vec3 direction;float spotCosCutoff;float spotExponent;};void calculateLight(in SpotLight _light,in vec3 _eyeToPoint,in vec3 _normal){float dist=length(_light.position.xyz-_eyeToPoint);vec3 VP=(_light.position.xyz-_eyeToPoint)/dist;float nDotVP=clamp(dot(_normal,VP),0.0,1.0);float attenuation=1.0;
#ifdef TANGRAM_POINTLIGHT_ATTENUATION_EXPONENT
float Rin=1.0;float e=_light.attenuationExponent;
#ifdef TANGRAM_POINTLIGHT_ATTENUATION_INNER_RADIUS
Rin=_light.innerRadius;
#endif
#ifdef TANGRAM_POINTLIGHT_ATTENUATION_OUTER_RADIUS
float Rdiff=_light.outerRadius-Rin;float d=clamp(max(0.0,dist-Rin)/Rdiff,0.0,1.0);attenuation=1.0-(pow(d,e));
#else
float d=max(0.0,dist-Rin)/Rin+1.0;attenuation=clamp(1.0/(pow(d,e)),0.0,1.0);
#endif
#else
float Rin=0.0;
#ifdef TANGRAM_POINTLIGHT_ATTENUATION_INNER_RADIUS
Rin=_light.innerRadius;
#ifdef TANGRAM_POINTLIGHT_ATTENUATION_OUTER_RADIUS
float Rdiff=_light.outerRadius-Rin;float d=clamp(max(0.0,dist-Rin)/Rdiff,0.0,1.0);attenuation=1.0-d*d;
#else
float d=max(0.0,dist-Rin)/Rin+1.0;attenuation=clamp(1.0/d,0.0,1.0);
#endif
#else
#ifdef TANGRAM_POINTLIGHT_ATTENUATION_OUTER_RADIUS
float d=clamp(dist/_light.outerRadius,0.0,1.0);attenuation=1.0-d*d;
#else
attenuation=1.0;
#endif
#endif
#endif
float spotAttenuation=0.0;float spotDot=clamp(dot(-VP,_light.direction),0.0,1.0);if(spotDot>=_light.spotCosCutoff){spotAttenuation=pow(spotDot,_light.spotExponent);}light_accumulator_ambient.rgb+=_light.ambient*attenuation*spotAttenuation;
#ifdef TANGRAM_MATERIAL_DIFFUSE
light_accumulator_diffuse.rgb+=_light.diffuse*nDotVP*attenuation*spotAttenuation;
#endif
#ifdef TANGRAM_MATERIAL_SPECULAR
float pf=0.0;if(nDotVP>0.0){vec3 reflectVector=reflect(-VP,_normal);float eyeDotR=max(dot(-normalize(_eyeToPoint),reflectVector),0.0);pf=pow(eyeDotR,material.shininess);}light_accumulator_specular.rgb+=_light.specular*pf*attenuation*spotAttenuation;
#endif
}`,Light=function(){function e(n,r){_classCallCheck(this,e),this.name=r.name,this.view=n,r.ambient==null||typeof r.ambient=="number"?this.ambient=GLSL.expandVec3(r.ambient||0):this.ambient=StyleParser.parseColor(r.ambient).slice(0,3),r.diffuse==null||typeof r.diffuse=="number"?this.diffuse=GLSL.expandVec3(r.diffuse!=null?r.diffuse:1):this.diffuse=StyleParser.parseColor(r.diffuse).slice(0,3),r.specular==null||typeof r.specular=="number"?this.specular=GLSL.expandVec3(r.specular||0):this.specular=StyleParser.parseColor(r.specular).slice(0,3)}return _createClass(e,[{key:"inject",value:function(){var n=`
            uniform `.concat(this.struct_name," u_").concat(this.name,`;
            `).concat(this.struct_name," ").concat(this.name,`;
            `),r=`
            `.concat(this.name," = u_").concat(this.name,`;

        `);ShaderProgram.addBlock(e.block,n),ShaderProgram.addBlock("setup",r)}},{key:"update",value:function(){}},{key:"setupProgram",value:function(n){n.uniform("3fv","u_".concat(this.name,".ambient"),this.ambient),n.uniform("3fv","u_".concat(this.name,".diffuse"),this.diffuse),n.uniform("3fv","u_".concat(this.name,".specular"),this.specular)}}],[{key:"create",value:function(n,r){if(e.types[r.type])return new e.types[r.type](n,r)}},{key:"setMode",value:function(n,r){n===!0&&(n="fragment"),n=e.enabled&&(n??"fragment"),r.defines.TANGRAM_LIGHTING_FRAGMENT=n==="fragment",r.defines.TANGRAM_LIGHTING_VERTEX=n==="vertex"}},{key:"inject",value:function(n){if(ShaderProgram.removeBlock(e.block),e.enabled){var r="";if(n&&Object.keys(n).length>0){var o={};for(var s in n)o[n[s].type]=!0;for(var l in o)e.types[l].inject();for(var d in n)n[d].inject(),r+="calculateLight(".concat(d,`, _eyeToPoint, _normal);
`)}var h=`
            vec4 calculateLighting(in vec3 _eyeToPoint, in vec3 _normal, in vec4 _color) {

                // Do initial material calculations over normal, emission, ambient, diffuse and specular values
                calculateMaterial(_eyeToPoint,_normal);

                // Un roll the loop of individual ligths to calculate
                `.concat(r,`

                //  Final light intensity calculation
                vec4 color = vec4(vec3(0.), _color.a); // start with vertex color alpha

                #ifdef TANGRAM_MATERIAL_EMISSION
                    color.rgb = material.emission.rgb;
                    color.a *= material.emission.a;
                #endif

                #ifdef TANGRAM_MATERIAL_AMBIENT
                    color.rgb += light_accumulator_ambient.rgb * _color.rgb * material.ambient.rgb;
                    color.a *= material.ambient.a;
                #else
                    #ifdef TANGRAM_MATERIAL_DIFFUSE
                        color.rgb += light_accumulator_ambient.rgb * _color.rgb * material.diffuse.rgb;
                    #endif
                #endif

                #ifdef TANGRAM_MATERIAL_DIFFUSE
                    color.rgb += light_accumulator_diffuse.rgb * _color.rgb * material.diffuse.rgb;
                    color.a *= material.diffuse.a;
                #endif

                #ifdef TANGRAM_MATERIAL_SPECULAR
                    color.rgb += light_accumulator_specular.rgb * material.specular.rgb;
                    color.a *= material.specular.a;
                #endif

                // Clamp final color
                color = clamp(color, 0.0, 1.0);

                return color;
            }`);ShaderProgram.addBlock(e.block,h)}}}])}();Light.types={},Light.block="lighting",Light.enabled=!0;var AmbientLight=function(e){function n(r,o){var s;return _classCallCheck(this,n),(s=_callSuper(this,n,[r,o])).type="ambient",s.struct_name="AmbientLight",s}return _inherits(n,e),_createClass(n,[{key:"setupProgram",value:function(r){r.uniform("3fv","u_".concat(this.name,".ambient"),this.ambient)}}],[{key:"inject",value:function(){ShaderProgram.addBlock(Light.block,shaderSrc_ambientLight)}}])}(Light);Light.types.ambient=AmbientLight;var DirectionalLight=function(e){function n(r,o){var s;if(_classCallCheck(this,n),(s=_callSuper(this,n,[r,o])).type="directional",s.struct_name="DirectionalLight",o.direction)s._direction=o.direction;else{var l=Math.sin(60*Math.PI/180);s._direction=[Math.cos(135*Math.PI/180)*l,Math.sin(135*Math.PI/180)*l,-.5]}return o.ambient==null&&(s.ambient=GLSL.expandVec3(.5)),s.direction=s._direction.map(parseFloat),s._initial_direction=[s.direction[0],s.direction[1],s.direction[2]],s}return _inherits(n,e),_createClass(n,[{key:"direction",get:function(){return this._direction},set:function(r){this._direction=Vector$1.normalize(Vector$1.copy(r))}},{key:"update",value:function(){vec3.transformMat4(this.direction,this._initial_direction,this.view.lookAtManipulator.getTransformationMatrix())}},{key:"setupProgram",value:function(r){_get(_getPrototypeOf(n.prototype),"setupProgram",this).call(this,r),r.uniform("3fv","u_".concat(this.name,".direction"),this.direction)}}],[{key:"inject",value:function(){ShaderProgram.addBlock(Light.block,shaderSrc_directionalLight)}}])}(Light);Light.types.directional=DirectionalLight;var PointLight=function(e){function n(r,o){var s;return _classCallCheck(this,n),(s=_callSuper(this,n,[r,o])).type="point",s.struct_name="PointLight",s.position=o.position||[0,0,"100px"],s.position_eye=[],s.origin=o.origin||"ground",s.attenuation=isNaN(parseFloat(o.attenuation))?0:parseFloat(o.attenuation),o.radius?Array.isArray(o.radius)&&o.radius.length===2?s.radius=o.radius:s.radius=[null,o.radius]:s.radius=null,s}return _inherits(n,e),_createClass(n,[{key:"inject",value:function(){_get(_getPrototypeOf(n.prototype),"inject",this).call(this),ShaderProgram.defines.TANGRAM_POINTLIGHT_ATTENUATION_EXPONENT=this.attenuation!==0,ShaderProgram.defines.TANGRAM_POINTLIGHT_ATTENUATION_INNER_RADIUS=this.radius!=null&&this.radius[0]!=null,ShaderProgram.defines.TANGRAM_POINTLIGHT_ATTENUATION_OUTER_RADIUS=this.radius!=null}},{key:"update",value:function(){var r=this.view.lookAtManipulator.getLookAtData().zoom;if(this.origin==="world"){var o=_slicedToArray(Geo$1.latLngToMeters(this.position),2),s=o[0],l=o[1];this.position_eye[0]=s-this.view.lookAtManipulator.getLookAtData().position[0],this.position_eye[1]=l-this.view.lookAtManipulator.getLookAtData().position[1],this.position_eye[2]=StyleParser.convertUnits(this.position[2],{zoom:r,meters_per_pixel:Geo$1.metersPerPixel(r)}),this.position_eye[2]=this.position_eye[2]-this.view.lookAtManipulator.getLookAtData().distance}else this.origin!=="ground"&&this.origin!=="camera"||(this.position_eye=StyleParser.convertUnits(this.position,{zoom:r,meters_per_pixel:Geo$1.metersPerPixel(r)}),this.origin==="ground"&&(this.position_eye[2]=this.position_eye[2]-this.view.lookAtManipulator.getLookAtData().distance));this.position_eye[3]=1}},{key:"setupProgram",value:function(r){_get(_getPrototypeOf(n.prototype),"setupProgram",this).call(this,r),r.uniform("4fv","u_".concat(this.name,".position"),this.position_eye),ShaderProgram.defines.TANGRAM_POINTLIGHT_ATTENUATION_EXPONENT&&r.uniform("1f","u_".concat(this.name,".attenuationExponent"),this.attenuation);var o=this.view.lookAtManipulator.getLookAtData().zoom;ShaderProgram.defines.TANGRAM_POINTLIGHT_ATTENUATION_INNER_RADIUS&&r.uniform("1f","u_".concat(this.name,".innerRadius"),StyleParser.convertUnits(this.radius[0],{zoom:o,meters_per_pixel:Geo$1.metersPerPixel(o)})),ShaderProgram.defines.TANGRAM_POINTLIGHT_ATTENUATION_OUTER_RADIUS&&r.uniform("1f","u_".concat(this.name,".outerRadius"),StyleParser.convertUnits(this.radius[1],{zoom:o,meters_per_pixel:Geo$1.metersPerPixel(o)}))}}],[{key:"inject",value:function(){ShaderProgram.addBlock(Light.block,shaderSrc_pointLight)}}])}(Light);Light.types.point=PointLight;var SpotLight=function(e){function n(r,o){var s;return _classCallCheck(this,n),(s=_callSuper(this,n,[r,o])).type="spotlight",s.struct_name="SpotLight",s.direction=s._direction=(o.direction||[0,0,-1]).map(parseFloat),s._initial_direction=[s.direction[0],s.direction[1],s.direction[2]],s.exponent=o.exponent?parseFloat(o.exponent):.2,s.angle=o.angle?parseFloat(o.angle):20,s}return _inherits(n,e),_createClass(n,[{key:"direction",get:function(){return this._direction},set:function(r){this._direction=Vector$1.normalize(Vector$1.copy(r))}},{key:"setupProgram",value:function(r){_get(_getPrototypeOf(n.prototype),"setupProgram",this).call(this,r),r.uniform("3fv","u_".concat(this.name,".direction"),this.direction),r.uniform("1f","u_".concat(this.name,".spotCosCutoff"),Math.cos(3.14159*this.angle/180)),r.uniform("1f","u_".concat(this.name,".spotExponent"),this.exponent)}},{key:"update",value:function(){_get(_getPrototypeOf(n.prototype),"update",this).call(this),vec3.transformMat4(this.direction,this._initial_direction,this.view.lookAtManipulator.getTransformationMatrix())}}],[{key:"inject",value:function(){ShaderProgram.addBlock(Light.block,shaderSrc_spotLight)}}])}(PointLight);function mergeObjects(e){for(var n=0;n<(arguments.length<=1?0:arguments.length-1);n++){var r=n+1<1||arguments.length<=n+1?void 0:arguments[n+1];if(r)for(var o in r){var s=r[o];s===null||_typeof(s)!=="object"||Array.isArray(s)?s!==void 0&&(e[o]=s):e[o]===null||_typeof(e[o])!=="object"||Array.isArray(e[o])?e[o]=mergeObjects({},s):e[o]=mergeObjects(e[o],s)}}return e}Light.types.spotlight=SpotLight;var shaderSrc_selectionFragment=`
#ifdef TANGRAM_FEATURE_SELECTION
varying vec4 v_selection_color;
#endif
void main(void){
#ifdef TANGRAM_FEATURE_SELECTION
gl_FragColor=v_selection_color;
#else
gl_FragColor=vec4(0.,0.,0.,1.);
#endif
}`,shaderSrc_selectionCropFragment=`
#pragma tangram: utils
#ifdef TANGRAM_FEATURE_SELECTION
uniform float u_meters_per_pixel;varying vec4 v_selection_color;varying vec4 v_local_space_position;
#endif
void main(void){
#ifdef TANGRAM_FEATURE_SELECTION
if(isLocalSpacePixelOutsideTile(v_local_space_position,TANGRAM_TILE_SCALE.x)){discard;}else{gl_FragColor=v_selection_color;}
#else
gl_FragColor=vec4(0.,0.,0.,1.);
#endif
}`,shaderSrc_rasters=`#ifdef TANGRAM_FRAGMENT_SHADER
uniform sampler2D u_raster;uniform vec3 u_raster_offset;
#define sampleRaster() (texture2D(u_raster, v_modelpos_base_zoom.xy * u_raster_offset.z + u_raster_offset.xy))
#endif
`,Style={init:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.generation,r=e.styles,o=e.sources,s=o===void 0?{}:o,l=e.introspection,d=e.id,h=d!==void 0?d+"/":"";this.scene_id=d,this.textureManager=getTextureManager(d),this.main_thread_target="".concat(h,"Style/").concat(this.name),this.setGeneration(n),this.styles=r,this.sources=s,this.defines=this.hasOwnProperty("defines")&&this.defines||{},this.shaders=this.hasOwnProperty("shaders")&&this.shaders||{},this.introspection=l||!1,this.selection=this.selection||this.introspection||!1,this.compile_setup=!1,this.program=null,this.selection_program=null,this.feature_style={},this.vertex_template=[],this.tile_data={},this.defines.TANGRAM_WORLD_POSITION_WRAP=1e5,this.blend=this.blend||"opaque",this.defines["TANGRAM_BLEND_".concat(this.blend.toUpperCase())]=!0,this.blend_order==null&&(this.blend_order=-1),this.removeShaderBlock("setup"),this.material instanceof Material||(Material.isValid(this.material)||(this.material=StyleParser.defaults.material),this.material=new Material(this.material)),this.material.inject(this),Light.setMode(this.lighting,this),this.setupRasters(),this.initialized=!0},destroy:function(){this.program&&(this.program.destroy(),this.program=null),this.selection_program&&(this.selection_program.destroy(),this.selection_program=null),WorkerBroker.removeTarget(this.main_thread_target),this.gl=null,this.initialized=!1},reset:function(){},baseStyle:function(){return this.base||this.name},setGeneration:function(e){this.generation=e,Thread.is_main&&WorkerBroker.addTarget(this.main_thread_target,this)},fillVertexTemplate:function(e,n,r,o){var s=o.size,l=o.offset;l=l===void 0?0:l;var d=e.index[n];if(d!==void 0)for(var h=0;h<s;++h){var p=r.length>h?r[h]:r;this.vertex_template[d+h+l]=p}else log("warn","Style: in style '".concat(this.name,"', no index found in vertex layout for attribute '").concat(n,"'"))},startData:function(e){this.tile_data[e.id]=this.tile_data[e.id]||{meshes:{},uniforms:{},textures:[]}},endData:function(e){var n=this.tile_data[e.id];if(this.tile_data[e.id]=null,n&&Object.keys(n.meshes).length>0){for(var r in n.meshes){var o=n.meshes[r];o.vertex_data.vertex_count!==0?(o.vertex_data.end(),o.vertex_elements=o.vertex_data.element_buffer,o.vertex_data=o.vertex_data.vertex_buffer):delete n.meshes[r]}return e.mesh_data[this.name]=n,this.buildRasterTextures(e,n).then(function(s){return s})}return Promise.resolve(null)},hasDataForTile:function(e){return this.tile_data[e.id]!=null},getTileMesh:function(e,n){var r=this.tile_data[e.id].meshes;return r[n.key]==null&&(r[n.key]={variant:n,vertex_data:this.vertexLayoutForMeshVariant(n).createVertexData()}),r[n.key]},vertexLayoutForMeshVariant:function(e){return this.vertex_layout},default_mesh_variant:{key:0},style_mesh_variants:{default:{variants:{0:{variant:{key:0},times_unref:0}}}},addMeshVariantForDraw:function(e,n){this.style_mesh_variants[e]||(this.style_mesh_variants[e]={variants:{}});var r=this.computeVariantForDraw(n);return this.style_mesh_variants[e].variants[r.key]={variant:r,times_unref:0},this.style_mesh_variants[e].variants[r.key].variant},getMeshVariantTypeForDraw:function(e){return this.getMeshVariantType(this.base,e)},getMeshVariantType:function(e,n){e===void 0&&(e="default");var r=this.style_mesh_variants[e];if(n.variantKey===void 0||!r||!r.variants[n.variantKey])return this.addMeshVariantForDraw(e,n);var o=n.variantKey,s=r.variants[o];return s.times_unref=0,s.variant},updateMeshVariantTypeCache:function(e){for(var n in this.style_mesh_variants){var r=this.style_mesh_variants[n].variants;for(var o in r){var s=r[o];s.times_unref++,s.times_unref>e&&(n!=="default"||+o!=0)&&(delete r[o],Object.keys(r).length===0&&delete this.style_mesh_variants[n])}}},computeVariantForDraw:function(e){return this.default_mesh_variant},addFeature:function(e,n,r){var o=r.tile;this.tile_data[o.id]||this.startData(o);var s=this.parseFeature(e,n,r);if(s){var l=this.base==="lines"?this.getMeshVariantTypeForDraw(n):this.getMeshVariantTypeForDraw(s),d=this.getTileMesh(o,l),h=d.vertex_data.offset,p=d.vertex_data.vertex_count;this.buildGeometry(e.geometry,s,d,r)>0?e.generation=this.generation:d.vertex_data.vertex_count>p&&(d.vertex_data.vertex_buffer.fill(0,h,d.vertex_data.offset),d.vertex_data.vertex_count=p,d.vertex_data.offset=h)}},buildGeometry:function(e,n,r,o){var s;return e.type==="Polygon"?s=this.buildPolygons([e.coordinates],n,r,o):e.type==="MultiPolygon"?s=this.buildPolygons(e.coordinates,n,r,o):e.type==="LineString"?s=this.buildLines([e.coordinates],n,r,o):e.type==="MultiLineString"?s=this.buildLines(e.coordinates,n,r,o):e.type==="Point"?s=this.buildPoints([e.coordinates],n,r,o):e.type==="MultiPoint"&&(s=this.buildPoints(e.coordinates,n,r,o)),s},parseFeature:function(e,n,r){try{var o=this.feature_style;if(o.order=this.parseOrder(n.order,r),o.order==null&&this.blend!=="overlay"){var s="Layer '".concat(n.layers.join(", "),"', draw group '").concat(n.group,"': ");return s+="'order' parameter is required unless blend mode is 'overlay'",n.order!=null&&(s+="; 'order' was set to a dynamic value (e.g. string tied to feature property, ",s+="or JS function), but evaluated to null for one or more features"),void log({level:"warn",once:!0},s)}if(!(o=this._parseFeature(e,n,r)))return;if(this.selection?o.interactive=StyleParser.evalProperty(this.introspection||n.interactive,r):o.interactive=!1,o.interactive===!0){var l=FeatureSelection.makeEntry(),d=l.color,h=l.key;o.selection_color=d,r.tile.selection_data||(r.tile.selection_data={}),r.tile.selection_data[h]={id:e.id||h,properties:e.properties,source_name:r.source,source_layer:r.layer,layers:r.layers}}else o.selection_color=FeatureSelection.defaultColor;return o}catch(p){log("error","Style.parseFeature: style parsing error",e,o,p.stack)}},_parseFeature:function(e,n,r){return this.feature_style},preprocess:function(e,n){if(!e.preprocessed){if(this.draw)for(var r in this.draw){var o=this.draw[r];_typeof(o)!=="object"||Array.isArray(o)?e[r]==null&&(e[r]=o):e[r]=mergeObjects({},o,e[r])}var s=n||"";if(!(e=this._preprocess(e,s)))return;e.preprocessed=!0}return e},_preprocess:function(e,n){return e},parseOrder:function(e,n){return typeof e!="number"?StyleParser.calculateOrder(e,n):e},scaleOrder:function(e){return 2*e},parseColor:function(e,n){return e?StyleParser.evalCachedColorProperty(e,n):this.shaders.blocks.color||this.shaders.blocks.filter?StyleParser.defaults.color:void 0},buildPolygons:function(){return 0},buildLines:function(){return 0},buildPoints:function(){return 0},setGL:function(e){this.gl=e,this.max_texture_size=this.textureManager.getMaxTextureSize(this.gl)},makeMesh:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=this.vertexLayoutForMeshVariant(r.variant);return new VBOMesh(this.gl,e,n,o,this.scene_id,r)},render:function(e){return e.render()},getProgram:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"program";this.compileSetup();var n=this[e];if(n&&!n.error){if(!n.compiled)try{n.compile()}catch(r){log("error","Style: error compiling program for style '".concat(this.name,"' (program key '").concat(e,"')"),this,r.stack)}return n}},compileSetup:function(){if(!this.compile_setup){if(!this.gl)throw new Error("style.compile(): skipping for ".concat(this.name," because no GL context"));var e=this.buildDefineList();if(this.selection){var n=Object.assign({},e);n.TANGRAM_FEATURE_SELECTION=!0}var r=this.shaders&&this.shaders.blocks,o=this.shaders&&this.shaders.block_scopes,s=Object.assign({},this.shaders&&this.shaders.uniforms);for(var l in s)s[l]==null&&log({level:"warn",once:!0},"Style '".concat(this.name,"' has invalid uniform '").concat(l,"': uniform values must be non-null"));var d=this.shaders&&this.shaders.extensions;typeof d=="string"&&(d=[d]),this.program=new ShaderProgram(this.gl,this.vertex_shader_src,this.fragment_shader_src,this.scene_id,{name:this.name,defines:e,uniforms:s,blocks:r,block_scopes:o,extensions:d}),this.selection?this.selection_program=new ShaderProgram(this.gl,this.vertex_shader_src,this.crop_by_tile?shaderSrc_selectionCropFragment:shaderSrc_selectionFragment,this.scene_id,{name:this.name+" (selection)",defines:n,uniforms:s,blocks:r,block_scopes:o,extensions:d}):this.selection_program=null,this.compile_setup=!0}},addShaderBlock:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;this.shaders.blocks=this.shaders.blocks||{},this.shaders.blocks[e]=this.shaders.blocks[e]||[],this.shaders.blocks[e].push(n),this.shaders.block_scopes=this.shaders.block_scopes||{},this.shaders.block_scopes[e]=this.shaders.block_scopes[e]||[],this.shaders.block_scopes[e].push(r)},removeShaderBlock:function(e){this.shaders.blocks&&(this.shaders.blocks[e]=null)},replaceShaderBlock:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;this.removeShaderBlock(e),this.addShaderBlock(e,n,r)},buildDefineList:function(){var e={};if(this.defines!=null)for(var n in this.defines)e[n]=this.defines[n];if(this.shaders!=null&&this.shaders.defines!=null)for(n in this.shaders.defines)e[n]=this.shaders.defines[n];return e},hasRasters:function(){return["color","normal","custom"].indexOf(this.raster)>-1},setupRasters:function(){if(!Thread.is_main||!this.hasRasters())return!1;this.raster==="color"?this.defines.TANGRAM_RASTER_TEXTURE_COLOR=!0:this.raster==="normal"&&(this.defines.TANGRAM_RASTER_TEXTURE_NORMAL=!0);var e=!1;for(var n in this.sources)if(this.sources[n]instanceof RasterTileSource){e=!0;break}return!!e&&(this.defines.TANGRAM_MODEL_POSITION_BASE_ZOOM_VARYING=!0,this.replaceShaderBlock("raster",shaderSrc_rasters,"Raster"),!0)},buildRasterTextures:function(e,n){var r=this;if(!this.hasRasters())return Promise.resolve(n);var o={};return e.rasters.map(function(s){return r.sources[s]}).filter(function(s){return s}).forEach(function(s,l){if(s instanceof RasterTileSource){var d=s.tileTexture(e);o[d.url]=d}}),Object.keys(o).length===0?Promise.resolve(n):WorkerBroker.postMessage(this.main_thread_target+".loadTextures",o).then(function(s){if(!s||s.length<1)return log("trace","Missing texture info for tile ".concat(e.key)),null;if(s.some(function(g){return!g.loaded}))return null;n.uniforms=n.uniforms||{},n.textures=n.textures||[];var l=s[0].name,d=o[l].coords;if(n.uniforms.u_raster=l,n.textures.push(l),e.coords.z>d.z){var h=e.coords.z-d.z,p=Math.pow(2,h);n.uniforms.u_raster_offset=[(e.coords.x%p+p)%p/p,(p-1-e.coords.y%p)/p,1/p]}else n.uniforms.u_raster_offset=[0,0,1];return n})},loadTextures:function(e){var n=this;return this.textureManager.createFromObject(this.gl,e).then(function(){return Promise.all(Object.keys(e).map(function(r){return n.textureManager.textures[r]&&n.textureManager.textures[r].load()}).filter(function(r){return r}))}).then(function(r){return r.forEach(function(o){return o.retain()}),r.map(function(o){return{name:o.name,width:o.width,height:o.height,loaded:o.loaded}})})},setup:function(){this.setUniforms(),this.material.setupProgram(ShaderProgram.current)},setUniforms:function(){var e=ShaderProgram.current;e&&e.setUniforms(this.shaders&&this.shaders.uniforms,!0)},render_states:{opaque:{depth_test:!0,depth_write:!0},translucent:{depth_test:!0,depth_write:!0},add:{depth_test:!0,depth_write:!1},multiply:{depth_test:!0,depth_write:!1},inlay:{depth_test:!0,depth_write:!1},overlay:{depth_test:!1,depth_write:!1}},default_blend_orders:{opaque:0,add:1,multiply:2,inlay:3,translucent:4,overlay:5},sortByBlendOrderWithinLayers:function(e){var n=[],r={};for(var o in e.forEach(function(s){var l=parseInt(s.name,10)||0;r[l]||(r[l]=[]),r[l].push(s)}),r)n.push.apply(n,_toConsumableArray(r[o].sort(Style.blendOrderSort)));return n},blendOrderSort:function(e,n){return e.blend==="opaque"||n.blend==="opaque"?e.blend==="opaque"&&n.blend==="opaque"?e.name<n.name?-1:1:e.blend==="opaque"?-1:1:e.blend_order<n.blend_order?-1:e.blend_order>n.blend_order?1:Style.default_blend_orders[e.blend]<Style.default_blend_orders[n.blend]?-1:Style.default_blend_orders[e.blend]>Style.default_blend_orders[n.blend]?1:e.name<n.name?-1:1}},id$1=0,build_id=0,Tile=function(){function e(n){var r=n.coords,o=n.style_zoom,s=n.source,l=n.worker,d=n.view,h=n.sceneId;_classCallCheck(this,e),this.textureManager=getTextureManager(h),this.id=id$1++,this.worker=l,this.view=d,this.source=s,this.generation=null,this.valid=!0,this.proxy_for=null,this.proxy_depth=0,this.proxied_as=null,this.fade_in=!0,this.loading=!1,this.loaded=!1,this.built=!1,this.labeled=!1,this.error=null,this.style_zoom=o,this.coords=e.normalizedCoordinate(r,this.source,this.style_zoom),this.key=e.key(this.coords,this.source,this.style_zoom),this.overzoom=Math.max(this.style_zoom-this.coords.z,0),this.overzoom2=Math.pow(2,this.overzoom),this.min=Geo$1.metersForTile(this.coords),this.max=Geo$1.metersForTile({x:this.coords.x+1,y:this.coords.y+1,z:this.coords.z}),this.span={x:this.max.x-this.min.x,y:this.max.y-this.min.y},this.bounds={sw:{x:this.min.x,y:this.max.y},ne:{x:this.max.x,y:this.min.y}},this.center_dist=0,this.meters_per_pixel=Geo$1.metersPerPixel(this.style_zoom),this.meters_per_pixel_sq=this.meters_per_pixel*this.meters_per_pixel,this.units_per_pixel=Geo$1.units_per_pixel/this.overzoom2,this.units_per_meter_overzoom=Geo$1.unitsPerMeter(this.coords.z)*this.overzoom2,this.meshes={},this.new_mesh_styles=[]}return _createClass(e,[{key:"freeResources",value:function(){for(var n in this.meshes)this.meshes[n].forEach(function(r){return r.destroy()});this.meshes={}}},{key:"destroy",value:function(){Task.removeForTile(this.id),this.workerMessage("self.removeTile",this.id),this.freeResources(),this.worker=null,this.valid=!1}},{key:"buildAsMessage",value:function(){return{id:this.id,key:this.key,source:this.source.name,coords:this.coords,min:this.min,max:this.max,units_per_pixel:this.units_per_pixel,meters_per_pixel:this.meters_per_pixel,meters_per_pixel_sq:this.meters_per_pixel_sq,units_per_meter_overzoom:this.units_per_meter_overzoom,style_zoom:this.style_zoom,overzoom:this.overzoom,overzoom2:this.overzoom2,generation:this.generation}}},{key:"workerMessage",value:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return WorkerBroker.postMessage.apply(WorkerBroker,[this.worker].concat(r))}},{key:"build",value:function(n){var r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).fade_in,o=r===void 0||r;return this.generation=n,this.fade_in=o,this.loaded||(this.loading=!0,this.built=!1,this.labeled=!1),this.workerMessage("self.buildTile",{tile:this.buildAsMessage()})}},{key:"buildMeshes",value:function(n,r){if(!this.error){this.build_id=build_id++;var o={},s=this.mesh_data;if(s)for(var l in s){for(var d in s[l].meshes){var h=s[l].meshes[d];if(h.vertex_data){if(!n[l]){log("warn","Could not create mesh because style '".concat(l,"' not found, for tile ").concat(this.key,", aborting tile"));break}var p=Object.assign({},s[l]);p.uniforms=Object.assign({},p.uniforms,h.uniforms),p.variant=h.variant,h.textures&&(p.textures=h.textures),h.labels&&(p.retain=!0);var g=n[l].makeMesh(h.vertex_data,h.vertex_elements,p);g.variant=p.variant,g.labels=h.labels,o[l]=o[l]||[],o[l].push(g),g.variant.order==null&&(g.variant.order=o[l].length-1)}}o[l]&&o[l].sort(function(w,k){var F=w.variant.order,q=k.variant.order;return F==null?1:q==null||F<q?-1:1})}for(var y in delete this.mesh_data,o)this.meshes[y]&&this.meshes[y].forEach(function(w){return w.destroy()}),this.meshes[y]=o[y],this.new_mesh_styles.push(y);if(r.done){for(var v in this.meshes)this.new_mesh_styles.indexOf(v)===-1&&(this.meshes[v].forEach(function(w){return w.destroy()}),delete this.meshes[v]);this.new_mesh_styles=[]}}}},{key:"setProxyFor",value:function(n){n?(this.proxy_for=this.proxy_for||[],this.proxy_for.push(n),this.proxy_depth=1,n.proxied_as=n.style_zoom>this.style_zoom?"child":"parent"):(this.proxy_for=null,this.proxy_depth=0)}},{key:"isProxy",value:function(){return this.proxy_for!=null}},{key:"shouldProxyForStyle",value:function(n){return!this.proxy_for||this.proxy_for.some(function(r){return r.meshes[n]==null})}},{key:"setupProgram",value:function(n,r){var o=n.model,s=n.model32;r.uniform("4fv","u_tile_origin",[this.min.x,this.min.y,this.style_zoom,this.coords.z]),r.uniform("1f","u_tile_proxy_depth",this.proxy_depth),mat4.identity(o),mat4.translate(o,o,vec3.fromValues(this.min.x,this.min.y,0)),mat4.scale(o,o,vec3.fromValues(this.span.x/Geo$1.tile_scale,-1*this.span.y/Geo$1.tile_scale,1)),mat4.copy(s,o),r.uniform("Matrix4fv","u_model",s),r.uniform("1i","u_tile_fade_in",this.fade_in&&this.proxied_as!=="child")}},{key:"merge",value:function(n){return this.loading=n.loading,this.loaded=n.loaded,this.generation=n.generation,this.error=n.error,this.mesh_data=n.mesh_data,this.selection_data?Object.assign(this.selection_data,n.selection_data):this.selection_data=n.selection_data,this}}],[{key:"coord",value:function(n){return{x:n.x,y:n.y,z:n.z,key:e.coordKey(n)}}},{key:"coordKey",value:function(n){return n.x+"/"+n.y+"/"+n.z}},{key:"key",value:function(n,r,o){if(!(n.y<0||n.y>=1<<n.z||n.z<0))return[r.name,o,n.x,n.y,n.z].join("/")}},{key:"normalizedKey",value:function(n,r,o){return e.key(e.normalizedCoordinate(n,r,o),r,o)}},{key:"normalizedCoordinate",value:function(n,r,o){return r.zoom_bias&&(n=e.coordinateAtZoom(n,Math.max(0,n.z-r.zoom_bias))),e.coordinateWithMaxZoom(n,r.max_zoom)}},{key:"coordinateAtZoom",value:function(n,r){var o=n.x,s=n.y,l=n.z;if(l!==r){var d=Math.pow(2,l-r);o=Math.floor(o/d),s=Math.floor(s/d),l=r}return e.coord({x:o,y:s,z:l})}},{key:"coordinateWithMaxZoom",value:function(n,r){var o=n.x,s=n.y,l=n.z;return r!==void 0&&l>r?e.coordinateAtZoom({x:o,y:s,z:l},r):e.coord({x:o,y:s,z:l})}},{key:"childrenForCoordinate",value:function(n){var r=n.x,o=n.y,s=n.z,l=n.key;return e.coord_children[l]||(s++,r*=2,o*=2,e.coord_children[l]=[e.coord({x:r,y:o,z:s}),e.coord({x:r+1,y:o,z:s}),e.coord({x:r,y:o+1,z:s}),e.coord({x:r+1,y:o+1,z:s})]),e.coord_children[l]}},{key:"isDescendant",value:function(n,r){if(r.z>n.z){var o=e.coordinateAtZoom(r,n.z),s=o.x,l=o.y;return n.x===s&&n.y===l}return!1}},{key:"cancel",value:function(n){n&&(n.canceled=!0,n.source_data&&n.source_data.request_id&&(Utils$1.cancelRequest(n.source_data.request_id),n.source_data.request_id=null),e.abortBuild(n))}},{key:"buildGeometry",value:function(n,r){var o=r.scene_id,s=r.layers,l=r.styles,d=r.global,h=r.sources,p=r.meshVariantMaxLife,g=n.source_data;for(var y in Collision.startTile(n.id,{apply_repeat_groups:!0}),s){var v=s[y];if(v&&v.config_data){if(v.config_data.source===n.source)for(var w=e._getDataForSource(g,v.config_data,y),k=0;k<w.length;k++){var F=w[k],q=F.geom;if(q)for(var _r=0;_r<q.features.length;_r++){var ga=q.features[_r];if(ga.geometry!=null){var La=StyleParser.getFeatureParseContext(ga,n,d,h);La.winding=n.default_winding,La.source=n.source,La.layer=F.layer;var jc=v.buildDrawGroups(La,!0);if(jc)for(var _l in jc){var e1=jc[_l],n1=e1.style||_l,d1=l[n1];d1?(e1=d1.preprocess(e1,n.source))!=null&&e1.visible!==!1&&(La.layers=e1.layers,d1.addFeature(ga,e1,La)):log("warn","Style '".concat(n1,"' not found, skipping layer '").concat(y,"':"),e1,ga)}}}}}else log("warn","Layer ".concat(y," was defined without a geometry data source and will not be rendered."))}var c1=e._stylesForTile(n,l);e._sendStyleGroups(n,c1,{scene_id:o,meshVariantMaxLife:p},function(h1){return h1.collision?"collision":"non-collision"})}},{key:"_stylesForTile",value:function(n,r){var o=[];for(var s in r)r[s].hasDataForTile(n)&&o.push(r[s]);return o}},{key:"_sendStyleGroups",value:function(n,r,o,s){var l=o.scene_id,d=o.meshVariantMaxLife,h={};if(r.forEach(function(v){var w=s(v);h[w]=h[w]||[],h[w].push(v)}),Object.keys(h).length>0){var p={start:!0};n.mesh_data={};var g=function(v){var w=h[v];Promise.all(w.map(function(k){return k.endData(n)})).then(function(){log("trace","Finished style group '".concat(v,"' for tile ").concat(n.key)),h[v]=[],Object.keys(h).every(function(k){return h[k].length===0})&&(p.done=!0),WorkerBroker.postMessage("TileManager_".concat(l,".buildTileStylesCompleted"),WorkerBroker.withTransferables({tile:e.slice(n,["mesh_data","selection_data"]),progress:p})),p.start=null,n.mesh_data={},n.selection_data={},p.done&&Collision.resetTile(n.id)},function(k){log("error","Error for style group '".concat(v,"' for tile ").concat(n.key),k)})};for(var y in h)g(y);Style.updateMeshVariantTypeCache(d)}else WorkerBroker.postMessage("TileManager_".concat(l,".buildTileStylesCompleted"),WorkerBroker.withTransferables({tile:e.slice(n),progress:{start:!0,done:!0}})),Collision.resetTile(n.id)}},{key:"_getDataForSource",value:function(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=[];return r!=null&&n!=null&&n.layers!=null&&(!r.layer&&n.layers._default||typeof r.layer=="string"&&!n.layers[r.layer]&&new RegExp("^\\d+_"+r.layer+"$").test(o)&&n.layers._default?s.push({geom:n.layers._default}):!r.layer&&o?s.push({layer:o,geom:n.layers[o]}):typeof r.layer=="string"?s.push({layer:r.layer,geom:n.layers[r.layer]}):Array.isArray(r.layer)&&r.layer.forEach(function(l){n.layers[l]&&n.layers[l].features&&s.push({layer:l,geom:n.layers[l]})})),s}},{key:"abortBuild",value:function(n,r){if(Task.removeForTile(n.id),Collision.abortTile(n.id),n.mesh_data)for(var o in n.mesh_data){var s=n.mesh_data[o].textures;s&&s.forEach(function(l){var d=getTextureManager(r).textures[l];d&&(log("trace","releasing texture ".concat(l," for tile ").concat(n.key)),d.release())})}}},{key:"slice",value:function(n,r){var o=["id","key","loading","loaded","generation","error","debug"];Array.isArray(r)&&o.push.apply(o,_toConsumableArray(r));for(var s={},l=0;l<o.length;l++){var d=o[l];s[d]=n[d]}return s}}])}();Tile.coord_children={};var RasterTileSource=function(e){function n(r,o){var s;return _classCallCheck(this,n),(s=_callSuper(this,n,[r,o])).rasters.indexOf(s.name)===-1&&s.rasters.unshift(s.name),s.filtering=r.filtering,s.textures={},s}return _inherits(n,e),_createClass(n,[{key:"load",value:function(r){r.source_data={},r.source_data.layers={},r.pad_scale=this.pad_scale,r.rasters=_toConsumableArray(this.rasters);var o=Geo$1.tile_scale;return r.source_data.layers={_default:{type:"FeatureCollection",features:[{geometry:{type:"Polygon",coordinates:[[[0,0],[o,0],[o,-o],[0,-o],[0,0]]]},properties:{}}]}},r.default_winding="CW",Promise.resolve(r)}},{key:"tileTexture",value:function(r){var o=r.coords.key;if(!this.textures[o]){var s=Tile.coordinateWithMaxZoom(r.coords,this.max_zoom),l=this.formatUrl(this.url,{coords:s});this.textures[o]={url:l,filtering:this.filtering,coords:s}}return this.textures[o]}}])}(NetworkTileSource),ArrayUtils;DataSource.register(RasterTileSource,"Raster");var ArrayUtils$1=ArrayUtils={};function simplify(e,n,r,o){for(var s,l=o,d=r-n>>1,h=r-n,p=e[n],g=e[n+1],y=e[r],v=e[r+1],w=n+3;w<r;w+=3){var k=getSqSegDist(e[w],e[w+1],p,g,y,v);if(k>l)s=w,l=k;else if(k===l){var F=Math.abs(w-d);F<h&&(s=w,h=F)}}l>o&&(s-n>3&&simplify(e,n,s,o),e[s+2]=l,r-s>3&&simplify(e,s,r,o))}function getSqSegDist(e,n,r,o,s,l){var d=s-r,h=l-o;if(d!==0||h!==0){var p=((e-r)*d+(n-o)*h)/(d*d+h*h);p>1?(r=s,o=l):p>0&&(r+=d*p,o+=h*p)}return(d=e-r)*d+(h=n-o)*h}function createFeature(e,n,r,o){var s={id:e===void 0?null:e,type:n,geometry:r,tags:o,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return calcBBox(s),s}function calcBBox(e){var n=e.geometry,r=e.type;if(r==="Point"||r==="MultiPoint"||r==="LineString")calcLineBBox(e,n);else if(r==="Polygon"||r==="MultiLineString")for(var o=0;o<n.length;o++)calcLineBBox(e,n[o]);else if(r==="MultiPolygon")for(o=0;o<n.length;o++)for(var s=0;s<n[o].length;s++)calcLineBBox(e,n[o][s])}function calcLineBBox(e,n){for(var r=0;r<n.length;r+=3)e.minX=Math.min(e.minX,n[r]),e.minY=Math.min(e.minY,n[r+1]),e.maxX=Math.max(e.maxX,n[r]),e.maxY=Math.max(e.maxY,n[r+1])}function convert(e,n){var r=[];if(e.type==="FeatureCollection")for(var o=0;o<e.features.length;o++)convertFeature(r,e.features[o],n,o);else e.type==="Feature"?convertFeature(r,e,n):convertFeature(r,{geometry:e},n);return r}function convertFeature(e,n,r,o){if(n.geometry){var s=n.geometry.coordinates,l=n.geometry.type,d=Math.pow(r.tolerance/((1<<r.maxZoom)*r.extent),2),h=[],p=n.id;if(r.promoteId?p=n.properties[r.promoteId]:r.generateId&&(p=o||0),l==="Point")convertPoint(s,h);else if(l==="MultiPoint")for(var g=0;g<s.length;g++)convertPoint(s[g],h);else if(l==="LineString")convertLine(s,h,d,!1);else if(l==="MultiLineString"){if(r.lineMetrics){for(g=0;g<s.length;g++)h=[],convertLine(s[g],h,d,!1),e.push(createFeature(p,"LineString",h,n.properties));return}convertLines(s,h,d,!1)}else if(l==="Polygon")convertLines(s,h,d,!0);else{if(l!=="MultiPolygon"){if(l==="GeometryCollection"){for(g=0;g<n.geometry.geometries.length;g++)convertFeature(e,{id:p,geometry:n.geometry.geometries[g],properties:n.properties},r,o);return}throw new Error("Input data is not a valid GeoJSON object.")}for(g=0;g<s.length;g++){var y=[];convertLines(s[g],y,d,!0),h.push(y)}}e.push(createFeature(p,l,h,n.properties))}}function convertPoint(e,n){n.push(projectX(e[0])),n.push(projectY(e[1])),n.push(0)}function convertLine(e,n,r,o){for(var s,l,d=0,h=0;h<e.length;h++){var p=projectX(e[h][0]),g=projectY(e[h][1]);n.push(p),n.push(g),n.push(0),h>0&&(d+=o?(s*g-p*l)/2:Math.sqrt(Math.pow(p-s,2)+Math.pow(g-l,2))),s=p,l=g}var y=n.length-3;n[2]=1,simplify(n,0,y,r),n[y+2]=1,n.size=Math.abs(d),n.start=0,n.end=n.size}function convertLines(e,n,r,o){for(var s=0;s<e.length;s++){var l=[];convertLine(e[s],l,r,o),n.push(l)}}function projectX(e){return e/360+.5}function projectY(e){var n=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+n)/(1-n))/Math.PI;return r<0?0:r>1?1:r}function clip(e,n,r,o,s,l,d,h){if(o/=n,l>=(r/=n)&&d<o)return e;if(d<r||l>=o)return null;for(var p=[],g=0;g<e.length;g++){var y=e[g],v=y.geometry,w=y.type,k=s===0?y.minX:y.minY,F=s===0?y.maxX:y.maxY;if(k>=r&&F<o)p.push(y);else if(!(F<r||k>=o)){var q=[];if(w==="Point"||w==="MultiPoint")clipPoints(v,q,r,o,s);else if(w==="LineString")clipLine(v,q,r,o,s,!1,h.lineMetrics);else if(w==="MultiLineString")clipLines(v,q,r,o,s,!1);else if(w==="Polygon")clipLines(v,q,r,o,s,!0);else if(w==="MultiPolygon")for(var _r=0;_r<v.length;_r++){var ga=[];clipLines(v[_r],ga,r,o,s,!0),ga.length&&q.push(ga)}if(q.length){if(h.lineMetrics&&w==="LineString"){for(_r=0;_r<q.length;_r++)p.push(createFeature(y.id,w,q[_r],y.tags));continue}w!=="LineString"&&w!=="MultiLineString"||(q.length===1?(w="LineString",q=q[0]):w="MultiLineString"),w!=="Point"&&w!=="MultiPoint"||(w=q.length===3?"Point":"MultiPoint"),p.push(createFeature(y.id,w,q,y.tags))}}}return p.length?p:null}function clipPoints(e,n,r,o,s){for(var l=0;l<e.length;l+=3){var d=e[l+s];d>=r&&d<=o&&(n.push(e[l]),n.push(e[l+1]),n.push(e[l+2]))}}function clipLine(e,n,r,o,s,l,d){for(var h,p,g=newSlice(e),y=s===0?intersectX:intersectY,v=e.start,w=0;w<e.length-3;w+=3){var k=e[w],F=e[w+1],q=e[w+2],_r=e[w+3],ga=e[w+4],La=s===0?k:F,jc=s===0?_r:ga,_l=!1;d&&(h=Math.sqrt(Math.pow(k-_r,2)+Math.pow(F-ga,2))),La<r?jc>r&&(p=y(g,k,F,_r,ga,r),d&&(g.start=v+h*p)):La>o?jc<o&&(p=y(g,k,F,_r,ga,o),d&&(g.start=v+h*p)):addPoint(g,k,F,q),jc<r&&La>=r&&(p=y(g,k,F,_r,ga,r),_l=!0),jc>o&&La<=o&&(p=y(g,k,F,_r,ga,o),_l=!0),!l&&_l&&(d&&(g.end=v+h*p),n.push(g),g=newSlice(e)),d&&(v+=h)}var e1=e.length-3;k=e[e1],F=e[e1+1],q=e[e1+2],(La=s===0?k:F)>=r&&La<=o&&addPoint(g,k,F,q),e1=g.length-3,l&&e1>=3&&(g[e1]!==g[0]||g[e1+1]!==g[1])&&addPoint(g,g[0],g[1],g[2]),g.length&&n.push(g)}function newSlice(e){var n=[];return n.size=e.size,n.start=e.start,n.end=e.end,n}function clipLines(e,n,r,o,s,l){for(var d=0;d<e.length;d++)clipLine(e[d],n,r,o,s,l,!1)}function addPoint(e,n,r,o){e.push(n),e.push(r),e.push(o)}function intersectX(e,n,r,o,s,l){var d=(l-n)/(o-n);return e.push(l),e.push(r+(s-r)*d),e.push(1),d}function intersectY(e,n,r,o,s,l){var d=(l-r)/(s-r);return e.push(n+(o-n)*d),e.push(l),e.push(1),d}function wrap$1(e,n){var r=n.buffer/n.extent,o=e,s=clip(e,1,-1-r,r,0,-1,2,n),l=clip(e,1,1-r,2+r,0,-1,2,n);return(s||l)&&(o=clip(e,1,-r,1+r,0,-1,2,n)||[],s&&(o=shiftFeatureCoords(s,1).concat(o)),l&&(o=o.concat(shiftFeatureCoords(l,-1)))),o}function shiftFeatureCoords(e,n){for(var r=[],o=0;o<e.length;o++){var s,l=e[o],d=l.type;if(d==="Point"||d==="MultiPoint"||d==="LineString")s=shiftCoords(l.geometry,n);else if(d==="MultiLineString"||d==="Polygon"){s=[];for(var h=0;h<l.geometry.length;h++)s.push(shiftCoords(l.geometry[h],n))}else if(d==="MultiPolygon")for(s=[],h=0;h<l.geometry.length;h++){for(var p=[],g=0;g<l.geometry[h].length;g++)p.push(shiftCoords(l.geometry[h][g],n));s.push(p)}r.push(createFeature(l.id,d,s,l.tags))}return r}function shiftCoords(e,n){var r=[];r.size=e.size,e.start!==void 0&&(r.start=e.start,r.end=e.end);for(var o=0;o<e.length;o+=3)r.push(e[o]+n,e[o+1],e[o+2]);return r}function transformTile(e,n){if(e.transformed)return e;var r,o,s,l=1<<e.z,d=e.x,h=e.y;for(r=0;r<e.features.length;r++){var p=e.features[r],g=p.geometry,y=p.type;if(p.geometry=[],y===1)for(o=0;o<g.length;o+=2)p.geometry.push(transformPoint(g[o],g[o+1],n,l,d,h));else for(o=0;o<g.length;o++){var v=[];for(s=0;s<g[o].length;s+=2)v.push(transformPoint(g[o][s],g[o][s+1],n,l,d,h));p.geometry.push(v)}}return e.transformed=!0,e}function transformPoint(e,n,r,o,s,l){return[Math.round(r*(e*o-s)),Math.round(r*(n*o-l))]}function createTile(e,n,r,o,s){for(var l=n===s.maxZoom?0:s.tolerance/((1<<n)*s.extent),d={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:r,y:o,z:n,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},h=0;h<e.length;h++){d.numFeatures++,addFeature(d,e[h],l,s);var p=e[h].minX,g=e[h].minY,y=e[h].maxX,v=e[h].maxY;p<d.minX&&(d.minX=p),g<d.minY&&(d.minY=g),y>d.maxX&&(d.maxX=y),v>d.maxY&&(d.maxY=v)}return d}function addFeature(e,n,r,o){var s=n.geometry,l=n.type,d=[];if(l==="Point"||l==="MultiPoint")for(var h=0;h<s.length;h+=3)d.push(s[h]),d.push(s[h+1]),e.numPoints++,e.numSimplified++;else if(l==="LineString")addLine(d,s,e,r,!1,!1);else if(l==="MultiLineString"||l==="Polygon")for(h=0;h<s.length;h++)addLine(d,s[h],e,r,l==="Polygon",h===0);else if(l==="MultiPolygon")for(var p=0;p<s.length;p++){var g=s[p];for(h=0;h<g.length;h++)addLine(d,g[h],e,r,!0,h===0)}if(d.length){var y=n.tags||null;if(l==="LineString"&&o.lineMetrics){for(var v in y={},n.tags)y[v]=n.tags[v];y.mapbox_clip_start=s.start/s.size,y.mapbox_clip_end=s.end/s.size}var w={geometry:d,type:l==="Polygon"||l==="MultiPolygon"?3:l==="LineString"||l==="MultiLineString"?2:1,tags:y};n.id!==null&&(w.id=n.id),e.features.push(w)}}function addLine(e,n,r,o,s,l){var d=o*o;if(o>0&&n.size<(s?d:o))r.numPoints+=n.length/3;else{for(var h=[],p=0;p<n.length;p+=3)(o===0||n[p+2]>d)&&(r.numSimplified++,h.push(n[p]),h.push(n[p+1])),r.numPoints++;s&&rewind(h,l),e.push(h)}}function rewind(e,n){for(var r=0,o=0,s=e.length,l=s-2;o<s;l=o,o+=2)r+=(e[o]-e[l])*(e[o+1]+e[l+1]);if(r>0===n)for(o=0,s=e.length;o<s/2;o+=2){var d=e[o],h=e[o+1];e[o]=e[s-2-o],e[o+1]=e[s-1-o],e[s-2-o]=d,e[s-1-o]=h}}ArrayUtils.deepClone=function(e){return Array.isArray(e)?e.map(ArrayUtils.deepClone):e};var defaults={maxZoom:14,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1};function createGeoJsonTile(e,n,r,o,s){var l=Object.assign({},defaults,s),d=convert(e,l),h=getBBox(d=wrap$1(d,l)),p=h.minX,g=h.minY,y=h.maxX,v=h.maxY,w=1<<n,k=l.buffer/l.extent,F=1+k;return d=clip(d,w,r-k,r+F,0,p,y,l)||[],transformTile(createTile(d=clip(d,w,o-k,o+F,1,g,v,l)||[],n,r,o,l),l.extent)}function getBBox(e){var n,r=2,o=-1,s=1,l=0,d=_createForOfIteratorHelper(e);try{for(d.s();!(n=d.n()).done;){var h=n.value;h.minX<r&&(r=h.minX),h.maxX>o&&(o=h.maxX),h.minY<s&&(s=h.minY),h.maxY>l&&(l=h.maxY)}}catch(p){d.e(p)}finally{d.f()}return{minX:r,maxX:o,minY:s,maxY:l}}function PackingSmith$1(e,n){this.items=[],this.algorithm=e;var r=(n=n||{}).sort===void 0||n.sort;this.sort=r}PackingSmith$1.prototype={addItem:function(e){this.items.push(e)},normalizeCoordinates:function(){var e=this.items,n=1/0,r=1/0;e.forEach(function(o){var s=o;n=Math.min(n,s.x),r=Math.min(r,s.y)}),e.forEach(function(o){var s=o;s.x-=n,s.y-=r})},getStats:function(){var e=this.items.map(function(l){return l}),n=e.map(function(l){return l.x}),r=e.map(function(l){return l.y}),o=e.map(function(l){return l.x+l.width}),s=e.map(function(l){return l.y+l.height});return{minX:Math.max.apply(Math,n),minY:Math.max.apply(Math,r),maxX:Math.max.apply(Math,o),maxY:Math.max.apply(Math,s)}},getItems:function(){return this.items},processItems:function(){var e=this.items;return this.sort&&(e=this.algorithm.sort(e)),e=this.algorithm.placeItems(e),this.items=e,e},exportItems:function(){return this.processItems(),this.normalizeCoordinates(),this.items},export:function(){var e=this.exportItems(),n=this.getStats();return{height:n.maxY,width:n.maxX,items:e}}};var packing_smith=PackingSmith$1,lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,inited=!1;function init(){inited=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0;n<64;++n)lookup[n]=e[n],revLookup[e.charCodeAt(n)]=n;revLookup[45]=62,revLookup[95]=63}function toByteArray(e){var n,r,o,s,l,d;inited||init();var h=e.length;if(h%4>0)throw new Error("Invalid string. Length must be a multiple of 4");l=e[h-2]==="="?2:e[h-1]==="="?1:0,d=new Arr(3*h/4-l),o=l>0?h-4:h;var p=0;for(n=0,r=0;n<o;n+=4,r+=3)s=revLookup[e.charCodeAt(n)]<<18|revLookup[e.charCodeAt(n+1)]<<12|revLookup[e.charCodeAt(n+2)]<<6|revLookup[e.charCodeAt(n+3)],d[p++]=s>>16&255,d[p++]=s>>8&255,d[p++]=255&s;return l===2?(s=revLookup[e.charCodeAt(n)]<<2|revLookup[e.charCodeAt(n+1)]>>4,d[p++]=255&s):l===1&&(s=revLookup[e.charCodeAt(n)]<<10|revLookup[e.charCodeAt(n+1)]<<4|revLookup[e.charCodeAt(n+2)]>>2,d[p++]=s>>8&255,d[p++]=255&s),d}function tripletToBase64(e){return lookup[e>>18&63]+lookup[e>>12&63]+lookup[e>>6&63]+lookup[63&e]}function encodeChunk(e,n,r){for(var o,s=[],l=n;l<r;l+=3)o=(e[l]<<16)+(e[l+1]<<8)+e[l+2],s.push(tripletToBase64(o));return s.join("")}function fromByteArray(e){var n;inited||init();for(var r=e.length,o=r%3,s="",l=[],d=16383,h=0,p=r-o;h<p;h+=d)l.push(encodeChunk(e,h,h+d>p?p:h+d));return o===1?(n=e[r-1],s+=lookup[n>>2],s+=lookup[n<<4&63],s+="=="):o===2&&(n=(e[r-2]<<8)+e[r-1],s+=lookup[n>>10],s+=lookup[n>>4&63],s+=lookup[n<<2&63],s+="="),l.push(s),l.join("")}function read(e,n,r,o,s){var l,d,h=8*s-o-1,p=(1<<h)-1,g=p>>1,y=-7,v=r?s-1:0,w=r?-1:1,k=e[n+v];for(v+=w,l=k&(1<<-y)-1,k>>=-y,y+=h;y>0;l=256*l+e[n+v],v+=w,y-=8);for(d=l&(1<<-y)-1,l>>=-y,y+=o;y>0;d=256*d+e[n+v],v+=w,y-=8);if(l===0)l=1-g;else{if(l===p)return d?NaN:1/0*(k?-1:1);d+=Math.pow(2,o),l-=g}return(k?-1:1)*d*Math.pow(2,l-o)}function write(e,n,r,o,s,l){var d,h,p,g=8*l-s-1,y=(1<<g)-1,v=y>>1,w=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,k=o?0:l-1,F=o?1:-1,q=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(h=isNaN(n)?1:0,d=y):(d=Math.floor(Math.log(n)/Math.LN2),n*(p=Math.pow(2,-d))<1&&(d--,p*=2),(n+=d+v>=1?w/p:w*Math.pow(2,1-v))*p>=2&&(d++,p/=2),d+v>=y?(h=0,d=y):d+v>=1?(h=(n*p-1)*Math.pow(2,s),d+=v):(h=n*Math.pow(2,v-1)*Math.pow(2,s),d=0));s>=8;e[r+k]=255&h,k+=F,h/=256,s-=8);for(d=d<<s|h,g+=s;g>0;e[r+k]=255&d,k+=F,d/=256,g-=8);e[r+k-F]|=128*q}var toString={}.toString,isArray$1=Array.isArray||function(e){return toString.call(e)=="[object Array]"},INSPECT_MAX_BYTES=50;function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(e,n){if(kMaxLength()<n)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(n)).__proto__=Buffer.prototype:(e===null&&(e=new Buffer(n)),e.length=n),e}function Buffer(e,n,r){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(e,n,r);if(typeof e=="number"){if(typeof n=="string")throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,e)}return from(this,e,n,r)}function from(e,n,r,o){if(typeof n=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer?fromArrayBuffer(e,n,r,o):typeof n=="string"?fromString(e,n,r):fromObject(e,n)}function assertSize(e){if(typeof e!="number")throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function alloc(e,n,r,o){return assertSize(n),n<=0?createBuffer(e,n):r!==void 0?typeof o=="string"?createBuffer(e,n).fill(r,o):createBuffer(e,n).fill(r):createBuffer(e,n)}function allocUnsafe(e,n){if(assertSize(n),e=createBuffer(e,n<0?0:0|checked(n)),!Buffer.TYPED_ARRAY_SUPPORT)for(var r=0;r<n;++r)e[r]=0;return e}function fromString(e,n,r){if(typeof r=="string"&&r!==""||(r="utf8"),!Buffer.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var o=0|byteLength(n,r),s=(e=createBuffer(e,o)).write(n,r);return s!==o&&(e=e.slice(0,s)),e}function fromArrayLike(e,n){var r=n.length<0?0:0|checked(n.length);e=createBuffer(e,r);for(var o=0;o<r;o+=1)e[o]=255&n[o];return e}function fromArrayBuffer(e,n,r,o){if(n.byteLength,r<0||n.byteLength<r)throw new RangeError("'offset' is out of bounds");if(n.byteLength<r+(o||0))throw new RangeError("'length' is out of bounds");return n=r===void 0&&o===void 0?new Uint8Array(n):o===void 0?new Uint8Array(n,r):new Uint8Array(n,r,o),Buffer.TYPED_ARRAY_SUPPORT?(e=n).__proto__=Buffer.prototype:e=fromArrayLike(e,n),e}function fromObject(e,n){if(internalIsBuffer(n)){var r=0|checked(n.length);return(e=createBuffer(e,r)).length===0||n.copy(e,0,0,r),e}if(n){if(typeof ArrayBuffer<"u"&&n.buffer instanceof ArrayBuffer||"length"in n)return typeof n.length!="number"||isnan(n.length)?createBuffer(e,0):fromArrayLike(e,n);if(n.type==="Buffer"&&isArray$1(n.data))return fromArrayLike(e,n.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(e){if(e>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|e}function internalIsBuffer(e){return!(e==null||!e._isBuffer)}function byteLength(e,n){if(internalIsBuffer(e))return e.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;typeof e!="string"&&(e=""+e);var r=e.length;if(r===0)return 0;for(var o=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(e).length;default:if(o)return utf8ToBytes(e).length;n=(""+n).toLowerCase(),o=!0}}function slowToString(e,n,r){var o=!1;if((n===void 0||n<0)&&(n=0),n>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(n>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,n,r);case"utf8":case"utf-8":return utf8Slice(this,n,r);case"ascii":return asciiSlice(this,n,r);case"latin1":case"binary":return latin1Slice(this,n,r);case"base64":return base64Slice(this,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,n,r);default:if(o)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}function swap(e,n,r){var o=e[n];e[n]=e[r],e[r]=o}function bidirectionalIndexOf(e,n,r,o,s){if(e.length===0)return-1;if(typeof r=="string"?(o=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=s?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(s)return-1;r=e.length-1}else if(r<0){if(!s)return-1;r=0}if(typeof n=="string"&&(n=Buffer.from(n,o)),internalIsBuffer(n))return n.length===0?-1:arrayIndexOf(e,n,r,o,s);if(typeof n=="number")return n&=255,Buffer.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?s?Uint8Array.prototype.indexOf.call(e,n,r):Uint8Array.prototype.lastIndexOf.call(e,n,r):arrayIndexOf(e,[n],r,o,s);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,n,r,o,s){var l,d=1,h=e.length,p=n.length;if(o!==void 0&&((o=String(o).toLowerCase())==="ucs2"||o==="ucs-2"||o==="utf16le"||o==="utf-16le")){if(e.length<2||n.length<2)return-1;d=2,h/=2,p/=2,r/=2}function g(k,F){return d===1?k[F]:k.readUInt16BE(F*d)}if(s){var y=-1;for(l=r;l<h;l++)if(g(e,l)===g(n,y===-1?0:l-y)){if(y===-1&&(y=l),l-y+1===p)return y*d}else y!==-1&&(l-=l-y),y=-1}else for(r+p>h&&(r=h-p),l=r;l>=0;l--){for(var v=!0,w=0;w<p;w++)if(g(e,l+w)!==g(n,w)){v=!1;break}if(v)return l}return-1}function hexWrite(e,n,r,o){r=Number(r)||0;var s=e.length-r;o?(o=Number(o))>s&&(o=s):o=s;var l=n.length;if(l%2!=0)throw new TypeError("Invalid hex string");o>l/2&&(o=l/2);for(var d=0;d<o;++d){var h=parseInt(n.substr(2*d,2),16);if(isNaN(h))return d;e[r+d]=h}return d}function utf8Write(e,n,r,o){return blitBuffer(utf8ToBytes(n,e.length-r),e,r,o)}function asciiWrite(e,n,r,o){return blitBuffer(asciiToBytes(n),e,r,o)}function latin1Write(e,n,r,o){return asciiWrite(e,n,r,o)}function base64Write(e,n,r,o){return blitBuffer(base64ToBytes(n),e,r,o)}function ucs2Write(e,n,r,o){return blitBuffer(utf16leToBytes(n,e.length-r),e,r,o)}function base64Slice(e,n,r){return n===0&&r===e.length?fromByteArray(e):fromByteArray(e.slice(n,r))}function utf8Slice(e,n,r){r=Math.min(e.length,r);for(var o=[],s=n;s<r;){var l,d,h,p,g=e[s],y=null,v=g>239?4:g>223?3:g>191?2:1;if(s+v<=r)switch(v){case 1:g<128&&(y=g);break;case 2:(192&(l=e[s+1]))==128&&(p=(31&g)<<6|63&l)>127&&(y=p);break;case 3:l=e[s+1],d=e[s+2],(192&l)==128&&(192&d)==128&&(p=(15&g)<<12|(63&l)<<6|63&d)>2047&&(p<55296||p>57343)&&(y=p);break;case 4:l=e[s+1],d=e[s+2],h=e[s+3],(192&l)==128&&(192&d)==128&&(192&h)==128&&(p=(15&g)<<18|(63&l)<<12|(63&d)<<6|63&h)>65535&&p<1114112&&(y=p)}y===null?(y=65533,v=1):y>65535&&(y-=65536,o.push(y>>>10&1023|55296),y=56320|1023&y),o.push(y),s+=v}return decodeCodePointsArray(o)}Buffer.TYPED_ARRAY_SUPPORT=global$1.TYPED_ARRAY_SUPPORT===void 0||global$1.TYPED_ARRAY_SUPPORT,kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(e){return e.__proto__=Buffer.prototype,e},Buffer.from=function(e,n,r){return from(null,e,n,r)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&Buffer[Symbol.species]),Buffer.alloc=function(e,n,r){return alloc(null,e,n,r)},Buffer.allocUnsafe=function(e){return allocUnsafe(null,e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(null,e)},Buffer.isBuffer=isBuffer,Buffer.compare=function(e,n){if(!internalIsBuffer(e)||!internalIsBuffer(n))throw new TypeError("Arguments must be Buffers");if(e===n)return 0;for(var r=e.length,o=n.length,s=0,l=Math.min(r,o);s<l;++s)if(e[s]!==n[s]){r=e[s],o=n[s];break}return r<o?-1:o<r?1:0},Buffer.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(e,n){if(!isArray$1(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return Buffer.alloc(0);var r;if(n===void 0)for(n=0,r=0;r<e.length;++r)n+=e[r].length;var o=Buffer.allocUnsafe(n),s=0;for(r=0;r<e.length;++r){var l=e[r];if(!internalIsBuffer(l))throw new TypeError('"list" argument must be an Array of Buffers');l.copy(o,s),s+=l.length}return o},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<e;n+=2)swap(this,n,n+1);return this},Buffer.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<e;n+=4)swap(this,n,n+3),swap(this,n+1,n+2);return this},Buffer.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<e;n+=8)swap(this,n,n+7),swap(this,n+1,n+6),swap(this,n+2,n+5),swap(this,n+3,n+4);return this},Buffer.prototype.toString=function(){var e=0|this.length;return e===0?"":arguments.length===0?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(e){if(!internalIsBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||Buffer.compare(this,e)===0},Buffer.prototype.inspect=function(){var e="",n=INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},Buffer.prototype.compare=function(e,n,r,o,s){if(!internalIsBuffer(e))throw new TypeError("Argument must be a Buffer");if(n===void 0&&(n=0),r===void 0&&(r=e?e.length:0),o===void 0&&(o=0),s===void 0&&(s=this.length),n<0||r>e.length||o<0||s>this.length)throw new RangeError("out of range index");if(o>=s&&n>=r)return 0;if(o>=s)return-1;if(n>=r)return 1;if(this===e)return 0;for(var l=(s>>>=0)-(o>>>=0),d=(r>>>=0)-(n>>>=0),h=Math.min(l,d),p=this.slice(o,s),g=e.slice(n,r),y=0;y<h;++y)if(p[y]!==g[y]){l=p[y],d=g[y];break}return l<d?-1:d<l?1:0},Buffer.prototype.includes=function(e,n,r){return this.indexOf(e,n,r)!==-1},Buffer.prototype.indexOf=function(e,n,r){return bidirectionalIndexOf(this,e,n,r,!0)},Buffer.prototype.lastIndexOf=function(e,n,r){return bidirectionalIndexOf(this,e,n,r,!1)},Buffer.prototype.write=function(e,n,r,o){if(n===void 0)o="utf8",r=this.length,n=0;else if(r===void 0&&typeof n=="string")o=n,r=this.length,n=0;else{if(!isFinite(n))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");n|=0,isFinite(r)?(r|=0,o===void 0&&(o="utf8")):(o=r,r=void 0)}var s=this.length-n;if((r===void 0||r>s)&&(r=s),e.length>0&&(r<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");for(var l=!1;;)switch(o){case"hex":return hexWrite(this,e,n,r);case"utf8":case"utf-8":return utf8Write(this,e,n,r);case"ascii":return asciiWrite(this,e,n,r);case"latin1":case"binary":return latin1Write(this,e,n,r);case"base64":return base64Write(this,e,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,n,r);default:if(l)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),l=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(e){var n=e.length;if(n<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,e);for(var r="",o=0;o<n;)r+=String.fromCharCode.apply(String,e.slice(o,o+=MAX_ARGUMENTS_LENGTH));return r}function asciiSlice(e,n,r){var o="";r=Math.min(e.length,r);for(var s=n;s<r;++s)o+=String.fromCharCode(127&e[s]);return o}function latin1Slice(e,n,r){var o="";r=Math.min(e.length,r);for(var s=n;s<r;++s)o+=String.fromCharCode(e[s]);return o}function hexSlice(e,n,r){var o=e.length;(!n||n<0)&&(n=0),(!r||r<0||r>o)&&(r=o);for(var s="",l=n;l<r;++l)s+=toHex(e[l]);return s}function utf16leSlice(e,n,r){for(var o=e.slice(n,r),s="",l=0;l<o.length;l+=2)s+=String.fromCharCode(o[l]+256*o[l+1]);return s}function checkOffset(e,n,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+n>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,n,r,o,s,l){if(!internalIsBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>s||n<l)throw new RangeError('"value" argument is out of bounds');if(r+o>e.length)throw new RangeError("Index out of range")}function objectWriteUInt16(e,n,r,o){n<0&&(n=65535+n+1);for(var s=0,l=Math.min(e.length-r,2);s<l;++s)e[r+s]=(n&255<<8*(o?s:1-s))>>>8*(o?s:1-s)}function objectWriteUInt32(e,n,r,o){n<0&&(n=4294967295+n+1);for(var s=0,l=Math.min(e.length-r,4);s<l;++s)e[r+s]=n>>>8*(o?s:3-s)&255}function checkIEEE754(e,n,r,o,s,l){if(r+o>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(e,n,r,o,s){return s||checkIEEE754(e,n,r,4),write(e,n,r,o,23,4),r+4}function writeDouble(e,n,r,o,s){return s||checkIEEE754(e,n,r,8),write(e,n,r,o,52,8),r+8}Buffer.prototype.slice=function(e,n){var r,o=this.length;if((e=~~e)<0?(e+=o)<0&&(e=0):e>o&&(e=o),(n=n===void 0?o:~~n)<0?(n+=o)<0&&(n=0):n>o&&(n=o),n<e&&(n=e),Buffer.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,n)).__proto__=Buffer.prototype;else{var s=n-e;r=new Buffer(s,void 0);for(var l=0;l<s;++l)r[l]=this[l+e]}return r},Buffer.prototype.readUIntLE=function(e,n,r){e|=0,n|=0,r||checkOffset(e,n,this.length);for(var o=this[e],s=1,l=0;++l<n&&(s*=256);)o+=this[e+l]*s;return o},Buffer.prototype.readUIntBE=function(e,n,r){e|=0,n|=0,r||checkOffset(e,n,this.length);for(var o=this[e+--n],s=1;n>0&&(s*=256);)o+=this[e+--n]*s;return o},Buffer.prototype.readUInt8=function(e,n){return n||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function(e,n){return n||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function(e,n){return n||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function(e,n){return n||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function(e,n){return n||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function(e,n,r){e|=0,n|=0,r||checkOffset(e,n,this.length);for(var o=this[e],s=1,l=0;++l<n&&(s*=256);)o+=this[e+l]*s;return o>=(s*=128)&&(o-=Math.pow(2,8*n)),o},Buffer.prototype.readIntBE=function(e,n,r){e|=0,n|=0,r||checkOffset(e,n,this.length);for(var o=n,s=1,l=this[e+--o];o>0&&(s*=256);)l+=this[e+--o]*s;return l>=(s*=128)&&(l-=Math.pow(2,8*n)),l},Buffer.prototype.readInt8=function(e,n){return n||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function(e,n){n||checkOffset(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function(e,n){n||checkOffset(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function(e,n){return n||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function(e,n){return n||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function(e,n){return n||checkOffset(e,4,this.length),read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function(e,n){return n||checkOffset(e,4,this.length),read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function(e,n){return n||checkOffset(e,8,this.length),read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function(e,n){return n||checkOffset(e,8,this.length),read(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function(e,n,r,o){e=+e,n|=0,r|=0,o||checkInt(this,e,n,r,Math.pow(2,8*r)-1,0);var s=1,l=0;for(this[n]=255&e;++l<r&&(s*=256);)this[n+l]=e/s&255;return n+r},Buffer.prototype.writeUIntBE=function(e,n,r,o){e=+e,n|=0,r|=0,o||checkInt(this,e,n,r,Math.pow(2,8*r)-1,0);var s=r-1,l=1;for(this[n+s]=255&e;--s>=0&&(l*=256);)this[n+s]=e/l&255;return n+r},Buffer.prototype.writeUInt8=function(e,n,r){return e=+e,n|=0,r||checkInt(this,e,n,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=255&e,n+1},Buffer.prototype.writeUInt16LE=function(e,n,r){return e=+e,n|=0,r||checkInt(this,e,n,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):objectWriteUInt16(this,e,n,!0),n+2},Buffer.prototype.writeUInt16BE=function(e,n,r){return e=+e,n|=0,r||checkInt(this,e,n,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):objectWriteUInt16(this,e,n,!1),n+2},Buffer.prototype.writeUInt32LE=function(e,n,r){return e=+e,n|=0,r||checkInt(this,e,n,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=255&e):objectWriteUInt32(this,e,n,!0),n+4},Buffer.prototype.writeUInt32BE=function(e,n,r){return e=+e,n|=0,r||checkInt(this,e,n,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):objectWriteUInt32(this,e,n,!1),n+4},Buffer.prototype.writeIntLE=function(e,n,r,o){if(e=+e,n|=0,!o){var s=Math.pow(2,8*r-1);checkInt(this,e,n,r,s-1,-s)}var l=0,d=1,h=0;for(this[n]=255&e;++l<r&&(d*=256);)e<0&&h===0&&this[n+l-1]!==0&&(h=1),this[n+l]=(e/d|0)-h&255;return n+r},Buffer.prototype.writeIntBE=function(e,n,r,o){if(e=+e,n|=0,!o){var s=Math.pow(2,8*r-1);checkInt(this,e,n,r,s-1,-s)}var l=r-1,d=1,h=0;for(this[n+l]=255&e;--l>=0&&(d*=256);)e<0&&h===0&&this[n+l+1]!==0&&(h=1),this[n+l]=(e/d|0)-h&255;return n+r},Buffer.prototype.writeInt8=function(e,n,r){return e=+e,n|=0,r||checkInt(this,e,n,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[n]=255&e,n+1},Buffer.prototype.writeInt16LE=function(e,n,r){return e=+e,n|=0,r||checkInt(this,e,n,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):objectWriteUInt16(this,e,n,!0),n+2},Buffer.prototype.writeInt16BE=function(e,n,r){return e=+e,n|=0,r||checkInt(this,e,n,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):objectWriteUInt16(this,e,n,!1),n+2},Buffer.prototype.writeInt32LE=function(e,n,r){return e=+e,n|=0,r||checkInt(this,e,n,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):objectWriteUInt32(this,e,n,!0),n+4},Buffer.prototype.writeInt32BE=function(e,n,r){return e=+e,n|=0,r||checkInt(this,e,n,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Buffer.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):objectWriteUInt32(this,e,n,!1),n+4},Buffer.prototype.writeFloatLE=function(e,n,r){return writeFloat(this,e,n,!0,r)},Buffer.prototype.writeFloatBE=function(e,n,r){return writeFloat(this,e,n,!1,r)},Buffer.prototype.writeDoubleLE=function(e,n,r){return writeDouble(this,e,n,!0,r)},Buffer.prototype.writeDoubleBE=function(e,n,r){return writeDouble(this,e,n,!1,r)},Buffer.prototype.copy=function(e,n,r,o){if(r||(r=0),o||o===0||(o=this.length),n>=e.length&&(n=e.length),n||(n=0),o>0&&o<r&&(o=r),o===r||e.length===0||this.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-n<o-r&&(o=e.length-n+r);var s,l=o-r;if(this===e&&r<n&&n<o)for(s=l-1;s>=0;--s)e[s+n]=this[s+r];else if(l<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(s=0;s<l;++s)e[s+n]=this[s+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+l),n);return l},Buffer.prototype.fill=function(e,n,r,o){if(typeof e=="string"){if(typeof n=="string"?(o=n,n=0,r=this.length):typeof r=="string"&&(o=r,r=this.length),e.length===1){var s=e.charCodeAt(0);s<256&&(e=s)}if(o!==void 0&&typeof o!="string")throw new TypeError("encoding must be a string");if(typeof o=="string"&&!Buffer.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else typeof e=="number"&&(e&=255);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;var l;if(n>>>=0,r=r===void 0?this.length:r>>>0,e||(e=0),typeof e=="number")for(l=n;l<r;++l)this[l]=e;else{var d=internalIsBuffer(e)?e:utf8ToBytes(new Buffer(e,o).toString()),h=d.length;for(l=0;l<r-n;++l)this[l+n]=d[l%h]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function base64clean(e){if((e=stringtrim(e).replace(INVALID_BASE64_RE,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function stringtrim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,n){var r;n=n||1/0;for(var o=e.length,s=null,l=[],d=0;d<o;++d){if((r=e.charCodeAt(d))>55295&&r<57344){if(!s){if(r>56319){(n-=3)>-1&&l.push(239,191,189);continue}if(d+1===o){(n-=3)>-1&&l.push(239,191,189);continue}s=r;continue}if(r<56320){(n-=3)>-1&&l.push(239,191,189),s=r;continue}r=65536+(s-55296<<10|r-56320)}else s&&(n-=3)>-1&&l.push(239,191,189);if(s=null,r<128){if((n-=1)<0)break;l.push(r)}else if(r<2048){if((n-=2)<0)break;l.push(r>>6|192,63&r|128)}else if(r<65536){if((n-=3)<0)break;l.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((n-=4)<0)break;l.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return l}function asciiToBytes(e){for(var n=[],r=0;r<e.length;++r)n.push(255&e.charCodeAt(r));return n}function utf16leToBytes(e,n){for(var r,o,s,l=[],d=0;d<e.length&&!((n-=2)<0);++d)o=(r=e.charCodeAt(d))>>8,s=r%256,l.push(s),l.push(o);return l}function base64ToBytes(e){return toByteArray(base64clean(e))}function blitBuffer(e,n,r,o){for(var s=0;s<o&&!(s+r>=n.length||s>=e.length);++s)n[s+r]=e[s];return s}function isnan(e){return e!=e}function isBuffer(e){return e!=null&&(!!e._isBuffer||isFastBuffer(e)||isSlowBuffer(e))}function isFastBuffer(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function isSlowBuffer(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&isFastBuffer(e.slice(0,0))}global$1.setTimeout,global$1.clearTimeout;var performance$1=global$1.performance||{},inherits;performance$1.now||performance$1.mozNow||performance$1.msNow||performance$1.oNow||performance$1.webkitNow,inherits=typeof Object.create=="function"?function(e,n){e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e};var inherits$1=inherits;function inspect$1(e,n){var r={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),isBoolean$1(n)?r.showHidden=n:n&&_extend(r,n),isUndefined(r.showHidden)&&(r.showHidden=!1),isUndefined(r.depth)&&(r.depth=2),isUndefined(r.colors)&&(r.colors=!1),isUndefined(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=stylizeWithColor),formatValue(r,e,r.depth)}function stylizeWithColor(e,n){var r=inspect$1.styles[n];return r?"\x1B["+inspect$1.colors[r][0]+"m"+e+"\x1B["+inspect$1.colors[r][1]+"m":e}function stylizeNoColor(e,n){return e}function arrayToHash(e){var n={};return e.forEach(function(r,o){n[r]=!0}),n}function formatValue(e,n,r){if(e.customInspect&&n&&isFunction(n.inspect)&&n.inspect!==inspect$1&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return isString(o)||(o=formatValue(e,o,r)),o}var s=formatPrimitive(e,n);if(s)return s;var l=Object.keys(n),d=arrayToHash(l);if(e.showHidden&&(l=Object.getOwnPropertyNames(n)),isError(n)&&(l.indexOf("message")>=0||l.indexOf("description")>=0))return formatError$1(n);if(l.length===0){if(isFunction(n)){var h=n.name?": "+n.name:"";return e.stylize("[Function"+h+"]","special")}if(isRegExp(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(isDate(n))return e.stylize(Date.prototype.toString.call(n),"date");if(isError(n))return formatError$1(n)}var p,g="",y=!1,v=["{","}"];return isArray(n)&&(y=!0,v=["[","]"]),isFunction(n)&&(g=" [Function"+(n.name?": "+n.name:"")+"]"),isRegExp(n)&&(g=" "+RegExp.prototype.toString.call(n)),isDate(n)&&(g=" "+Date.prototype.toUTCString.call(n)),isError(n)&&(g=" "+formatError$1(n)),l.length!==0||y&&n.length!=0?r<0?isRegExp(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),p=y?formatArray(e,n,r,d,l):l.map(function(w){return formatProperty(e,n,r,d,w,y)}),e.seen.pop(),reduceToSingleString(p,g,v)):v[0]+g+v[1]}function formatPrimitive(e,n){if(isUndefined(n))return e.stylize("undefined","undefined");if(isString(n)){var r="'"+JSON.stringify(n).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return isNumber(n)?e.stylize(""+n,"number"):isBoolean$1(n)?e.stylize(""+n,"boolean"):isNull$1(n)?e.stylize("null","null"):void 0}function formatError$1(e){return"["+Error.prototype.toString.call(e)+"]"}function formatArray(e,n,r,o,s){for(var l=[],d=0,h=n.length;d<h;++d)hasOwnProperty(n,String(d))?l.push(formatProperty(e,n,r,o,String(d),!0)):l.push("");return s.forEach(function(p){p.match(/^\d+$/)||l.push(formatProperty(e,n,r,o,p,!0))}),l}function formatProperty(e,n,r,o,s,l){var d,h,p;if((p=Object.getOwnPropertyDescriptor(n,s)||{value:n[s]}).get?h=p.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):p.set&&(h=e.stylize("[Setter]","special")),hasOwnProperty(o,s)||(d="["+s+"]"),h||(e.seen.indexOf(p.value)<0?(h=isNull$1(r)?formatValue(e,p.value,null):formatValue(e,p.value,r-1)).indexOf(`
`)>-1&&(h=l?h.split(`
`).map(function(g){return"  "+g}).join(`
`).substr(2):`
`+h.split(`
`).map(function(g){return"   "+g}).join(`
`)):h=e.stylize("[Circular]","special")),isUndefined(d)){if(l&&s.match(/^\d+$/))return h;(d=JSON.stringify(""+s)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(d=d.substr(1,d.length-2),d=e.stylize(d,"name")):(d=d.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),d=e.stylize(d,"string"))}return d+": "+h}function reduceToSingleString(e,n,r){return e.reduce(function(o,s){return s.indexOf(`
`),o+s.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(n===""?"":n+`
 `)+" "+e.join(`,
  `)+" "+r[1]:r[0]+n+" "+e.join(", ")+" "+r[1]}function isArray(e){return Array.isArray(e)}function isBoolean$1(e){return typeof e=="boolean"}function isNull$1(e){return e===null}function isNumber(e){return typeof e=="number"}function isString(e){return typeof e=="string"}function isUndefined(e){return e===void 0}function isRegExp(e){return isObject$1(e)&&objectToString(e)==="[object RegExp]"}function isObject$1(e){return typeof e=="object"&&e!==null}function isDate(e){return isObject$1(e)&&objectToString(e)==="[object Date]"}function isError(e){return isObject$1(e)&&(objectToString(e)==="[object Error]"||e instanceof Error)}function isFunction(e){return typeof e=="function"}function isPrimitive(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||e===void 0}function objectToString(e){return Object.prototype.toString.call(e)}function _extend(e,n){if(!n||!isObject$1(n))return e;for(var r=Object.keys(n),o=r.length;o--;)e[r[o]]=n[r[o]];return e}function hasOwnProperty(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function compare(e,n){if(e===n)return 0;for(var r=e.length,o=n.length,s=0,l=Math.min(r,o);s<l;++s)if(e[s]!==n[s]){r=e[s],o=n[s];break}return r<o?-1:o<r?1:0}inspect$1.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect$1.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var hasOwn=Object.prototype.hasOwnProperty,objectKeys=Object.keys||function(e){var n=[];for(var r in e)hasOwn.call(e,r)&&n.push(r);return n},pSlice=Array.prototype.slice,_functionsHaveNames;function functionsHaveNames(){return _functionsHaveNames!==void 0?_functionsHaveNames:_functionsHaveNames=function(){}.name==="foo"}function pToString(e){return Object.prototype.toString.call(e)}function isView(e){return!isBuffer(e)&&typeof global$1.ArrayBuffer=="function"&&(typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}function assert$1(e,n){e||fail(e,!0,n,"==",ok)}var regex=/\s*function\s+([^\(\s]*)\s*/;function getName(e){if(isFunction(e)){if(functionsHaveNames())return e.name;var n=e.toString().match(regex);return n&&n[1]}}function AssertionError(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=getMessage(this),this.generatedMessage=!0);var n=e.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,n);else{var r=new Error;if(r.stack){var o=r.stack,s=getName(n),l=o.indexOf(`
`+s);if(l>=0){var d=o.indexOf(`
`,l+1);o=o.substring(d+1)}this.stack=o}}}function truncate(e,n){return typeof e=="string"?e.length<n?e:e.slice(0,n):e}function inspect(e){if(functionsHaveNames()||!isFunction(e))return inspect$1(e);var n=getName(e);return"[Function"+(n?": "+n:"")+"]"}function getMessage(e){return truncate(inspect(e.actual),128)+" "+e.operator+" "+truncate(inspect(e.expected),128)}function fail(e,n,r,o,s){throw new AssertionError({message:r,actual:e,expected:n,operator:o,stackStartFunction:s})}function ok(e,n){e||fail(e,!0,n,"==",ok)}function equal(e,n,r){e!=n&&fail(e,n,r,"==",equal)}function notEqual(e,n,r){e==n&&fail(e,n,r,"!=",notEqual)}function deepEqual(e,n,r){_deepEqual(e,n,!1)||fail(e,n,r,"deepEqual",deepEqual)}function deepStrictEqual(e,n,r){_deepEqual(e,n,!0)||fail(e,n,r,"deepStrictEqual",deepStrictEqual)}function _deepEqual(e,n,r,o){if(e===n)return!0;if(isBuffer(e)&&isBuffer(n))return compare(e,n)===0;if(isDate(e)&&isDate(n))return e.getTime()===n.getTime();if(isRegExp(e)&&isRegExp(n))return e.source===n.source&&e.global===n.global&&e.multiline===n.multiline&&e.lastIndex===n.lastIndex&&e.ignoreCase===n.ignoreCase;if(e!==null&&typeof e=="object"||n!==null&&typeof n=="object"){if(isView(e)&&isView(n)&&pToString(e)===pToString(n)&&!(e instanceof Float32Array||e instanceof Float64Array))return compare(new Uint8Array(e.buffer),new Uint8Array(n.buffer))===0;if(isBuffer(e)!==isBuffer(n))return!1;var s=(o=o||{actual:[],expected:[]}).actual.indexOf(e);return s!==-1&&s===o.expected.indexOf(n)||(o.actual.push(e),o.expected.push(n),objEquiv(e,n,r,o))}return r?e===n:e==n}function isArguments(e){return Object.prototype.toString.call(e)=="[object Arguments]"}function objEquiv(e,n,r,o){if(e==null||n==null)return!1;if(isPrimitive(e)||isPrimitive(n))return e===n;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(n))return!1;var s=isArguments(e),l=isArguments(n);if(s&&!l||!s&&l)return!1;if(s)return _deepEqual(e=pSlice.call(e),n=pSlice.call(n),r);var d,h,p=objectKeys(e),g=objectKeys(n);if(p.length!==g.length)return!1;for(p.sort(),g.sort(),h=p.length-1;h>=0;h--)if(p[h]!==g[h])return!1;for(h=p.length-1;h>=0;h--)if(!_deepEqual(e[d=p[h]],n[d],r,o))return!1;return!0}function notDeepEqual(e,n,r){_deepEqual(e,n,!1)&&fail(e,n,r,"notDeepEqual",notDeepEqual)}function notDeepStrictEqual(e,n,r){_deepEqual(e,n,!0)&&fail(e,n,r,"notDeepStrictEqual",notDeepStrictEqual)}function strictEqual(e,n,r){e!==n&&fail(e,n,r,"===",strictEqual)}function notStrictEqual(e,n,r){e===n&&fail(e,n,r,"!==",notStrictEqual)}function expectedException(e,n){if(!e||!n)return!1;if(Object.prototype.toString.call(n)=="[object RegExp]")return n.test(e);try{if(e instanceof n)return!0}catch{}return!Error.isPrototypeOf(n)&&n.call({},e)===!0}function _tryBlock(e){var n;try{e()}catch(r){n=r}return n}function _throws(e,n,r,o){var s;if(typeof n!="function")throw new TypeError('"block" argument must be a function');typeof r=="string"&&(o=r,r=null),s=_tryBlock(n),o=(r&&r.name?" ("+r.name+").":".")+(o?" "+o:"."),e&&!s&&fail(s,r,"Missing expected exception"+o);var l=typeof o=="string",d=!e&&s&&!r;if((!e&&isError(s)&&l&&expectedException(s,r)||d)&&fail(s,r,"Got unwanted exception"+o),e&&s&&r&&!expectedException(s,r)||!e&&s)throw s}function throws(e,n,r){_throws(!0,e,n,r)}function doesNotThrow(e,n,r){_throws(!1,e,n,r)}function ifError(e){if(e)throw e}assert$1.AssertionError=AssertionError,inherits$1(AssertionError,Error),assert$1.fail=fail,assert$1.ok=ok,assert$1.equal=equal,assert$1.notEqual=notEqual,assert$1.deepEqual=deepEqual,assert$1.deepStrictEqual=deepStrictEqual,assert$1.notDeepEqual=notDeepEqual,assert$1.notDeepStrictEqual=notDeepStrictEqual,assert$1.strictEqual=strictEqual,assert$1.notStrictEqual=notStrictEqual,assert$1.throws=throws,assert$1.doesNotThrow=doesNotThrow,assert$1.ifError=ifError;var assert$2=Object.freeze({__proto__:null,default:assert$1,AssertionError,fail,ok,assert:ok,equal,notEqual,deepEqual,deepStrictEqual,notDeepEqual,notDeepStrictEqual,strictEqual,notStrictEqual,throws,doesNotThrow,ifError}),require$$1=getAugmentedNamespace(assert$2),topDown_algorithm={},hasRequiredTopDown_algorithm;function requireTopDown_algorithm(){return hasRequiredTopDown_algorithm||(hasRequiredTopDown_algorithm=1,topDown_algorithm.sort=function(e){return e.sort(function(n,r){return n.height-r.height}),e},topDown_algorithm.placeItems=function(e){var n=0;return e.forEach(function(r){r.x=0,r.y=n,n+=r.height}),e}),topDown_algorithm}var leftRight_algorithm={},hasRequiredLeftRight_algorithm;function requireLeftRight_algorithm(){return hasRequiredLeftRight_algorithm||(hasRequiredLeftRight_algorithm=1,leftRight_algorithm.sort=function(e){return e.sort(function(n,r){return n.width-r.width}),e},leftRight_algorithm.placeItems=function(e){var n=0;return e.forEach(function(r){r.x=n,r.y=0,n+=r.width}),e}),leftRight_algorithm}var diagonal_algorithm={},hasRequiredDiagonal_algorithm;function requireDiagonal_algorithm(){return hasRequiredDiagonal_algorithm||(hasRequiredDiagonal_algorithm=1,diagonal_algorithm.sort=function(e){return e.sort(function(n,r){return Math.sqrt(Math.pow(n.height,2)+Math.pow(n.width,2))-Math.sqrt(Math.pow(r.height,2)+Math.pow(r.width,2))}),e},diagonal_algorithm.placeItems=function(e){var n=0,r=0;return e.forEach(function(o){o.x=n,o.y=r,n+=o.width,r+=o.height}),e}),diagonal_algorithm}var altDiagonal_algorithm={},hasRequiredAltDiagonal_algorithm;function requireAltDiagonal_algorithm(){return hasRequiredAltDiagonal_algorithm||(hasRequiredAltDiagonal_algorithm=1,altDiagonal_algorithm.sort=function(e){return e.sort(function(n,r){return Math.sqrt(Math.pow(n.height,2)+Math.pow(n.width,2))-Math.sqrt(Math.pow(r.height,2)+Math.pow(r.width,2))}),e},altDiagonal_algorithm.placeItems=function(e){var n=0,r=0;return e.forEach(function(o){var s=o.width;o.x=n-s,o.y=r,n-=s,r+=o.height}),e}),altDiagonal_algorithm}var binaryTree_algorithm={},packer_growing,hasRequiredPacker_growing,binPack,hasRequiredBinPack,hasRequiredBinaryTree_algorithm;function requirePacker_growing(){if(hasRequiredPacker_growing)return packer_growing;hasRequiredPacker_growing=1;var e=function(){};return e.prototype={fit:function(n){var r,o,s,l,d=n.length,h=d>0?n[0].width:0,p=d>0?n[0].height:0;for(this.root={x:0,y:0,width:h,height:p},r=0;r<d;r++)s=n[r],(o=this.findNode(this.root,s.width,s.height))?(l=this.splitNode(o,s.width,s.height),s.x=l.x,s.y=l.y):(l=this.growNode(s.width,s.height),s.x=l.x,s.y=l.y)},findNode:function(n,r,o){return n.used?this.findNode(n.right,r,o)||this.findNode(n.down,r,o):r<=n.width&&o<=n.height?n:null},splitNode:function(n,r,o){return n.used=!0,n.down={x:n.x,y:n.y+o,width:n.width,height:n.height-o},n.right={x:n.x+r,y:n.y,width:n.width-r,height:o},n},growNode:function(n,r){var o=n<=this.root.width,s=r<=this.root.height,l=s&&this.root.height>=this.root.width+n,d=o&&this.root.width>=this.root.height+r;return l?this.growRight(n,r):d?this.growDown(n,r):s?this.growRight(n,r):o?this.growDown(n,r):null},growRight:function(n,r){var o;return this.root={used:!0,x:0,y:0,width:this.root.width+n,height:this.root.height,down:this.root,right:{x:this.root.width,y:0,width:n,height:this.root.height}},(o=this.findNode(this.root,n,r))?this.splitNode(o,n,r):null},growDown:function(n,r){var o;return this.root={used:!0,x:0,y:0,width:this.root.width,height:this.root.height+r,down:{x:0,y:this.root.height,width:this.root.width,height:r},right:this.root},(o=this.findNode(this.root,n,r))?this.splitNode(o,n,r):null}},packer_growing=e}function requireBinPack(){if(hasRequiredBinPack)return binPack;hasRequiredBinPack=1;var e=requirePacker_growing();return binPack=function(n,r){r=r||{};var o=new e,s=r.inPlace||!1,l=n.map(function(h){return s?h:{width:h.width,height:h.height,item:h}});l=l.sort(function(h,p){return p.width*p.height-h.width*h.height}),o.fit(l);var d={width:l.reduce(function(h,p){return Math.max(h,p.x+p.width)},0),height:l.reduce(function(h,p){return Math.max(h,p.y+p.height)},0)};return s||(d.items=l),d}}function requireBinaryTree_algorithm(){if(hasRequiredBinaryTree_algorithm)return binaryTree_algorithm;hasRequiredBinaryTree_algorithm=1;var e=requireBinPack();return binaryTree_algorithm.sort=function(n){return n},binaryTree_algorithm.placeItems=function(n){return e(n,{inPlace:!0}),n},binaryTree_algorithm}var PackingSmith=packing_smith,assert=require$$1,algorithms={};function Layout(e,n){var r=e||"top-down";return typeof r=="string"&&(r=algorithms[e],assert(r,"Sorry, the '"+e+"' algorithm could not be loaded.")),new PackingSmith(r,n)}function addAlgorithm(e,n){algorithms[e]=n}Layout.PackingSmith=PackingSmith,Layout.addAlgorithm=addAlgorithm,Layout.algorithms=algorithms,addAlgorithm("top-down",requireTopDown_algorithm()),addAlgorithm("left-right",requireLeftRight_algorithm()),addAlgorithm("diagonal",requireDiagonal_algorithm()),addAlgorithm("alt-diagonal",requireAltDiagonal_algorithm()),addAlgorithm("binary-tree",requireBinaryTree_algorithm());var layout=Layout,layout$1=getDefaultExportFromCjs(layout);function isTainting(e){var n;try{e.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,1,1)}catch(r){n=r.message}return n}function bitmapToCanvas(e,n,r){if(e instanceof HTMLImageElement){var o=e.ownerDocument.createElement("canvas");o.width=n,o.height=r,o.getContext("2d").drawImage(e,0,0,n,r),e=o}return e}var MAX_LNG_LAT=Geo$1.metersToLatLng([Geo$1.half_circumference_meters,Geo$1.half_circumference_meters]),TILE_EXPONENT=Math.log(Geo$1.tile_size)/Math.LN2,ICON_READY=1,DOM_MARKER_TYPE=8,GROUP_TYPE=16,TILE_MARGIN=100,AFFECTED_BBOX_CALC_THRESHOLD=10,ObjectSource=function(e){function n(r,o){var s;return _classCallCheck(this,n),s=_callSuper(this,n,[r,o]),Thread.is_worker&&(s._quad_tree=new ns.H.geo.QuadTree,s._marker_quad_tree=new ns.H.geo.QuadTree,s._tree_entries_by_object_id={},s._groups_by_id={},s._layersCache=new ns.H.util.Cache(100)),Thread.is_main&&(s._objects_by_id={},s._commands=[],s._sendCommands=debounce(s._sendCommands,100,200),s.dispatchUpdate=s.dispatchUpdate.bind(s)),s}return _inherits(n,e),_createClass(n,[{key:"hasLabeledData",value:function(){return!1}},{key:"onReady",value:function(){this._synced_at=this.provider.getInvalidations().getMark();var r,o,s=this.provider.getRootGroup(),l=s.getObjects(!0),d=[];for(l.push(s),r=l.length;r--;)o=l[r],this._isObjectSupported(o)&&this._shouldBeStored(o)&&(this._objects_by_id[o.getId()]=o,d.push(o.forWorkerMessage()));var h=[{method_name:"addObjects",arguments:[d]}];this._sendImmediateCommands(h)}},{key:"onProviderUpdate",value:function(r){var o=r.target,s=r.currentTarget.getInvalidations(o.type);if(this._isObjectSupported(o)){var l=this._synced_at,d=o.getId();if(s.isRemove(l))delete this._objects_by_id[d],this._commands.push({method_name:"removeObjectsByIds",arguments:[[d],!0]});else if(s.isAdd(l))this._shouldBeStored(o)&&(this._objects_by_id[d]=o,this._commands.push({method_name:"addObjects",arguments:[[o.forWorkerMessage()]]}));else if(s.isSpatial(l)||s.isZOrder(l)){if(this._shouldBeStored(o)){this._objects_by_id[d]=o;var h=[{method_name:"removeObjectsByIds",arguments:[[d],!0]},{method_name:"addObjects",arguments:[[o.forWorkerMessage()]]}];this.has_volatile_data&&!this.hasPendingCommands()?this._sendImmediateCommands(h):this._commands.push(h[0],h[1])}}else if(s.isVisual(l)){if(this._shouldBeStored(o)){this._objects_by_id[d]=o;var p={method_name:"updateObjectProperties",arguments:[o.forWorkerMessage()]};this.has_volatile_data&&!this.hasPendingCommands()?this._sendImmediateCommands([p]):this._commands.push(p)}}else s.isVolatility(l)&&(delete this._objects_by_id[d],this._commands.push({method_name:"removeObjectsByIds",arguments:[[d],!0]}),this._shouldBeStored(o)&&(this._objects_by_id[d]=o,this._commands.push({method_name:"addObjects",arguments:[[o.forWorkerMessage()]]})));this._commands.length&&this._sendCommands()}this._synced_at=s.getMark()}},{key:"_shouldBeStored",value:function(r){return r.type===GROUP_TYPE||(!r.getIcon||r.getIcon().getState()===ICON_READY)&&this._hasSameVolatility(r)}},{key:"_hasSameVolatility",value:function(r){return r.getVolatility(!0)===this.has_volatile_data}},{key:"hasPendingCommands",value:function(){return this._commands.length>0}},{key:"_sendCommands",value:function(){this._sendImmediateCommands(this._commands),this._commands=[]}},{key:"_sendImmediateCommands",value:function(r){r.length&&WorkerBroker.postMessage(this.worker,this.target_name+".executeCommands",r).then(this.dispatchUpdate)}},{key:"_isObjectSupported",value:function(r){return r.forWorkerMessage&&r.type!==DOM_MARKER_TYPE}},{key:"getSyncedAt",value:function(){return this._synced_at}},{key:"getMapObjectById",value:function(r){return this._objects_by_id[r]}},{key:"getIconBitmapByObjectId",value:function(r,o){var s=this.getMapObjectById(r);if(s){var l=s.getIcon();if(l.uid===o&&l.getState()===ICON_READY){var d=l.getSize();return bitmapToCanvas(l.getBitmap(),d.w,d.h)}}}},{key:"_getRastersForMarkers",value:function(r){for(var o={},s=layout$1("binary-tree"),l=0;l<r.length;l++){var d=r[l],h=d.properties.icon;o[h.id]||(s.addItem({width:h.size.w,height:h.size.h,meta:{objectId:d.id,id:h.id}}),o[h.id]=!0)}return s.export()}},{key:"fetchFeaturesForTile",value:function(r){var o=[],s=[],l=[],d=[],h=[],p=this._marker_quad_tree.intersectBoundingBox(Geo$1.getTileBoundingBox(r.coords,this.tile_size));r.source_data.error=null;for(var g=0;g<p.length;g++){var y={id:p[g].$feature$.id,properties:Object.assign({},p[g].$feature$.properties),geometry:{type:p[g].$feature$.geometry.type,coordinates:ArrayUtils$1.deepClone(p[g].$feature$.geometry.coordinates)}};o.push(y)}p=this._quad_tree.intersectBoundingBox(Geo$1.getTileBoundingBox(r.coords,this.tile_size,TILE_MARGIN));for(var v=0;v<p.length;v++){var w={id:p[v].$feature$.id,properties:Object.assign({},p[v].$feature$.properties),geometry:{type:p[v].$feature$.geometry.type,coordinates:ArrayUtils$1.deepClone(p[v].$feature$.geometry.coordinates)}};if(w.properties.overlay)s.push(w);else if(w.geometry.type.includes("LineString"))l.push(w);else if(w.geometry.type.includes("Polygon")){d.push(w);var k={id:w.id,properties:w.properties,geometry:{type:w.geometry.type,coordinates:ArrayUtils$1.deepClone(w.geometry.coordinates)}};h.push(k)}}o.sort(n._compareZInfo),d.sort(n._compareZInfo),s.sort(n._compareZInfo);var F=this.has_volatile_data?4096:0;h.sort(n._compareZInfo);for(var q=0;q<h.length;q++)h[q].properties.effectiveZIdx=F++;l.sort(n._compareZInfo);for(var _r=0;_r<l.length;_r++)l[_r].properties.effectiveZIdx=F++;r.source_data.layers.markers={type:"FeatureCollection",features:o},r.source_data.layers.polylines={type:"FeatureCollection",features:l},r.source_data.layers.polygons={type:"FeatureCollection",features:d},r.source_data.layers.outlines={type:"FeatureCollection",features:h},r.source_data.layers.overlays={type:"FeatureCollection",features:s}}},{key:"tileTexture",value:function(r){var o=r.source_data.layers.overlays;if(o){var s=this.name+"_"+r.coords.key,l=Tile.coordinateWithMaxZoom(r.coords,this.max_zoom),d=o.features[0].properties.overlays_config;return{name:s,filtering:this.filtering,coords:l,width:Geo$1.tile_size,height:Geo$1.tile_size,overlays_config:d,source:this.name}}}},{key:"_load",value:function(r){var o=Geo$1.wrapTile(r.coords,{x:!0}),s=o.z,l=o.x,d=o.y,h="".concat(s,"_").concat(l,"_").concat(d),p=this._layersCache.get(h),g=!1;if(p)r.source_data.layers=p;else{this.fetchFeaturesForTile(r);var y={maxZoom:this.max_zoom,tolerance:1.5,extent:Geo$1.tile_scale},v=r.source_data.layers.overlays;v.features.length&&delete r.source_data.layers.overlays;var w=r.source_data.layers.markers;for(var k in w.features.length&&delete r.source_data.layers.markers,r.source_data.layers){var F=r.source_data.layers[k];if(F.features.length){y.buffer=k.includes("lines")?TILE_MARGIN*Geo$1.units_per_pixel:0;var q=createGeoJsonTile(F,s,l,d,y);r.source_data.layers[k]=parseGeoJSONVectorTile(q)}}r.source_data.layers.overlays=this._processOverlays(r,v);for(var _r=r.source_data.layers.overlays.features.length;_r--;)if(!r.source_data.layers.overlays.features[_r].id){g=!0,this._layersCache.drop(h);break}r.source_data.layers.markers=this._processMarkers(r,w),this._postProcessTile(r),g||this._layersCache.add(h,r.source_data.layers,1)}return r.rasters=this._getRastersForMarkers(r.source_data.layers.markers.features),Promise.resolve(r)}},{key:"_processMarkers",value:function(r,o){var s=o.features.length;if(s){for(var l=Geo$1.unitsPerMeter(r.coords.z),d=Geo$1.wrapTile(r.coords,{x:!0}),h=Geo$1.metersForTile(d),p=Geo$1.isLastTile(d),g=Geo$1.wrapMeters(r.min),y=Geo$1.wrapMeters(r.max),v=function(ga){DataSource.coordsToMeters(ga);var La=_slicedToArray(ga,2),jc=La[0],_l=La[1],e1=jc>=g.x&&(p.column||jc<y.x)&&_l>=y.y&&(p.row||!r.coords.y||_l<g.y);return DataSource.metersToTileUnits(l,h,ga),e1},w=[],k=0;k<s;k++){var F=o.features[k].geometry,q=!1;if(F.type==="Point"){var _r=F.coordinates;v(_r)?F.coordinates=_r:q=!0}else F.type==="MultiPoint"&&(F.coordinates=F.coordinates.filter(v),F.coordinates.length===0&&(q=!0));q||w.push(o.features[k])}o.features=w}return o}},{key:"_processOverlays",value:function(r,o){var s=this;if(!o.features.length)return o;var l={coords:r.coords,min:Geo$1.metersForTile(Geo$1.wrapTile(r.coords,{x:!0}))},d={coords:r.coords,source_data:{layers:{_default:{type:"FeatureCollection",features:o.features}}}},h=Math.pow(2,r.coords.z+TILE_EXPONENT);MapsJsSource.projectData(d.source_data),MapsJsSource.scaleData(d.source_data,l);var p=o.features.map(function(y){var v=y.geometry.coordinates[0],w=v[0],k=v[v.length===5?2:3],F=Math.floor(w[0]/Geo$1.tile_scale*Geo$1.tile_size),q=Math.floor(w[1]/Geo$1.tile_scale*Geo$1.tile_size),_r=Math.floor(k[0]/Geo$1.tile_scale*Geo$1.tile_size),ga=Math.floor(k[1]/Geo$1.tile_scale*Geo$1.tile_size)-q,La=F>=_r,jc=La?h-(F-_r):_r-F,_l=[];return F<=Geo$1.tile_size&&_l.push([F,q,jc,ga]),La&&_r>0&&_l.push([F-h,q,jc,ga]),{id:y.id,properties:y.properties,texcoords:_l}}).filter(function(y){return s._isVisible(y.properties)&&s.isInMinMaxRange(y.properties,r.style_zoom)}),g=Geo$1.tile_scale;return r.pad_scale=this.pad_scale,r.default_winding="CW",o.features=p.length?[{geometry:{type:"Polygon",coordinates:[[[0,0],[g,0],[g,g],[0,g],[0,0]]]},properties:{overlays_config:p}}]:p,o}},{key:"executeCommands",value:function(r){for(var o,s=r.length<AFFECTED_BBOX_CALC_THRESHOLD,l=0;l<r.length;l++){var d=r[l];d.arguments.push(s);var h=this[d.method_name].apply(this,d.arguments);s&&(h&&o?o.mergeRect(h,!0,o):h&&(o=h))}return o?o.forWorkerMessage():void 0}},{key:"_getClampedGeoRectForFeature",value:function(r){var o=r.geometry.boundingBox;return new ns.H.geo.Rect(MathUtils$1.clamp(o[0],-MAX_LNG_LAT[1],MAX_LNG_LAT[1]),o[1],MathUtils$1.clamp(o[2],-MAX_LNG_LAT[1],MAX_LNG_LAT[1]),o[3])}},{key:"addObjects",value:function(r){for(var o,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1],l=0;l<r.length;l++){var d=r[l];if(d.type==="Group")d.$children_ids$={},this._groups_by_id[d.id]=d;else{n._preprocessGeometry(d.geometry);var h=this._getClampedGeoRectForFeature(d);s&&(o?o.mergeRect(h,!0,o):o=h);var p=d.geometry.type.indexOf("Point")!==-1?this._marker_quad_tree:this._quad_tree,g=p.insertBoundingBox(h);g.$tree=p,g.$feature$=d,this._tree_entries_by_object_id[d.id]=g}}for(var y=0;y<r.length;y++){var v=r[y];v.properties.parent&&(this._groups_by_id[v.properties.parent].$children_ids$[v.id]=v.id),v.properties.ref={effectiveVisibility:this._isVisible(v.properties),zInfo:this._getZInfo([],v)}}return this._layersCache.removeAll(),o}},{key:"removeObjectsByIds",value:function(r,o){for(var s,l=arguments.length>2&&arguments[2]!==void 0&&arguments[2],d=0;d<r.length;d++){var h=r[d],p=void 0,g=void 0;if(p=this._tree_entries_by_object_id[h]){if(l){var y=this._getClampedGeoRectForFeature(p.$feature$);s?s.mergeRect(y,!0,s):s=y}delete this._groups_by_id[p.$feature$.properties.parent].$children_ids$[h],p.$tree.remove(p),delete this._tree_entries_by_object_id[h]}else(g=this._groups_by_id[h])&&(g.properties.parent&&delete this._groups_by_id[g.properties.parent].$children_ids$[h],o&&this.removeObjectsByIds(Object.keys(g.$children_ids$),!0),delete this._groups_by_id[h])}return this._layersCache.removeAll(),s}},{key:"updateObjectProperties",value:function(r){var o,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return r.type==="Group"?(mergeObjects(this._groups_by_id[r.id].properties,r.properties),this._groups_by_id[r.id].properties.ref.effectiveVisibility=this._isVisible(r.properties)):(this._tree_entries_by_object_id[r.id]||this.addObjects([r]),mergeObjects(this._tree_entries_by_object_id[r.id].$feature$.properties,r.properties),this._tree_entries_by_object_id[r.id].$feature$.properties.ref.effectiveVisibility=this._isVisible(r.properties),s&&(o=this._getClampedGeoRectForFeature(r))),o}},{key:"_getZInfo",value:function(r,o){var s=o.properties.zIdx,l=o.properties.sIdx;return r[0]|=s!==void 0,r.splice(1,0,s||0,l<0?o.id:l),o.properties.parent===0?r:this._getZInfo(r,this._groups_by_id[o.properties.parent])}},{key:"_isVisible",value:function(r){var o=r.visible,s=!r.parent||this._isVisible(this._groups_by_id[r.parent].properties);return o&&s}},{key:"isInMinMaxRange",value:function(r,o){var s=r.min<=o&&r.max>=o,l=!r.parent||this.isInMinMaxRange(this._groups_by_id[r.parent].properties,o);return s&&l}},{key:"dispose",value:function(){this._commands=[],_get(_getPrototypeOf(n.prototype),"dispose",this).call(this)}}],[{key:"_compareZInfo",value:function(r,o){for(var s,l=r.properties.ref.zInfo,d=o.properties.ref.zInfo,h=l.length,p=d.length,g=Math.min(h,p),y=1;y<g;y++)if(s=l[y]-d[y])return s;return h-p}},{key:"_preprocessGeometry",value:function(r){var o=r.type;r.coordinates=o==="Point"?n._processPointCoordinates(r.coordinates):o==="MultiPoint"?r.coordinates.map(n._processPointCoordinates):o==="LineString"?n._processLineStringCoordinates(r.coordinates):o==="MultiLineString"?r.coordinates.map(n._processLineStringCoordinates):o==="Polygon"?r.coordinates.map(n._processPolygonCoordinates):o==="MultiPolygon"?r.coordinates.map(n._processMultiPolygonCoordinates):[]}},{key:"_processPointCoordinates",value:function(r){return[r[1],r[0],r[2]]}},{key:"_processLineStringCoordinates",value:function(r){return n._latLngAltArrayToLineString(r,!1)}},{key:"_processPolygonCoordinates",value:function(r){return n._latLngAltArrayToLineString(r,!0)}},{key:"_processMultiPolygonCoordinates",value:function(r){return r.map(n._processPolygonCoordinates)}},{key:"_latLngAltArrayToLineString",value:function(r,o){for(var s=[],l=r.length,d=0;d<l;d+=3)s.push([r[d+1],r[d]]);return o&&s.push([r[1],r[0]]),s}}])}(MapsJsSource);MapsJsSource.register(ObjectSource,"ObjectSource");var GEOMETRY_TYPE={POLYGON:1,POLYLINE:2,OUTLINE:3},IconMap=function(){return _createClass(function e(){_classCallCheck(this,e),this._map={}},[{key:"set",value:function(e,n,r){if(this._map[e])this._map[e].accumulator.add(r);else{var o=new Set;o.add(r),this._map[e]={value:n,accumulator:o}}}},{key:"get",value:function(e){return this._map[e]&&this._map[e].value}},{key:"delete",value:function(e,n){var r=this._map[e];r&&r.accumulator&&(r.accumulator.delete(n),r.accumulator.size===0&&delete this._map[e])}}])}(),ObjectTileSource=function(e){function n(r,o){var s;return _classCallCheck(this,n),s=_callSuper(this,n,[r,o]),Thread.is_worker||(s._icons=new IconMap),s}return _inherits(n,e),_createClass(n,[{key:"onProviderUpdate",value:function(r){r.target instanceof H.map.provider.Tile?this.dispatchUpdate(r.target,r.data):this.dispatchUpdate(void 0,r.data)}},{key:"onReady",value:function(){var r=this.provider;r.setTileCanvasRendering&&r.setTileCanvasRendering(!1),r.providesMarkers()&&(this._onCacheDrop=this._onCacheDrop.bind(this),r.getCache().registerOnDrop(this._onCacheDrop)),this.dispatchUpdate()}},{key:"dispose",value:function(){_get(_getPrototypeOf(n.prototype),"dispose",this).call(this);var r=this.provider;r.providesMarkers()&&r.getCache().deRegisterOnDrop(this._onCacheDrop)}},{key:"_onCacheDrop",value:function(r,o,s){this.provider.cacheFilter(r)&&this._deleteIcons(r,o.data)}},{key:"_deleteIcons",value:function(r,o){for(var s=0,l=o.length;s<l;s++){var d=o[s].getIcon();this._icons.delete(d.uid,r)}}},{key:"getIconBitmapByObjectId",value:function(r,o){var s=this._icons.get(o);return s&&s.getBitmap()}},{key:"requestMarkerTile",value:function(r){var o=this,s=new Promise(function(l,d){o.provider?o.provider.requestTileAsPromise(r.x,r.y,r.z,!1).then(function(h){var p,g,y=[];if(h.data)for(g=(p=h.data).length;g--;){var v=p[g],w=v.getIcon();o._icons.set(w.uid,w,h.key),y.push(v.forWorkerMessage())}l(y)}):l([])});return s}},{key:"requestSpatialTile",value:function(r){var o=this,s=new Promise(function(l,d){o.provider?o.provider.requestTileAsPromise(r.x,r.y,r.z,!1).then(function(h){var p,g=[];if(h.getObjects){p=h.getObjects();for(var y=0;y<p.length;y++){var v=p[y];g.push({id:v.getId(),geometries:v.getGeometriesForTile(h),isClosed:v.isClosed(),style:v.getStyle().forWorkerMessage()})}}l(g)}):l([])});return s}},{key:"_pointToArray",value:function(r){var o=Geo$1.tile_scale/this.tile_size;return[r.x*o,r.y*o]}},{key:"_getGeoJsonMultiPolygon",value:function(r){for(var o=r.geometries,s=o.length,l=[],d={coordinates:l,type:"MultiPolygon"},h=0;h<s;h++){var p=o[h],g=p.paths,y=g.length,v=p.interiorsIndex,w=p.outlinesIndex,k=Math.min(v,w,y),F=void 0,q=void 0;for(q=0;q<k;q++)F=[g[q].map(this._pointToArray,this)],l.push(F);if(k===1)for(k=Math.min(w,y),q=v;q<k;q++)F.push(g[q].map(this._pointToArray,this))}return d}},{key:"_getGeoJsonMultiLineString",value:function(r){for(var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1],s={coordinates:[],type:"MultiLineString"},l=r.geometries,d=0;d<l.length;d++)for(var h=l[d],p=o?h.outlinesIndex:0,g=o?h.paths.length:Math.min(h.interiorsIndex,h.outlinesIndex,h.paths.length),y=p;y<g;y++){var v=h.paths[y].map(this._pointToArray,this);s.coordinates.push(v)}return s}},{key:"_getGeoJsonGeometry",value:function(r,o){var s;return(s=o===GEOMETRY_TYPE.POLYGON?this._getGeoJsonMultiPolygon(r):this._getGeoJsonMultiLineString(r,o===GEOMETRY_TYPE.OUTLINE)).coordinates.length?s:null}},{key:"_load",value:function(r){var o,s=this;return o=new Promise(function(l,d){var h=WorkerBroker.postMessage(s.target_name+".requestMarkerTile",r.coords).then(s._prepareTileData.bind(s,r)),p=new Promise(function(g,y){WorkerBroker.postMessage(s.target_name+".requestSpatialTile",r.coords).then(function(v){for(var w=[],k=[],F=[],q=0;q<v.length;q++){var _r=v[q],ga=void 0,La=void 0;_r.isClosed?(ga=k,La=GEOMETRY_TYPE.POLYGON):(ga=w,La=GEOMETRY_TYPE.POLYLINE);var jc=s._getGeoJsonGeometry(_r,La);if(jc){var _l={id:_r.id,type:"Feature",properties:{height:0,style:_r.style},geometry:jc};La===GEOMETRY_TYPE.POLYLINE&&(_l.properties.effectiveZIdx=w.length),ga.push(_l)}var e1=s._getGeoJsonGeometry(_r,GEOMETRY_TYPE.OUTLINE);e1&&F.push({id:_r.id,type:"Feature",properties:{height:0,style:_r.style,effectiveZIdx:F.length},geometry:e1})}r.source_data.layers.polylines={type:"FeatureCollection",features:w},r.source_data.layers.polygons={type:"FeatureCollection",features:k},r.source_data.layers.outlines={type:"FeatureCollection",features:F},g(r)})});Promise.all([h,p]).then(function(g){s._postProcessTile(r),l(r)})}),o}},{key:"_prepareTileData",value:function(r,o){var s=Geo$1.wrapTile(r.coords,{x:!0,y:!0}),l=Geo$1.metersForTile(s);r.source_data.layers={markers:{features:o,type:"FeatureCollection"}};var d={coords:s,min:l},h=r.source_data,p=layout$1("binary-tree"),g={};for(var y in h.layers)for(var v=h.layers[y].features.length,w=0;w<v;w++){var k=h.layers[y].features[w],F=k.properties.icon;g[F.id]||(p.addItem({width:F.size.w,height:F.size.h,meta:{objectId:k.id,id:F.id}}),g[F.id]=!0),Geo$1.transformGeometry(k.geometry,function(q){var _r=q[0];q[0]=q[1],q[1]=_r})}return r.rasters=p.export(),MapsJsSource.projectData(r.source_data),MapsJsSource.scaleData(r.source_data,d),r}}])}(MapsJsSource);MapsJsSource.register(ObjectTileSource,"ObjectTileSource");var RemoteRasterTileSource=function(e){function n(r,o){var s;return _classCallCheck(this,n),(s=_callSuper(this,n,[r,o])).uid_=r.uid,s}return _inherits(n,e),_createClass(n,[{key:"initialize",value:function(r,o,s,l){this.provider=r,this._on_update=o,this._onProviderUpdate=this._onProviderUpdate.bind(this),r.addEventListener("update",this._onProviderUpdate)}},{key:"_onProviderUpdate",value:function(r){this._on_update(this.name)}},{key:"tileTexture",value:function(r){return Object.assign(_get(_getPrototypeOf(n.prototype),"tileTexture",this).call(this,r),{uid:this.uid_,url:this.uid_+"_"+r.coords.key,coords:r.coords})}},{key:"dispose",value:function(){this.provider.removeEventListener("update",this._onProviderUpdate)}}])}(RasterTileSource);function geojsonvt(e,n){return new GeoJSONVT(e,n)}function GeoJSONVT(e,n){var r=(n=this.options=extend$1(Object.create(this.options),n)).debug;if(r&&console.time("preprocess data"),n.maxZoom<0||n.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(n.promoteId&&n.generateId)throw new Error("promoteId and generateId cannot be used together.");var o=convert(e,n);this.tiles={},this.tileCoords=[],r&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",n.indexMaxZoom,n.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(o=wrap$1(o,n)).length&&this.splitTile(o,0,0,0),r&&(o.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function toID(e,n,r){return 32*((1<<e)*r+n)+e}function extend$1(e,n){for(var r in n)e[r]=n[r];return e}DataSource.register(RemoteRasterTileSource,"RemoteRasterTileSource"),GeoJSONVT.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},GeoJSONVT.prototype.splitTile=function(e,n,r,o,s,l,d){for(var h=[e,n,r,o],p=this.options,g=p.debug;h.length;){o=h.pop(),r=h.pop(),n=h.pop(),e=h.pop();var y=1<<n,v=toID(n,r,o),w=this.tiles[v];if(!w&&(g>1&&console.time("creation"),w=this.tiles[v]=createTile(e,n,r,o,p),this.tileCoords.push({z:n,x:r,y:o}),g)){g>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",n,r,o,w.numFeatures,w.numPoints,w.numSimplified),console.timeEnd("creation"));var k="z"+n;this.stats[k]=(this.stats[k]||0)+1,this.total++}if(w.source=e,s){if(n===p.maxZoom||n===s)continue;var F=1<<s-n;if(r!==Math.floor(l/F)||o!==Math.floor(d/F))continue}else if(n===p.indexMaxZoom||w.numPoints<=p.indexMaxPoints)continue;if(w.source=null,e.length!==0){g>1&&console.time("clipping");var q,_r,ga,La,jc,_l,e1=.5*p.buffer/p.extent,n1=.5-e1,d1=.5+e1,c1=1+e1;q=_r=ga=La=null,jc=clip(e,y,r-e1,r+d1,0,w.minX,w.maxX,p),_l=clip(e,y,r+n1,r+c1,0,w.minX,w.maxX,p),e=null,jc&&(q=clip(jc,y,o-e1,o+d1,1,w.minY,w.maxY,p),_r=clip(jc,y,o+n1,o+c1,1,w.minY,w.maxY,p),jc=null),_l&&(ga=clip(_l,y,o-e1,o+d1,1,w.minY,w.maxY,p),La=clip(_l,y,o+n1,o+c1,1,w.minY,w.maxY,p),_l=null),g>1&&console.timeEnd("clipping"),h.push(q||[],n+1,2*r,2*o),h.push(_r||[],n+1,2*r,2*o+1),h.push(ga||[],n+1,2*r+1,2*o),h.push(La||[],n+1,2*r+1,2*o+1)}}},GeoJSONVT.prototype.getTile=function(e,n,r){var o=this.options,s=o.extent,l=o.debug;if(e<0||e>24)return null;var d=1<<e,h=toID(e,n=(n%d+d)%d,r);if(this.tiles[h])return transformTile(this.tiles[h],s);l>1&&console.log("drilling down to z%d-%d-%d",e,n,r);for(var p,g=e,y=n,v=r;!p&&g>0;)g--,y=Math.floor(y/2),v=Math.floor(v/2),p=this.tiles[toID(g,y,v)];return p&&p.source?(l>1&&console.log("found parent tile z%d-%d-%d",g,y,v),l>1&&console.time("drilling down"),this.splitTile(p.source,g,y,v,e,n,r),l>1&&console.timeEnd("drilling down"),this.tiles[h]?transformTile(this.tiles[h],s):null):null};var EMPTY_FEATURE_COLLECTION={type:"FeatureCollection",features:[]},GeoJSONTileSource=function(e){function n(r,o){return _classCallCheck(this,n),r.tiled=!0,r.url="",_callSuper(this,n,[r,o])}return _inherits(n,e),_createClass(n,[{key:"fetchTile",value:function(r,o,s){return this.provider?this.provider.requestTileAsPromise(r,o,s).then(function(l){return l.data}):Promise.resolve(EMPTY_FEATURE_COLLECTION)}},{key:"_load",value:function(r){var o=this,s=Geo$1.wrapTile(r.coords,{x:!0,y:!0}),l={indexMaxZoom:0,maxZoom:this.max_zoom,tolerance:1.5,extent:Geo$1.tile_scale};return WorkerBroker.postMessage(this.target_name+".fetchTile",s.x,s.y,s.z).then(function(d){for(var h in r.source_data.layers=d.type==="FeatureCollection"?{_default:d}:d,r.source_data.layers){var p=geojsonvt(r.source_data.layers[h],l).getTile(s.z,s.x,s.y);r.source_data.layers[h]=parseGeoJSONVectorTile(p)}return o._postProcessTile(r),r})}},{key:"onReady",value:function(){this.dispatchUpdate()}}])}(MapsJsSource);DataSource.register(GeoJSONTileSource,"GeoJSONTileSource");var DEFAULT_RESPONSE={layers:{_default:{type:"FeatureCollection",features:[{type:"Point",geometry:{}}]}}},SkyBoxSource=function(e){function n(r,o){return _classCallCheck(this,n),r.max_zoom=0,_callSuper(this,n,[r,o])}return _inherits(n,e),_createClass(n,[{key:"load",value:function(r){return r.source_data=r.coords.key==="0/0/0"?DEFAULT_RESPONSE:void 0,Promise.resolve(r)}}])}(DataSource),debugSettings;DataSource.register(SkyBoxSource,"SkyBox");var debugSettings$1=debugSettings={draw_label_collision_boxes:!1,draw_label_texture_boxes:!1,suppress_label_fade_in:!1,suppress_snap_animation:!1,show_hidden_labels:!1,layer_stats:!1};function mergeDebugSettings(e){Object.assign(debugSettings,e)}var WorkerType={NATIVE:0,FAKE:1},Context;function sliceObject(e,n){var r={};return n.forEach(function(o){return r[o]=e[o]}),r}var Context$1=Context={},context_id=0,gl;Context.getContext=function(e,n){var r=!1;e==null&&((e=document.createElement("canvas")).style.position="absolute",e.style.top=0,e.style.left=0,e.style.zIndex=-1,document.body.appendChild(e),r=!0);var o=e.getContext("webgl",n)||e.getContext("experimental-webgl",n);if(!o)throw new Error("Couldn't create WebGL context.");return o._tangram_id=context_id++,r?(Context.resize(o,window.innerWidth,window.innerHeight,n.device_pixel_ratio),window.addEventListener("resize",function(){Context.resize(o,window.innerWidth,window.innerHeight,n.device_pixel_ratio)})):Context.resize(o,parseFloat(e.style.width),parseFloat(e.style.height),n.device_pixel_ratio),o},Context.resize=function(e,n,r,o){e.canvas.style.width=n+"px",e.canvas.style.height=r+"px",e.canvas.width=Math.round(n*o),e.canvas.height=Math.round(r*o),e.bindFramebuffer(e.FRAMEBUFFER,null),e.viewport(0,0,e.canvas.width,e.canvas.height)};var gl$1=gl={};gl.BYTE=5120,gl.UNSIGNED_BYTE=5121,gl.SHORT=5122,gl.UNSIGNED_SHORT=5123,gl.INT=5124,gl.UNSIGNED_INT=5125,gl.FLOAT=5126;var MAX_VALUE=Math.pow(2,16)-1,DEFAULT_SIZE=1024,HAS_ELEMENT_INDEX_UINT=!1,VertexElements=function(){return _createClass(function e(n){_classCallCheck(this,e),this.size_=n||DEFAULT_SIZE,this.position_=0,this.ArrayType_=Uint16Array,this.buffer_=new this.ArrayType_(this.size_),this.overflows_=!1},[{key:"push",value:function(e){if(!this.overflows_||HAS_ELEMENT_INDEX_UINT){if(e>MAX_VALUE){if(this.overflows_=!0,!HAS_ELEMENT_INDEX_UINT)return;this.ArrayType_===Uint16Array&&(this.ArrayType_=Uint32Array,this.buffer_=new this.ArrayType_(this.buffer_))}this.position_===this.size_&&this.expand_(),this.buffer_[this.position_]=e,this.position_+=1}}},{key:"end",value:function(){if(this.position_!==0){var e=this.buffer_,n=this.position_;return this.buffer_=new this.ArrayType_(this.size_),this.position_=0,this.overflows_=!1,e.subarray(0,n)}return!1}},{key:"expand_",value:function(){this.size_=this.size_<<1;var e=new this.ArrayType_(this.size_);e.set(this.buffer_),this.buffer_=e}}])}();VertexElements.setElementIndexUint=function(e){HAS_ELEMENT_INDEX_UINT=e};var array_types=_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({},gl$1.FLOAT,Float32Array),gl$1.BYTE,Int8Array),gl$1.UNSIGNED_BYTE,Uint8Array),gl$1.INT,Int32Array),gl$1.UNSIGNED_INT,Uint32Array),gl$1.SHORT,Int16Array),gl$1.UNSIGNED_SHORT,Uint16Array),VertexData=function(){function e(n){var r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).prealloc,o=r===void 0?500:r;_classCallCheck(this,e),this.vertex_layout=n,this.vertex_elements=new VertexElements,this.stride=this.vertex_layout.stride,e.array_pool.length>0?(this.vertex_buffer=e.array_pool.pop(),this.byte_length=this.vertex_buffer.byteLength,this.size=Math.floor(this.byte_length/this.stride),log("trace","VertexData: reused buffer of bytes ".concat(this.byte_length,", ").concat(this.size," vertices"))):(this.size=o,this.byte_length=this.stride*this.size,this.vertex_buffer=new Uint8Array(this.byte_length)),this.offset=0,this.vertex_count=0,this.realloc_count=0,this.setBufferViews(),this.setAddVertexFunction()}return _createClass(e,[{key:"setBufferViews",value:function(){var n=this;this.views={},this.views[gl$1.UNSIGNED_BYTE]=this.vertex_buffer,this.vertex_layout.dynamic_attribs.forEach(function(r){if(n.views[r.type]==null){var o=array_types[r.type];n.views[r.type]=new o(n.vertex_buffer.buffer)}})}},{key:"checkBufferSize",value:function(){if(this.offset+this.stride>this.byte_length){this.size=Math.floor(1.5*this.size),this.size-=this.size%4,this.byte_length=this.stride*this.size;var n=new Uint8Array(this.byte_length);n.set(this.vertex_buffer),e.array_pool.push(this.vertex_buffer),this.vertex_buffer=n,this.setBufferViews(),this.realloc_count++}}},{key:"setAddVertexFunction",value:function(){this.vertexLayoutAddVertex=this.vertex_layout.getAddVertexFunction()}},{key:"addVertex",value:function(n){this.checkBufferSize(),this.vertexLayoutAddVertex(n,this.views,this.offset),this.offset+=this.stride,this.vertex_count++}},{key:"end",value:function(){return this.vertex_buffer=this.vertex_buffer.subarray(0,this.offset),this.element_buffer=this.vertex_elements.end(),log("trace","VertexData: ".concat(this.size," vertices total, realloc count ").concat(this.realloc_count)),this}}])}();VertexData.array_pool=[];var VertexLayout=function(){function e(n){_classCallCheck(this,e),this.attribs=n,this.dynamic_attribs=this.attribs.filter(function(g){return!g.static}),this.components=[],this.index={},this.offset={},this.stride=0;for(var r=0,o=0,s=0;s<this.attribs.length;s++){var l=this.attribs[s];if(l.static==null){l.offset=this.stride,l.byte_size=l.size;var d=0;switch(l.type){case gl$1.FLOAT:case gl$1.INT:case gl$1.UNSIGNED_INT:l.byte_size*=4,d=2;break;case gl$1.SHORT:case gl$1.UNSIGNED_SHORT:l.byte_size*=2,d=1}3&l.byte_size&&(l.byte_size+=4-(3&l.byte_size)),this.stride+=l.byte_size;for(var h=l.offset>>d,p=0;p<l.size;p++)this.components.push({type:l.type,shift:d,offset:h++,index:o++});this.index[l.name]=r,r+=l.size,this.offset[l.name]=l.offset}else l.static=Array.isArray(l.static)?l.static:[l.static],l.method="vertexAttrib".concat(l.static.length,"fv")}}return _createClass(e,[{key:"enable",value:function(n,r,o){for(var s,l,d=0;d<this.attribs.length;d++)s=this.attribs[d],(l=r.attribute(s.name).location)!==-1&&(s.static==null?(e.enabled_attribs[l]&&!o||n.enableVertexAttribArray(l),n.vertexAttribPointer(l,s.size,s.type,s.normalized,this.stride,s.offset),e.enabled_attribs[l]=r):n[s.method]instanceof Function&&(n.enableVertexAttribArray(l),n[s.method](l,s.static),n.disableVertexAttribArray(l),delete e.enabled_attribs[l]));for(l in e.enabled_attribs)this.disableUnusedAttribute(n,l,r)}},{key:"disableUnusedAttribute",value:function(n,r,o){e.enabled_attribs[r]!==o&&(n.disableVertexAttribArray(r),delete e.enabled_attribs[r])}},{key:"createVertexData",value:function(){return new VertexData(this)}},{key:"getAddVertexFunction",value:function(){return this.addVertex==null&&this.createAddVertexFunction(),this.addVertex}},{key:"createAddVertexFunction",value:function(){var n=hashString(JSON.stringify(this.attribs));if(e.add_vertex_funcs[n]==null){var r,o=["var t, o;"],s=_toConsumableArray(this.components);s.sort(function(p,g){return p.type!==g.type?p.type-g.type:p.index-g.index});for(var l=0;l<s.length;l++){var d=s[l];r!==d.type&&(o.push("t = vs[".concat(d.type,"];")),o.push("o = off".concat(d.shift?" >> "+d.shift:"",";")),r=d.type),o.push("t[o + ".concat(d.offset,"] = v[").concat(d.index,"];"))}o=o.join(`
`);var h=new Function("v","vs","off",o);e.add_vertex_funcs[n]=h}this.addVertex=e.add_vertex_funcs[n]}}])}();VertexLayout.enabled_attribs={},VertexLayout.add_vertex_funcs={};var tile_bounds=[{x:0,y:0},{x:Geo$1.tile_scale,y:-Geo$1.tile_scale}],default_uvs=[0,0,1,1];function outsideTile(e,n,r){var o=tile_bounds[0],s=tile_bounds[1];return e[0]<=o.x+r&&n[0]<=o.x+r||e[0]>=s.x-r&&n[0]>=s.x-r||e[1]>=o.y-r&&n[1]>=o.y-r||e[1]<=s.y+r&&n[1]<=s.y+r}function isCoordOutsideTile(e,n){n=n||0;var r=tile_bounds[0],o=tile_bounds[1];return e[0]<=r.x+n||e[0]>=o.x-n||e[1]>=r.y-n||e[1]<=o.y+n}var earcut_1=earcut;function earcut(e,n,r){r=r||2;var o,s,l,d,h,p,g,y=n&&n.length,v=y?n[0]*r:e.length,w=linkedList(e,0,v,r,!0),k=[];if(!w)return k;if(y&&(w=eliminateHoles(e,n,w,r)),e.length>80*r){o=l=e[0],s=d=e[1];for(var F=r;F<v;F+=r)(h=e[F])<o&&(o=h),(p=e[F+1])<s&&(s=p),h>l&&(l=h),p>d&&(d=p);g=Math.max(l-o,d-s)}return earcutLinked(w,k,r,o,s,g),k}function linkedList(e,n,r,o,s){var l,d;if(s===signedArea(e,n,r,o)>0)for(l=n;l<r;l+=o)d=insertNode(l,e[l],e[l+1],d);else for(l=r-o;l>=n;l-=o)d=insertNode(l,e[l],e[l+1],d);return d&&equals(d,d.next)&&(removeNode(d),d=d.next),d}function filterPoints(e,n){if(!e)return e;n||(n=e);var r,o=e;do if(r=!1,o.steiner||!equals(o,o.next)&&area(o.prev,o,o.next)!==0)o=o.next;else{if(removeNode(o),(o=n=o.prev)===o.next)return null;r=!0}while(r||o!==n);return n}function earcutLinked(e,n,r,o,s,l,d){if(e){!d&&l&&indexCurve(e,o,s,l);for(var h,p,g=e;e.prev!==e.next;)if(h=e.prev,p=e.next,l?isEarHashed(e,o,s,l):isEar(e))n.push(h.i/r),n.push(e.i/r),n.push(p.i/r),removeNode(e),e=p.next,g=p.next;else if((e=p)===g){d?d===1?earcutLinked(e=cureLocalIntersections(e,n,r),n,r,o,s,l,2):d===2&&splitEarcut(e,n,r,o,s,l):earcutLinked(filterPoints(e),n,r,o,s,l,1);break}}}function isEar(e){var n=e.prev,r=e,o=e.next;if(area(n,r,o)>=0)return!1;for(var s=e.next.next;s!==e.prev;){if(pointInTriangle(n.x,n.y,r.x,r.y,o.x,o.y,s.x,s.y)&&area(s.prev,s,s.next)>=0)return!1;s=s.next}return!0}function isEarHashed(e,n,r,o){var s=e.prev,l=e,d=e.next;if(area(s,l,d)>=0)return!1;for(var h=s.x<l.x?s.x<d.x?s.x:d.x:l.x<d.x?l.x:d.x,p=s.y<l.y?s.y<d.y?s.y:d.y:l.y<d.y?l.y:d.y,g=s.x>l.x?s.x>d.x?s.x:d.x:l.x>d.x?l.x:d.x,y=s.y>l.y?s.y>d.y?s.y:d.y:l.y>d.y?l.y:d.y,v=zOrder(h,p,n,r,o),w=zOrder(g,y,n,r,o),k=e.nextZ;k&&k.z<=w;){if(k!==e.prev&&k!==e.next&&pointInTriangle(s.x,s.y,l.x,l.y,d.x,d.y,k.x,k.y)&&area(k.prev,k,k.next)>=0)return!1;k=k.nextZ}for(k=e.prevZ;k&&k.z>=v;){if(k!==e.prev&&k!==e.next&&pointInTriangle(s.x,s.y,l.x,l.y,d.x,d.y,k.x,k.y)&&area(k.prev,k,k.next)>=0)return!1;k=k.prevZ}return!0}function cureLocalIntersections(e,n,r){var o=e;do{var s=o.prev,l=o.next.next;!equals(s,l)&&intersects(s,o,o.next,l)&&locallyInside(s,l)&&locallyInside(l,s)&&(n.push(s.i/r),n.push(o.i/r),n.push(l.i/r),removeNode(o),removeNode(o.next),o=e=l),o=o.next}while(o!==e);return o}function splitEarcut(e,n,r,o,s,l){var d=e;do{for(var h=d.next.next;h!==d.prev;){if(d.i!==h.i&&isValidDiagonal(d,h)){var p=splitPolygon(d,h);return d=filterPoints(d,d.next),p=filterPoints(p,p.next),earcutLinked(d,n,r,o,s,l),void earcutLinked(p,n,r,o,s,l)}h=h.next}d=d.next}while(d!==e)}function eliminateHoles(e,n,r,o){var s,l,d,h=[];for(s=0,l=n.length;s<l;s++)(d=linkedList(e,n[s]*o,s<l-1?n[s+1]*o:e.length,o,!1))===d.next&&(d.steiner=!0),h.push(getLeftmost(d));for(h.sort(compareX),s=0;s<h.length;s++)eliminateHole(h[s],r),r=filterPoints(r,r.next);return r}function compareX(e,n){return e.x-n.x}function eliminateHole(e,n){if(n=findHoleBridge(e,n)){var r=splitPolygon(n,e);filterPoints(r,r.next)}}function findHoleBridge(e,n){var r,o=n,s=e.x,l=e.y,d=-1/0;do{if(l<=o.y&&l>=o.next.y){var h=o.x+(l-o.y)*(o.next.x-o.x)/(o.next.y-o.y);if(h<=s&&h>d){if(d=h,h===s){if(l===o.y)return o;if(l===o.next.y)return o.next}r=o.x<o.next.x?o:o.next}}o=o.next}while(o!==n);if(!r)return null;if(s===d)return r.prev;var p,g=r,y=r.x,v=r.y,w=1/0;for(o=r.next;o!==g;)s>=o.x&&o.x>=y&&pointInTriangle(l<v?s:d,l,y,v,l<v?d:s,l,o.x,o.y)&&((p=Math.abs(l-o.y)/(s-o.x))<w||p===w&&o.x>r.x)&&locallyInside(o,e)&&(r=o,w=p),o=o.next;return r}function indexCurve(e,n,r,o){var s=e;do s.z===null&&(s.z=zOrder(s.x,s.y,n,r,o)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==e);s.prevZ.nextZ=null,s.prevZ=null,sortLinked(s)}function sortLinked(e){var n,r,o,s,l,d,h,p,g=1;do{for(r=e,e=null,l=null,d=0;r;){for(d++,o=r,h=0,n=0;n<g&&(h++,o=o.nextZ);n++);for(p=g;h>0||p>0&&o;)h===0?(s=o,o=o.nextZ,p--):p!==0&&o?r.z<=o.z?(s=r,r=r.nextZ,h--):(s=o,o=o.nextZ,p--):(s=r,r=r.nextZ,h--),l?l.nextZ=s:e=s,s.prevZ=l,l=s;r=o}l.nextZ=null,g*=2}while(d>1);return e}function zOrder(e,n,r,o,s){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)/s)|e<<8))|e<<4))|e<<2))|e<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-o)/s)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function getLeftmost(e){var n=e,r=e;do n.x<r.x&&(r=n),n=n.next;while(n!==e);return r}function pointInTriangle(e,n,r,o,s,l,d,h){return(s-d)*(n-h)-(e-d)*(l-h)>=0&&(e-d)*(o-h)-(r-d)*(n-h)>=0&&(r-d)*(l-h)-(s-d)*(o-h)>=0}function isValidDiagonal(e,n){return e.next.i!==n.i&&e.prev.i!==n.i&&!intersectsPolygon(e,n)&&locallyInside(e,n)&&locallyInside(n,e)&&middleInside(e,n)}function area(e,n,r){return(n.y-e.y)*(r.x-n.x)-(n.x-e.x)*(r.y-n.y)}function equals(e,n){return e.x===n.x&&e.y===n.y}function intersects(e,n,r,o){return!!(equals(e,n)&&equals(r,o)||equals(e,o)&&equals(r,n))||area(e,n,r)>0!=area(e,n,o)>0&&area(r,o,e)>0!=area(r,o,n)>0}function intersectsPolygon(e,n){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==n.i&&r.next.i!==n.i&&intersects(r,r.next,e,n))return!0;r=r.next}while(r!==e);return!1}function locallyInside(e,n){return area(e.prev,e,e.next)<0?area(e,n,e.next)>=0&&area(e,e.prev,n)>=0:area(e,n,e.prev)<0||area(e,e.next,n)<0}function middleInside(e,n){var r=e,o=!1,s=(e.x+n.x)/2,l=(e.y+n.y)/2;do r.y>l!=r.next.y>l&&s<(r.next.x-r.x)*(l-r.y)/(r.next.y-r.y)+r.x&&(o=!o),r=r.next;while(r!==e);return o}function splitPolygon(e,n){var r=new Node(e.i,e.x,e.y),o=new Node(n.i,n.x,n.y),s=e.next,l=n.prev;return e.next=n,n.prev=e,r.next=s,s.prev=r,o.next=r,r.prev=o,l.next=o,o.prev=l,o}function insertNode(e,n,r,o){var s=new Node(e,n,r);return o?(s.next=o.next,s.prev=o,o.next.prev=s,o.next=s):(s.prev=s,s.next=s),s}function removeNode(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Node(e,n,r){this.i=e,this.x=n,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(e,n,r,o){for(var s=0,l=n,d=r-o;l<r;l+=o)s+=(e[d]-e[l])*(e[l+1]+e[d+1]),d=l;return s}earcut.deviation=function(e,n,r,o){var s=n&&n.length,l=s?n[0]*r:e.length,d=Math.abs(signedArea(e,0,l,r));if(s)for(var h=0,p=n.length;h<p;h++){var g=n[h]*r,y=h<p-1?n[h+1]*r:e.length;d-=Math.abs(signedArea(e,g,y,r))}var v=0;for(h=0;h<o.length;h+=3){var w=o[h]*r,k=o[h+1]*r,F=o[h+2]*r;v+=Math.abs((e[w]-e[F])*(e[k+1]-e[w+1])-(e[w]-e[k])*(e[F+1]-e[w+1]))}return d===0&&v===0?0:Math.abs((v-d)/d)},earcut.flatten=function(e){for(var n=e[0][0].length,r={vertices:[],holes:[],dimensions:n},o=0,s=0;s<e.length;s++){for(var l=0;l<e[s].length;l++)for(var d=0;d<n;d++)r.vertices.push(e[s][l][d]);s>0&&(o+=e[s-1].length,r.holes.push(o))}return r};var earcut$1=getDefaultExportFromCjs(earcut_1),up_vec3=[0,0,1];function buildPolygons(e,n,r,o){var s=o.texcoord_index,l=o.texcoord_scale,d=o.texcoord_normalize,h=n.vertex_elements;if(s){d=d||1;var p=_slicedToArray(l||default_uvs,4),g=p[0],y=p[1],v=p[2],w=p[3]}for(var k=0,F=e.length,q=0;q<F;q++){var _r=n.vertex_count,ga=e[q];if(s)var La=_slicedToArray(Geo$1.findBoundingBox(ga),4),jc=La[0],_l=La[1],e1=(v-g)/(La[2]-jc),n1=(w-y)/(La[3]-_l);for(var d1=0;d1<ga.length;d1++)for(var c1=ga[d1],h1=0;h1<c1.length;h1++){var N1=c1[h1];r[0]=N1[0],r[1]=N1[1],s&&(r[s+0]=((N1[0]-jc)*e1+g)*d,r[s+1]=((N1[1]-_l)*n1+y)*d),n.addVertex(r)}for(var k1=triangulatePolygon(earcut$1.flatten(ga)),R1=0;R1<k1.length;R1++)h.push(_r+k1[R1]);k+=k1.length/3}return k}function buildExtrudedPolygons(e,n,r,o,s,l,d,h,p){var g=p.remove_tile_edges,y=p.tile_edge_tolerance,v=p.texcoord_index,w=p.texcoord_scale,k=p.texcoord_normalize,F=p.winding,q=n+(o||0),_r=n+r;l[2]=_r;var ga=buildPolygons(e,s,l,{texcoord_index:v,texcoord_scale:w,texcoord_normalize:k}),La=s.vertex_elements,jc=s.vertex_count;if(v){k=k||1;var _l=_slicedToArray(w||default_uvs,4),e1=_l[0],n1=_l[1],d1=_l[2],c1=_l[3],h1=[[e1,c1],[e1,n1],[d1,n1],[d1,c1]]}for(var N1=e.length,k1=0;k1<N1;k1++)for(var R1=e[k1],U1=0;U1<R1.length;U1++)for(var x1=R1[U1],m2=0;m2<x1.length-1;m2++)if(!g||!outsideTile(x1[m2],x1[m2+1],y)){var w1=void 0,B1=void 0;F==="CCW"?(w1=m2,B1=m2+1):(w1=m2+1,B1=m2);var A1=[[x1[B1][0],x1[B1][1],_r],[x1[B1][0],x1[B1][1],q],[x1[w1][0],x1[w1][1],q],[x1[w1][0],x1[w1][1],_r]],H1=Vector$1.normalize([x1[B1][0]-x1[w1][0],x1[B1][1]-x1[w1][1],0]),L2=Vector$1.cross(up_vec3,H1);l[d+0]=L2[0]*h,l[d+1]=L2[1]*h,l[d+2]=L2[2]*h;for(var o0=0;o0<A1.length;o0++)l[0]=A1[o0][0],l[1]=A1[o0][1],l[2]=A1[o0][2],v&&(l[v+0]=h1[o0][0]*k,l[v+1]=h1[o0][1]*k),s.addVertex(l);La.push(jc+0),La.push(jc+1),La.push(jc+2),La.push(jc+2),La.push(jc+3),La.push(jc+0),jc+=4,ga+=2}return ga}function triangulatePolygon(e){return earcut$1(e.vertices,e.holes,e.dimensions)}var shaderSrc_polygonsVertex=`uniform vec2 u_resolution;uniform vec3 u_map_position;uniform vec4 u_tile_origin;uniform float u_tile_proxy_depth;uniform float u_meters_per_pixel;uniform float u_device_pixel_ratio;uniform mat4 u_model;uniform mat4 u_modelView;uniform mat3 u_normalMatrix;uniform mat3 u_inverseNormalMatrix;attribute vec4 a_position;attribute vec4 a_color;
#ifdef TANGRAM_NORMAL_ATTRIBUTE
attribute vec3 a_normal;
#define TANGRAM_NORMAL a_normal
#else
#define TANGRAM_NORMAL vec3(0., 0., 1.)
#endif
#ifdef TANGRAM_EXTRUDE_LINES
attribute vec2 a_extrude;attribute vec2 a_offset;attribute vec2 a_scaling;uniform float u_v_scale_adjust;
#endif
varying vec4 v_position;varying vec4 v_local_space_position;varying vec3 v_normal;varying vec4 v_color;varying vec4 v_world_position;
#if defined(TANGRAM_TEXTURE_COORDS) || defined(TANGRAM_EXTRUDE_LINES)
attribute vec2 a_texcoord;varying vec2 v_texcoord;
#endif
#ifdef TANGRAM_MODEL_POSITION_BASE_ZOOM_VARYING
varying vec4 v_modelpos_base_zoom;
#endif
#if defined(TANGRAM_LIGHTING_VERTEX)
varying vec4 v_lighting;
#endif
#define UNPACK_SCALING(x) (x / 1024.)
#pragma tangram: camera
#pragma tangram: material
#pragma tangram: lighting
#pragma tangram: raster
#pragma tangram: global
void main(){
#pragma tangram: setup
#ifdef TANGRAM_TEXTURE_COORDS
v_texcoord=a_texcoord;
#ifdef TANGRAM_EXTRUDE_LINES
v_texcoord.y*=u_v_scale_adjust;
#endif
#endif
#ifdef TANGRAM_MODEL_POSITION_BASE_ZOOM_VARYING
v_modelpos_base_zoom=modelPositionBaseZoom();
#endif
vec4 position=vec4(a_position.xy,a_position.z/TANGRAM_HEIGHT_SCALE,1.);
#ifdef TANGRAM_EXTRUDE_LINES
vec2 extrude=a_extrude.xy;vec2 offset=a_offset.xy;float dz=clamp(u_map_position.z-u_tile_origin.z,0.,4.);dz+=step(1.,dz)*(1.-dz)+mix(0.,2.,clamp((dz-2.)/2.,0.,1.));float mdz=(dz-0.5)*2.;extrude-=extrude*UNPACK_SCALING(a_scaling.x)*mdz;float dwdz=UNPACK_SCALING(a_scaling.y);float sdwdz=sign(step(0.,dwdz)-0.5);offset-=offset*abs(dwdz)*((1.-step(0.,sdwdz))-(dz*-sdwdz));float ssz=exp2(-dz-(u_tile_origin.z-u_tile_origin.w));extrude*=ssz;offset*=ssz;
#ifdef TANGRAM_BLOCK_WIDTH
float width=1.;
#pragma tangram: width
extrude*=width;
#endif
position.xy+=extrude+offset;
#endif
v_world_position=wrapWorldPosition(u_model*position);v_local_space_position=position;position=u_modelView*position;
#pragma tangram: position
v_position=position;v_normal=normalize(u_normalMatrix*TANGRAM_NORMAL);v_color=a_color;
#if defined(TANGRAM_LIGHTING_VERTEX)
vec3 normal=v_normal;
#pragma tangram: normal
v_lighting=calculateLighting(position.xyz-u_eye,normal,vec4(1.));
#endif
cameraProjection(position);applyLayerOrder(a_position.w+u_tile_proxy_depth+1.,position);
#if defined(SNAP_TO_PIXEL_GRID)
snapToPixelGrid(position);
#endif
gl_Position=position;}`,shaderSrc_polygonsFragment=`uniform vec2 u_resolution;uniform vec3 u_map_position;uniform vec4 u_tile_origin;uniform float u_meters_per_pixel;uniform float u_device_pixel_ratio;uniform mat3 u_normalMatrix;uniform mat3 u_inverseNormalMatrix;varying vec4 v_position;varying vec4 v_local_space_position;varying vec3 v_normal;varying vec4 v_color;varying vec4 v_world_position;
#ifdef TANGRAM_EXTRUDE_LINES
uniform bool u_has_line_texture;uniform sampler2D u_texture;uniform float u_texture_ratio;uniform vec4 u_dash_background_color;
#endif
#define TANGRAM_NORMAL v_normal
#if defined(TANGRAM_TEXTURE_COORDS) || defined(TANGRAM_EXTRUDE_LINES)
varying vec2 v_texcoord;
#endif
#ifdef TANGRAM_MODEL_POSITION_BASE_ZOOM_VARYING
varying vec4 v_modelpos_base_zoom;
#endif
#if defined(TANGRAM_LIGHTING_VERTEX)
varying vec4 v_lighting;
#endif
#pragma tangram: camera
#pragma tangram: material
#pragma tangram: lighting
#pragma tangram: raster
#pragma tangram: global
#pragma tangram: utils
void main(void){
#pragma tangram: setup
vec4 color=v_color;vec3 normal=TANGRAM_NORMAL;
#ifdef TANGRAM_CROP_BY_TILE
if(isLocalSpacePixelOutsideTile(v_local_space_position,TANGRAM_TILE_SCALE.x)){discard;}
#endif
#ifdef TANGRAM_RASTER_TEXTURE_COLOR
color*=sampleRaster();
#endif
#ifdef TANGRAM_EXTRUDE_LINES
if(u_has_line_texture){vec2 _line_st=vec2(v_texcoord.x,fract(v_texcoord.y/u_texture_ratio));vec4 _line_color=texture2D(u_texture,_line_st);if(_line_color.a<TANGRAM_ALPHA_TEST){
#if !defined(TANGRAM_BLEND_OVERLAY) && !defined(TANGRAM_BLEND_INLAY)
if(u_dash_background_color.a==0.){discard;}color=u_dash_background_color;
#else
color=vec4(u_dash_background_color.rgb,color.a*step(TANGRAM_EPSILON,u_dash_background_color.a));
#endif
}else{color*=_line_color;}}
#endif
#ifdef TANGRAM_RASTER_TEXTURE_NORMAL
normal=normalize(sampleRaster().rgb*2.-1.);
#endif
#if defined(TANGRAM_LIGHTING_FRAGMENT) && defined(TANGRAM_MATERIAL_NORMAL_TEXTURE)
calculateNormal(normal);
#endif
#if !defined(TANGRAM_LIGHTING_VERTEX)
#pragma tangram: normal
#endif
#pragma tangram: color
#if defined(TANGRAM_LIGHTING_FRAGMENT)
color=calculateLighting(v_position.xyz-u_eye,normal,color);
#elif defined(TANGRAM_LIGHTING_VERTEX)
color*=v_lighting;
#endif
#pragma tangram: filter
gl_FragColor=color;}`,Polygons=Object.create(Style);Object.assign(Polygons,{name:"polygons",built_in:!0,vertex_shader_src:shaderSrc_polygonsVertex,fragment_shader_src:shaderSrc_polygonsFragment,selection:!0,init:function(){Style.init.apply(this,arguments),this.defines.TANGRAM_NORMAL_ATTRIBUTE=!0,this.defines.TANGRAM_LAYER_ORDER=!0,this.defines.TANGRAM_CROP_BY_TILE=this.crop_by_tile,this.texcoords&&(this.defines.TANGRAM_TEXTURE_COORDS=!0)},vertexLayoutForMeshVariant:function(e){if(!this.vertex_layout){var n=[{name:"a_position",size:4,type:gl$1.SHORT,normalized:!1},{name:"a_normal",size:3,type:gl$1.BYTE,normalized:!0},{name:"a_color",size:4,type:gl$1.UNSIGNED_BYTE,normalized:!0},{name:"a_selection_color",size:4,type:gl$1.UNSIGNED_BYTE,normalized:!0}];this.texcoords&&n.push({name:"a_texcoord",size:2,type:gl$1.UNSIGNED_SHORT,normalized:!0}),this.vertex_layout=new VertexLayout(n)}return this.vertex_layout},_parseFeature:function(e,n,r){var o=this.feature_style;return o.color=this.parseColor(n.color,r),o.color?(o.z=n.z&&StyleParser.evalCachedDistanceProperty(n.z,r)||StyleParser.defaults.z,o.z*=Geo$1.height_scale,o.extrude=StyleParser.evalProperty(n.extrude,r),o.extrude&&(o.extrude===!0?(o.height=e.properties.height!==void 0?e.properties.height:StyleParser.defaults.height,o.min_height=e.properties.min_height!==void 0?e.properties.min_height:StyleParser.defaults.min_height):typeof o.extrude=="number"?(o.height=o.extrude,o.min_height=0):Array.isArray(o.extrude)&&(o.min_height=o.extrude[0],o.height=o.extrude[1]),o.height*=Geo$1.height_scale,o.min_height*=Geo$1.height_scale),o.tile_edges=n.tile_edges,o):null},_preprocess:function(e){return e.color=StyleParser.createColorPropertyCache(e.color),e.z=StyleParser.createPropertyCache(e.z,StyleParser.parseUnits),e},makeVertexTemplate:function(e){var n=0;return this.vertex_template[n++]=0,this.vertex_template[n++]=0,this.vertex_template[n++]=e.z||0,this.vertex_template[n++]=this.scaleOrder(e.order),this.vertex_template[n++]=0,this.vertex_template[n++]=0,this.vertex_template[n++]=127,this.vertex_template[n++]=255*e.color[0],this.vertex_template[n++]=255*e.color[1],this.vertex_template[n++]=255*e.color[2],this.vertex_template[n++]=255*e.color[3],this.selection&&(this.vertex_template[n++]=255*e.selection_color[0],this.vertex_template[n++]=255*e.selection_color[1],this.vertex_template[n++]=255*e.selection_color[2],this.vertex_template[n++]=255*e.selection_color[3]),this.texcoords&&(this.vertex_template[n++]=0,this.vertex_template[n++]=0),this.vertex_template},buildPolygons:function(e,n,r,o){var s=this.makeVertexTemplate(n),l={texcoord_index:this.vertex_layout.index.a_texcoord,texcoord_normalize:65535,remove_tile_edges:!n.tile_edges,tile_edge_tolerance:Geo$1.tile_scale*o.tile.pad_scale*4,winding:o.winding};return n.extrude&&n.height?buildExtrudedPolygons(e,n.z,n.height,n.min_height,r.vertex_data,s,this.vertex_layout.index.a_normal,127,l):buildPolygons(e,r.vertex_data,s,l)}});var zero_vec2=[0,0],CAP_TYPE$1={butt:0,square:1,round:2},JOIN_TYPE$1={miter:0,bevel:1,round:2},DEFAULT={MITER_LIMIT:3,TEXCOORD_NORMALIZE:1,TEXCOORD_RATIO:1,MIN_FAN_WIDTH:5},v_scale_adjust=Geo$1.tile_scale,zero_v=[0,0],one_v=[1,0],mid_v=[.5,0];function buildPolylines$1(e,n,r,o,s){var l=s.closed_polygon,d=s.remove_tile_edges,h=s.tile_edge_tolerance,p=s.texcoord_index;s.texcoord_scale;var g,y=s.texcoord_width,v=s.texcoord_ratio,w=s.texcoord_normalize,k=s.extrude_index,F=s.offset_index,q=s.join,_r=s.cap,ga=s.miter_limit,La=s.offset,jc=s.crop_by_tile,_l=_r?CAP_TYPE$1[_r]:CAP_TYPE$1.butt,e1=q?JOIN_TYPE$1[q]:JOIN_TYPE$1.miter;if(e1===JOIN_TYPE$1.miter)var n1=(ga=ga||DEFAULT.MITER_LIMIT)*ga;p&&(w=w||DEFAULT.TEXCOORD_NORMALIZE,g=1/(y*(v=v||DEFAULT.TEXCOORD_RATIO)*v_scale_adjust));for(var d1={closed_polygon:l,remove_tile_edges:d,tile_edge_tolerance:h,miter_len_sq:n1,join_type:e1,cap_type:_l,vertex_data:r,vertex_template:o,half_width:n/2,extrude_index:k,offset_index:F,v_scale:g,texcoord_index:p,texcoord_width:y,texcoord_normalize:w,offset:La,geom_count:0,crop_by_tile:jc},c1=0;c1<e.length;c1++)buildPolyline$1(e[c1],d1);if(d1.extra_lines)for(var h1=0;h1<d1.extra_lines.length;h1++)buildPolyline$1(d1.extra_lines[h1],d1);return d1.geom_count}function buildPolyline$1(e,n){if(!(e.length<2)){var r,o,s,l,d=n.join_type,h=n.cap_type,p=n.closed_polygon,g=n.remove_tile_edges,y=n.tile_edge_tolerance,v=n.v_scale,w=n.miter_len_sq,k=n.crop_by_tile,F=n.texcoord_index!=null,q=0;if(p&&d===JOIN_TYPE$1.miter){var _r=getTileBoundaryIndex(e);if(_r!==0){var ga=permuteLine(e,_r);return n.extra_lines=n.extra_lines||[],void n.extra_lines.push(ga)}}var La=0,jc=e.length-1,_l=0;for(r=e[La],o=e[La+1];Vector$1.isEqual(r,o);)if(r=o,o=e[++La+1],_l++,La===e.length-1)return;for(;Vector$1.isEqual(e[jc],e[jc-1]);)if(_l++,--jc===0)return;if(!(e.length<2+_l))if(l=Vector$1.normalize(Vector$1.perp(r,o)),g&&outsideTile(r,o,y)){var e1=getNextNonBoundarySegment(e,La,y);e1&&(n.extra_lines=n.extra_lines||[],n.extra_lines.push(e1))}else{p?startPolygon(r,s=Vector$1.normalize(Vector$1.perp(e[jc-1],r)),l,d,n):(!k&&isCoordOutsideTile(r)||(addCap(r,q,l,h,!0,n),F&&h!==CAP_TYPE$1.butt&&(q+=.5*v*n.texcoord_width)),addVertex$1(r,l,l,1,q,n,1),addVertex$1(r,l,l,0,q,n,-1)),F&&(q+=v*Vector$1.length(Vector$1.sub(o,r)));for(var n1=La+1;n1<jc;n1++){var d1=n1,c1=n1+1;if(r=e[d1],o=e[c1],!Vector$1.isEqual(r,o)){if(g&&outsideTile(r,o,y)){addVertex$1(r,l,l,1,q,n,1),addVertex$1(r,l,l,0,q,n,-1),indexPairs(1,n);var h1=getNextNonBoundarySegment(e,d1+1,y);return void(h1&&(n.extra_lines=n.extra_lines||[],n.extra_lines.push(h1)))}s=l,l=Vector$1.normalize(Vector$1.perp(r,o)),d===JOIN_TYPE$1.miter?addMiter(q,r,s,l,w,!1,n):addJoin(d,q,r,s,l,!1,n),F&&(q+=v*Vector$1.length(Vector$1.sub(o,r)))}}r=o,s=l,p?endPolygon(r,s,l=Vector$1.normalize(Vector$1.perp(r,e[1])),d,q,n):(addVertex$1(r,s,l,1,q,n,1),addVertex$1(r,s,l,0,q,n,-1),indexPairs(1,n),!k&&isCoordOutsideTile(r)||addCap(r,q,s,h,!1,n))}}}function getTileBoundaryIndex(e){if(isCoordOutsideTile(e[0]))return 0;for(var n=0;n<e.length;n++)if(isCoordOutsideTile(e[e.length-1-n]))return e.length-1-n;return 0}function getNextNonBoundarySegment(e,n,r){for(var o=n;e[o+1]&&outsideTile(e[o],e[o+1],r);)o++;return e.length-o>=2&&e.slice(o)}function startPolygon(e,n,r,o,s){o===void 0||isCoordOutsideTile(e)&&!s.crop_by_tile?(addVertex$1(e,r,r,1,0,s,1),addVertex$1(e,r,r,0,0,s,-1)):o===JOIN_TYPE$1.miter?addMiter(0,e,n,r,s.miter_len_sq,!0,s):addJoin(o,0,e,n,r,!0,s)}function endPolygon(e,n,r,o,s,l){if(isCoordOutsideTile(e)&&!l.crop_by_tile)addVertex$1(e,n,n,1,s,l,1),addVertex$1(e,n,n,0,s,l,-1),indexPairs(1,l);else{var d=createMiterVec(n,r);o===JOIN_TYPE$1.miter&&Vector$1.lengthSq(d)>l.miter_len_sq&&(o=JOIN_TYPE$1.bevel),o===JOIN_TYPE$1.miter?(addVertex$1(e,d,n,1,s,l,1),addVertex$1(e,d,n,0,s,l,-1),indexPairs(1,l)):(addVertex$1(e,n,n,1,s,l,1),addVertex$1(e,n,n,0,s,l,-1),indexPairs(1,l))}}function createMiterVec(e,n){var r=Vector$1.normalize(Vector$1.add(e,n)),o=2/(1+Math.abs(Vector$1.dot(e,r)));return Vector$1.mult(r,o*o)}function addMiter(e,n,r,o,s,l,d){var h=createMiterVec(r,o);Vector$1.lengthSq(h)>s?addJoin(JOIN_TYPE$1.bevel,e,n,r,o,l,d):(addVertex$1(n,h,h,1,e,d,1),addVertex$1(n,h,h,0,e,d,-1),l||indexPairs(1,d))}function addJoin(e,n,r,o,s,l,d){var h=createMiterVec(o,s),p=s[0]*o[1]-s[1]*o[0]>0;d.texcoord_index!=null&&(zero_v[1]=n,one_v[1]=n),p?(addVertex$1(r,h,h,1,n,d,1),addVertex$1(r,o,h,0,n,d,-1),l||indexPairs(1,d),addFan(r,Vector$1.neg(o),h,Vector$1.neg(s),h,zero_v,one_v,zero_v,!1,e===JOIN_TYPE$1.bevel,d),addVertex$1(r,h,h,1,n,d,1),addVertex$1(r,s,h,0,n,d,-1)):(addVertex$1(r,o,h,1,n,d,1),addVertex$1(r,h,h,0,n,d,-1),l||indexPairs(1,d),addFan(r,o,Vector$1.neg(h),s,h,one_v,zero_v,one_v,!1,e===JOIN_TYPE$1.bevel,d),addVertex$1(r,s,h,1,n,d,1),addVertex$1(r,h,h,0,n,d,-1))}function indexPairs(e,n){for(var r=n.vertex_data.vertex_elements,o=n.vertex_data.vertex_count-2*e-2,s=0;s<e;s++)r.push(o+2*s+2),r.push(o+2*s+1),r.push(o+2*s+0),r.push(o+2*s+2),r.push(o+2*s+3),r.push(o+2*s+1),n.geom_count+=2}function addVertex$1(e,n,r,o,s,l,d){var h=l.vertex_template,p=l.vertex_data;h[0]=e[0],h[1]=e[1];var g=l.half_width*d;h[l.extrude_index+0]=n[0]*g,h[l.extrude_index+1]=n[1]*g,l.offset&&(h[l.offset_index+0]=r[0]*l.offset,h[l.offset_index+1]=r[1]*l.offset),l.texcoord_index!=null&&(h[l.texcoord_index+0]=o*l.texcoord_normalize,h[l.texcoord_index+1]=s*l.texcoord_normalize),p.addVertex(h)}var uvCurr=[0,0];function addFan(e,n,r,o,s,l,d,h,p,g,y){for(var v=n[0]*o[1]-n[1]*o[0],w=Vector$1.dot(n,o),k=Math.atan2(v,w);k>=Math.PI;)k-=2*Math.PI;if(g)F=1;else{var F=trianglesPerArc(k,y.half_width);if(F<1)return}var q=y.vertex_data.vertex_count,_r=y.vertex_data.vertex_elements;addVertex$1(e,r,s,d[0],d[1],y,1),addVertex$1(e,n,s,l[0],l[1],y,1);var ga=n,La=y.texcoord_index!=null;if(La)if(p)var jc=Vector$1.sub(l,d);else{uvCurr=Vector$1.copy(l);var _l=Vector$1.div(Vector$1.sub(h,l),F)}var e1,n1,d1=k/F,c1=k<0?-1:1;v>0?(e1=2,n1=1):(e1=1,n1=2);for(var h1=0;h1<F;h1++)h1===0&&k<0&&(ga=Vector$1.neg(ga)),ga=Vector$1.rot(ga,d1),La&&(p?(jc=Vector$1.rot(jc,d1),uvCurr[0]=jc[0]+d[0],uvCurr[1]=jc[1]*y.texcoord_width*y.v_scale+d[1]):uvCurr=Vector$1.add(uvCurr,_l)),addVertex$1(e,ga,s,uvCurr[0],uvCurr[1],y,c1),_r.push(q+h1+e1),_r.push(q),_r.push(q+h1+n1)}function addCap(e,n,r,o,s,l){var d=Vector$1.neg(r),h=l.texcoord_index!=null;switch(o){case CAP_TYPE$1.square:var p;s?(p=[r[1],-r[0]],addVertex$1(e,Vector$1.add(r,p),r,1,n,l,1),addVertex$1(e,Vector$1.add(d,p),r,0,n,l,1),h&&(n+=.5*l.texcoord_width*l.v_scale),addVertex$1(e,r,r,1,n,l,1),addVertex$1(e,d,r,0,n,l,1)):(p=[-r[1],r[0]],addVertex$1(e,r,r,1,n,l,1),addVertex$1(e,d,r,0,n,l,1),h&&(n+=.5*l.texcoord_width*l.v_scale),addVertex$1(e,Vector$1.add(r,p),r,1,n,l,1),addVertex$1(e,Vector$1.add(d,p),r,0,n,l,1)),indexPairs(1,l);break;case CAP_TYPE$1.round:var g,y,v=zero_v,w=one_v,k=mid_v;s?(g=r,y=d,h&&(n+=.5*l.texcoord_width*l.v_scale,v=one_v,w=zero_v,k=mid_v)):(g=d,y=r),h&&(zero_v[1]=n,one_v[1]=n,mid_v[1]=n),addFan(e,g,zero_vec2,y,r,v,k,w,!0,!1,l);break;case CAP_TYPE$1.butt:return}}function trianglesPerArc(e,n){e<0&&(e=-e);var r=n>2*DEFAULT.MIN_FAN_WIDTH?Math.log2(n/DEFAULT.MIN_FAN_WIDTH):1;return Math.ceil(e/Math.PI*r)}function permuteLine(e,n){for(var r=[],o=0;o<e.length;o++){var s=(o+n)%e.length;s!==0&&r.push(e[s])}return r.push(r[0]),r}var default_dash_color=[255,255,255,255],default_background_color=[0,0,0,0];function renderDashArray(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.dash_color||default_dash_color,o=n.background_color||default_background_color,s=e,l=n.scale||1;s.length%2==1&&Array.prototype.push.apply(s,s);for(var d=!0,h=[],p=0;p<s.length;p++){for(var g=Math.floor(s[p]*l),y=0;y<g;y++)Array.prototype.push.apply(h,d?r:o);d=!d}return{pixels:h=new Uint8Array(h),length:h.length/4}}var Lines=Object.create(Style);Lines.vertex_layouts=[[],[]],Lines.dash_textures={};var DASH_SCALE=20;function buildPolylines(e,n,r,o,s,l){for(var d={closed:l,vertex_data:r,vertex_template:o,half_width:n/2,vertex_layout_index:s,geom_count:0},h=0,p=e.length;h<p;h++)buildPolyline(e[h],d);return d.geom_count}function buildPolyline(e,n){if(!(e.length<2)){for(var r=[e[0]],o=0,s=[],l=[],d=1,h=e.length;d<h;d++)if(e[d][0]!==e[d-1][0]||e[d][1]!==e[d-1][1]){r.push(e[d]);var p=Vector$1.sub(e[d],e[d-1]),g=Vector$1.length(p);s.push(p),l.push([o,o+g]),o+=g}if(!(r.length<2)){var y=0,v=s[s.length-1],w=s[0],k=s[1],F=[0,0];r.length>2&&(n.closed&&(F[0]=Vector$1.signedAngleBetween(v,w)),F[1]=Vector$1.signedAngleBetween(w,k));var q=r[0],_r=l[0];n.closed?(addVertex(q,n,y++,_r,o,F,[v,w]),addVertex(q,n,y++,_r,o,F,[v,w])):(addVertex(q,n,y++,_r,o,F,[w,w]),addVertex(q,n,y++,_r,o,F,[w,w]));for(var ga=1,La=r.length-1;ga<La;ga++)q=r[ga],v=s[ga-1],w=s[ga],k=s[ga+1],addVertex(q,n,y++,_r=l[ga-1],o,F,[v,w]),addVertex(q,n,y++,_r,o,F,[v,w]),triangulate(n),_r=l[ga],F[0]=F[1],F[1]=ga!==La-1?Vector$1.signedAngleBetween(w,k):n.closed?Vector$1.signedAngleBetween(w,s[0]):0,addVertex(q,n,y++,_r,o,F,[v,w]),addVertex(q,n,y++,_r,o,F,[v,w]);q=r[r.length-1],_r=l[l.length-1],w=s[s.length-1],n.closed?(addVertex(q,n,y++,_r,o,F,[w,s[0]]),addVertex(q,n,y++,_r,o,F,[w,s[0]])):(addVertex(q,n,y++,_r,o,F,[w,w]),addVertex(q,n,y++,_r,o,F,[w,w])),triangulate(n)}}}function triangulate(e){var n=e.vertex_data.vertex_elements,r=e.vertex_data.vertex_count-4;n.push(r+2),n.push(r+1),n.push(r+0),n.push(r+2),n.push(r+3),n.push(r+1),e.geom_count+=2}Object.assign(Lines,{name:"lines",built_in:!0,vertex_shader_src:shaderSrc_polygonsVertex,fragment_shader_src:shaderSrc_polygonsFragment,selection:!0,init:function(){Style.init.apply(this,arguments),this.styles=this.styles||{},this.defines.TANGRAM_LAYER_ORDER=!0,this.defines.TANGRAM_EXTRUDE_LINES=!0,this.defines.TANGRAM_CROP_BY_TILE=this.crop_by_tile,this.defines.TANGRAM_TEXTURE_COORDS=!0,this.outline_feature_style={},this.inline_feature_style=this.feature_style},calcDistance:function(e,n){return e&&StyleParser.evalCachedDistanceProperty(e,n)||0},calcDistanceNextZoom:function(e,n){n.zoom++;var r=this.calcDistance(e,n);return n.zoom--,r},calcWidth:function(e,n,r){var o=this.calcDistance(e.width,r);if(!(o<0)){var s;if(s=e.next_width?this.calcDistanceNextZoom(e.next_width,r):o/2,o===0&&s===0||s<0)return!1;if(n.width_unscaled=o,n.next_width_unscaled=s,e.next_width){var l=.5*(o+(s*=2));n.width=l*r.units_per_meter_overzoom,n.width_scale=1-s/l}else n.width=o*r.units_per_meter_overzoom,n.width_scale=0;return e.texcoords&&(e.inline_texcoord_width?n.texcoord_width=e.inline_texcoord_width:n.texcoord_width=(n.width_unscaled||n.next_width_unscaled)*r.units_per_meter_overzoom/r.tile.overzoom2),!0}},calcOffset:function(e,n,r){if(e.offset_precalc)n.offset=e.offset_precalc,n.offset_scale=e.offset_scale_precalc;else if(e.offset){var o=this.calcDistance(e.offset,r);if(e.next_offset){var s=2*this.calcDistanceNextZoom(e.next_offset,r);Math.abs(o)>=Math.abs(s)?(n.offset=o*r.units_per_meter_overzoom,n.offset_scale=o!==0?1-s/o:0):(n.offset=s*r.units_per_meter_overzoom,n.offset_scale=s!==0?-1*(1-o/s):0)}else n.offset=o*r.units_per_meter_overzoom,n.offset_scale=0}else n.offset=0,n.offset_scale=0;StyleParser.evalProperty(e.offset_reverse,r)&&(n.offset*=-1)},_parseFeature:function(e,n,r){var o=this.feature_style;if(this.calcWidth(n,o,r)!==!1&&(this.calcOffset(n,o,r),o.color=this.parseColor(n.color,r),o.color)){if(o.variantKey=n.variantKey,o.z=n.z&&StyleParser.evalCachedDistanceProperty(n.z||0,r)||StyleParser.defaults.z,o.height=e.properties.height||StyleParser.defaults.height,o.extrude=StyleParser.evalProperty(n.extrude,r),o.extrude&&(typeof o.extrude=="number"?o.height=o.extrude:Array.isArray(o.extrude)&&(o.height=o.extrude[1])),o.extrude&&o.height&&(o.z+=o.height),o.z*=Geo$1.height_scale,o.height*=Geo$1.height_scale,o.cap=StyleParser.evalProperty(n.cap,r),o.join=StyleParser.evalProperty(n.join,r),o.miter_limit=StyleParser.evalProperty(n.miter_limit,r),o.tile_edges=n.tile_edges,o.outline=o.outline||{width:{},next_width:{},preprocessed:!0},n.outline&&n.outline.visible!==!1&&n.outline.color&&n.outline.width){var s=2*this.calcDistance(n.outline.width,r),l=2*this.calcDistanceNextZoom(n.outline.next_width,r);s===0&&l===0||s<0||l<0?(o.outline.width.value=null,o.outline.next_width.value=null,o.outline.color=null,o.outline.inline_texcoord_width=null,o.outline.texcoords=!1):(o.outline.width.value=s+o.width_unscaled,o.outline.next_width.value=l+o.next_width_unscaled,o.outline.inline_texcoord_width=o.texcoord_width,o.outline.offset_precalc=o.offset,o.outline.offset_scale_precalc=o.offset_scale,o.outline.color=n.outline.color,o.outline.cap=n.outline.cap,o.outline.join=n.outline.join,o.outline.miter_limit=n.outline.miter_limit,o.outline.texcoords=n.outline.texcoords,o.outline.style=n.outline.style,o.outline.variantKey=n.outline.variantKey,n.outline.order?o.outline.order=this.parseOrder(n.outline.order,r):o.outline.order=o.order,o.outline.order>o.order&&(o.outline.order=o.order),o.outline.order-=.5,o.outline.variant_order=0)}else o.outline.width.value=null,o.outline.next_width.value=null,o.outline.color=null,o.outline.inline_texcoord_width=null;return o}},_preprocess:function(e,n){var r=this.sources[n]?this.sources[n].config.uid:"";if(e.color=StyleParser.createColorPropertyCache(e.color),e.width=StyleParser.createPropertyCache(e.width,StyleParser.parseUnits),e.width&&e.width.type!==StyleParser.CACHE_TYPE.STATIC&&(e.next_width=StyleParser.createPropertyCache(e.width,StyleParser.parseUnits)),e.offset=e.offset&&StyleParser.createPropertyCache(e.offset,StyleParser.parseUnits),e.offset&&e.offset.type!==StyleParser.CACHE_TYPE.STATIC&&(e.next_offset=StyleParser.createPropertyCache(e.offset,StyleParser.parseUnits)),e.z=StyleParser.createPropertyCache(e.z,StyleParser.parseUnits),e.dash=e.dash!==void 0?e.dash:this.dash,e.dash_key=e.dash&&this.dashTextureKey(e.dash,r),e.dash_background_color=e.dash_background_color!==void 0?e.dash_background_color:this.dash_background_color,e.dash_background_color=e.dash_background_color&&StyleParser.parseColor(e.dash_background_color),e.texture_merged=e.dash_key||(e.texture!==void 0?e.texture:this.texture),e.texcoords=this.texcoords||e.texture_merged?1:0,this.addMeshVariantForDraw(this.base,e),e.outline){e.outline.style=e.outline.style||this.name,e.outline.color=StyleParser.createColorPropertyCache(e.outline.color),e.outline.width=StyleParser.createPropertyCache(e.outline.width,StyleParser.parseUnits),e.outline.next_width=StyleParser.createPropertyCache(e.outline.width,StyleParser.parseUnits),e.outline.cap=e.outline.cap||e.cap,e.outline.join=e.outline.join||e.join,e.outline.miter_limit=e.outline.miter_limit||e.miter_limit,e.outline.offset=e.offset;var o=this.styles[e.outline.style];o?(e.outline.dash=e.outline.dash!==void 0?e.outline.dash:o.dash,e.outline.texture=e.outline.texture!==void 0?e.outline.texture:o.texture,e.outline.dash!=null?(e.outline.dash_key=e.outline.dash&&this.dashTextureKey(e.outline.dash,r),e.outline.texture_merged=e.outline.dash_key):e.outline.dash===null||e.outline.texture!=null?(e.outline.dash_key=null,e.outline.texture_merged=e.outline.texture):(e.outline.dash=e.dash,e.outline.dash_key=e.outline.dash&&this.dashTextureKey(e.outline.dash,r),e.outline.texture_merged=e.outline.dash_key),e.outline.dash_background_color=e.outline.dash_background_color!==void 0?e.outline.dash_background_color:o.dash_background_color,e.outline.dash_background_color=e.outline.dash_background_color!==void 0?e.outline.dash_background_color:e.dash_background_color,e.outline.dash_background_color=e.outline.dash_background_color&&StyleParser.parseColor(e.outline.dash_background_color),e.outline.texcoords=o.texcoords||e.outline.texture_merged?1:0,this.addMeshVariantForDraw(this.base,e.outline)):(log({level:"warn",once:!0},"Layer '".concat(e.layers[e.layers.length-1],"': ")+"line 'outline' specifies non-existent draw style '".concat(e.outline.style,"' (or maybe the style is ")+"defined but is missing a 'base' or has another error), skipping outlines in layer"),e.outline=null)}return e},dashTextureKey:function(e,n){return"__dash_"+n+"_"+this.scene_id+"_"+JSON.stringify(e)},getDashTexture:function(e,n){var r=this.dashTextureKey(e,this.sources[n].config.uid);if(Lines.dash_textures[r]==null){Lines.dash_textures[r]=!0;var o=renderDashArray(e,{scale:DASH_SCALE});this.textureManager.create(this.gl,r,{data:o.pixels,height:o.length,width:1,filtering:"nearest"})}},endData:function(e){var n=this;return Style.endData.call(this,e).then(function(r){if(r){r.uniforms.u_has_line_texture=!1,r.uniforms.u_texture=n.textureManager.default,r.uniforms.u_v_scale_adjust=Geo$1.tile_scale;var o=[],s=function(){var d=r.meshes[l].variant;if(d.texture){var h=r.meshes[l].uniforms=r.meshes[l].uniforms||{};if(h.u_has_line_texture=!0,h.u_texture=d.texture,h.u_texture_ratio=1,d.dash&&(h.u_v_scale_adjust=Geo$1.tile_scale*DASH_SCALE,h.u_dash_background_color=d.dash_background_color||[0,0,0,0]),d.dash_key&&Lines.dash_textures[d.dash_key]==null&&(Lines.dash_textures[d.dash_key]=!0,WorkerBroker.postMessage(n.main_thread_target+".getDashTexture",d.dash,e.source)),n.textureManager.textures[d.texture]==null)o.push(n.textureManager.syncTexturesToWorker([d.texture]).then(function(g){var y=g[d.texture];y&&(h.u_texture_ratio=y.height/y.width)}));else{var p=n.textureManager.textures[d.texture];h.u_texture_ratio=p.height/p.width}}};for(var l in r.meshes)s();return e.mesh_data[n.name]=r,Promise.all(o).then(function(){return r})}return r})},computeVariantForDraw:function(e){var n=e.offset?1:0;return e.dash_key&&(n+=e.dash_key,e.dash_background_color&&(n+=e.dash_background_color)),e.texture_merged&&(n+=e.texture_merged),n=hashString(n+="/"+e.texcoords),e.variantKey=n,{key:n,order:e.variant_order,offset:e.offset?1:0,texcoords:e.texcoords,texture:e.texture_merged,dash:e.dash,dash_key:e.dash_key,dash_background_color:e.dash_background_color}},vertexLayoutForMeshVariant:function(e){if(Lines.vertex_layouts[e.key]==null){var n=[{name:"a_position",size:4,type:gl$1.SHORT,normalized:!1},{name:"a_extrude",size:2,type:gl$1.SHORT,normalized:!1},{name:"a_offset",size:2,type:gl$1.SHORT,normalized:!1,static:e.offset?null:[0,0]},{name:"a_scaling",size:2,type:gl$1.SHORT,normalized:!1},{name:"a_texcoord",size:2,type:gl$1.UNSIGNED_SHORT,normalized:!0,static:e.texcoords?null:[0,0]},{name:"a_color",size:4,type:gl$1.UNSIGNED_BYTE,normalized:!0},{name:"a_selection_color",size:4,type:gl$1.UNSIGNED_BYTE,normalized:!0}];Lines.vertex_layouts[e.key]=new VertexLayout(n)}return Lines.vertex_layouts[e.key]},makeVertexTemplate:function(e,n){var r=0;return this.vertex_template[r++]=0,this.vertex_template[r++]=0,this.vertex_template[r++]=e.z||0,this.vertex_template[r++]=this.scaleOrder(e.order),this.vertex_template[r++]=0,this.vertex_template[r++]=0,n.variant.offset&&(this.vertex_template[r++]=0,this.vertex_template[r++]=0),this.vertex_template[r++]=1024*e.width_scale,this.vertex_template[r++]=1024*e.offset_scale,n.variant.texcoords&&(this.vertex_template[r++]=0,this.vertex_template[r++]=0),this.vertex_template[r++]=255*e.color[0],this.vertex_template[r++]=255*e.color[1],this.vertex_template[r++]=255*e.color[2],this.vertex_template[r++]=255*e.color[3],this.selection&&(this.vertex_template[r++]=255*e.selection_color[0],this.vertex_template[r++]=255*e.selection_color[1],this.vertex_template[r++]=255*e.selection_color[2],this.vertex_template[r++]=255*e.selection_color[3]),this.vertex_template},buildLines:function(e,n,r,o,s){if(this.feature_style=this.outline_feature_style,n.outline&&n.outline.color!=null&&n.outline.width.value!=null){var l=this.styles[n.outline.style];l&&l.addFeature(o.feature,n.outline,o)}this.feature_style=this.inline_feature_style;var d=r.vertex_data,h=d.vertex_layout,p=this.makeVertexTemplate(n,r);return buildPolylines$1(e,n.width,d,p,{cap:n.cap,join:n.join,miter_limit:n.miter_limit,extrude_index:h.index.a_extrude,offset_index:h.index.a_offset,texcoord_index:h.index.a_texcoord,texcoord_width:n.texcoord_width,texcoord_normalize:65535,closed_polygon:s&&s.closed_polygon,remove_tile_edges:!n.tile_edges&&s&&s.remove_tile_edges,tile_edge_tolerance:Geo$1.tile_scale*o.tile.pad_scale*2,offset:n.offset,crop_by_tile:this.crop_by_tile})},buildPolygons:function(e,n,r,o){for(var s=0,l=0;l<e.length;l++)s+=this.buildLines(e[l],n,r,o,{closed_polygon:!0,remove_tile_edges:!this.crop_by_tile});return s}});var TEX_COORDS=[[1,1],[1,-1],[-1,1],[-1,-1]];function addVertex(e,n,r,o,s,l,d){var h=n.vertex_template,p=n.vertex_data;if(setAttribute(n,"a_position",e),setAttribute(n,"a_width",n.half_width),n.vertex_layout_index.a_barycentric){var g=[0,0,0];g[r%3]=1,setAttribute(n,"a_barycentric",g)}setAttribute(n,"a_tangents",d[0].concat(d[1])),setAttribute(n,"a_segment",o),setAttribute(n,"a_texcoord",TEX_COORDS[r%4]),setAttribute(n,"a_length",s),setAttribute(n,"a_closed",n.closed?1:0),setAttribute(n,"a_angles",l),p.addVertex(h)}function setAttribute(e,n,r){var o=r.length,s=e.vertex_template,l=e.vertex_layout_index[n],d=0;if(o)for(;d!==o;)s[l+d]=r[d],d++;else s[l+d]=r}function buildPatternBuffer(e,n){for(var r=e.reduce(function(k,F){return k+F}),o=0,s=[],l=0,d=e.length;l<=d;l+=2){var h=Math.max(1e-4,e[l%d]),p=Math.max(1e-4,e[(l+1)%d]);s.push(o,o+h),o+=h+p}for(var g=new Uint8Array(4*n),y=0,v=function(){var k,F,q,_r=r*w/(n-1),ga=minIdx(s.map(function(La){return Math.abs(La-_r)}));ga%2==0?(k=_r<=s[ga]?1:0,F=s[ga],q=s[ga+1]):(k=_r>s[ga]?2:0,F=s[ga-1],q=s[ga]),g[y++]=s[ga],g[y++]=k,g[y++]=F,g[y++]=q},w=0;w<n;w++)v();return g}function minIdx(e){for(var n=e[0],r=0,o=1,s=e.length;o<s;o++)e[o]<n&&(r=o,n=e[o]);return r}var vertex_shader_src=`uniform vec2 u_resolution;uniform vec4 u_tile_origin;uniform float u_tile_proxy_depth;uniform float u_meters_per_pixel;uniform float u_device_pixel_ratio;uniform sampler2D u_uniforms;uniform mat4 u_model;uniform mat4 u_modelView;uniform mat3 u_normalMatrix;uniform mat3 u_inverseNormalMatrix;uniform vec3 u_map_position;uniform float u_antialias;uniform vec2 u_linecaps;uniform float u_linejoin;uniform float u_miter_limit;uniform float u_dash_index;uniform vec2 u_dash_caps;uniform float u_dash_phase;uniform float u_dash_period;attribute vec4 a_position;attribute vec4 a_color;attribute float a_width;
#ifdef TANGRAM_DEBUG_TRIANGLES
attribute vec3 a_barycentric;
#endif
attribute vec2 a_normal;attribute float a_length;attribute vec2 a_segment;attribute vec2 a_texcoord;attribute vec2 a_angles;attribute vec4 a_tangents;attribute float a_closed;varying vec4 v_position;varying vec4 v_local_space_position;varying vec3 v_normal;varying vec4 v_color;varying vec4 v_world_position;
#ifdef TANGRAM_DEBUG_TRIANGLES
varying vec3 v_barycentric;
#endif
varying vec2 v_segment;varying vec2 v_angles;varying vec2 v_texcoord;varying vec2 v_distances;varying vec2 v_miter;varying float v_length;varying float v_linewidth_and_closed;varying float v_joinIndicator;
#define TANGRAM_NORMAL vec3(0., 0., 1.)
#ifdef TANGRAM_MODEL_POSITION_BASE_ZOOM_VARYING
varying vec4 v_modelpos_base_zoom;
#endif
#if defined(TANGRAM_LIGHTING_VERTEX)
varying vec4 v_lighting;
#endif
#ifndef TANGRAM_HEIGHT_SCALE
float TANGRAM_HEIGHT_SCALE=16.0;
#endif
#define UNPACK_SCALING(x) (x / 1024.)
#pragma tangram: camera
#pragma tangram: material
#pragma tangram: lighting
#pragma tangram: global
const float PI=3.141592653589793;const float THETA=15.0*PI/180.0;float cross(in vec2 v1,in vec2 v2){return v1.x*v2.y-v1.y*v2.x;}float signed_distance(in vec2 v1,in vec2 v2,in vec2 v3){return cross(v2-v1,v1-v3)/length(v2-v1);}void rotate(in vec2 v,in float angle,out vec2 result){float cosine=cos(angle);float sine=sin(angle);result=vec2(cosine*v.x-sine*v.y,sine*v.x+cosine*v.y);}void main(){
#pragma tangram: setup
#ifdef TANGRAM_MODEL_POSITION_BASE_ZOOM_VARYING
v_modelpos_base_zoom=modelPositionBaseZoom();
#endif
float linewidth=a_width*2.0;v_angles=a_angles;v_segment=a_segment;v_color=a_color;v_length=a_length;v_texcoord=a_texcoord;
#ifdef TANGRAM_DEBUG_TRIANGLES
v_barycentric=a_barycentric;
#endif
v_color.a=min(linewidth,v_color.a);linewidth=max(linewidth,1.0);linewidth/=exp2(u_map_position.z-u_tile_origin.w);v_linewidth_and_closed=linewidth*(a_closed>0.0 ?-1.0 : 1.0);if(v_color.a<=0.0){gl_Position=vec4(0.0,0.0,0.0,1.0);return;}float width=ceil(1.25*u_antialias+linewidth)/2.0;vec2 t1=normalize(a_tangents.xy);vec2 t2=normalize(a_tangents.zw);float u=a_texcoord.x;u*=-1.0;float v=a_texcoord.y;vec4 position=vec4(a_position.xy,a_position.z/TANGRAM_HEIGHT_SCALE,1.0);if(t1!=t2){float angle=a_texcoord.x==1.0 ? a_angles.x : a_angles.y;vec2 t=normalize(t1+t2);vec2 o=vec2(+t.y,-t.x);float segmentLength=a_segment.y-a_segment.x;float magnitude=width/cos(angle/2.0);float sqMagnitude=magnitude*magnitude;float seg1SqMagnitude=dot(a_tangents.xy,a_tangents.xy);float seg2SqMagnitude=dot(a_tangents.zw,a_tangents.zw);if((abs(magnitude)>linewidth)&&(sqMagnitude>=min(seg1SqMagnitude,seg2SqMagnitude))){if(u==1.0){o=vec2(-t2.y,+t2.x);}else{o=vec2(-t1.y,+t1.x);}magnitude=width;angle=0.0;v_angles.x=0.0;v_angles.y=0.0;}if(u_dash_index>0.0){if((abs(angle)>THETA)){position.xy+=v*width*o/cos(angle/2.0);float s=sign(angle);if(angle<0.0){if(u==+1.0){u=v_segment.y+v*width*tan(angle/2.0);if(v==1.0){position.xy-=2.0*width*t1/sin(angle);u-=2.0*width/sin(angle);}}else{u=v_segment.x-v*width*tan(angle/2.0);if(v==1.0){position.xy+=2.0*width*t2/sin(angle);u+=2.0*width/sin(angle);}}}else{if(u==+1.0){u=v_segment.y+v*width*tan(angle/2.0);if(v==-1.0){position.xy+=2.0*width*t1/sin(angle);u+=2.0*width/sin(angle);}}else{u=v_segment.x-v*width*tan(angle/2.0);if(v==-1.0){position.xy-=2.0*width*t2/sin(angle);u-=2.0*width/sin(angle);}}}}else{position.xy+=v*width*o/cos(angle/2.0);if(u==+1.0){u=v_segment.y;}else{u=v_segment.x;}}}else{position.xy+=v*o*magnitude;if(u==+1.0){u=v_segment.y+v*width*tan(angle/2.0);}else{u=v_segment.x-v*width*tan(angle/2.0);}}v_joinIndicator=(segmentLength+v*width*tan(angle/2.0))/segmentLength;}else{v_joinIndicator=-1.0;vec2 o=vec2(+t1.y,-t1.x);position.xy+=v*width*o;if(u==-1.0){u=v_segment.x-width;position.xy-=width*t1;}else{u=v_segment.y+width;position.xy+=width*t2;}}vec2 t;vec2 curr=a_position.xy;if(a_texcoord.x>=0.0){vec2 next=curr+t2*(v_segment.y-v_segment.x);rotate(t1,+a_angles.x/2.0,t);v_miter.x=signed_distance(curr,curr+t,position.xy);rotate(t2,+a_angles.y/2.0,t);v_miter.y=signed_distance(next,next+t,position.xy);}else{vec2 prev=curr-t1*(v_segment.y-v_segment.x);rotate(t1,-a_angles.x/2.0,t);v_miter.x=signed_distance(prev,prev+t,position.xy);rotate(t2,-a_angles.y/2.0,t);v_miter.y=signed_distance(curr,curr+t,position.xy);}v_distances=vec2(u,v*width);v_world_position=wrapWorldPosition(u_model*position);v_local_space_position=position;position=u_modelView*position;
#pragma tangram: position
v_position=position;v_normal=normalize(u_normalMatrix*TANGRAM_NORMAL);
#if defined(TANGRAM_LIGHTING_VERTEX)
vec3 normal=v_normal;
#pragma tangram: normal
v_lighting=calculateLighting(position.xyz-u_eye,normal,vec4(1.));
#endif
cameraProjection(position);
#ifdef TANGRAM_LAYER_ORDER
applyLayerOrder(a_position.w+u_tile_proxy_depth+1.,position);
#endif
gl_Position=position;}`,fragment_shader_src=`uniform vec2 u_resolution;uniform vec4 u_tile_origin;uniform float u_meters_per_pixel;uniform float u_device_pixel_ratio;uniform mat3 u_normalMatrix;uniform mat3 u_inverseNormalMatrix;uniform sampler2D u_dash_atlas;uniform float u_antialias;uniform vec2 u_linecaps;uniform float u_linejoin;uniform float u_miter_limit;uniform float u_dash_phase;uniform float u_dash_period;uniform float u_dash_index;uniform vec2 u_dash_caps;varying vec4 v_position;varying vec4 v_local_space_position;varying vec3 v_normal;varying vec4 v_color;varying vec4 v_world_position;
#ifdef TANGRAM_DEBUG_TRIANGLES
varying vec3 v_barycentric;
#endif
varying vec2 v_segment;varying vec2 v_angles;varying vec2 v_texcoord;varying vec2 v_distances;varying vec2 v_miter;varying float v_length;varying float v_linewidth_and_closed;varying float v_joinIndicator;
#define TANGRAM_NORMAL v_normal
#ifdef TANGRAM_MODEL_POSITION_BASE_ZOOM_VARYING
varying vec4 v_modelpos_base_zoom;
#endif
#if defined(TANGRAM_LIGHTING_VERTEX)
varying vec4 v_lighting;
#endif
#pragma tangram: camera
#pragma tangram: material
#pragma tangram: lighting
#pragma tangram: global
#pragma tangram: utils
const float PI=3.141592653589793;const float HALF_PI=PI/2.0;const float THETA=15.0*PI/180.0;/***Compute distance to cap.*@param{int}type The Type of the cap(see CAP_TYPE in pattern_lines)*@param{float}dx The distance of the pixel from the beginning of the line(not straight distance,but along the legs)*@param{float}dy The distance of the pixel from the midline(see v_distances in vertex shader,aka \xB11*half_line_width)*@param{float}aa_radius The distance from the mid-line from where antialiasing starts.*For example for a linewidth 10px width and 2px filter radius it is 10px/2-2px=3px.*@return{float}distance*/float cap(int type,float dx,float dy,float aa_radius){float dist=0.0;dx=abs(dx);dy=abs(dy);if(type==1)dist=sqrt(dx*dx+dy*dy);else if(type==3)dist=(dx+abs(dy));else if(type==2)dist=max(abs(dy),(aa_radius+dx-abs(dy)));else if(type==4)dist=max(dx,dy);else if(type==5)dist=max(dx+aa_radius,dy);return dist;}/***Compute distance to join.*@param{int}type The type of the join(see JOIN_TYPE in pattern_lines)*@param{vec2}segment Interpolated a_segment attribute from the vertex shader*@param{vec2}texcoord Pair of u/v coordinates to identify the 4 different extruded points of the segment.*@param{vec2}distances 2 component vector where:*x is the distance of the pixel from the beginning of the line(along the legs)*y is the  distance of the pixel from the midline(see v_distances in vertex shader,\xB11*half_line_width)*@param{vec2}miter Miter point coordiante*@param{float}miter_limit The miter limit*@param{float}linewidth The width of the line*@return{float}computed distance*/float join(in int type,in vec2 segment,in vec2 texcoord,in vec2 distances,in vec2 miter,in float miter_limit,in float linewidth){float dx=distances.x;float result=abs(distances.y);if((dx<segment.x)||(dx>segment.y)){if(type==1){float s=dx<segment.x ? segment.x : segment.y;result=max(result,length(distances-vec2(s,0.0)));}else{float m=abs(texcoord.x>=0.0 ? miter.x : miter.y);if(type==2){result=max(result,m);}else if(type==0){result=max(result,m-miter_limit*linewidth/2.0);}}}return result;}void main(void){
#pragma tangram: setup
vec4 color=v_color;vec3 normal=TANGRAM_NORMAL;
#ifdef TANGRAM_CROP_BY_TILE
if(isLocalSpacePixelOutsideTile(v_local_space_position,TANGRAM_TILE_SCALE.x)){discard;}
#endif
#if defined(TANGRAM_LIGHTING_FRAGMENT) && defined(TANGRAM_MATERIAL_NORMAL_TEXTURE)
calculateNormal(normal);
#endif
#if !defined(TANGRAM_LIGHTING_VERTEX)
#pragma tangram: normal
#endif
#pragma tangram: color
#if defined(TANGRAM_LIGHTING_FRAGMENT)
color=calculateLighting(v_position.xyz-u_eye,normal,color);
#elif defined(TANGRAM_LIGHTING_VERTEX)
color*=v_lighting;
#endif
#pragma tangram: filter
if(v_color.a<=0.0){discard;}bool solid=(u_dash_index==0.0);bool closed=v_linewidth_and_closed<0.0;float dx=v_distances.x;float dy=v_distances.y;float linewidth=abs(v_linewidth_and_closed);float aa_radius=linewidth/2.0-u_antialias;float dist=0.0;vec2 linecaps=u_linecaps;vec2 dash_caps=u_dash_caps;float line_start=0.0;float line_stop=v_length;if(solid){dist=abs(dy);bool potentialCap=!closed&&v_joinIndicator<0.0;if(potentialCap&&dx<line_start){dist=cap(int(u_linecaps.x),abs(dx),abs(dy),aa_radius);}else if(potentialCap&&dx>line_stop){dist=cap(int(u_linecaps.y),abs(dx)-line_stop,abs(dy),aa_radius);}else{dist=join(int(u_linejoin),v_segment,v_texcoord,v_distances,v_miter,u_miter_limit,linewidth);}}else{float segment_start=v_segment.x;float segment_stop=v_segment.y;float segment_center=(segment_start+segment_stop)/2.0;float freq=u_dash_period*linewidth;float dash_phase=u_dash_phase-1e-5;float u=mod(dx+dash_phase*linewidth,freq);vec4 tex=texture2D(u_dash_atlas,vec2(u/freq,u_dash_index));float dash_center=float(tex.x)*255.0*linewidth;float dash_type=floor(float(tex.y)*255.0+0.5);float _start=float(tex.z)*255.0*linewidth;float _stop=float(tex.a)*255.0*linewidth;float dash_start=dx-u+_start;float dash_stop=dx-u+_stop;if((dash_stop<segment_start)&&(dash_caps.x!=5.0)){float u=mod(segment_start+dash_phase*linewidth,freq);vec4 tex=texture2D(u_dash_atlas,vec2(u/freq,u_dash_index));dash_center=float(tex.x)*255.0*linewidth;float _start=float(tex.z)*255.0*linewidth;float _stop=float(tex.a)*255.0*linewidth;dash_start=segment_start-u+_start;dash_stop=segment_start-u+_stop;}else if((dash_start>segment_stop)&&(dash_caps.y!=5.0)){float u=mod(segment_stop+dash_phase*linewidth,freq);vec4 tex=texture2D(u_dash_atlas,vec2(u/freq,u_dash_index));dash_center=float(tex.x)*255.0*linewidth;float _start=float(tex.z)*255.0*linewidth;float _stop=float(tex.a)*255.0*linewidth;dash_start=segment_stop-u+_start;dash_stop=segment_stop-u+_stop;}bool discontinuous=((dx<segment_center)&&abs(v_angles.x)>THETA)||((dx>=segment_center)&&abs(v_angles.y)>THETA);float d_join=join(int(u_linejoin),v_segment,v_texcoord,v_distances,v_miter,u_miter_limit,linewidth);if(closed){line_start+=linewidth/2.0;line_stop-=linewidth/2.0;}if(dash_stop<=line_start){discard;}if(dash_start>=line_stop){discard;}if(discontinuous){if((dash_start>segment_stop)){discard;}if((dash_stop<segment_start)){discard;}if(dash_caps.x==1.0){if((u>_stop)&&(dash_stop>segment_stop)&&(abs(v_angles.y)<HALF_PI)){discard;}}if(dash_caps.y==1.0){if((u<_start)&&(dash_start<segment_start)&&(abs(v_angles.x)<HALF_PI)){discard;}}if((dash_caps.x!=1.0)&&(dash_caps.x!=5.0)){if((dash_start<segment_start)&&(abs(v_angles.x)<HALF_PI)){float a=v_angles.x/2.0;float cos_a=cos(a);float sin_a=sin(a);float x=(segment_start-dx)*cos_a-dy*sin_a;float y=(segment_start-dx)*sin_a+dy*cos_a;if(x>0.0){discard;}dash_caps.x=4.0;}}if((dash_caps.y!=1.0)&&(dash_caps.y!=5.0)){if((dash_stop>segment_stop)&&(abs(v_angles.y)<HALF_PI)){float a=v_angles.y/2.0;float cos_a=cos(a);float sin_a=sin(a);float x=(dx-segment_stop)*cos_a-dy*sin_a;float y=(dx-segment_stop)*sin_a+dy*cos_a;if(x>0.0){discard;}dash_caps.y=4.0;}}}if((dx<line_start)&&(dash_start<=line_start)&&(dash_stop>line_start)){dist=cap(int(linecaps.x),dx-line_start,dy,aa_radius);}else if((dx>line_stop)&&(dash_stop>line_stop)&&(dash_start<line_stop)){dist=cap(int(linecaps.y),dx-line_stop,dy,aa_radius);}else if(dash_type==1.0){dist=cap(int(dash_caps.x),abs(dash_center-u),dy,aa_radius);if((dx>line_start)&&(dx<line_stop)){dist=max(dist,d_join);}}else if(dash_type==0.0){dist=abs(dy);}else if(dash_type==2.0){dist=cap(int(dash_caps.y),abs(u-dash_center),dy,aa_radius);if((dx>line_start)&&(dx<line_stop)){dist=max(dist,d_join);}}if((dx>line_start)&&(dx<line_stop)){if((dx<=segment_start)&&(dash_start<=segment_start)&&(dash_stop>=segment_start)){dist=d_join;float angle=HALF_PI+v_angles.x;float f=abs((segment_start-dx)*cos(angle)-dy*sin(angle));dist=max(f,dist);}else if((dx>segment_stop)&&(dash_start<=segment_stop)&&(dash_stop>=segment_stop)){dist=d_join;float angle=HALF_PI+v_angles.y;float f=abs((dx-segment_stop)*cos(angle)-dy*sin(angle));dist=max(f,dist);}else if(dx<(segment_start-linewidth/2.)){discard;}else if(dx>(segment_stop+linewidth/2.)){discard;}}else if(dx<(segment_start-linewidth/2.)){discard;}else if(dx>(segment_stop+linewidth/2.)){discard;}}dist=dist-aa_radius;if(dist>=0.0){if(u_antialias==0.0){discard;}else{color=vec4(color.rgb,exp(-dist*dist)*color.a);}}
#ifdef TANGRAM_DEBUG_TRIANGLES
if(any(lessThan(v_barycentric,vec3(0.0085)))){color=vec4(0.0,1.0,0.0,1.0);}
#endif
gl_FragColor=color;}`,PatternLines=Object.create(Style),CAP_TYPE={round:1,"arrow-tail":2,"arrow-head":3,square:4,butt:5},JOIN_TYPE={miter:0,round:1,bevel:2},PATTERN_MAX_WIDTH=1024,DEFAULT_LINE_CAP=CAP_TYPE.round,DEFAULT_JOIN_TYPE=JOIN_TYPE.miter,DEFAULT_DASH_PATTERN=[0,0],VARIANT_UNIQUE_PROP_NAMES="antialias join linecaps miter_limit dash_index dash dash_caps dash_phase".split(" ");function getHashForStyle(e){for(var n=[],r=0,o=VARIANT_UNIQUE_PROP_NAMES.length;r<o;r++){var s=e[VARIANT_UNIQUE_PROP_NAMES[r]];Array.isArray(s)?n.push(s.join("_")):typeof s=="boolean"?n.push(s?1:0):s&&n.push(s.toString())}return n.join("/")}Object.assign(PatternLines,{name:"pattern-lines",built_in:!0,vertex_shader_src,fragment_shader_src,selection:!0,init:function(){Style.init.apply(this,arguments),this.defines.TANGRAM_LAYER_ORDER=!0,this.defines.TANGRAM_CROP_BY_TILE=this.crop_by_tile,this.defines.TANGRAM_DEBUG_TRIANGLES=!1,this.defines.TANGRAM_DEBUG_NO_TEXTURE_FLOAT_SUPPORT=!1,this.styles=this.styles||{},PatternLines.vertex_layouts=[]},calcDistance:function(e,n){return e&&StyleParser.evalCachedDistanceProperty(e,n)||0},calcDash:function(e,n){var r=StyleParser.evalProperty(e.dash,n),o=0;return r&&((r=Array.isArray(r)&&r.length?r:DEFAULT_DASH_PATTERN).length%2==1&&(r=r.concat(r)),o=r.reduce(function(s,l){return s+l}),o=+o||0),{dash:r,dash_period:o}},calcWidth:function(e,n,r){var o=this.calcDistance(e.width,r);return!(o<0)&&(n.width=o*r.units_per_meter_overzoom,!0)},getCapType:function(e,n,r){var o=StyleParser.evalProperty(e,n);return CAP_TYPE[o]!==void 0?CAP_TYPE[o]:r},_parseFeature:function(e,n,r){if(this.calcWidth(n,this.feature_style,r)!==!1){var o=this.parseColor(n.color,r);if(o&&o[3]!==0){var s=this.getCapType(n.cap,r,DEFAULT_LINE_CAP),l=StyleParser.evalProperty(n.join,r),d=+StyleParser.evalProperty(n.miter_limit,r),h=this.calcDash(n,r),p=h.dash,g=h.dash_period,y=Object.assign({color:o,antialias:n.antialias,linecaps:[this.getCapType(n.tail_cap,r,s),this.getCapType(n.head_cap,r,s)],join:JOIN_TYPE[l]!==void 0?JOIN_TYPE[l]:DEFAULT_JOIN_TYPE,miter_limit:d>=0?d:3,dash_index:g===0?0:1,dash:p,dash_caps:[this.getCapType(n.tail_cap,r,s),this.getCapType(n.head_cap,r,s)],dash_phase:+StyleParser.evalProperty(n.dash_phase,r)||0,dash_period:g},this.feature_style);return y.z=n.z&&StyleParser.evalCachedDistanceProperty(n.z||0,r)||StyleParser.defaults.z,y.z*=Geo$1.height_scale,y.extrude=StyleParser.evalProperty(n.extrude,r),y.extrude&&(y.extrude===!0?(y.height=e.properties.height!==void 0?e.properties.height:StyleParser.defaults.height,y.min_height=e.properties.min_height!==void 0?e.properties.min_height:StyleParser.defaults.min_height):typeof y.extrude=="number"?(y.height=y.extrude,y.min_height=0):Array.isArray(y.extrude)&&(y.min_height=y.extrude[0],y.height=y.extrude[1]),y.height*=Geo$1.height_scale,y.min_height*=Geo$1.height_scale),this.addMeshVariantForDraw(this.base,y),y}}},_preprocess:function(e,n){e.color=StyleParser.createColorPropertyCache(e.color),e.width=StyleParser.createPropertyCache(e.width,StyleParser.parseUnits),e.width&&e.width.type!==StyleParser.CACHE_TYPE.STATIC&&(e.next_width=StyleParser.createPropertyCache(e.width,StyleParser.parseUnits)),e.z=StyleParser.createPropertyCache(e.z,StyleParser.parseUnits);var r=+e.antialias;return e.antialias=isNaN(r)?0:r,e},buildRasterTextures:function(e,n){var r=[];for(var o in n.meshes){var s=this.getMeshVariantTypeForDraw({variantKey:o}),l=s.uniforms,d=s.pattern;if(l.u_dash_index){var h="__dash_"+d.join("_")+"_"+e.key+"_"+e.id;r.push({name:h,data:buildPatternBuffer(d,PATTERN_MAX_WIDTH)}),l.u_dash_atlas=h,n.meshes[o].textures=[h]}n.meshes[o].uniforms=l}return n.uniforms=n.uniforms||{},r.length?WorkerBroker.postMessage(this.main_thread_target+".loadTextures",r).then(function(p){return n}):Promise.resolve(n)},loadTextures:function(e){for(var n=[],r=0;r<e.length;r++){var o=e[r],s=this.textureManager.textures[o.name];s||(s=this.textureManager.create(this.gl,o.name,{filtering:"nearest",repeat:!0,width:PATTERN_MAX_WIDTH,height:1,data:o.data})),n.push(s.loading)}return Promise.all(n).then(function(l){return l.map(function(d){return d.retain(),d.name})})},computeVariantForDraw:function(e){var n=getHashForStyle(e);return e.variantKey=n,{key:n,order:e.variant_order,uniforms:{u_antialias:e.antialias,u_linecaps:e.linecaps,u_linejoin:e.join,u_miter_limit:e.miter_limit,u_dash_index:e.dash_index,u_dash_caps:e.dash_caps,u_dash_phase:e.dash_phase,u_dash_period:e.dash_period},pattern:e.dash}},vertexLayoutForMeshVariant:function(e){if(PatternLines.vertex_layouts[e.key]==null){var n=[{name:"a_position",size:4,type:gl$1.SHORT,normalized:!1},{name:"a_color",size:4,type:gl$1.UNSIGNED_BYTE,normalized:!0},{name:"a_width",size:1,type:gl$1.FLOAT,normalized:!1},{name:"a_tangents",size:4,type:gl$1.FLOAT,normalized:!1},{name:"a_segment",size:2,type:gl$1.FLOAT,normalized:!1},{name:"a_angles",size:2,type:gl$1.FLOAT,normalized:!1},{name:"a_texcoord",size:2,type:gl$1.FLOAT,normalized:!0},{name:"a_length",size:1,type:gl$1.FLOAT,normalized:!1},{name:"a_closed",size:1,type:gl$1.FLOAT,normalized:!1},{name:"a_selection_color",size:4,type:gl$1.UNSIGNED_BYTE,normalized:!0}];this.defines.TANGRAM_DEBUG_TRIANGLES&&n.push({name:"a_barycentric",size:3,type:gl$1.SHORT,normalized:!1}),PatternLines.vertex_layouts[e.key]=new VertexLayout(n)}return PatternLines.vertex_layouts[e.key]},makeVertexTemplate:function(e,n){var r=0;return this.vertex_template[r++]=0,this.vertex_template[r++]=0,this.vertex_template[r++]=e.z+e.height||0,this.vertex_template[r++]=this.scaleOrder(e.order),this.vertex_template[r++]=255*e.color[0],this.vertex_template[r++]=255*e.color[1],this.vertex_template[r++]=255*e.color[2],this.vertex_template[r++]=255*e.color[3],this.vertex_template[r++]=0,this.vertex_template[r++]=0,this.vertex_template[r++]=0,this.vertex_template[r++]=0,this.vertex_template[r++]=0,this.vertex_template[r++]=0,this.vertex_template[r++]=0,this.vertex_template[r++]=0,this.vertex_template[r++]=0,this.vertex_template[r++]=0,this.vertex_template[r++]=0,this.vertex_template[r++]=0,this.vertex_template[r++]=0,this.selection&&(this.vertex_template[r++]=255*e.selection_color[0],this.vertex_template[r++]=255*e.selection_color[1],this.vertex_template[r++]=255*e.selection_color[2],this.vertex_template[r++]=255*e.selection_color[3]),this.defines.TANGRAM_DEBUG_TRIANGLES&&(this.vertex_template[r++]=0,this.vertex_template[r++]=0,this.vertex_template[r++]=0),this.vertex_template},buildLines:function(e,n,r,o){var s=arguments.length>4&&arguments[4]!==void 0&&arguments[4],l=r.vertex_data,d=l.vertex_layout,h=this.makeVertexTemplate(n,r);return buildPolylines(e,n.width,l,h,d.index,s)},buildPolygons:function(e,n,r,o){for(var s=0,l=0,d=e.length;l<d;l++)s+=this.buildLines(e[l],n,r,o,!0);return s}});var STICK_WIDTH=1;function buildQuadsForPoints(e,n,r,o){var s=o.quad,l=o.quad_normalize,d=o.offset,h=o.offsets,p=o.offsets_alt,g=o.pre_angles,y=o.pre_angles_alt,v=o.angle,w=o.angles,k=o.angles_alt,F=o.is_flat,q=o.elevate_by_altitude,_r=o.build_stick_points,ga=o.color,La=o.stick_color,jc=o.curve,_l=o.texcoord_scale,e1=o.texcoord_normalize,n1=o.pre_angles_normalize,d1=o.angles_normalize,c1=o.offsets_normalize;l=l||1;var h1,N1=s[0]/2*l,k1=s[1]/2*l,R1=[[-N1,-k1],[N1,-k1],[N1,k1],[-N1,k1]],U1=n.vertex_elements,x1=n.vertex_count,m2=n.vertex_layout.index,w1=m2.a_texcoord,B1=m2.a_position,A1=m2.a_shape,H1=m2.a_offset,L2=m2.a_offsets,o0=m2.a_offsets_alt,$2=m2.a_pre_angles,b1=m2.a_pre_angles_alt,X2=m2.a_angles,e3=m2.a_angles_alt,d3=m2.a_is_flat,p0=m2.a_is_stick,$0=m2.a_color;if(w1){e1=e1||1;var M2=_slicedToArray(_l||default_uvs,4),J0=M2[0],W3=M2[1],M6=M2[2],E6=M2[3];h1=[[J0,W3],[M6,W3],[M6,E6],[J0,E6]]}for(var h4=0,X6=e.length,_h=0;_h<X6;_h++){var O3=e[_h];if(_r){for(var a3=STICK_WIDTH/2*l,t3=1*l,E3=[[-a3,0],[+a3,0],[+a3,t3],[-a3,t3]],p4=0;p4<4;p4++)w1&&(r[w1+0]=h1[p4][0]*e1,r[w1+1]=h1[p4][1]*e1),r[B1+0]=O3[0],r[B1+1]=O3[1],q&&(r[B1+2]=MathUtils$1.clamp(O3[2],0,32767)),r[A1+0]=E3[p4][0],r[A1+1]=E3[p4][1],r[A1+2]=0,r[$0+0]=La[0],r[$0+1]=La[1],r[$0+2]=La[2],r[$0+3]=La[3],r[p0+0]=255,n.addVertex(r);U1.push(x1+0),U1.push(x1+1),U1.push(x1+2),U1.push(x1+2),U1.push(x1+3),U1.push(x1+0),x1+=4,h4+=2}for(var n3=0;n3<4;n3++)w1&&(r[w1+0]=h1[n3][0]*e1,r[w1+1]=h1[n3][1]*e1),r[B1+0]=O3[0],r[B1+1]=O3[1],q&&(r[B1+2]=MathUtils$1.clamp(O3[2],0,32767)),r[A1+0]=R1[n3][0],r[A1+1]=R1[n3][1],r[A1+2]=v,r[$0+0]=ga[0],r[$0+1]=ga[1],r[$0+2]=ga[2],r[$0+3]=ga[3],r[H1+0]=d[0],r[H1+1]=d[1],r[d3+0]=F?255:0,_r&&(r[p0+0]=0),jc&&(r[$2+0]=n1*g[0],r[$2+1]=n1*g[1],r[$2+2]=n1*g[2],r[$2+3]=n1*g[3],r[X2+0]=d1*w[0],r[X2+1]=d1*w[1],r[X2+2]=d1*w[2],r[X2+3]=d1*w[3],r[L2+0]=c1*h[0],r[L2+1]=c1*h[1],r[L2+2]=c1*h[2],r[L2+3]=c1*h[3],p&&(r[o0+0]=c1*p[0],r[o0+1]=c1*p[1],r[o0+2]=c1*p[2],r[o0+3]=c1*p[3],r[b1+0]=n1*y[0],r[b1+1]=n1*y[1],r[b1+2]=n1*y[2],r[b1+3]=n1*y[3],r[e3+0]=d1*k[0],r[e3+1]=d1*k[1],r[e3+2]=d1*k[2],r[e3+3]=d1*k[3])),n.addVertex(r);U1.push(x1+0),U1.push(x1+1),U1.push(x1+2),U1.push(x1+2),U1.push(x1+3),U1.push(x1+0),x1+=4,h4+=2}return h4}var id=0,Label={id_prefix:"",nextLabelId:function(){return"".concat(Label.id_prefix,"/").concat(id++)}};function textLayoutToJSON(e){return{priority:e.priority,collide:e.collide,repeat_distance:e.repeat_distance,repeat_group:e.repeat_group,buffer:e.buffer,italic:e.italic}}var lefts=["left","top-left","bottom-left"],rights=["right","top-right","bottom-right"],tops=["top","top-left","top-right"],bottoms=["bottom","bottom-left","bottom-right"],PointAnchor={computeOffset:function(e,n,r){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(!r||r==="center")return e;var s=[e[0],e[1]];return o=o||this.default_buffer,this.isLeftAnchor(r)?(s[0]-=n[0]/2,r==="left"&&(s[0]-=o[0])):this.isRightAnchor(r)&&(s[0]+=n[0]/2,r==="right"&&(s[0]+=o[1])),this.isTopAnchor(r)?(s[1]-=n[1]/2,r==="top"&&(s[1]-=o[2])):this.isBottomAnchor(r)&&(s[1]+=n[1]/2,r==="bottom"&&(s[1]+=o[3])),s},alignForAnchor:function(e){if(e&&e!=="center"){if(this.isLeftAnchor(e))return"right";if(this.isRightAnchor(e))return"left"}return"center"},isLeftAnchor:function(e){return lefts.indexOf(e)>-1},isRightAnchor:function(e){return rights.indexOf(e)>-1},isTopAnchor:function(e){return tops.indexOf(e)>-1},isBottomAnchor:function(e){return bottoms.indexOf(e)>-1},default_buffer:[2.5,2.5,1.5,.75],zero_buffer:[0,0,0,0]};function encircleLine(e,n,r,o,s){var l=[],d=r-e,h=o-n,p=MathUtils$1.getLineLength(e,n,r,o),g=2*s,y=p/g;if(y<=1)l.push(e+d/2,n+h/2,s);else{var v=g/p,w=d*v,k=h*v;(y=p/s/2)%1&&l.push(r-w/2,o-k/2,s),y|=0;for(var F=e+w/2,q=n+k/2;y--;)l.push(F,q,s),F+=w,q+=k}return l}var LabelPoint=function(){return _createClass(function e(n,r,o,s){_classCallCheck(this,e),this.id=Label.nextLabelId(),this.position=[n[0],n[1]],n[2]!==void 0&&this.position.push(n[2]),this.size=r,this.layout=s,this.anchor=Array.isArray(this.layout.anchor)?this.layout.anchor[0]:this.layout.anchor,this.placed=null,this.type="point",this.parent=this.layout.parent,this.offset=this.computeOffset(),this.align=this.layout.align||PointAnchor.alignForAnchor(this.anchor),this._is_flat=o},[{key:"toJSON",value:function(){return{id:this.id,type:this.type,is_flat:this._is_flat,position:this.position,size:this.size,offset:this.offset,align:this.align,sides:this.getSides(),breach:!this.inTileBounds(),layout:textLayoutToJSON(this.layout)}}},{key:"inTileBounds",value:function(){var e=this.getAABB(),n=e.left,r=e.top,o=e.right,s=e.bottom;return Utils$1.pointInTile([n,r])&&Utils$1.pointInTile([o,s])}},{key:"isFlat",value:function(){return this._is_flat}},{key:"setAnchor",value:function(e){this._circles=void 0,this._aabb=void 0,this.anchor=e,this.offset=this.computeOffset()}},{key:"computeOffset",value:function(){var e=[this.layout.offset[0],this.layout.offset[1]];if(this.parent){var n=this.parent;e=PointAnchor.computeOffset(e,n.size,n.anchor,PointAnchor.zero_buffer),e=PointAnchor.computeOffset(e,n.size,this.anchor,PointAnchor.zero_buffer),n.offset!==StyleParser.zeroPair&&(e===StyleParser.zeroPair?e=n.offset:(e[0]+=n.offset[0],e[1]+=n.offset[1]))}return PointAnchor.computeOffset(e,this.size,this.anchor)}},{key:"getBoundingCircles",value:function(){if(!this.angle)return[];if(!this._circles){var e=this.layout.units_per_pixel,n=this.size[0]/2*e,r=n*Math.cos(this.angle),o=n*Math.sin(this.angle),s=-r,l=-o,d=_slicedToArray(this.position,2),h=d[0],p=d[1];r+=h,o+=p*=-1,s+=h,l+=p;var g=this.size[1]/2*e;this._circles=encircleLine(r,o,s,l,g)}return this._circles}},{key:"getAABB",value:function(){if(!this._aabb){var e=this.layout.units_per_pixel,n=(this.size[0]/2+this.layout.buffer[0])*e,r=(this.size[1]/2+this.layout.buffer[1])*e,o=this.position[0]+this.offset[0]*e,s=this.position[1]-this.offset[1]*e;this._aabb={left:o-n,top:s+r,right:o+n,bottom:s-r}}return this._aabb}},{key:"getSides",value:function(){var e=this.getAABB(),n=e.left,r=e.top,o=e.right,s=(r+e.bottom)/2;return[n,s,o,s]}}])}();LabelPoint.PLACEMENT={VERTEX:0,MIDPOINT:1,SPACED:2,CENTROID:3};var PLACEMENT$1=LabelPoint.PLACEMENT,default_spacing=80;function placePointsOnLine(e,n,r,o){var s=[],l=o.placement,d=Math.max(n[0],n[1])*o.placement_min_length_ratio*o.units_per_pixel;switch(l){case PLACEMENT$1.SPACED:var h=getPositionsAndAngles(e,d,o);if(!h)return[];for(var p=h.positions,g=h.angles,y=0;y<p.length;y++){var v=p[y],w=g[y];if(o.tile_edges===!0||!isCoordOutsideTile(v)){var k=new LabelPoint(v,n,r,o);k.angle=w,s.push(k)}}break;case PLACEMENT$1.VERTEX:for(var F,q,_r,ga=0;ga<e.length-1;ga++)F=e[ga],q=e[ga+1],o.tile_edges!==!0&&isCoordOutsideTile(F)||((_r=new LabelPoint(F,n,r,o)).angle=getAngle(F,q,o.angle),s.push(_r));(_r=new LabelPoint(q,n,r,o)).angle=getAngle(F,q,o.angle),s.push(_r);break;case PLACEMENT$1.MIDPOINT:for(var La=0;La<e.length-1;La++){var jc=e[La],_l=e[La+1],e1=[.5*(jc[0]+_l[0]),.5*(jc[1]+_l[1])];if((o.tile_edges===!0||!isCoordOutsideTile(e1))&&(!d||norm(jc,_l)>d)){var n1=new LabelPoint(e1,n,r,o);n1.angle=getAngle(jc,_l,o.angle),s.push(n1)}}}return s}function getPositionsAndAngles(e,n,r){var o=r.units_per_pixel,s=(r.placement_spacing||default_spacing)*o,l=getLineLength(e);if(l<=n)return!1;for(var d=Math.max(Math.floor(l/s),1),h=[],p=[],g=.5*(l-(d-1)*s),y=0;y<d;y++){var v=interpolateLine(e,g,n,r),w=v.position,k=v.angle;w!=null&&k!=null&&(h.push(w),p.push(k)),g+=s}return{positions:h,angles:p}}function getAngle(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return r==="auto"?Math.atan2(n[0]-e[0],n[1]-e[1]):r}function getLineLength(e){for(var n=0,r=0;r<e.length-1;r++)n+=norm(e[r],e[r+1]);return n}function norm(e,n){return Math.sqrt(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2))}function interpolateLine(e,n,r,o){for(var s,l,d=0,h=0;h<e.length-1;h++){var p=e[h],g=e[h+1],y=norm(p,g);if(!(y<=r)&&(d+=y)>n){s=interpolateSegment(p,g,d-n),l=getAngle(p,g,o.angle);break}}return{position:s,angle:l}}function interpolateSegment(e,n,r){var o=r/norm(e,n);return[o*e[0]+(1-o)*n[0],o*e[1]+(1-o)*n[1]]}var TextSettings={key:function(e){return[e.style,e.weight,e.family,e.px_size,e.fill,e.stroke,e.stroke_width,e.transform,e.text_wrap,e.max_lines,e.supersample,e.background_color,e.outline_color,e.outline_width,e.padding,Utils$1.device_pixel_ratio].join("/")},defaults:{style:"normal",weight:null,size:"12px",px_size:12,family:"Helvetica",fill:"white",text_wrap:15,max_lines:5,align:"center",stroke:null,stroke_width:0,background_color:null,outline_color:null,outline_width:0,padding:[0,0,0,0]},compute:function(e,n,r){var o={};if(n.font=n.font||this.defaults,o.can_articulate=n.can_articulate,o.fill=n.font.fill&&Utils$1.toCSSColor(StyleParser.evalCachedColorProperty(n.font.fill,r))||this.defaults.fill,o.style=n.font.style||this.defaults.style,o.weight=n.font.weight||this.defaults.weight,n.font.family?(o.family=n.font.family,o.family!==this.defaults.family&&(o.family+=", "+this.defaults.family)):o.family=this.defaults.family,o.transform=n.font.transform,o.size=n.font.size||this.defaults.size,o.supersample=n.supersample_text?1.5:1,o.px_size=StyleParser.evalCachedProperty(n.font.px_size,r)*o.supersample,o.px_size!==0){n.font.stroke&&n.font.stroke.color&&(o.stroke=Utils$1.toCSSColor(StyleParser.evalCachedColorProperty(n.font.stroke.color,r)||this.defaults.stroke),o.stroke_width=StyleParser.evalCachedProperty(n.font.stroke.width,r)||this.defaults.stroke_width),o.font_css=this.fontCSS(o);var s=n.text_wrap;return s==null&&Geo$1.geometryType(e.geometry.type)!=="line"&&(s=!0),s===!0&&(s=this.defaults.text_wrap),o.text_wrap=s,o.max_lines=n.max_lines||this.defaults.max_lines,o.background_color=n.background&&n.background.color&&!n.can_articulate?Utils$1.toCSSColor(StyleParser.evalCachedColorProperty(n.background.color,r)):this.defaults.background_color,o.outline_color=n.outline&&n.outline.color&&!n.can_articulate?Utils$1.toCSSColor(StyleParser.evalCachedColorProperty(n.outline.color,r)):this.defaults.outline_color,o.outline_width=n.outline&&n.outline.width&&!n.can_articulate?StyleParser.evalCachedProperty(n.outline.width,r):this.defaults.outline_width,o.padding=n.padding&&!n.can_articulate?StyleParser.evalCachedProperty(n.padding,r):this.defaults.padding,o}},fontCSS:function(e){return[e.style,e.weight,e.px_size+"px",e.family].filter(function(n){return n}).join(" ")}},fontfaceobserver_standalone={exports:{}};fontfaceobserver_standalone.exports,function(e){(function(){function n(k,F){document.addEventListener?k.addEventListener("scroll",F,!1):k.attachEvent("scroll",F)}function r(k){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(k)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function o(k,F){k.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;left:-999px;white-space:nowrap;font:"+F+";"}function s(k){var F=k.a.offsetWidth,q=F+100;return k.f.style.width=q+"px",k.c.scrollLeft=q,k.b.scrollLeft=k.b.scrollWidth+100,k.g!==F&&(k.g=F,!0)}function l(k,F){function q(){var ga=_r;s(ga)&&ga.a.parentNode&&F(ga.g)}var _r=k;n(k.b,q),n(k.c,q),s(k)}function d(k,F){var q=F||{};this.family=k,this.style=q.style||"normal",this.weight=q.weight||"normal",this.stretch=q.stretch||"normal"}var h=null,p=null,g=null,y=null;function v(){if(g===null){var k=document.createElement("div");try{k.style.font="condensed 100px sans-serif"}catch{}g=k.style.font!==""}return g}function w(k,F){return[k.style,k.weight,v()?k.stretch:"","100px",F].join(" ")}d.prototype.load=function(k,F){var q=this,_r=k||"BESbswy",ga=0,La=F||3e3,jc=new Date().getTime();return new Promise(function(_l,e1){var n1;if(y===null&&(y=!!document.fonts),(n1=y)&&(p===null&&(p=/OS X.*Version\/10\..*Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor)),n1=!p),n1){n1=new Promise(function(c1,h1){(function N1(){new Date().getTime()-jc>=La?h1():document.fonts.load(w(q,'"'+q.family+'"'),_r).then(function(k1){1<=k1.length?c1():setTimeout(N1,25)},function(){h1()})})()});var d1=new Promise(function(c1,h1){ga=setTimeout(h1,La)});Promise.race([d1,n1]).then(function(){clearTimeout(ga),_l(q)},function(){e1(q)})}else(function(c1){document.body?c1():document.addEventListener?document.addEventListener("DOMContentLoaded",function h1(){document.removeEventListener("DOMContentLoaded",h1),c1()}):document.attachEvent("onreadystatechange",function h1(){document.readyState!="interactive"&&document.readyState!="complete"||(document.detachEvent("onreadystatechange",h1),c1())})})(function(){function c1(){var H1;(H1=R1!=-1&&U1!=-1||R1!=-1&&x1!=-1||U1!=-1&&x1!=-1)&&((H1=R1!=U1&&R1!=x1&&U1!=x1)||(h===null&&(H1=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),h=!!H1&&(536>parseInt(H1[1],10)||parseInt(H1[1],10)===536&&11>=parseInt(H1[2],10))),H1=h&&(R1==m2&&U1==m2&&x1==m2||R1==w1&&U1==w1&&x1==w1||R1==B1&&U1==B1&&x1==B1)),H1=!H1),H1&&(A1.parentNode&&A1.parentNode.removeChild(A1),clearTimeout(ga),_l(q))}var h1=new r(_r),N1=new r(_r),k1=new r(_r),R1=-1,U1=-1,x1=-1,m2=-1,w1=-1,B1=-1,A1=document.createElement("div");A1.dir="ltr",o(h1,w(q,"sans-serif")),o(N1,w(q,"serif")),o(k1,w(q,"monospace")),A1.appendChild(h1.a),A1.appendChild(N1.a),A1.appendChild(k1.a),document.body.appendChild(A1),m2=h1.a.offsetWidth,w1=N1.a.offsetWidth,B1=k1.a.offsetWidth,function H1(){if(new Date().getTime()-jc>=La)A1.parentNode&&A1.parentNode.removeChild(A1),e1(q);else{var L2=document.hidden;L2!==!0&&L2!==void 0||(R1=h1.a.offsetWidth,U1=N1.a.offsetWidth,x1=k1.a.offsetWidth,c1()),ga=setTimeout(H1,50)}}(),l(h1,function(H1){R1=H1,c1()}),o(h1,w(q,'"'+q.family+'",sans-serif')),l(N1,function(H1){U1=H1,c1()}),o(N1,w(q,'"'+q.family+'",serif')),l(k1,function(H1){x1=H1,c1()}),o(k1,w(q,'"'+q.family+'",monospace'))})})},e.exports=d})()}(fontfaceobserver_standalone);var fontfaceobserver_standaloneExports=fontfaceobserver_standalone.exports,FontFaceObserver=getDefaultExportFromCjs(fontfaceobserver_standaloneExports),FontManager={fonts_loaded:Promise.resolve(),last_loaded:null,loadFonts:function(e){var n=this,r=JSON.stringify(e)===this.last_loaded;if(e&&!r){var o=[],s=function(d){Array.isArray(e[d])?e[d].forEach(function(h){return o.push(n.loadFontFace(d,h))}):o.push(n.loadFontFace(d,e[d]))};for(var l in e)s(l);this.last_loaded=JSON.stringify(e),this.fonts_loaded=Promise.all(o.filter(function(d){return d}))}return this.fonts_loaded},loadFontFace:function(e,n){if(n!=null&&(_typeof(n)==="object"||n==="external")){var r={family:e},o=Promise.resolve();_typeof(n)==="object"&&(Object.assign(r,n),typeof n.url=="string"&&(o=this.injectFontFace(r)));var s=new FontFaceObserver(e,r);return o.then(function(){return s.load()}).then(function(){log("debug","Font face '".concat(e,"' is available"),r)},function(){log("debug","Font face '".concat(e,"' is NOT available"),r)})}},injectFontFace:function(e){var n=this,r=e.family,o=e.url,s=e.weight,l=e.style;this.supports_native_font_loading===void 0&&(this.supports_native_font_loading=window.FontFace!==void 0);var d=Promise.resolve(o);return o.slice(0,5)==="blob:"&&(d=Utils$1.io(o,6e4,"arraybuffer").then(function(h){var p=new Uint8Array(h);if(n.supports_native_font_loading)return p;for(var g="",y=0;y<p.length;y++)g+=String.fromCharCode(p[y]);return"data:font/opentype;base64,"+btoa(g)})),d.then(function(h){if(n.supports_native_font_loading){var p;typeof h=="string"?p=new FontFace(r,"url(".concat(encodeURI(h),")"),{weight:s,style:l}):h instanceof Uint8Array&&(p=new FontFace(r,h,{weight:s,style:l})),document.fonts.add(p),log("trace","Adding FontFace to document.fonts:",p)}else{var g=`
                    @font-face {
                        font-family: '`.concat(r,`';
                        font-weight: `).concat(s||"normal",`;
                        font-style: `).concat(l||"normal",`;
                        src: url(`).concat(encodeURI(h),`);
                    }
                `),y=document.createElement("style");y.appendChild(document.createTextNode("")),document.head.appendChild(y),y.sheet.insertRule(g,0),log("trace","Injecting CSS font face:",g)}})}},CanvasText=function(){function e(){_classCallCheck(this,e),this.vertical_text_buffer=1,this.horizontal_text_buffer=1,this.layout=layout$1("binary-tree")}return _createClass(e,[{key:"createCanvas",value:function(n,r){var o=document.createElement("canvas");return n&&r&&(o.width=n,o.height=r),o.style.backgroundColor="transparent",o}},{key:"setFont",value:function(n,r){var o=r.font_css,s=r.fill,l=r.stroke,d=r.stroke_width,h=r.px_size,p=r.supersample;this.px_size=h;var g=Utils$1.device_pixel_ratio*p;l&&d>0&&(n.strokeStyle=l,n.lineWidth=d*g),n.fillStyle=s,n.textBaseline="bottom",n.font=o,n.miterLimit=2}},{key:"textSizes",value:function(n,r,o){var s=this;return FontManager.loadFonts().then(function(){return Task.add({type:"textSizes",run:s.processTextSizesTask.bind(s),texts:r,tile_id:n,cursor:{ctx:o,styles:Object.keys(r),texts:null,style_idx:null,text_idx:null}})})}},{key:"processTextSizesTask",value:function(n){var r=n.cursor,o=n.texts,s=r.ctx;for(r.style_idx=r.style_idx||0;r.style_idx<r.styles.length;){var l=r.styles[r.style_idx];r.text_idx==null&&(r.text_idx=0,r.texts=Object.keys(o[l]));for(var d=o[l],h=!0;r.text_idx<r.texts.length;){var p=r.texts[r.text_idx],g=d[p],y=g.text_settings;if(h&&(this.setFont(s,y),h=!1),g.size=this.textSize(s,l,p,y).size,y.can_articulate){var v=!1,w=!1;if(isTextRTL(p)&&(isTextNeutral(p)?v=!0:w=!0),g.isRTL=v,g.no_curving=w||isTextCurveBlacklisted(p),g.vertical_buffer=this.vertical_text_buffer+y.outline_width+(y.padding[0]+y.padding[2])/2,g.segment_sizes=[],!g.no_curving){var k=splitLabelText(p,v);g.segments=k;for(var F=0;F<k.length;F++)g.segment_sizes.push(this.textSize(s,l,k[F],y).size)}}if(r.text_idx++,!Task.shouldContinue(n))return!1}r.text_idx=null,r.style_idx++}return Task.finish(n,{texts:o}),!0}},{key:"textSize",value:function(n,r,o,s){var l=s.transform,d=s.text_wrap,h=s.max_lines,p=s.stroke_width,g=p===void 0?0:p,y=s.supersample,v=s.padding,w=s.outline_width,k=s.can_articulate;if(e.cache.text[r]=e.cache.text[r]||{},e.cache.text[r][o])return e.cache.stats.text_hits++,e.cache.text[r][o];e.cache.stats.text_misses++,e.cache.text_count++;var F=Utils$1.device_pixel_ratio*y,q=this.applyTextTransform(o,l),_r=F*(this.vertical_text_buffer+w+(v[0]+v[2])/2),ga=F*(this.horizontal_text_buffer+w+g+(v[1]+v[3])/2),La=2*F,jc=this.px_size+La,_l=MultiLine.parse(q,d,h,jc,n),e1=_l.height,n1=_l.width,d1=_l.lines,c1=[n1/F,e1/F];k||(c1[0]+=2*ga/F,c1[1]+=2*_r/F);var h1=[n1+2*ga,e1+2*_r],N1=[h1[0]/F,h1[1]/F];return e.cache.text[r][o]={lines:d1,size:{collision_size:c1,texture_size:h1,logical_size:N1,line_height:jc}},e.cache.text[r][o]}},{key:"drawTextMultiLine",value:function(n,r,o,s,l,d){var h=_slicedToArray(o,2),p=h[0],g=h[1],y=Utils$1.device_pixel_ratio*l.supersample,v=l.stroke_width||0,w=l.stroke;l.background_color&&(n.fillStyle=l.background_color,n.fillRect(p,g,s.texture_size[0],s.texture_size[1]));var k=l.outline_width*y,F=l.outline_color;k&&F&&(n.strokeStyle=F,n.lineWidth=k,n.strokeRect(p+k/2,g+k/2,s.texture_size[0]-k,s.texture_size[1]-k)),(l.background_color||k&&F)&&this.setFont(n,l);for(var q=s.line_height,_r=g,ga=0;ga<r.length;ga++){var La=r[ga];this.drawTextLine(n,La,[p,_r],s,l,d),_r+=q}if(debugSettings$1.draw_label_collision_boxes){n.save();var jc=y*(this.horizontal_text_buffer+l.outline_width+v+(l.padding[1]+l.padding[3])/2),_l=y*(this.vertical_text_buffer+l.outline_width+(l.padding[0]+l.padding[2])/2),e1=s.collision_size;n.strokeStyle="blue",n.lineWidth=2,n.strokeRect(p+jc,g+_l,y*e1[0],y*e1[1]),d==="curved"&&w&&v>0&&n.strokeRect(p+s.texture_size[0]+jc,g+_l,y*e1[0],y*e1[1]),n.restore()}if(debugSettings$1.draw_label_texture_boxes){n.save();var n1=s.texture_size;n.strokeStyle="green",n.lineWidth=2,n.strokeRect(p+2,g+2,n1[0]-4,n1[1]-4),d==="curved"&&w&&v>0&&n.strokeRect(p+2+s.texture_size[0],g+2,n1[0]-4,n1[1]-4),n.restore()}}},{key:"drawTextLine",value:function(n,r,o,s,l,d){var h=_slicedToArray(o,2),p=h[0],g=h[1],y=l.stroke,v=l.stroke_width,w=v===void 0?0:v,k=l.transform,F=l.align,q=l.supersample,_r=l.padding,ga=l.outline_width,La=Utils$1.device_pixel_ratio*q;F=F||"center";var jc,_l=s.texture_size,e1=s.line_height,n1=La*(this.vertical_text_buffer+ga),d1=La*(this.horizontal_text_buffer+ga+w),c1=this.applyTextTransform(r.text,k);F==="left"?jc=p+d1+_r[3]*La:F==="center"?jc=p+_l[0]/2-r.width/2-(_r[1]-_r[3])*La/2:F==="right"&&(jc=p+_l[0]-r.width-d1-_r[1]*La);var h1=g+n1+e1+_r[0]*La;if(y&&w>0){var N1=d==="curved"?_l[0]:0;n.strokeText(c1,jc+N1,h1)}n.fillText(c1,jc,h1)}},{key:"rasterize",value:function(n,r,o,s,l,d){return Task.removeForTile(o),Task.add({type:"rasterizeLabels",run:this.processRasterizeTask.bind(this),cancel:e.returnNoTextures,pause_factor:2,user_moving_view:!1,texts:n,textures:r,texture_prefix:s,gl:l,tile_id:o,texture_manager:d,cursor:{styles:Object.keys(n),texts:null,style_idx:0,text_idx:null,texture_idx:0,texture_names:[]}})}},{key:"processRasterizeTask",value:function(n){if(!Task.shouldContinue(n))return!1;for(var r,o=n.cursor,s=n.texts,l=n.textures;o.texture_idx<n.textures.length;){var d=!1;r=l[o.texture_idx];for(var h=this.createCanvas.apply(this,_toConsumableArray(r.texture_size)),p=h.getContext("2d");o.style_idx<o.styles.length;){var g=o.styles[o.style_idx];o.text_idx==null&&(o.text_idx=0,o.texts=Object.keys(s[g]));for(var y=s[g],v=!0;o.text_idx<o.texts.length;){var w=o.texts[o.text_idx],k=y[w],F=k.text_settings;if(v&&(this.setFont(p,F),v=!1),F.can_articulate){k.texcoords=k.texcoords||{};for(var q=0;q<k.type.length;q++){var _r=k.type[q];switch(_r){case"straight":if(k.textures[q]!==o.texture_idx)continue;var ga=k.isRTL?w.split().reverse().join():w,La=r.texcoord_cache[g][ga],jc=void 0;if(La.texcoord)jc=La.texcoord;else{var _l=La.texture_position,e1=this.textSize(p,g,ga,F),n1=e1.size,d1=e1.lines;this.drawTextMultiLine(p,d1,_l,n1,F,_r),jc=n.texture_manager.getTexcoordsForSprite(_l,n1.texture_size,r.texture_size),La.texcoord=jc}k.texcoords[_r]={texcoord:jc,texture_id:La.texture_id};break;case"curved":var c1=k.segments;k.texcoords.curved=[],k.texcoords_stroke=[];for(var h1=0;h1<c1.length;h1++)if(k.textures[q][h1]===o.texture_idx){var N1=c1[h1],k1=r.texcoord_cache[g][N1],R1=void 0,U1=void 0;if(k1.texcoord&&k1.texcoord_stroke)R1=k1.texcoord,U1=k1.texcoord_stroke,k.texcoords_stroke.push(U1);else{var x1=k1.texture_position,m2=this.textSize(p,g,N1,F),w1=m2.size,B1=m2.lines;this.drawTextMultiLine(p,B1,x1,w1,F,_r),R1=n.texture_manager.getTexcoordsForSprite(x1,w1.texture_size,r.texture_size),F.stroke&&F.stroke_width>0?U1=n.texture_manager.getTexcoordsForSprite([x1[0]+w1.texture_size[0],x1[1]],w1.texture_size,r.texture_size):(d=!0,U1=n.texture_manager.getTexcoordsForSprite([r.texture_size[0],r.texture_size[1]],[0,0],r.texture_size)),k1.texcoord=R1,k1.texcoord_stroke=U1,k.texcoords_stroke.push(U1)}k.texcoords.curved.push({texcoord:R1,texture_id:k1.texture_id})}}}}else{var A1=this.textSize(p,g,w,F).lines;for(var H1 in k.align)k.align[H1].texture_id===o.texture_idx&&(this.drawTextMultiLine(p,A1,k.align[H1].texture_position,k.size,{stroke:F.stroke,stroke_width:F.stroke_width,transform:F.transform,supersample:F.supersample,align:H1,background_color:F.background_color,outline_width:F.outline_width,outline_color:F.outline_color,padding:F.padding,fill:F.fill,font_css:F.font_css,px_size:F.px_size}),k.align[H1].texcoords=n.texture_manager.getTexcoordsForSprite(k.align[H1].texture_position,k.size.texture_size,r.texture_size))}o.text_idx++}o.text_idx=null,o.style_idx++}d===!0&&(p.fillStyle="rgba(0, 0, 0, 0)",p.fillRect(h.width-1,h.height-1,1,1));var L2=n.texture_prefix+o.texture_idx;n.texture_manager.create(n.gl,L2,{element:h,filtering:"linear",UNPACK_PREMULTIPLY_ALPHA_WEBGL:!0}),o.texture_names.push(L2),o.texture_idx++,o.style_idx=0,h.width=0,h.height=0}return Task.finish(n,o.texture_names),!0}},{key:"setTextureTextPositions",value:function(n){var r={texture_id:0,texcoord_cache:{}},o=[];for(var s in n){var l=n[s];for(var d in l){var h=l[d],p=h.text_settings,g=p.can_articulate,y=p.stroke,v=p.stroke_width;if(g){h.textures=[],r.texcoord_cache[s]=r.texcoord_cache[s]||{};for(var w=0;w<h.type.length;w++)switch(h.type[w]){case"straight":var k=h.isRTL?d.split().reverse().join():d;if(!r.texcoord_cache[s][k]){var F=h.size.texture_size;r.texcoord_cache[s][k]={},this.placeText(F[0],F[1],{can_articulate:g,style:s,word:k})}h.textures[w]=r.texture_id;break;case"curved":h.textures[w]=[];for(var q=0;q<h.segment_sizes.length;q++){var _r=h.segments[q];if(!r.texcoord_cache[s][_r]){var ga=h.segment_sizes[q].texture_size,La=ga[0];y&&v>0&&(La*=2),r.texcoord_cache[s][_r]={},this.placeText(La,ga[1],{can_articulate:g,style:s,word:_r})}h.textures[w].push(r.texture_id)}}}else{var jc=h.size.texture_size;this.placeText(jc[0],jc[1],{can_articulate:g,text_info:h})}}}var _l=this.layout.export(),e1=_l.items,n1=_l.width,d1=_l.height;r.texcoord_cache={};for(var c1=0,h1=e1.length;c1<h1;c1++){var N1=e1[c1],k1=N1.x,R1=N1.y;if(N1.meta.can_articulate){var m2=N1.meta,w1=m2.style,B1=m2.word;r.texcoord_cache[w1]=r.texcoord_cache[w1]||{},r.texcoord_cache[w1][B1]||(r.texcoord_cache[w1][B1]={texture_id:r.texture_id,texture_position:[k1,R1]})}else{var U1=N1.meta.text_info;for(var x1 in U1.align)U1.align[x1].texture_id=r.texture_id,U1.align[x1].texture_position=[k1,R1]}}return n1>0&&d1>0&&(o[r.texture_id]={texture_size:[n1,d1],texcoord_cache:r.texcoord_cache}),o}},{key:"placeText",value:function(n,r,o){this.layout.addItem({width:n+this.vertical_text_buffer,height:r+this.vertical_text_buffer,meta:o})}},{key:"applyTextTransform",value:function(n,r){return r==="capitalize"?n.replace(/\w\S*/g,function(o){return o.charAt(0).toUpperCase()+o.substr(1)}):r==="uppercase"?n.toUpperCase():r==="lowercase"?n.toLowerCase():n}}],[{key:"fontPixelSize",value:function(n){if(n!=null){var r=_slicedToArray((n=typeof n=="string"?n:String(n)).match(e.font_size_re)||[],3),o=r[1],s=r[2];return(s=s||"px")==="em"?o*=16:s==="pt"?o/=.75:s==="%"&&(o/=6.25),o=StyleParser.parsePositiveNumber(o),o*=Utils$1.device_pixel_ratio}}},{key:"pruneTextCache",value:function(){e.cache.text_count>e.cache.text_count_max&&(e.cache.text={},e.cache.text_count=0,log("debug","CanvasText: pruning text cache")),Object.keys(e.cache.segment).length>e.cache.segment_count_max&&(e.cache.segment={},log("debug","CanvasText: pruning segment cache"))}}])}();CanvasText.font_size_re=/((?:[0-9]*\.)?[0-9]+)\s*(px|pt|em|%)?/,CanvasText.cache={text:{},text_count:0,text_count_max:2e3,segment:{},segment_count_max:2e3,stats:{text_hits:0,text_misses:0,segment_hits:0,segment_misses:0}},CanvasText.EMPTY_TEXTURES_ARR=[],CanvasText.returnNoTextures=function(){return CanvasText.EMPTY_TEXTURES_ARR};var rtlDirCheck=new RegExp("[\u0591-\u07FF\u200F\u202B\u202E\uFB1D-\uFDFD\uFE70-\uFEFC]");function isTextRTL(e){return rtlDirCheck.test(e)}var neutral_chars="\0-/:-@[-`{-\xBF\xD7\xF7\u02B9-\u02FF\u2000-\u2BFF\u2010-\u2029\u202C\u202F-\u2BFF",neutralDirCheck=new RegExp("["+neutral_chars+"]+");function isTextNeutral(e){return neutralDirCheck.test(e)}var markRTL="\u200F",arabic_range=new RegExp("^["+neutral_chars+"\u0600-\u06FF]+"),arabic_splitters=new RegExp("["+neutral_chars+"\u0622-\u0625\u0627\u062F-\u0632\u0648\u0671-\u0677\u0688-\u0699\u06C4-\u06CB\u06CF\u06D2\u06D3\u06EE\u06EF]"),arabic_vowels=new RegExp("^[\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]+"),accents_and_vowels="[\u0300-\u036F\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u07A6-\u07B0\u0900-\u0903\u093A-\u094C\u094E\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09CC\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C-\u0A4C\u0A51\u0A81-\u0A83\u0ABC\u0ABE-\u0ACC\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B4C\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C4C\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CCC\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D4C\u0D4E\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F83\u0F86\u0F87\u0F8D-\u0FBC\u0FC6\u102B-\u1038\u103A-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u17B4-\u17D1\u17D3\u1A55-\u1A5E\u1A61-\u1A7C\u1DC0-\u1DFF\u20D0-\u20FF]",combo_characters="[\u094D\u09CD\u0A4D\u0ACD\u0B4D\u0C4D\u0CCD\u0D4D\u0F84\u1039\u17D2\u1A60\u1A7F]",graphemeRegex=new RegExp("^.(?:"+accents_and_vowels+"+)?("+combo_characters+"\\W(?:"+accents_and_vowels+"+)?)*"),curve_blacklist={Mongolian:"\u1800-\u18AF"},curve_blacklist_range=Object.keys(curve_blacklist).map(function(e){return curve_blacklist[e]}).join(""),curve_blacklist_test=new RegExp("["+curve_blacklist_range+"]");function isTextCurveBlacklisted(e){return curve_blacklist_test.test(e)}var default_segment_length=2;function splitLabelText(e,n){var r=n?1:default_segment_length;if(e.length<r)return[e];var o=e;if(CanvasText.cache.segment[o])return CanvasText.cache.stats.segment_hits++,CanvasText.cache.segment[o];var s=[];if(arabic_range.exec(e)){s=e.split(arabic_splitters);for(var l=-1,d=0;d<s.length-1;d++){if(d>0){var h=arabic_vowels.exec(s[d]);h&&(s[d]=s[d].substring(h[0].length),s[d-1]+=h[0],l+=h[0].length)}l+=1+s[d].length,s[d]+=e.slice(l,l+1)}e=""}for(;e.length;){for(var p="",g=e,y=0;y<r&&g.length;y++){var v=(graphemeRegex.exec(g)||g)[0];p+=v,g=g.substring(v.length)}s.push(p),e=e.substring(p.length)}return n&&s.reverse(),CanvasText.cache.stats.segment_misses++,CanvasText.cache.segment[o]=s,s}var MultiLine=function(){function e(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1/0;_classCallCheck(this,e),this.width=0,this.height=0,this.lines=[],this.max_lines=r,this.text_wrap=o,this.context=n}return _createClass(e,[{key:"createLine",value:function(n){return this.lines.length<this.max_lines&&new Line(n,this.text_wrap)}},{key:"push",value:function(n){if(this.lines.length<this.max_lines){var r=this.context.measureText(n.text).width;return n.width=r,r>this.width&&(this.width=Math.ceil(r)),this.lines.push(n),this.height+=n.height,!0}return this.addEllipsis(),!1}},{key:"advance",value:function(n,r){return!!this.push(n)&&this.createLine(r)}},{key:"addEllipsis",value:function(){var n=this.lines[this.lines.length-1],r=Math.ceil(this.context.measureText(e.ellipsis).width);n.append(e.ellipsis),n.width+=r,n.width>this.width&&(this.width=n.width)}},{key:"finish",value:function(n){n?this.push(n):this.addEllipsis()}}],[{key:"parse",value:function(n,r,o,s,l){var d;d=typeof r=="number"?n.split(" "):[n];for(var h=new e(l,o,r),p=h.createLine(s),g=0;g<d.length;g++){for(var y=d[g].split(`
`),v=g===0,w=0;w<y.length&&p;w++){var k=y[w];isTextRTL(k)&&isTextNeutral(k[k.length-1])&&(k+=markRTL);var F=v?k:" "+k;if(r&&g>0&&p.exceedsTextwrap(F)){if(!(p=h.advance(p,s)))break;p.append(k),v=!0}else p.append(F);w<y.length-1&&(p=h.advance(p,s),v=!0)}g===d.length-1&&h.finish(p)}return h}}])}();MultiLine.ellipsis="...";var Line=function(){return _createClass(function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;_classCallCheck(this,e),this.chars=0,this.text="",this.height=Math.ceil(n),this.text_wrap=r},[{key:"append",value:function(e){this.chars+=e.length,this.text+=e}},{key:"exceedsTextwrap",value:function(e){return e.length+this.chars>this.text_wrap}}])}(),TextLabels={resetText:function(){this.texts={}},freeText:function(e){delete this.texts[e.id]},parseTextFeature:function(e,n,r,o){var s=this.parseTextSource(e,n,r);if(s!=null&&s!==""){var l=TextSettings.compute(e,n,r);if(l){var d=TextSettings.key(l);this.texts[o.id]=this.texts[o.id]||{};var h=this.texts[o.id][d]=this.texts[o.id][d]||{};if(s instanceof Object){var p=[],g=s.left+"-"+s.right;for(var y in s){var v=s[y];if(v){var w=this.computeTextLayout({},e,n,r,o,v,l,g,y);h[v]||(h[v]={text_settings:l,ref:0}),p.push({draw:n,text:v,text_settings_key:d,layout:w})}}return p.length>0&&p}var k=this.computeTextLayout({},e,n,r,o,s,l);return h[s]||(h[s]={text_settings:l,ref:0}),{draw:n,text:s,text_settings_key:d,layout:k}}}},parseTextSource:function(e,n,r){var o,s=n.text_source||"name";if(s!=null&&_typeof(s)==="object")for(var l in o={},s)o[l]=this.parseTextSourceValue(s[l],e,r);else o=this.parseTextSourceValue(s,e,r);return o},parseTextSourceValue:function(e,n,r){var o;if(Array.isArray(e)){for(var s=0;s<e.length;s++)if(typeof e[s]=="string"?o=n.properties[e[s]]:typeof e[s]=="function"&&(o=e[s](r)),o)return o}else typeof e=="string"?o=n.properties[e]:e instanceof Function&&(o=e(r));return o},prepareTextLabels:function(e,n,r){var o=this;return Object.keys(this.texts[e.id]||{}).length===0?Promise.resolve([]):WorkerBroker.postMessage(this.main_thread_target+".calcTextSizes",e.id,this.texts[e.id]).then(function(s){var l=s.texts;return e.canceled?(log("trace","Style ".concat(o.name,": stop tile build because tile was canceled: ").concat(e.key,", post-calcTextSizes()")),[]):(o.texts[e.id]=l||[],l?o.buildTextLabels(e,r):(Collision.abortTile(e.id),[]))})},collideAndRenderTextLabels:function(e,n,r){var o=this;return this.prepareTextLabels(e,n,r).then(function(s){return s.length===0?(Collision.collide([],n,e.id),Promise.resolve({})):Collision.collide(s,n,e.id).then(function(l){if(e.canceled)return log("trace","stop tile build because tile was canceled: ".concat(e.key,", post-collide()")),{};var d=o.texts[e.id];return d==null||l.length===0?{}:(o.cullTextStyles(d,l),l.forEach(function(h){var p=h.text_settings_key,g=d[p]&&d[p][h.text];g.text_settings.can_articulate?(g.type||(g.type=[]),g.type.indexOf(h.label.type)===-1&&g.type.push(h.label.type)):(g.align=g.align||{},g.align[h.label.align]={})}),{labels:l,texts:d,textures:[]})})})},cullTextStyles:function(e,n){for(var r=0;r<n.length;r++){var o=n[r];e[o.text_settings_key][o.text].ref++}for(var s in e)for(var l in e[s])e[s][l].ref<1&&delete e[s][l];for(var d in e)Object.keys(e[d]).length===0&&delete e[d]},calcTextSizes:function(e,n){return this._canvas_text||(this._canvas_text=new CanvasText,this._canvas_ctx_for_sizes=this._canvas_text.createCanvas().getContext("2d")),this._canvas_text.textSizes(e,n,this._canvas_ctx_for_sizes)},preprocessText:function(e){if(e&&e.font&&_typeof(e.font)==="object")return e.font.fill=StyleParser.createPropertyCache(e.font.fill),e.font.stroke&&(e.font.stroke.color=StyleParser.createPropertyCache(e.font.stroke.color)),e.background&&e.background.color&&(e.background.color=StyleParser.createPropertyCache(e.background.color)),e.outline&&(e.outline.color&&(e.outline.color=StyleParser.createPropertyCache(e.outline.color)),e.outline.width&&(e.outline.width=StyleParser.createPropertyCache(e.outline.width,StyleParser.parsePositiveNumber))),e.padding&&(Array.isArray(e.padding)?e.padding.length===2&&(e.padding=[e.padding[0],e.padding[1],e.padding[0],e.padding[1]]):e.padding=Array(4).fill(e.padding),e.padding=StyleParser.createPropertyCache(e.padding,function(n){return n.map(StyleParser.parsePositiveNumber)})),e.font.px_size=StyleParser.createPropertyCache(e.font.size||TextSettings.defaults.size,CanvasText.fontPixelSize),e.font.stroke&&e.font.stroke.width!=null&&(e.font.stroke.width=StyleParser.createPropertyCache(e.font.stroke.width,StyleParser.parsePositiveNumber)),e.offset=StyleParser.createPropertyCache(e.offset,function(n){return Array.isArray(n)&&n.map(StyleParser.parseNumber)}),e.buffer=StyleParser.createPropertyCache(e.buffer,function(n){return(Array.isArray(n)?n:[n,n]).map(StyleParser.parsePositiveNumber)}),e.repeat_distance=StyleParser.createPropertyCache(e.repeat_distance||Geo$1.tile_size,StyleParser.parsePositiveNumber),e},computeTextLayout:function(e,n,r,o,s,l,d,h,p){var g=e||{};return(g=this.computeLayout(g,n,r,o,s)).repeat_distance&&(h&&(g.repeat_group+="/"+h),g.repeat_group+="/"+l),g.subdiv=s.overzoom2,g.align=r.align,g.italic=d.style!=="normal",p==="right"?g.orientation=1:p==="left"&&(g.orientation=-1),g}};function degToRad(e){return e*Math.PI/180}var PI_OVER_180=Math.PI/180,HORIZON_THRESHOLD_MULTIPLIER=.75,ZOOM_FOR_BOUNDS_EPSILON=.001,NEAR_PLANE=1,LookAtManipulator=function(){function e(n,r){_classCallCheck(this,e),this._min_zoom=H.util.constants.DEFAULT_MIN_ZOOM_LEVEL,this._max_zoom=H.util.constants.DEFAULT_MAX_ZOOM_LEVEL,this._viewport=n,this._center_offset=[],this._center_offset_normalized=[],this._viewport_aspect_ratio=1,this._focal_length=[[16,2],[17,2.5],[18,3],[19,4],[20,6]],this._view_matrix=new Float64Array(16),this._projection_matrix=new Float64Array(16),this._heading_matrix=new Float64Array(16),this._tilt_matrix=new Float64Array(16),this._transformation_matrix=new Float64Array(16),this._camera_matrix=new Float64Array(16),this._lookAtData={position:[0,0,0],zoom:0,tile_level:0,tetragon:void 0,bounds:void 0,unpadded_bounds:void 0,distance:void 0,tilt:0,incline:0,heading:180},this._zoom_direction=0,this._horizon=0,this.handleViewportUpdate(!0),r?this.setLookAtData(r):this._updateMatrices(),ShaderProgram.replaceBlock("camera",`
            uniform mat4 u_projection;
            uniform vec3 u_eye;
            uniform vec2 u_center_offset;

            void cameraProjection (inout vec4 position) {
                position = u_projection * position;
            }`)}return _createClass(e,[{key:"getZoomForBounds",value:function(n,r,o,s){var l=this.clone(),d=this._max_zoom,h=this._min_zoom,p=(d-h)/2,g=d-p,y=r,v=MathUtils$1.getBBoxCenter(MathUtils$1.getBBox(n));if(y===void 0)y=v;else{var w=v[0]-y[0];Math.abs(w)>Geo$1.half_circumference_meters+1e-8&&(y[0]+=Math.round(w/Geo$1.circumference_meters)*Geo$1.circumference_meters)}for(var k=function(){l.setLookAtData({zoom:g,position:y,tilt:o,heading:s});var F=l.getLookAtData().bounds;if(n.every(function(_l){return MathUtils$1.isPointInsidePolygon(_l,F)}))h=g;else{var q=_slicedToArray(MathUtils$1.getBBox(F),4),_r=q[0],ga=q[1],La=q[2],jc=q[3];La-_r+1e-8>=Geo$1.circumference_meters&&jc-ga+1e-8>=Geo$1.circumference_meters?h=g:d=g}g=d-(p=(d-h)/2)};p>ZOOM_FOR_BOUNDS_EPSILON;)k();return h}},{key:"setZoomConstraints",value:function(n,r){this._min_zoom=n,this._max_zoom=r,this.setLookAtData(this.getLookAtData())}},{key:"setLookAtData",value:function(n,r){var o,s,l=n.position,d=n.zoom;if(l===o&&n.bounds!==o&&(l=MathUtils$1.getBBoxCenter(MathUtils$1.getBBox(n.bounds))),d===o&&n.bounds!==o&&(d=this.getZoomForBounds(n.bounds,l,n.tilt,n.heading)),r!==o&&(s=l||this.screenToWorld(r)),d!==o){d=MathUtils$1.clamp(d,this._min_zoom,this._max_zoom);var h=Utils$1.zoomToTileLevel(d),p=this._lookAtData.tile_level;h!==p&&(this._zoom_direction=h>p?1:-1),this._lookAtData.zoom=d,this._lookAtData.tile_level=h}if(n.tilt!==o&&(this._lookAtData.tilt=n.tilt),n.heading!==o&&(this._lookAtData.heading=n.heading),r!==o){this._updateMatrices();var g=this.screenToWorld(r);this._lookAtData.position[0]-=g[0]-s[0],this._lookAtData.position[1]-=g[1]-s[1]}else l&&(this._lookAtData.position=l);this._lookAtData.position[2]=0,this._lookAtData.position[1]=MathUtils$1.clamp(this._lookAtData.position[1],-Geo$1.half_circumference_meters,Geo$1.half_circumference_meters),this._updateMatrices(),this._updateVisibleBounds()}},{key:"getZoomDirection",value:function(){return this._zoom_direction}},{key:"resetZoomDirection",value:function(){this._zoom_direction=0}},{key:"getLookAtData",value:function(){return this._lookAtData}},{key:"handleViewportUpdate",value:function(){var n=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=this._viewport,o=r.width,s=r.height;this._viewport_aspect_ratio=o/s;var l=this._viewport.center.x-(o/2|0),d=this._viewport.center.y-(s/2|0);this._center_offset[0]=l,this._center_offset[1]=d,this._center_offset_normalized[0]=l/o,this._center_offset_normalized[1]=d/-s,n||(this._updateMatrices(),this._updateVisibleBounds())}},{key:"setupMatrices",value:function(n,r){mat4.multiply(n.model_view32,this._view_matrix,n.model),r.uniform("Matrix4fv","u_modelView",n.model_view32),mat3.normalFromMat4(n.normal32,n.model_view32),mat3.invert(n.inverse_normal32,n.normal32),r.uniform("Matrix3fv","u_normalMatrix",n.normal32),r.uniform("Matrix3fv","u_inverseNormalMatrix",n.inverse_normal32)}},{key:"_updateMatrices",value:function(){var n=this._viewport.height*Geo$1.metersPerPixel(this._lookAtData.zoom),r=Utils$1.interpolate(this._lookAtData.zoom,this._focal_length);this._lookAtData.distance=n/2*r;var o=this._lookAtData.position[0],s=this._lookAtData.position[1];mat4.lookAt(this._view_matrix,vec3.fromValues(o,s,0),vec3.fromValues(o,s,-1),vec3.fromValues(0,1,0)),this._heading_matrix=mat4.identity(this._heading_matrix);var l=180-this._lookAtData.heading;l*=PI_OVER_180,this._heading_matrix[0]=Math.cos(l),this._heading_matrix[1]=-Math.sin(l),this._heading_matrix[4]=Math.sin(l),this._heading_matrix[5]=Math.cos(l),this._tilt_matrix=mat4.identity(this._tilt_matrix),l=(l=this._lookAtData.tilt?this._lookAtData.tilt*PI_OVER_180:0)>0?-l:l,this._tilt_matrix[5]=Math.cos(l),this._tilt_matrix[6]=Math.sin(l),this._tilt_matrix[9]=-Math.sin(l),this._tilt_matrix[10]=Math.cos(l),mat4.multiply(this._transformation_matrix,this._tilt_matrix,this._heading_matrix),mat4.multiply(this._view_matrix,this._transformation_matrix,this._view_matrix);var d=2*Math.atan(1/r),h=2*this._lookAtData.distance;this._depth_buffer_adjustment=2/Math.log(h/NEAR_PLANE),mat4.perspective(this._projection_matrix,d,this._viewport_aspect_ratio,NEAR_PLANE,h),this._projection_matrix[8]=2*-this._center_offset_normalized[0],this._projection_matrix[9]=2*-this._center_offset_normalized[1],mat4.translate(this._projection_matrix,this._projection_matrix,vec3.fromValues(0,0,-this._lookAtData.distance)),this._camera_matrix=mat4.multiply(this._camera_matrix,this._projection_matrix,this._view_matrix)}},{key:"_updateVisibleBounds",value:function(){var n=this._viewport,r=n.width,o=n.height,s=n.padding,l=degToRad(this._lookAtData.tilt);if(this._horizon=Math.max((s.top+o)/2-Math.cos(l)*(s.top*(1-Math.sin(l))+o*HORIZON_THRESHOLD_MULTIPLIER),0),this._lookAtData.tetragon=[this.screenToWorld([0,this._horizon]),this.screenToWorld([r,this._horizon]),this.screenToWorld([r,o]),this.screenToWorld([0,o])],this._lookAtData.unpadded_bounds=this._clipAgainstGeoBounds(this._lookAtData.tetragon),s.left===0&&s.top===0&&s.right===0&&s.bottom===0)this._lookAtData.bounds=this._lookAtData.unpadded_bounds;else{var d=s.left,h=Math.max(this._horizon,s.top),p=r-s.right,g=o-s.bottom,y=[this.screenToWorld([d,h]),this.screenToWorld([p,h]),this.screenToWorld([p,g]),this.screenToWorld([d,g])];this._lookAtData.bounds=this._clipAgainstGeoBounds(y)}}},{key:"_clipAgainstGeoBounds",value:function(n){var r=_slicedToArray(MathUtils$1.getBBox(n),4),o=r[0],s=r[1],l=r[2],d=r[3],h=Geo$1.half_circumference_meters,p=[[o-1,+h],[l+1,+h],[l+1,-h],[o-1,-h]],g=MathUtils$1.clipPolygon(p,n)[0],y=_slicedToArray(MathUtils$1.getBBox(g),4);if(o=y[0],s=y[1],l=y[2],d=y[3],l-o>=Geo$1.circumference_meters){var v=(l-o)/2;g=[[v-h,d],[v+h,d],[v+h,s],[v-h,s]]}var w=[];return g&&(w=MathUtils$1.splitLegs(g,h)),w}},{key:"applyPxOffset",value:function(n){var r=_slicedToArray(n,2),o=r[0],s=r[1],l=Math.PI-this._lookAtData.heading*PI_OVER_180,d=Geo$1.metersPerPixel(this._lookAtData.zoom);this._lookAtData.position[0]+=(o*Math.cos(l)+s*Math.sin(l))*d,this._lookAtData.position[1]-=(s*Math.cos(l)-o*Math.sin(l))*d,this._lookAtData.position[1]=MathUtils$1.clamp(this._lookAtData.position[1],-Geo$1.half_circumference_meters,Geo$1.half_circumference_meters),this._updateMatrices(),this._updateVisibleBounds()}},{key:"screenToWorld",value:function(n){var r=_slicedToArray(n,2),o=r[0],s=r[1],l=this._viewport,d=l.width,h=l.height;return d===0||h===0?[0,0]:(o-=d/2,s-=h/2,this._clipCoordsToWorldPlaneCoords([2*(o+d/2)/d-1,1-2*(s+h/2)/h,-1,1]))}},{key:"_clipToScreenCoords",value:function(n){var r=this._viewport,o=r.width,s=r.height;return[(.5*n[0]+.5)*o,s-(.5*n[1]+.5)*s]}},{key:"_isScreenPointInViewPort",value:function(n){var r=this._viewport,o=r.width,s=r.height;return n[0]>=0&&n[0]<=o&&n[1]>=0&&n[1]<=s}},{key:"worldToScreen",value:function(n){var r,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(n[2]||(n[2]=0),o){var s=this._worldToClipCoords(n);r=this._clipToScreenCoords(s)}else{var l=Math.sign(this._lookAtData.position[0]),d=Math.trunc(this._lookAtData.position[0]/Geo$1.circumference_meters+l/2);n[0]+=Geo$1.circumference_meters*d;var h=this._worldToClipCoords(n),p=r=this._clipToScreenCoords(h);this._isScreenPointInViewPort(r)||(h=this._worldToClipCoords([n[0]+Geo$1.circumference_meters,n[1],n[2]]),r=this._clipToScreenCoords(h),this._isScreenPointInViewPort(r)||(h=this._worldToClipCoords([n[0]-Geo$1.circumference_meters,n[1],n[2]]),r=this._clipToScreenCoords(h)),this._isScreenPointInViewPort(r)||(r=p))}return r}},{key:"getHorizon",value:function(){return this._horizon}},{key:"_clipCoordsToWorldPlaneCoords",value:function(n){var r=[],o=this._lookAtData.distance,s=this._lookAtData.position,l=[0,0,o,0],d=0,h=o*Math.sin(PI_OVER_180*this._lookAtData.tilt)*Math.cos(PI_OVER_180*this._lookAtData.heading),p=o*Math.sin(PI_OVER_180*this._lookAtData.tilt)*Math.sin(PI_OVER_180*this._lookAtData.heading),g=new Float64Array(16),y=new Float64Array(16);return mat4.invert(g,this._projection_matrix),vec4.transformMat4(r,n,g),r[2]=-1,r[3]=0,mat4.invert(y,this._view_matrix),vec4.transformMat4(r,r,y),vec4.normalize(r,r),vec4.transformMat4(l,l,this._transformation_matrix),r[2]!==0&&(d=-l[2]/r[2]),vec4.scale(r,r,d),[s[0]+(r[0]+p),s[1]+(r[1]+h)]}},{key:"_worldToClipCoords",value:function(n){var r=[n[0],n[1],n[2],1];return vec4.transformMat4(r,r,this._view_matrix),vec4.transformMat4(r,r,this._projection_matrix),vec4.scale(r,r,1/r[3]),r}},{key:"setupProgram",value:function(n){n.uniform("Matrix4fv","u_projection",this._projection_matrix),n.uniform("3f","u_eye",[0,0,this._lookAtData.distance]),n.uniform("2fv","u_center_offset",this._center_offset_normalized),n.uniform("1f","u_tilt",this._lookAtData.tilt*PI_OVER_180),n.uniform("1f","u_heading",this._lookAtData.heading*PI_OVER_180),n.uniform("1f","u_near_plane",NEAR_PLANE),n.uniform("1f","u_depth_buffer_adjustment",this._depth_buffer_adjustment)}},{key:"getTransformationMatrix",value:function(){return this._transformation_matrix}},{key:"getCameraMatrix",value:function(){return this._camera_matrix}},{key:"clone",value:function(){var n=new e(this._viewport,this._lookAtData);return n.setZoomConstraints(this._min_zoom,this._max_zoom),n}},{key:"getViewport",value:function(){return this._viewport}}])}();function getX(e){return e.x===void 0?e[0]:e.x}function getY(e){return e.y===void 0?e[1]:e.y}function xAscendingComparator(e,n){return getX(e)-getX(n)}function yAscendingComparator(e,n){return getY(e)-getY(n)}function sortByX(e){return e.sort(xAscendingComparator)}function sortByY(e){return e.sort(yAscendingComparator)}function getMinMax(e,n){for(var r,o=e[0],s=o,l=0;l<e.length;l+=1)n(r=e[l],o)<0?o=r:n(r,s)>0&&(s=r);return[o,s]}function groupByCoord(e,n){return Object.values(n.reduce(function(r,o){var s=o[+e];return r[s]||(r[s]=[]),r[s].push(o),r},{}))}function groupByX(e){return groupByCoord(!1,e)}function groupByY(e){return groupByCoord(!0,e)}function createTileRangeByCoord(e,n,r){var o=+e,s=n[o],l=r[o];if(s>l)return[];var d=[n];if(s>l)return d;for(var h=n[(o+1)%2],p=e?function(y){return d.push([h,y])}:function(y){return d.push([y,h])},g=s+1;g<l;g+=1)p(g);return d.push(r),d}function createTileRangeByX(e,n){return createTileRangeByCoord(!1,e,n)}function createTileRangeByY(e,n){return createTileRangeByCoord(!0,e,n)}function deduplicate(e){var n={},r=[];return e.forEach(function(o){var s=o.key||(Array.isArray(o)?"".concat(o[0],"/").concat(o[1]):"".concat(o.x,"/").concat(o.y));n[s]||(n[s]=!0,r.push(o))}),r}function flat(e){return e.reduce(function(n,r){return n.concat(r)})}function applyMargin(e,n){if(n<=0)return e;var r=function(s){var l=_slicedToArray(getMinMax(s,xAscendingComparator),2),d=l[0],h=l[1],p=[d[0]-n,d[1]],g=[h[0]+n,h[1]];return s.concat(createTileRangeByX(p,d),createTileRangeByX(h,g))},o=function(s){var l=_slicedToArray(getMinMax(s,yAscendingComparator),2),d=l[0],h=l[1],p=[d[0],d[1]-n],g=[h[0],h[1]+n];return s.concat(createTileRangeByY(p,d),createTileRangeByY(h,g))};return deduplicate(function(s){return flat(s.map(r))}(groupByY(flat(groupByX(e).map(o)))))}function constructTiles(e,n,r){return e.map(function(o){var s=_slicedToArray(o,2),l=s[0],d=s[1];return Tile.coord(Geo$1.wrapTile({x:l,y:d,z:n},{x:!r,y:!0}))})}function getTileGrid(e,n,r){var o=function(s){return Object.values(Geo$1.metersToExactTileCoords(s,e.tile_level))};return deduplicate(constructTiles(applyMargin(rasterizeTetragon(o(e.tetragon[0]),o(e.tetragon[1]),o(e.tetragon[3]),o(e.tetragon[2])),n),e.tile_level,r))}function rasterizeTetragon(e,n,r,o){var s=rasterizeTriangle(n,e,r),l=rasterizeTriangle(r,o,n);return deduplicate(s.concat(l))}function rasterizeTriangle(e,n,r){var o=_slicedToArray(sliceTriangle.apply(void 0,_toConsumableArray(sortByY([e,n,r]))),2),s=o[0],l=o[1];return deduplicate(rasterizeBottomFlatTriangle.apply(void 0,_toConsumableArray(s)).concat(rasterizeTopFlatTriangle.apply(void 0,_toConsumableArray(l))))}function sliceTriangle(e,n,r){var o=_slicedToArray(e,2),s=o[0],l=o[1],d=_slicedToArray(n,2),h=d[0],p=d[1],g=_slicedToArray(r,2),y=g[0],v=g[1],w=s+(p-l)/(v-l)*(y-s);return[[[s,l]].concat(_toConsumableArray(sortByX([[h,p],[w,p]]))),[].concat(_toConsumableArray(sortByX([[h,p],[w,p]])),[[y,v]])]}function rasterizeBottomFlatTriangle(e,n,r){var o=_slicedToArray(e,2),s=o[0],l=o[1],d=_slicedToArray(n,2),h=d[0],p=d[1];return scanFlatTriangle(s,h,_slicedToArray(r,1)[0],l,p)}function rasterizeTopFlatTriangle(e,n,r){var o=_slicedToArray(e,2),s=o[0],l=o[1],d=_slicedToArray(n,1)[0],h=_slicedToArray(r,2);return scanFlatTriangle(h[0],s,d,h[1],l)}var scanStepStatic=.125;function getScanStep(e,n){return scanStepStatic*(n-e)/(Math.ceil(n)-Math.floor(e))}function scanFlatTriangle(e,n,r,o,s){var l=Math.min(e,n),d=Math.max(e,r),h=Math.min(o,s),p=Math.max(o,s);if(Math.floor(o)===Math.floor(s))return scanRow(l,d,o);if(p-h<scanStepStatic)return scanRectangle([l,h],[d,p]);var g=getScanStep(h,p),y=(p-h)/g,v=(n-e)/y,w=(r-e)/y,k=[],F=e,q=e,_r=function(jc){k=k.concat(scanRow(F,q,Math.floor(jc))),F+=v,q+=w};if(o<s)for(var ga=h;ga<=p;ga+=g)_r(ga);else for(var La=p;La>=h;La-=g)_r(La);return deduplicate(k)}function xCoordsToPoints(e,n){return e.map(function(r){return[r,n]})}function createCoordRange(e,n){var r=Math.floor(e),o=Math.floor(n);if(r>o)return[];if(r===o)return[r];for(var s=[],l=r;l<=o;l+=1)s.push(l);return s}function scanRow(e,n,r){return xCoordsToPoints(createCoordRange(e,n),r)}function scanRectangle(e,n){var r=_slicedToArray(e,2),o=r[0],s=r[1],l=_slicedToArray(n,2),d=l[0],h=l[1],p=createCoordRange(o,d),g=xCoordsToPoints(p,s),y=xCoordsToPoints(p,h);return g.concat(y)}var VIEW_PAN_SNAP_TIME=.5,Z_PRECISION=1e5,View=function(){function e(n,r){_classCallCheck(this,e),subscribeMixin(this),this.scene=n,this.createMatrices(),this.bounds=null,this.center_tile=null,this.panning=!1,this.panning_stop_at=0,this.pan_snap_timer=0,this.user_input_at=0,this.user_input_timeout=50,this.user_input_active=!1,this.size={},this.buffer=0,this.wrap=r.wrapView!==!1,this.preserve_tiles_within_zoom=1,this.lookAtManipulator=new LookAtManipulator(r.viewport),this._viewport=r.viewport,this._offset_buffer=[0,0],this.handleViewportUpdate(!0)}return _createClass(e,[{key:"update",value:function(){this.pan_snap_timer=(+new Date-this.panning_stop_at)/1e3,this.user_input_active=+new Date-this.user_input_at<this.user_input_timeout,this.scene.tile_manager.updateTilesVisibilityCounters()}},{key:"handleViewportUpdate",value:function(){var n=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=this._viewport,o=r.width,s=r.height;this.size.css={width:o,height:s},this.size.device={width:Math.round(o*Utils$1.device_pixel_ratio),height:Math.round(s*Utils$1.device_pixel_ratio)},this.lookAtManipulator.handleViewportUpdate(),n||this.updateBounds()}},{key:"setLookAtData",value:function(n,r){e._setLookAtDataForManipulator(this.lookAtManipulator,n,r),this.updateBounds()}},{key:"getLookAtData",value:function(){var n=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return e._getLookAtDataFromManipulator(this.lookAtManipulator,n)}},{key:"getBestLookAtData",value:function(n,r){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s=this.lookAtManipulator.clone();return e._setLookAtDataForManipulator(s,n,r),e._getLookAtDataFromManipulator(s,o)}},{key:"getTileLevel",value:function(){return this.lookAtManipulator.getLookAtData().tile_level}},{key:"applyPxOffset",value:function(n){var r=this._offset_buffer;r[0]+=n[0],r[1]+=n[1];var o=Math.abs(r[0]),s=Math.abs(r[1]);if(o>=1||s>=1){var l=~~r[0],d=~~r[1];this.lookAtManipulator.applyPxOffset([o<1?0:l,s<1?0:d]),o>=1&&(r[0]-=l),s>=1&&(r[1]-=d),this.updateBounds()}}},{key:"setPanning",value:function(n){this.panning=n,this.panning||(this.panning_stop_at=+new Date)}},{key:"markUserInput",value:function(){this.user_input_at=+new Date}},{key:"ready",value:function(){return typeof this.size.css.width=="number"&&typeof this.size.css.height=="number"}},{key:"updateBounds",value:function(){if(this.markUserInput(),this.ready()){this.center_tile=Geo$1.tileForMeters(this.lookAtManipulator.getLookAtData().position,this.lookAtManipulator.getLookAtData().tile_level);var n=this.lookAtManipulator.screenToWorld([0,this.size.css.height]),r=this.lookAtManipulator.screenToWorld([this.size.css.width,0]);this.bounds={sw:{x:n[0],y:n[1]},ne:{x:r[0],y:r[1]}},this.scene.tile_manager.updateTilesForView(!0),this.trigger("move"),this.scene.requestRedraw()}}},{key:"getTileGridFlatForBBox",value:function(n,r,o,s){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,d=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5],h=this.lookAtManipulator.getLookAtData().tile_level,p=Geo$1.tileForMeters([r,n],h),g=Geo$1.tileForMeters([s,o],h);if(p.x-=l,p.y-=l,g.x+=l,g.y+=l,d===!1){var y=(1<<h)-1;p.x=Math.min(Math.max(0,p.x),y),p.y=Math.min(Math.max(0,p.y),y),g.x=Math.min(Math.max(0,g.x),y),g.y=Math.min(Math.max(0,g.y),y)}for(var v=[],w={},k=p.x;k<=g.x;k++)for(var F=p.y;F<=g.y;F++){var q=Tile.coord(Geo$1.wrapTile({x:k,y:F,z:h},{x:!d,y:!0}));w[q.key]||(w[q.key]=!0,v.push(q))}return v}},{key:"getTileGridFlat",value:function(){return this.getTileGridFlatForBBox(this.bounds.ne.y,this.bounds.sw.x,this.bounds.sw.y,this.bounds.ne.x,this.buffer,this.wrap)}},{key:"getTileGridDistorted",value:function(){return getTileGrid(this.lookAtManipulator.getLookAtData(),this.buffer,this.wrap)}},{key:"findVisibleTileCoordinates",value:function(){if(!this.bounds)return[];var n=this.lookAtManipulator.getLookAtData(),r=n.tilt,o=n.heading;return r===0&&o===180?this.getTileGridFlat():this.getTileGridDistorted()}},{key:"createMatrices",value:function(){this.matrices={},this.matrices.model=new Float64Array(16),this.matrices.model32=new Float32Array(16),this.matrices.model_view=new Float64Array(16),this.matrices.model_view32=new Float32Array(16),this.matrices.normal=new Float64Array(9),this.matrices.normal32=new Float32Array(9),this.matrices.inverse_normal32=new Float32Array(9)}},{key:"setupTile",value:function(n,r){n.setupProgram(this.matrices,r),this.lookAtManipulator.setupMatrices(this.matrices,r)}},{key:"setupProgram",value:function(n){var r=this.lookAtManipulator.getLookAtData();n.uniform("2fv","u_resolution",[this.size.device.width,this.size.device.height]),n.uniform("3fv","u_map_position",[r.position[0],r.position[1],Math.trunc(r.zoom*Z_PRECISION)/Z_PRECISION]),n.uniform("1f","u_meters_per_pixel",Geo$1.metersPerPixel(r.zoom)),n.uniform("1f","u_device_pixel_ratio",Utils$1.device_pixel_ratio),n.uniform("1f","u_view_pan_snap_timer",this.pan_snap_timer),n.uniform("1i","u_view_panning",this.panning),n.uniform("1f","u_horizon",this.lookAtManipulator.getHorizon()/(this.size.css.height/2)),this.lookAtManipulator.setupProgram(n)}},{key:"isAnimating",value:function(){return this.pan_snap_timer<=VIEW_PAN_SNAP_TIME}},{key:"xyToGeo",value:function(n,r){var o=this.lookAtManipulator.screenToWorld([n,r]),s=_slicedToArray(Geo$1.metersToLatLng(o),2),l=s[0];return{lat:s[1],lng:l}}},{key:"geoToPixel",value:function(n){var r=Geo$1.latLngToMeters([n.lng,n.lat]);r.push(n.alt||0);var o=this.lookAtManipulator.worldToScreen(r);return{x:Math.floor(o[0]),y:Math.floor(o[1])}}},{key:"geoToMeters",value:function(n){var r=_slicedToArray(Geo$1.latLngToMeters([n.lng,n.lat]),2);return{x:r[0],y:r[1],z:n.alt||0}}},{key:"metersToGeo",value:function(n){var r=_slicedToArray(Geo$1.metersToLatLng([n.x,n.y]),2),o=r[0];return{lat:r[1],lng:o,alt:n.z||0}}},{key:"setZoomConstraints",value:function(n,r){this.lookAtManipulator.setZoomConstraints(n,r)}}],[{key:"_setLookAtDataForManipulator",value:function(n,r,o){var s=r.position,l=r.zoom,d=r.tilt,h=r.heading,p=r.bounds,g={zoom:l,tilt:d,heading:h};if(s&&typeof s.lng=="number"&&typeof s.lat=="number"&&(g.position=Geo$1.latLngToMeters([s.lng,s.lat])),p){var y=p.getExterior().getLatLngAltArray(),v=y.length/3,w=Array(v);if(p.getBoundingBox().isCDB())for(var k=y[1],F=0,q=0;q<v;q++){var _r=y[3*q+1];if(q>0){var ga=_r-k;Math.abs(ga)>180&&(F+=_r>k?-360:360)}k=_r,w[q]=Geo$1.latLngToMeters([_r+F,y[3*q]])}else for(var La=0;La<v;La++)w[La]=Geo$1.latLngToMeters([y[3*La+1],y[3*La]]);g.bounds=w}n.setLookAtData(g,o)}},{key:"_getLookAtDataFromManipulator",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],o=n.getLookAtData(),s=o.heading,l=o.incline,d=o.tilt,h=o.zoom,p=o.position,g=o.bounds,y=o.unpadded_bounds,v=_slicedToArray(Geo$1.metersToLatLng(p),2),w=v[0],k=v[1],F=new H.geo.LineString;return(r?y:g).forEach(function(q){var _r=Geo$1.metersToLatLng(q);F.pushLatLngAlt(_r[1],_r[0],0)}),{heading:s,incline:l,tilt:d,zoom:h,bounds:new H.geo.Polygon(F),position:{lat:k,lng:w,alt:p[2]}}}}])}(),shaderSrc_pointsVertex=`uniform vec2 u_resolution;uniform vec3 u_map_position;uniform vec4 u_tile_origin;uniform float u_tile_proxy_depth;uniform bool u_tile_fade_in;uniform float u_meters_per_pixel;uniform float u_device_pixel_ratio;uniform float u_visible_time;uniform bool u_view_panning;uniform float u_tilt;uniform mat4 u_model;uniform mat4 u_modelView;uniform mat3 u_normalMatrix;uniform mat3 u_inverseNormalMatrix;uniform float u_heading;uniform float u_near_plane;uniform float u_depth_buffer_adjustment;attribute vec4 a_position;attribute vec4 a_shape;attribute vec4 a_color;attribute vec2 a_texcoord;attribute vec2 a_offset;uniform float u_point_type;attribute float a_is_flat;
#ifdef TANGRAM_IS_TEXT_STYLE
attribute vec4 a_offsets_alt;attribute vec4 a_pre_angles_alt;attribute vec4 a_angles_alt;attribute vec4 a_offsets;attribute vec4 a_pre_angles;attribute vec4 a_angles;
#endif
#ifdef TANGRAM_POINT_DRAW_STICK
attribute float a_is_stick;attribute float a_stick_height;varying float v_is_stick;
#endif
varying vec4 v_color;varying vec2 v_texcoord;varying vec4 v_world_position;varying float v_alpha_factor;
#ifdef TANGRAM_HAS_SHADER_POINTS
attribute float a_outline_edge;attribute vec4 a_outline_color;varying float v_outline_edge;varying vec4 v_outline_color;varying float v_aa_offset;
#endif
#ifdef TANGRAM_SHOW_HIDDEN_LABELS
varying float v_label_hidden;
#endif
#define PI 3.14159265359
#define TANGRAM_NORMAL vec3(0., 0., 1.)
#pragma tangram: camera
#pragma tangram: material
#pragma tangram: lighting
#pragma tangram: raster
#pragma tangram: global
vec2 rotate2D(vec2 _st,float _angle){return mat2(cos(_angle),-sin(_angle),sin(_angle),cos(_angle))*_st;}vec3 rotateX3D(vec3 _st,float _angle){return mat3(1.,0.,0.,0.,cos(_angle),sin(_angle),0.,-sin(_angle),cos(_angle))*_st;}vec3 rotateZ3D(vec3 _st,float _angle){return mat3(cos(_angle),sin(_angle),0.,-sin(_angle),cos(_angle),0.,0.,0.,1.)*_st;}
#ifdef TANGRAM_IS_TEXT_STYLE
float mix4linear(float a,float b,float c,float d,float x){return mix(mix(a,b,3.*x),mix(b,mix(c,d,3.*(max(x,.66)-.66)),3.*(clamp(x,.33,.66)-.33)),step(0.33,x));}
#endif
void main(){
#pragma tangram: setup
#ifndef TANGRAM_SHOW_HIDDEN_LABELS
if(a_shape.w==0.){gl_Position=vec4(0.,0.,0.,1.);return;}
#else
if(a_shape.w==0.){v_label_hidden=1.;}else{v_label_hidden=0.;}
#endif
v_alpha_factor=1.0;v_color=a_color;v_texcoord=a_texcoord;
#ifdef TANGRAM_HAS_SHADER_POINTS
v_outline_color=a_outline_color;v_outline_edge=a_outline_edge;if(u_point_type==TANGRAM_POINT_TYPE_SHADER){v_outline_color=a_outline_color;v_outline_edge=a_outline_edge;float size=abs(a_shape.x/128.);v_texcoord=sign(a_shape.xy)*(size+1.0)/size;size+=2.0;v_aa_offset=2.0/size;}
#endif
vec4 position=u_modelView*vec4(a_position.xyz,1.);vec4 shape=vec4(a_shape.xy,0.,0.);vec2 offset=vec2(a_offset.x,-a_offset.y);
#ifdef TANGRAM_POINT_DRAW_STICK
v_is_stick=a_is_stick;float scaled_stick_height=(sin(u_tilt+(1.5*PI))+1.0)*a_stick_height;offset.y+=(1.0-a_is_stick)*scaled_stick_height;
#endif
float zoom=clamp(u_map_position.z-u_tile_origin.z,0.,1.);float theta=a_shape.z/4096.;float heading=u_heading;float delta=(heading-PI);float new_theta=theta-delta;float reversed=abs(new_theta)>PI/2. ? 1. : 0.;if(a_is_flat==1.0){
#ifdef TANGRAM_IS_TEXT_STYLE
if(a_offsets[0]!=0.){vec4 angles_scaled;vec4 pre_angles_scaled;vec4 offsets_scaled;if(reversed==1.){offsets_scaled=a_offsets_alt*4.;angles_scaled=(PI/16384.)*a_angles_alt;pre_angles_scaled=(PI/128.)*a_pre_angles_alt;}else{offsets_scaled=a_offsets*4.;angles_scaled=(PI/16384.)*a_angles;pre_angles_scaled=(PI/128.)*a_pre_angles;}float pre_angle=mix4linear(pre_angles_scaled[0],pre_angles_scaled[1],pre_angles_scaled[2],pre_angles_scaled[3],zoom);float angle=mix4linear(angles_scaled[0],angles_scaled[1],angles_scaled[2],angles_scaled[3],zoom);float offset_curve=mix4linear(offsets_scaled[0],offsets_scaled[1],offsets_scaled[2],offsets_scaled[3],zoom);shape.xy=rotate2D(shape.xy,pre_angle+PI*reversed);shape.x+=offset_curve;shape.xy=rotate2D(shape.xy,angle);shape.xy+=rotate2D(offset,theta);}else{shape.xy=rotate2D(shape.xy+offset*256.,theta+(PI*reversed));}
#else
shape.xy=rotate2D(shape.xy+offset*256.,theta);
#endif
shape.xy/=pow(2.,4.+(u_map_position.z-u_tile_origin.w));shape=u_modelView*shape;position+=shape;}else{shape.xy/=256.;
#ifdef TANGRAM_POINT_DRAW_STICK
shape.y*=1.0+(scaled_stick_height-1.0)*a_is_stick;
#endif
shape.xy=rotate2D(shape.xy+offset,theta);}
#ifdef TANGRAM_FADE_IN_RATE
if(u_tile_fade_in){v_alpha_factor*=clamp(u_visible_time*TANGRAM_FADE_IN_RATE,0.,1.);}
#endif
#ifdef TANGRAM_FADE_ON_ZOOM_OUT
v_alpha_factor*=clamp(1.+TANGRAM_FADE_ON_ZOOM_OUT_RATE*(u_map_position.z-u_tile_origin.z),0.,1.);
#endif
v_world_position=u_model*position;v_world_position.xy+=shape.xy*u_meters_per_pixel;v_world_position=wrapWorldPosition(v_world_position);
#pragma tangram: position
cameraProjection(position);
#ifdef TANGRAM_LAYER_ORDER
applyLayerOrder(a_position.w+u_tile_proxy_depth+1.,position);/***Due to the precision loss on depth buffer,we had a z-fighting of translucent points when the distance to the camera was big.*For more information about the problem see: https:*For more information about the fix see: https:*position.z=(2.0*log(position.w/u_near_plane)/log(u_far_plane/u_near_plane)-1.0)*position.w;*/position.z=(log(position.w/u_near_plane)*u_depth_buffer_adjustment-1.0)*position.w;
#endif
if(a_is_flat!=1.){position.xy+=shape.xy*position.w*2.*u_device_pixel_ratio/u_resolution;}
#ifdef TANGRAM_HAS_SHADER_POINTS
if(u_point_type==TANGRAM_POINT_TYPE_SHADER){position.xy+=sign(shape.xy)*position.w*u_device_pixel_ratio/u_resolution;}
#endif
if(!u_view_panning){snapToPixelGrid(position);}gl_Position=position;}`,shaderSrc_pointsFragment=`uniform vec2 u_resolution;uniform vec3 u_map_position;uniform vec4 u_tile_origin;uniform float u_meters_per_pixel;uniform float u_device_pixel_ratio;uniform float u_visible_time;uniform mat3 u_normalMatrix;uniform mat3 u_inverseNormalMatrix;uniform sampler2D u_texture;uniform float u_point_type;uniform bool u_apply_color_blocks;varying vec4 v_color;varying vec2 v_texcoord;varying vec4 v_world_position;varying float v_alpha_factor;
#ifdef TANGRAM_HAS_SHADER_POINTS
varying vec4 v_outline_color;varying float v_outline_edge;varying float v_aa_offset;
#endif
#ifdef TANGRAM_SHOW_HIDDEN_LABELS
varying float v_label_hidden;
#endif
#ifdef TANGRAM_POINT_DRAW_STICK
varying float v_is_stick;
#endif
#define TANGRAM_NORMAL vec3(0., 0., 1.)
#pragma tangram: camera
#pragma tangram: material
#pragma tangram: lighting
#pragma tangram: raster
#pragma tangram: global
#ifdef TANGRAM_HAS_SHADER_POINTS
float _tangram_antialias(float l,float R){float low=R-v_aa_offset;float high=R+v_aa_offset;return 1.-smoothstep(low,high,l);}
#endif
void mixTextureColor(inout vec4 color){
#ifdef TANGRAM_HAS_SHADER_POINTS
if(u_point_type==TANGRAM_POINT_TYPE_TEXTURE){color*=texture2D(u_texture,v_texcoord);}else if(u_point_type==TANGRAM_POINT_TYPE_LABEL){color=texture2D(u_texture,v_texcoord);color.rgb/=max(color.a,0.001);}else if(u_point_type==TANGRAM_POINT_TYPE_SHADER){float outline_edge=v_outline_edge;vec4 outlineColor=v_outline_color;float l=length(v_texcoord);float outer_alpha=_tangram_antialias(l,1.);float fill_alpha=_tangram_antialias(l,1.-v_outline_edge*0.5)*color.a;float stroke_alpha=(outer_alpha-_tangram_antialias(l,1.-v_outline_edge))*outlineColor.a;
#ifdef TANGRAM_BLEND_ADD
color.a=stroke_alpha+fill_alpha;color.rgb=color.rgb*fill_alpha+outlineColor.rgb*stroke_alpha;
#else
color.a=stroke_alpha+fill_alpha*(1.-stroke_alpha);color.rgb=mix(color.rgb*fill_alpha,outlineColor.rgb,stroke_alpha)/max(color.a,0.001);
#endif
}
#else
color=texture2D(u_texture,v_texcoord);color.rgb/=max(color.a,0.001);
#endif
if(u_apply_color_blocks){
#pragma tangram: color
#pragma tangram: filter
}color.a*=v_alpha_factor;
#ifdef TANGRAM_SHOW_HIDDEN_LABELS
if(v_label_hidden>0.){color.a*=0.5;color.rgb=vec3(1.,0.,0.);}
#endif
#if !defined(TANGRAM_BLEND_OVERLAY) && !defined(TANGRAM_BLEND_INLAY) && !defined(TANGRAM_BLEND_ADD)
if(color.a<TANGRAM_ALPHA_TEST){discard;}
#endif
}void main(void){
#pragma tangram: setup
vec4 color=v_color;
#ifdef TANGRAM_POINT_DRAW_STICK
if(v_is_stick==0.0){mixTextureColor(color);}
#else
mixTextureColor(color);
#endif
gl_FragColor=color;}`,PLACEMENT=LabelPoint.PLACEMENT,pre_angles_normalize=128/Math.PI,angles_normalize=16384/Math.PI,offsets_normalize=64,texcoord_normalize=65535,Points=Object.create(Style),TANGRAM_POINT_TYPE_TEXTURE=1,TANGRAM_POINT_TYPE_LABEL=2,TANGRAM_POINT_TYPE_SHADER=3,DEFAULT_POINT_SIZE=16;Object.assign(Points,TextLabels),Object.assign(Points,{name:"points",built_in:!0,vertex_shader_src:shaderSrc_pointsVertex,fragment_shader_src:shaderSrc_pointsFragment,selection:!0,collision:!0,blend:"overlay",init:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Style.init.call(this,e),this.setupDefines(),this.defines.TANGRAM_HAS_SHADER_POINTS=!0,this.defines.TANGRAM_POINT_TYPE_TEXTURE=TANGRAM_POINT_TYPE_TEXTURE,this.defines.TANGRAM_POINT_TYPE_LABEL=TANGRAM_POINT_TYPE_LABEL,this.defines.TANGRAM_POINT_TYPE_SHADER=TANGRAM_POINT_TYPE_SHADER,this.defines.TANGRAM_POINT_DRAW_STICK=!!this.stick,this.collision_group_points=this.name+"-points",this.collision_group_text=this.name+"-text",this.reset()},setupDefines:function(){this.blend!=="overlay"&&(this.defines.TANGRAM_LAYER_ORDER=!0),this.defines.TANGRAM_FADE_ON_ZOOM_OUT=!0,this.defines.TANGRAM_FADE_ON_ZOOM_OUT_RATE=2,debugSettings$1.suppress_label_fade_in||this.suppress_fade?(this.fade_in_time=0,this.defines.TANGRAM_FADE_IN_RATE=null):(this.fade_in_time=.15,this.defines.TANGRAM_FADE_IN_RATE=1/this.fade_in_time),debugSettings$1.suppress_snap_animation||(this.defines.TANGRAM_VIEW_PAN_SNAP_RATE=1/VIEW_PAN_SNAP_TIME),debugSettings$1.show_hidden_labels&&(this.defines.TANGRAM_SHOW_HIDDEN_LABELS=!0)},reset:function(){this.queues={},this.resetText(),this.texture_missing_sprites={}},addFeature:function(e,n,r){var o=r.tile,s={};if(s.color=this.parseColor(n.color,r),s.texture=n.texture,s.label_texture=null,s.color||s.texture){var l;if(this.hasSprites(s)){if(!(l=this.parseSprite(s,n,r)))return;s.texcoords=l.texcoords}if(s.size=n.size,s.size){if(s.size=StyleParser.evalCachedPointSizeProperty(n.size,l,r),s.size==null)return void log({level:"warn",once:!0},"Layer '".concat(n.layers[n.layers.length-1],"': ")+"'size' includes % and/or ratio-based scaling (".concat(JSON.stringify(n.size.value),"); ")+"these can only applied to sprites, but no sprite was specified, skipping features in layer");typeof s.size=="number"&&(s.size=[s.size,s.size])}else s.size=l&&l.css_size||[DEFAULT_POINT_SIZE,DEFAULT_POINT_SIZE];if(n.outline&&(s.outline_width=StyleParser.evalCachedProperty(n.outline.width,r)||StyleParser.defaults.outline.width,s.outline_color=this.parseColor(n.outline.color,r)),s.outline_edge_pct=0,s.outline_width&&s.outline_color){var d=s.outline_width;s.size[0]+=d,s.size[1]+=d,s.outline_edge_pct=d/Math.min(s.size[0],s.size[1])*2}if(s.size[0]=Math.min(s.size[0],256),s.size[1]=Math.min(s.size[1],256),s.placement=n.placement,s.placement_min_length_ratio=StyleParser.evalCachedProperty(n.placement_min_length_ratio,r),s.placement===PLACEMENT.SPACED&&n.placement_spacing&&(s.placement_spacing=StyleParser.evalCachedProperty(n.placement_spacing,r)),s.angle=StyleParser.evalProperty(n.angle,r)||0,s.elevate_by_altitude=!!n.elevate_by_altitude,s.z=n.z?MathUtils$1.clamp(StyleParser.evalCachedDistanceProperty(n.z,r),0,32767):StyleParser.defaults.z,s.flat=n.flat,s.tile_edges=n.tile_edges,this.computeLayout(s,e,n,r,o),n.stick&&!s.flat){var h=StyleParser.parseNumber(StyleParser.evalProperty(n.stick.height,r));s.stick={color:this.parseColor(n.stick.color,r)||StyleParser.defaults.color,height:h?Math.max(h,0):0}}var p=n.text&&StyleParser.evalProperty(n.text.visible,r)!==!1&&this.parseTextFeature(e,n.text,r,o);Array.isArray(p)&&(p=null,log({level:"warn",once:!0},"Layer '".concat(n.layers[n.layers.length-1],"': ")+"cannot use boundary labels (e.g. 'text_source: { left: ..., right: ... }') for 'text' labels attached to 'points'; "+"provided 'text_source' value was ".concat(JSON.stringify(n.text.text_source)))),p&&(p.layout.parent=s,p.layout.priority=n.text.priority?Math.max(p.layout.priority,s.priority+.5):s.priority+.5,p.layout.move_into_tile=!1,Collision.addStyle(this.collision_group_text,o.id)),this.queueFeature({feature:e,draw:n,context:r,style:s,text_feature:p},o),Collision.addStyle(this.collision_group_points,o.id)}},hasSprites:function(e){return e.texture&&this.textureManager.textures[e.texture]&&this.textureManager.textures[e.texture].sprites},getSpriteInfo:function(e,n){var r=this.textureManager.textures[e.texture].sprites[n]&&this.textureManager.getSpriteInfo(e.texture,n);return n&&!r?(this.texture_missing_sprites[e.texture]=this.texture_missing_sprites[e.texture]||{},this.texture_missing_sprites[e.texture][n]||(log("debug","Style: in style '".concat(this.name,"', could not find sprite '").concat(n,"' for texture '").concat(e.texture,"'")),this.texture_missing_sprites[e.texture][n]=!0)):r&&(r.sprite=n),r},parseSprite:function(e,n,r){var o=StyleParser.evalProperty(n.sprite,r);return this.getSpriteInfo(e,o)||this.getSpriteInfo(e,n.sprite_default)},queueFeature:function(e,n){this.tile_data[n.id]&&this.queues[n.id]||this.startData(n),this.queues[n.id]=this.queues[n.id]||[],this.queues[n.id].push(e)},endData:function(e){var n=this;if(e.canceled)return log("trace","Style ".concat(this.name,": stop tile build because tile was canceled: ").concat(e.key)),Promise.resolve();var r=this.queues[e.id];delete this.queues[e.id];var o=[],s=[];return r.forEach(function(l){for(var d=l.style,h=l.feature,p=h.geometry,g=n.buildLabels(d.size,p,d),y=0;y<g.length;y++){var v=g[y],w={feature:h,draw:l.draw,context:l.context,style:d,label:v};if(s.push(w),l.text_feature){var k={feature:h,draw:l.text_feature.draw,context:l.context,text:l.text_feature.text,text_settings_key:l.text_feature.text_settings_key,layout:l.text_feature.layout,point_label:v,linked:w};o.push(k),l.draw.text.optional||(w.linked=k)}}}),Promise.all([Collision.collide(s,this.collision_group_points,e.id).then(function(l){l.forEach(function(d){n.feature_style=d.style,n.feature_style.label=d.label,n.feature_style.linked=d.linked,Style.addFeature.call(n,d.feature,d.draw,d.context)})}),this.collideAndRenderTextLabels(e,this.collision_group_text,o)]).then(function(l){var d=_slicedToArray(l,2)[1],h=d.labels,p=d.texts;return h&&p&&h.forEach(function(g){var y=g.text_settings_key,v=p[y]&&p[y][g.text],w=n.feature_style;w.label=g.label,w.linked=g.linked,w.size=v.size.logical_size,w.angle=0,g.label.text_data={text_info:v,text_settings_key:y,text:g.text},w.label_texture=n.textureManager.default,Style.addFeature.call(n,g.feature,g.draw,g.context)}),n.freeText(e),Style.endData.call(n,e)})},_preprocess:function(e){e.color=StyleParser.createColorPropertyCache(e.color),e.texture=e.texture!==void 0?e.texture:this.texture,e.outline&&(e.outline.color=StyleParser.createColorPropertyCache(e.outline.color),e.outline.width=StyleParser.createPropertyCache(e.outline.width,StyleParser.parsePositiveNumber)),e.z=StyleParser.createPropertyCache(e.z,StyleParser.parseUnits);try{e.size=StyleParser.createPointSizePropertyCache(e.size)}catch(n){return log({level:"warn",once:!0},"Layer '".concat(e.layers[e.layers.length-1],"': ")+"".concat(n," (").concat(JSON.stringify(e.size),"), skipping features in layer")),null}return e.offset=StyleParser.createPropertyCache(e.offset,function(n){return Array.isArray(n)&&n.map(StyleParser.parseNumber)}),e.buffer=StyleParser.createPropertyCache(e.buffer,function(n){return(Array.isArray(n)?n:[n,n]).map(StyleParser.parsePositiveNumber)}),e.repeat_distance=StyleParser.createPropertyCache(e.repeat_distance,StyleParser.parseNumber),e.repeat_group==null&&(e.repeat_group=e.layers.join("-")),e.placement=PLACEMENT[e.placement&&e.placement.toUpperCase()],e.placement==null&&(e.placement=PLACEMENT.VERTEX),e.placement_spacing=e.placement_spacing!=null?e.placement_spacing:80,e.placement_spacing=StyleParser.createPropertyCache(e.placement_spacing,StyleParser.parsePositiveNumber),e.placement_min_length_ratio=e.placement_min_length_ratio!=null?e.placement_min_length_ratio:1,e.placement_min_length_ratio=StyleParser.createPropertyCache(e.placement_min_length_ratio,StyleParser.parsePositiveNumber),typeof e.angle=="number"?e.angle=e.angle*Math.PI/180:e.angle=e.angle||0,e.text=this.preprocessText(e.text),e.text&&(e.text.variantKey=e.variantKey,e.text.group=e.group,e.text.layers=e.layers,e.text.order=e.order,e.text.repeat_group=e.text.repeat_group||e.repeat_group,e.text.anchor=e.text.anchor||this.default_anchor,e.text.optional=typeof e.text.optional=="boolean"&&e.text.optional,e.text.interactive=e.text.interactive||e.interactive),e.stick&&(e.stick.color=StyleParser.createColorPropertyCache(e.stick.color)),e},default_anchor:["bottom","top","right","left"],computeLayout:function(e,n,r,o,s){var l=e||{};l.id=n,l.units_per_pixel=s.units_per_pixel||1,l.collide=r.collide!==!1,l.anchor=r.anchor,l.offset=StyleParser.evalCachedProperty(r.offset,o)||StyleParser.zeroPair,l.buffer=StyleParser.evalCachedProperty(r.buffer,o)||StyleParser.zeroPair,l.repeat_distance=StyleParser.evalCachedProperty(r.repeat_distance,o),l.repeat_distance&&(l.repeat_distance*=l.units_per_pixel,l.repeat_scale=1,typeof r.repeat_group=="function"?l.repeat_group=r.repeat_group(o):l.repeat_group=r.repeat_group);var d=r.priority;return d!=null?typeof d=="function"&&(d=d(o)):d=4294967295,l.priority=d,l},buildTextLabels:function(e,n){for(var r=[],o=0;o<n.length;o++){var s=n[o],l=this.texts[e.id][s.text_settings_key][s.text].size.collision_size;s.label=new LabelPoint(s.point_label.position,l,s.point_label.isFlat(),s.layout),r.push(s)}return r},buildLabels:function(e,n,r){var o=!!r.flat,s=[];if(n.type==="Point")s.push(new LabelPoint(n.coordinates,e,o,r));else if(n.type==="MultiPoint")for(var l=n.coordinates,d=0;d<l.length;++d){var h=l[d];s.push(new LabelPoint(h,e,o,r))}else if(n.type==="LineString")for(var p=placePointsOnLine(n.coordinates,e,o,r),g=0;g<p.length;++g)s.push(p[g]);else if(n.type==="MultiLineString")for(var y=n.coordinates,v=0;v<y.length;v++)for(var w=placePointsOnLine(y[v],e,o,r),k=0;k<w.length;++k)s.push(w[k]);else if(n.type==="Polygon")if(r.placement===PLACEMENT.CENTROID){var F=Geo$1.centroid(n.coordinates);s.push(new LabelPoint(F,e,o,r))}else for(var q=n.coordinates,_r=0;_r<q.length;_r++)for(var ga=placePointsOnLine(q[_r],e,o,r),La=0;La<ga.length;++La)s.push(ga[La]);else if(n.type==="MultiPolygon")if(r.placement===PLACEMENT.CENTROID){var jc=Geo$1.multiCentroid(n.coordinates);s.push(new LabelPoint(jc,e,o,r))}else for(var _l=n.coordinates,e1=0;e1<_l.length;e1++)for(var n1=_l[e1],d1=0;d1<n1.length;d1++)for(var c1=placePointsOnLine(n1[d1],e,o,r),h1=0;h1<c1.length;++h1)s.push(c1[h1]);return s},makeVertexTemplate:function(e,n){var r=e.color||StyleParser.defaults.color,o=n.vertex_data.vertex_layout;if(this.fillVertexTemplate(o,"a_position",0,{size:2}),this.fillVertexTemplate(o,"a_position",e.z||0,{size:1,offset:2}),this.fillVertexTemplate(o,"a_position",this.scaleOrder(e.order),{size:1,offset:3}),this.fillVertexTemplate(o,"a_shape",0,{size:4}),this.fillVertexTemplate(o,"a_shape",e.label.layout.collide?0:1,{size:1,offset:3}),this.fillVertexTemplate(o,"a_texcoord",0,{size:2}),this.fillVertexTemplate(o,"a_offset",0,{size:2}),this.fillVertexTemplate(o,"a_color",Vector$1.mult(r,255),{size:4}),this.defines.TANGRAM_HAS_SHADER_POINTS&&n.variant.shader_point){var s=e.outline_color||StyleParser.defaults.outline.color;this.fillVertexTemplate(o,"a_outline_color",Vector$1.mult(s,255),{size:4}),this.fillVertexTemplate(o,"a_outline_edge",e.outline_edge_pct||StyleParser.defaults.outline.width,{size:1})}return this.selection&&this.fillVertexTemplate(o,"a_selection_color",Vector$1.mult(e.selection_color,255),{size:4}),this.fillVertexTemplate(o,"a_is_flat",0,{size:1}),this.defines.TANGRAM_POINT_DRAW_STICK&&e.stick&&(this.fillVertexTemplate(o,"a_is_stick",0,{size:1}),this.fillVertexTemplate(o,"a_stick_height",e.stick.height,{size:1})),this.vertex_template},buildQuad:function(e,n,r,o,s,l,d,h,p,g,y,v,w,k,F,q,_r,ga,La){return n[0]<=0||n[1]<=0?0:buildQuadsForPoints(e,F,q,{quad:n,quad_normalize:256,offset:h,offsets:p,offsets_alt:g,pre_angles:l,pre_angles_alt:d,angle:4096*r,angles:o,angles_alt:s,is_flat:w,elevate_by_altitude:k,build_stick_points:_r,stick_color:_r&&Vector$1.mult(ga,255),color:Vector$1.mult(La||StyleParser.defaults.color,255),curve:v,texcoord_scale:y,texcoord_normalize,pre_angles_normalize,angles_normalize,offsets_normalize})},build:function(e,n,r){var o=e.label;return o.type==="curved"?this.buildCurvedLabel(o,e,n,r):this.buildStraightLabel(o,e,n,r)},buildStraightLabel:function(e,n,r,o){var s,l,d=this.makeVertexTemplate(n,r),h=e.angle||n.angle;e.type!=="point"?(s=n.size[e.type],l=default_uvs):(s=n.size,l=n.texcoords||default_uvs),r.uniforms=r.uniforms||{},n.label_texture?(r.uniforms.u_texture=n.label_texture,r.uniforms.u_point_type=TANGRAM_POINT_TYPE_LABEL,r.uniforms.u_apply_color_blocks=!1):n.texture?(r.uniforms.u_texture=n.texture,r.uniforms.u_point_type=TANGRAM_POINT_TYPE_TEXTURE,r.uniforms.u_apply_color_blocks=!0):(r.uniforms.u_texture=this.textureManager.default,r.uniforms.u_point_type=TANGRAM_POINT_TYPE_SHADER,r.uniforms.u_apply_color_blocks=!0);var p=e.offset,g=this.defines.TANGRAM_POINT_DRAW_STICK&&!n.label_texture&&n.stick&&n.stick.height>0,y=this.buildQuad([e.position],s,h,null,null,null,null,p,null,null,l,!1,e.isFlat(),n.elevate_by_altitude,r.vertex_data,d,g,g&&n.stick.color,n.color),v=n.linked&&n.linked.label.id;return this.trackLabel(e,v,r,y,o,g),y},buildCurvedLabel:function(e,n,r,o){for(var s=this.makeVertexTemplate(n,r),l=e.angle,d=0,h=!1,p=0;p<2;p++)for(var g=0;g<e.num_segments;g++){var y=n.size[e.type][g],v=default_uvs,w=this.getTileMesh(o.tile,this.getMeshVariantTypeForDraw(n));w.uniforms=w.uniforms||{},w.uniforms.u_texture=n.label_texture,w.uniforms.u_point_type=TANGRAM_POINT_TYPE_LABEL,w.uniforms.u_apply_color_blocks=!1;var k=e.offset||[0,0],F=e.position,q=e.angles[g],_r=e.offsets[g],ga=e.pre_angles[g],La=e.num_segments-g-1,jc=e.alt_angles[La],_l=e.alt_pre_angles[La],e1=e.alt_offsets[La],n1=this.buildQuad([F],y,l,q,jc,ga,_l,k,_r,e1,v,!0,e.isFlat(),n.elevate_by_altitude,w.vertex_data,s,h,h,n.color);d+=n1;var d1=n.linked&&n.linked.label.id;this.trackLabel(e,d1,r,n1,o,h)}return d},trackLabel:function(e,n,r,o,s){var l=arguments.length>5&&arguments[5]!==void 0&&arguments[5];r.labels=r.labels||{},r.labels.collision=r.labels.collision||{},r.labels["non-collision"]=r.labels["non-collision"]||{};var d=e.layout.collide?r.labels.collision:r.labels["non-collision"];d[e.id]=d[e.id]||{container:{label:e.text_data?Object.assign(e.toJSON(),{text_data:e.text_data}):e.toJSON(),linked:n},ranges:[]};var h=2*o,p=r.vertex_data.offset-r.vertex_data.stride*h;d[e.id].ranges.push([p,h,l])},buildLines:function(e,n,r,o){return this.build(n,r,o)},buildPoints:function(e,n,r,o){return this.build(n,r,o)},buildPolygons:function(e,n,r,o){return this.build(n,r,o)},vertexLayoutForMeshVariant:function(e){if(!this.vertex_layout){var n=[{name:"a_position",size:4,type:gl$1.SHORT,normalized:!1},{name:"a_shape",size:4,type:gl$1.SHORT,normalized:!1},{name:"a_texcoord",size:2,type:gl$1.UNSIGNED_SHORT,normalized:!0},{name:"a_offset",size:2,type:gl$1.SHORT,normalized:!1},{name:"a_color",size:4,type:gl$1.UNSIGNED_BYTE,normalized:!0},{name:"a_outline_color",size:4,type:gl$1.UNSIGNED_BYTE,normalized:!0,static:[0,0,0,0]},{name:"a_outline_edge",size:1,type:gl$1.FLOAT,normalized:!1,static:0},{name:"a_selection_color",size:4,type:gl$1.UNSIGNED_BYTE,normalized:!0},{name:"a_is_flat",size:1,type:gl$1.UNSIGNED_BYTE,normalized:!0}];this.defines&&this.defines.TANGRAM_POINT_DRAW_STICK&&n.push({name:"a_is_stick",size:1,type:gl$1.UNSIGNED_BYTE,normalized:!0},{name:"a_stick_height",size:1,type:gl$1.FLOAT,normalized:!1}),this.vertex_layout=new VertexLayout(n),(n=n.map(function(r){return Object.assign({},r)})).forEach(function(r){r.name!=="a_outline_color"&&r.name!=="a_outline_edge"||(r.static=null)}),this.vertex_layout_shader_point=new VertexLayout(n)}return e.shader_point?this.vertex_layout_shader_point:this.vertex_layout},computeVariantForDraw:function(e){var n=e.label_texture||e.texture||this.default_mesh_variant.key;return{key:n,shader_point:n===this.default_mesh_variant.key,order:e.label_texture?1:0}},makeMesh:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r=Object.assign({},r,{fade_in_time:this.fade_in_time}),Style.makeMesh.call(this,e,n,r)}});var STOPS=[0,.33,.66,.99],LINE_EXCEED_STRAIGHT=1.5,LINE_EXCEED_STRAIGHT_NO_CURVE=1.8,LINE_EXCEED_STAIGHT_LOOSE=2.3,STRAIGHT_ANGLE_TOLERANCE=.1,CURVE_MIN_TOTAL_COST=1.3,CURVE_MIN_AVG_COST=.4,CURVE_MAX_ANGLE=1,ORIENTED_LABEL_OFFSET_FACTOR=1.2,VERTICAL_ANGLE_TOLERANCE=.01,LabelLine={create:function(e,n,r,o,s){for(var l=[{type:"straight",tolerance:s.no_curving?LINE_EXCEED_STRAIGHT_NO_CURVE:LINE_EXCEED_STRAIGHT},{type:"curved"},{type:"straight",tolerance:LINE_EXCEED_STAIGHT_LOOSE}],d=0;d<l.length;d++){var h=l[d],p=void 0;if(h.type==="straight"?p=new LabelLineStraight(n,r,o,s,h.tolerance):h.type==="curved"&&!s.no_curving&&r.length>2&&(p=new LabelLineCurved(e,r,o,s)),p&&!p.throw_away)return p}return!1}},LabelLineBase=function(){return _createClass(function e(n,r){_classCallCheck(this,e),this.id=Label.nextLabelId(),this.layout=r,this.position=[],this.angle=0,this.offset=r.offset.slice(),this.unit_scale=this.layout.units_per_pixel,this.type="",this.throw_away=!1,this._is_flat=n,this._circles=void 0,this.placed=null},[{key:"toJSON",value:function(){return{id:this.id,type:this.type,is_flat:this._is_flat,position:this.position,size:this.size,offset:this.offset,angle:this.angle,breach:this.breach,layout:textLayoutToJSON(this.layout),circles:this.getBoundingCircles()}}},{key:"inTileBounds",value:function(){var e=this.getAABB(),n=e.left,r=e.top,o=e.right,s=e.bottom;return Utils$1.pointInTile([n,r])&&Utils$1.pointInTile([o,s])}},{key:"getAABBForSegment",value:function(e,n,r,o){var s=this.unit_scale,l=n/2,d=r/2,h=_slicedToArray(e,2),p=h[0],g=h[1];if(this.offset[0]!==0||this.offset[1]!==0){var y=Vector$1.rot(this.offset,this.angle);p+=y[0]*s,g-=y[1]*s}var v=[[Math.cos(o),-Math.sin(o)],[Math.sin(o),Math.cos(o)]],w=Vector$1.multMatrix(v,[-l,-d]),k=Vector$1.multMatrix(v,[l,-d]),F=Vector$1.multMatrix(v,[l,d]),q=Vector$1.multMatrix(v,[-l,d]);return{left:p+Math.min(w[0],k[0],F[0],q[0]),top:g+Math.max(w[1],k[1],F[1],q[1]),right:p+Math.max(w[0],k[0],F[0],q[0]),bottom:g+Math.min(w[1],k[1],F[1],q[1])}}},{key:"isFlat",value:function(){return this._is_flat}},{key:"getBoundingCircles",value:function(){}},{key:"getAABB",value:function(){}}],[{key:"splitLineByOrientation",value:function(e){for(var n=[e[0]],r=0,o=0,s=0,l=n,d=!1,h=1;h<e.length;h++){var p=e[h],g=e[h-1],y=Vector$1.length(Vector$1.sub(p,g));p[0]>g[0]?s===1?(n.push(p),(r+=y)>o&&(l=n,o=r,d=!1)):(n=[g,p],(r=y)>o&&(l=n,o=r,d=!1),s=1):p[0]<g[0]?s===-1?(n.unshift(p),(r+=y)>o&&(l=n,o=r,d=!0)):(n=[p,g],(r=y)>o&&(l=n,o=r,d=!0),s=-1):(s===-1?n.unshift(p):(n.push(p),s=1),(r+=y)>o&&(l=n,o=r,d=s===-1))}return[l,d]}}])}(),LabelLineStraight=function(e){function n(r,o,s,l,d){var h;return _classCallCheck(this,n),(h=_callSuper(this,n,[s,l])).type="straight",h.size=r,h.throw_away=!h.fit(r,o,l,d),h}return _inherits(n,e),_createClass(n,[{key:"fit",value:function(r,o,s,l){var d,h=this.unit_scale,p=_slicedToArray(LabelLineBase.splitLineByOrientation(o),2);o=p[0],d=p[1],typeof s.orientation=="number"&&(this.offset[1]+=ORIENTED_LABEL_OFFSET_FACTOR*(r[1]-s.vertical_buffer),d&&(this.offset[1]*=-1),s.orientation===-1&&(this.offset[1]*=-1));for(var g=getLineLengths(o),y=r[0]*h,v=0;v<o.length-1;v++)for(var w=o[v],k=0,F=0,q=v+1,_r=void 0;q<o.length;){var ga=o[q-1],La=o[q],jc=getAngleForSegment(ga,La);if(q!==v+1&&(k+=getAbsAngleDiff(jc,_r)),Math.abs(k)>STRAIGHT_ANGLE_TOLERANCE)break;if(calcFitness(F+=g[q-1],y)<l){var _l=Vector$1.mult(Vector$1.add(w,La),.5);return this.angle=-jc,Math.abs(this.angle-Math.PI/2)<VERTICAL_ANGLE_TOLERANCE&&(this.angle=-Math.PI/2,typeof s.orientation=="number"&&(this.offset[1]*=-1)),this.position=_l,this.breach=!this.inTileBounds(),!0}_r=jc,q++}return!1}},{key:"getBoundingCircles",value:function(){if(!this._circles){var r=this.unit_scale,o=this.size[0]/2*r,s=o*Math.cos(this.angle),l=o*Math.sin(this.angle),d=-s,h=-l,p=this.offset[0]*r,g=this.offset[1]*r,y=_slicedToArray(this.position,2),v=y[0],w=y[1];if(w*=-1,p){var k=[s,l];Vector$1.normalize(k),k[0]*=p,k[1]*=p,v+=k[0],w+=k[1]}if(g){var F=[l,-s];Vector$1.normalize(F),F[0]*=g,F[1]*=g,v-=F[0],w-=F[1]}s+=v,l+=w,d+=v,h+=w;var q=this.size[1]/2*r;this._circles=encircleLine(s,l,d,h,q)}return this._circles}},{key:"getAABB",value:function(){if(!this._aabb){var r=this.unit_scale,o=this.size,s=this.layout.buffer,l=(o[0]+2*s[0])*r,d=(o[1]+2*s[1])*r;this._aabb=this.getAABBForSegment(this.position,l,d,this.angle)}return this._aabb}}])}(LabelLineBase),LabelLineCurved=function(e){function n(r,o,s,l){var d;return _classCallCheck(this,n),(d=_callSuper(this,n,[s,l])).type="curved",d.positions=[],d.angles=[],d._aabbs=[],d.pre_angles=[],d.offsets=[],d.num_segments=r.length,d.sizes=r,d.alt_angles=[],d.alt_pre_angles=[],d.alt_offsets=[],d.throw_away=!d.fit(d.sizes,o,l),d}return _inherits(n,e),_createClass(n,[{key:"toJSON",value:function(){return{id:this.id,type:this.type,is_flat:this._is_flat,position:this.position,breach:this.breach,layout:textLayoutToJSON(this.layout),circles:this.getBoundingCircles()}}},{key:"fit",value:function(r,o,s){var l,d=this.unit_scale,h=Math.max.apply(Math,_toConsumableArray(r.map(function(M2){return M2[1]}))),p=h*d,g=_slicedToArray(LabelLineBase.splitLineByOrientation(o),2);o=g[0],l=g[1],typeof s.orientation=="number"&&(this.offset[1]+=ORIENTED_LABEL_OFFSET_FACTOR*(h-s.vertical_buffer),l&&(this.offset[1]*=-1),s.orientation===-1&&(this.offset[1]*=-1));var y=getLineLengths(o),v=r.map(function(M2){return M2[0]*d}),w=y.reduce(function(M2,J0){return M2+J0},0),k=v.reduce(function(M2,J0){return M2+J0},0);if(k>w)return!1;var F=o.length-1;if(F-0<2)return!1;var q=n.curvaturePlacement(o,w,y,k,0,F),_r=o[q];if(q===-1||F-q<2)return!1;this.position=_r;for(var ga=0;ga<v.length;ga++){this.positions[ga]=[],this.offsets[ga]=[],this.angles[ga]=[],this.pre_angles[ga]=[];for(var La=0;La<STOPS.length;La++){var jc=STOPS[La],_l=_slicedToArray(n.scaleLine(jc,o),2),e1=_l[0],n1=_l[1];_r=e1[q];var d1=n.placeAtIndex(q,e1,n1,v),c1=d1.positions,h1=d1.offsets,N1=d1.angles,k1=d1.pre_angles,R1=h1.map(function(M2){return Math.sqrt(M2[0]*M2[0]+M2[1]*M2[1])/d});if(jc===0){this.angle=1/N1.length*N1.reduce(function(M2,J0){return M2+J0});for(var U1=0;U1<c1.length;U1++){var x1=c1[U1],m2=k1[U1],w1=v[U1],B1=m2+N1[U1];this._aabbs.push(this.getAABBForSegment(x1,w1,p,B1))}}this.positions[ga].push(c1[ga]),this.offsets[ga].push(R1[ga]),this.angles[ga].push(N1[ga]),this.pre_angles[ga].push(k1[ga])}}v=r.slice().reverse().map(function(M2){return M2[0]*d});for(var A1=0;A1<v.length;A1++){this.alt_offsets[A1]=[],this.alt_angles[A1]=[],this.alt_pre_angles[A1]=[];for(var H1=0;H1<STOPS.length;H1++){var L2=STOPS[H1],o0=_slicedToArray(n.scaleLine(L2,o),2),$2=o0[0],b1=o0[1];_r=$2[q];var X2=n.placeAtIndex(q,$2,b1,v),e3=X2.offsets,d3=X2.angles,p0=X2.pre_angles,$0=e3.map(function(M2){return Math.sqrt(M2[0]*M2[0]+M2[1]*M2[1])/d});L2===0&&(this.alt_angle=1/d3.length*d3.reduce(function(M2,J0){return M2+J0})),this.alt_offsets[A1].push($0[A1]),this.alt_angles[A1].push(d3[A1]),this.alt_pre_angles[A1].push(p0[A1])}}return!0}},{key:"getBoundingCircles",value:function(){if(!this._circles){for(var r=[],o=this.unit_scale,s=0;s<this.positions.length;s++){var l=this.sizes[s],d=this.angles[s][0],h=this.positions[s][0],p=l[0]/2*o,g=p*Math.cos(d),y=p*Math.sin(d),v=-g,w=-y,k=_slicedToArray(h,2),F=k[0],q=k[1],_r=encircleLine(g+=F,y+=q*=-1,v+=F,w+=q,l[1]/2*o);Array.prototype.push.apply(r,_r)}this._circles=r}return this._circles}},{key:"getAABB",value:function(){if(!this._aabb){for(var r=1/0,o=-1/0,s=-1/0,l=1/0,d=0;d<this._aabbs.length;d++){var h=this._aabbs[d];r=Math.min(r,h.left),o=Math.max(o,h.top),s=Math.max(s,h.right),l=Math.min(l,h.bottom)}this._aabb={left:r,top:o,right:s,bottom:l}}return this._aabb}}],[{key:"curvaturePlacement",value:function(r,o,s,l,d,h){d=d||0,h=h||r.length-1;for(var p=[],g=d+1;g<h;g++){var y=r[g-1],v=r[g],w=r[g+1],k=Vector$1.perp(v,y),F=Vector$1.perp(w,v),q=Vector$1.angleBetween(k,F);q>CURVE_MAX_ANGLE&&(q=1/0),p.push(q)}p.push(1/0);for(var _r=[],ga=[],La=d,jc=0,_l=0;_l<d;_l++)jc+=s[_l];for(;jc+l<o;){for(var e1=jc+l,n1=jc,d1=La,c1=0;d1<h&&n1+s[d1]<e1&&(c1+=p[d1])!==1/0;)n1+=s[d1],d1++;if(c1===0)return La;var h1=c1/(d1-La);_r.push(c1),ga.push(h1),jc+=s[La],La++}if(_r.length===0)return-1;var N1=Math.min.apply(null,_r),k1=ga[_r.indexOf(N1)];return N1<CURVE_MIN_TOTAL_COST&&k1<CURVE_MIN_AVG_COST?_r.indexOf(N1):-1}},{key:"scaleLine",value:function(r,o){var s=[o[0]],l=[];return o.forEach(function(d,h){if(h!==o.length-1){var p=Vector$1.sub(o[h+1],o[h]),g=Vector$1.mult(p,1+r);s.push(Vector$1.add(s[h],g)),l.push(Vector$1.length(g))}}),[s,l]}},{key:"placeAtIndex",value:function(r,o,s,l){var d=o[r],h=_slicedToArray(n.getIndicesAndOffsets(r,s,l),2),p=h[0],g=h[1],y=n.getPositionsFromIndicesAndOffsets(o,p,g),v=_slicedToArray(n.getAnglesFromIndicesAndOffsets(d,p,o,y),3);return{positions:y,offsets:v[0],angles:v[1],pre_angles:v[2]}}},{key:"getIndicesAndOffsets",value:function(r,o,s){for(var l=s.length,d=[],h=[],p=0,g=0,y=0;p<l;){for(var v=s[p];p<l&&g+.5*v<=y+o[r];){var w=g-y+.5*v;h.push(w),d.push(r),g+=v,v=s[++p]}y+=o[r],r++}return[d,h]}},{key:"getPositionsFromIndicesAndOffsets",value:function(r,o,s){for(var l=[],d=0;d<o.length;d++){var h=o[d],p=s[d],g=getAngleForSegment(r[h],r[h+1]),y=Vector$1.rot([p,0],g),v=Vector$1.add(r[h],y);l.push(v)}return l}},{key:"getAnglesFromIndicesAndOffsets",value:function(r,o,s,l){for(var d=[],h=[],p=[],g=0;g<l.length;g++){var y=l[g],v=o[g],w=Vector$1.sub(y,r),k=-Vector$1.angle(w),F=getTextAngleForSegment(s[v],s[v+1])-k;if(g>0){var q=d[g-1],_r=h[g-1];Math.abs(k-q)>Math.PI&&(k+=k>q?-2*Math.PI:2*Math.PI),Math.abs(_r-F)>Math.PI&&(F+=F>_r?-2*Math.PI:2*Math.PI)}d.push(k),h.push(F),p.push(w)}return[p,d,h]}}])}(LabelLineBase);function calcFitness(e,n){return n/e}function getAngleForSegment(e,n){var r=Vector$1.sub(n,e);return Vector$1.angle(r)}function getTextAngleForSegment(e,n){return-getAngleForSegment(e,n)}function getLineLengths(e){for(var n=[],r=0;r<e.length-1;r++){var o=e[r],s=e[r+1],l=Math.hypot(o[0]-s[0],o[1]-s[1]);n.push(l)}return n}function getAbsAngleDiff(e,n){var r,o;for(e>n?(r=n,o=e):(r=e,o=n);o-r>Math.PI;)r+=2*Math.PI;return Math.abs(o-r)}var TextStyle=Object.create(Points);Object.assign(TextStyle,{name:"text",super:Points,built_in:!0,init:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Style.init.call(this,e),this.setupDefines(),this.defines.TANGRAM_HAS_SHADER_POINTS=!1,this.defines.TANGRAM_IS_TEXT_STYLE=!0,this.reset()},makeVertexTemplate:function(e,n){this.super.makeVertexTemplate.apply(this,arguments);var r=n.vertex_data.vertex_layout;return this.fillVertexTemplate(r,"a_pre_angles",0,{size:4}),this.fillVertexTemplate(r,"a_offsets",0,{size:4}),this.fillVertexTemplate(r,"a_angles",0,{size:4}),this.fillVertexTemplate(r,"a_offsets_alt",0,{size:4}),this.fillVertexTemplate(r,"a_pre_angles_alt",0,{size:4}),this.fillVertexTemplate(r,"a_angles_alt",0,{size:4}),this.vertex_template},reset:function(){this.queues={},this.resetText()},addFeature:function(e,n,r){var o=this,s=r.tile,l=e.geometry.type;n.can_articulate=l==="LineString"||l==="MultiLineString",n.supersample_text=l==="LineString"||l==="MultiLineString";var d=this.parseTextFeature(e,n,r,s);d&&(d instanceof Array?d.forEach(function(h){h.feature=e,h.context=r,h.layout.vertex=!1,o.queueFeature(h,s)}):(d.feature=e,d.context=r,d.layout.vertex=!1,this.queueFeature(d,s)),Collision.addStyle(this.name,s.id))},endData:function(e){var n=this,r=this.queues[e.id];return delete this.queues[e.id],this.collideAndRenderTextLabels(e,this.name,r).then(function(o){var s=o.labels,l=o.texts;return s&&l&&(n.texts[e.id]=l,s.forEach(function(d){var h=d.text_settings_key,p=n.texts[e.id][h]&&n.texts[e.id][h][d.text],g=n.feature_style;g.label=d.label,d.label.text_data={text_info:p,text_settings_key:h,text:d.text},g.label_texture=n.textureManager.default,p.text_settings.can_articulate?(g.size={},d.label.type==="straight"?g.size.straight=p.size.logical_size:g.size.curved=p.segment_sizes.map(function(y){return y.logical_size})):g.size=p.size.logical_size,Style.addFeature.call(n,d.feature,d.draw,d.context)})),n.freeText(e),Style.endData.call(n,e).then(function(d){if(d){for(var h in d.meshes)d.meshes[h].uniforms.u_apply_color_blocks=!0;e.mesh_data[n.name]=d}return d})})},_preprocess:function(e){return this.preprocessText(e)},buildTextLabels:function(e,n){for(var r=[],o=0;o<n.length;o++){var s=n[o],l=this.texts[e.id][s.text_settings_key][s.text],d=void 0;if(s.layout.vertical_buffer=l.vertical_buffer,l.text_settings.can_articulate){var h=l.segment_sizes.map(function(y){return y.collision_size});s.layout.no_curving=l.no_curving,d=this.buildLabels(h,s.feature.geometry,s.layout,l.size.collision_size)}else d=this.buildLabels(l.size.collision_size,s.feature.geometry,s.layout);for(var p=0;p<d.length;p++){var g=Object.create(s);g.label=d[p],r.push(g)}}return r},buildLabels:function(e,n,r,o){var s=n.type!=="Point",l=[];if(n.type==="LineString")Array.prototype.push.apply(l,this.buildLineLabels(n.coordinates,e,s,r,o));else if(n.type==="MultiLineString")for(var d=n.coordinates,h=0;h<d.length;++h)Array.prototype.push.apply(l,this.buildLineLabels(d[h],e,s,r,o));else if(n.type==="Point")l.push(new LabelPoint(n.coordinates,e,s,r));else if(n.type==="MultiPoint")for(var p=n.coordinates,g=0;g<p.length;++g)l.push(new LabelPoint(p[g],e,s,r));else if(n.type==="Polygon"){var y=Geo$1.centroid(n.coordinates);l.push(new LabelPoint(y,e,s,r))}else if(n.type==="MultiPolygon"){var v=Geo$1.multiCentroid(n.coordinates);l.push(new LabelPoint(v,e,s,r))}return l},buildLineLabels:function(e,n,r,o,s){var l=[],d=Math.min(o.subdiv,e.length-1);if(d>1)for(var h=(e.length-1)/d,p=0;p<d;p++){var g=Math.floor(p*h),y=Math.floor((p+1)*h)+1,v=e.slice(g,y),w=LabelLine.create(n,s,v,r,o);w&&l.push(w)}if(l.length<d){var k=LabelLine.create(n,s,e,r,o);k&&l.push(k)}return l},vertexLayoutForMeshVariant:function(){if(!this.vertex_layout){var e=[{name:"a_position",size:4,type:gl$1.SHORT,normalized:!1},{name:"a_shape",size:4,type:gl$1.SHORT,normalized:!1},{name:"a_texcoord",size:2,type:gl$1.UNSIGNED_SHORT,normalized:!0},{name:"a_offset",size:2,type:gl$1.SHORT,normalized:!1},{name:"a_color",size:4,type:gl$1.UNSIGNED_BYTE,normalized:!0},{name:"a_angles",size:4,type:gl$1.SHORT,normalized:!1},{name:"a_offsets",size:4,type:gl$1.UNSIGNED_SHORT,normalized:!1},{name:"a_pre_angles",size:4,type:gl$1.BYTE,normalized:!1},{name:"a_selection_color",size:4,type:gl$1.UNSIGNED_BYTE,normalized:!0},{name:"a_is_flat",size:1,type:gl$1.UNSIGNED_BYTE,normalized:!0},{name:"a_offsets_alt",size:4,type:gl$1.UNSIGNED_SHORT,normalized:!1},{name:"a_pre_angles_alt",size:4,type:gl$1.BYTE,normalized:!1},{name:"a_angles_alt",size:4,type:gl$1.SHORT,normalized:!1}];this.vertex_layout=new VertexLayout(e)}return this.vertex_layout},getMeshVariantTypeForDraw:Points.getMeshVariantTypeForDraw}),TextStyle.texture_id=0;var RasterStyle=Object.create(Polygons);Object.assign(RasterStyle,{name:"raster",super:Polygons,built_in:!0,init:function(){this.raster=this.raster||"color",this.super.init.apply(this,arguments),this.selection=!1,this.defines.SNAP_TO_PIXEL_GRID=!0},_preprocess:function(e){return e.color=e.color||StyleParser.defaults.color,this.super._preprocess.apply(this,arguments)}});var CustomIcons=Object.create(Points);Object.assign(CustomIcons,{name:"custom_icons",collision:!1,init:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Points.init.call(this,e)},loadTexture:function(e,n,r){var o,s=e.width,l=e.height,d=e.items,h=document.createElement("canvas"),p=Utils$1.device_pixel_ratio,g=this.sources[n],y={sprites:{}};if(h.width=s*p,h.height=l*p,g){var v,w=d.length,k=h.getContext("2d");for(k.scale(p,p);v=d[--w];){var F=g.getIconBitmapByObjectId(v.meta.objectId,v.meta.id);if(F){var q=isTainting(F);q?log("error",q):(k.drawImage(F,v.x,v.y,v.width,v.height),y.sprites[v.meta.id]=[v.x,v.y,v.width,v.height])}}}return y.element=h,(o=this.textureManager.create(this.gl,r,y)).retain(),o.loading.then(function(_r){return _r.name})},buildRasterTextures:function(e,n){return WorkerBroker.postMessage(this.main_thread_target+".loadTexture",e.rasters,e.source,e.texture_name).then(function(r){return n.textures.push(r),n})},addFeature:function(e,n,r){var o=r.tile.rasters,s={};o.items.forEach(function(h){s[h.meta.id]=[h.x,h.y,h.width,h.height]});var l="".concat(r.tile.source,"_dyn_").concat(r.tile.coords.key,"_").concat(this.generation,"_").concat(r.tile.id);n.texture=r.tile.texture_name=l;var d=Object.assign({},DEFAULT_TEXTURE_INFO,{name:l,width:o.width,height:o.height,sprites:s,manager:this.textureManager});Texture.prototype.calculateSprites.apply(d),this.textureManager.textures[l]=d,Points.addFeature.apply(this,arguments),delete this.textureManager.textures[l]}});var DEFAULT_TEXTURE_INFO={filtering:"linear",density:1,valid:!0,power_of_2:!1,texcoords:{},sizes:{},css_sizes:{},aspects:{}},OverlayStyle=Object.create(Polygons);Object.assign(OverlayStyle,{name:"overlays",super:Polygons,init:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection=e.selection||!0,this.raster=this.raster||"color",this.super.init.apply(this,arguments)},setupRasters:function(){if(!Thread.is_main)return!1;if(this.super.setupRasters.call(this))return!0;var e=!1;for(var n in this.sources)if(this.sources[n]instanceof ObjectSource){e=!0;break}return!!e&&(this.defines.TANGRAM_MODEL_POSITION_BASE_ZOOM_VARYING=!0,this.replaceShaderBlock("raster",shaderSrc_rasters,"Raster"),!0)},loadTextures:function(e,n){var r,o,s,l=this.sources[n],d=e.name;if(e.overlays_config.forEach(function(g){var y=g.texcoords,v=g.id,w=l.getMapObjectById(v),k=w.getBitmap();if(k){var F=isTainting(k=bitmapToCanvas(k,k.width,k.height));F?log("error",F):(r||((r=document.createElement("canvas")).width=e.width,r.height=e.height,o=r.getContext("2d")),o.save(),o.globalAlpha=w.getOpacity(),y.forEach(function(q){return o.drawImage(k,q[0],q[1],q[2],q[3])}),o.restore(),s=!0)}}),s){e.element=r;var h={};return h[d]=e,this.super.loadTextures.call(this,h)}var p=this.textureManager.textures[this.textureManager.default];return Promise.resolve([{name:p.name,width:p.width,height:p.height,loaded:p.loaded}])},buildRasterTextures:function(e,n){var r=this.sources[e.source].tileTexture(e);return r?WorkerBroker.postMessage(this.main_thread_target+".loadTextures",r,e.source).then(function(o){if(!o||o.length<1)return n;if(o.some(function(l){return!l.loaded}))return null;var s=o[0].name;return n.uniforms=n.uniforms||{},n.textures=n.textures||[],n.uniforms.u_raster=s,n.uniforms.u_raster_offset=[0,0,1],n.textures.push(s),n}):Promise.resolve(n)}});var shaderSrc_Vertex="uniform float u_horizon;uniform float u_tilt;uniform float u_zoom;attribute vec2 a_position;attribute float a_is_sky;attribute float a_is_top;attribute vec4 a_color;varying vec4 v_color;const float SIN_THRESHOLD_ANGLE=0.96126069082;void main(){v_color=a_color;float sin_tilt=sin(u_tilt);float sky_bottom_alpha=1.-max(sin_tilt-SIN_THRESHOLD_ANGLE,0.)*3.;if((a_position.y==1.&&a_is_sky==0.)||(a_position.y==0.&&a_is_sky==1.)){v_color.w=sky_bottom_alpha;}float fog_height=max((22.-u_zoom)*0.04,0.)*(sin_tilt-.7);float position_z=u_zoom<17. ? .942 : .9418;gl_Position=vec4(a_position.x,a_is_sky*(a_position.y+a_is_top)+1.0-u_horizon-(1.0-a_is_sky)*(1.0-a_position.y)*fog_height,position_z,1.0);}",shaderSrc_Fragment="varying vec4 v_color;void main(void){gl_FragColor=v_color;}",STYLE_NAME="skybox",SkyBox=Object.create(Style),positions=[-1,0,1,0,-1,1,-1,1,1,0,1,1,-1,0,1,0,-1,1,-1,1,1,0,1,1];Object.assign(SkyBox,{name:STYLE_NAME,built_in:!0,vertex_shader_src:shaderSrc_Vertex,fragment_shader_src:shaderSrc_Fragment,selection:!1,blend:"inlay",blend_order:1,init:function(){Style.init.apply(this,arguments),this.selection=!1},_preprocess:function(e){return e.color={top:StyleParser.createColorPropertyCache(e.color.zenith),bottom:StyleParser.createColorPropertyCache(e.color.horizon),fog:StyleParser.createColorPropertyCache(e.color.fog)},e},vertexLayoutForMeshVariant:function(e){if(!this.vertex_layout){var n=[{name:"a_position",size:2,type:gl$1.FLOAT,normalized:!1},{name:"a_is_sky",size:1,type:gl$1.FLOAT,normalized:!0},{name:"a_color",size:4,type:gl$1.UNSIGNED_BYTE,normalized:!0},{name:"a_is_top",size:1,type:gl$1.FLOAT,normalized:!0}];this.vertex_layout=new VertexLayout(n)}return this.vertex_layout},makeVertexTemplate:function(e){var n=0;return this.vertex_template[n++]=0,this.vertex_template[n++]=0,this.vertex_template},parseFeature:function(e,n,r){var o=this.feature_style;return n.color&&n.color.top&&n.color.bottom&&(o.color_top=this.parseColor(n.color.top,r),o.color_bottom=this.parseColor(n.color.bottom,r),o.color_fog=this.parseColor(n.color.fog||"white",r),Array.isArray(o.color_fog)&&(o.color_fog=o.color_fog.slice(),o.color_fog[3]=0)),o},buildGeometry:function(e,n,r,o){for(var s=this.makeVertexTemplate(n),l=r.vertex_data,d=r.vertex_data.vertex_layout,h=l.vertex_layout.index.a_position,p={top:n.color_top,bottom:n.color_bottom},g={top:n.color_bottom,bottom:n.color_fog},y=0,v=positions.length-1;y<v;y+=2){s[h+0]=positions[y],s[h+1]=positions[y+1];var w=y<12,k=positions[y+1]>0,F=w?p:g;this.fillVertexTemplate(d,"a_is_sky",w?1:0,{size:1}),this.fillVertexTemplate(d,"a_is_top",k?1:0,{size:1}),this.fillVertexTemplate(d,"a_color",Vector$1.mult(k?F.top:F.bottom,255),{size:4}),l.addVertex(s)}return 4}});var shaderSrc_accessors=`#ifdef TANGRAM_VERTEX_SHADER
vec4 modelPosition(){return vec4(a_position.xyz/TANGRAM_TILE_SCALE*exp2(u_tile_origin.z-u_tile_origin.w),1.)+vec4(0.,1.,0.,0.);}vec4 modelPositionBaseZoom(){return vec4(a_position.xyz/TANGRAM_TILE_SCALE,1.)+vec4(0.,1.,0.,0.);}
#endif
vec4 worldPosition(){return v_world_position;}
#ifdef TANGRAM_VERTEX_SHADER
vec4 wrapWorldPosition(vec4 world_position){
#if defined(TANGRAM_WORLD_POSITION_WRAP)
vec2 anchor=u_tile_origin.xy-mod(u_tile_origin.xy,TANGRAM_WORLD_POSITION_WRAP);world_position.xy-=anchor;
#endif
return world_position;}
#endif
#if defined(TANGRAM_VERTEX_SHADER)
vec3 worldNormal(){return TANGRAM_NORMAL;}
#elif defined(TANGRAM_FRAGMENT_SHADER)
vec3 worldNormal(){return u_inverseNormalMatrix*TANGRAM_NORMAL;}
#endif
`,shaderSrc_layerOrder="void applyLayerOrder(float layer,inout vec4 position){position.z-=layer*TANGRAM_LAYER_DELTA*position.w;}",shaderSrc_selectionGlobals=`
#if defined(TANGRAM_FEATURE_SELECTION) && defined(TANGRAM_VERTEX_SHADER)
attribute vec4 a_selection_color;varying vec4 v_selection_color;uniform vec4 u_selection_discard0;uniform vec4 u_selection_discard1;uniform vec4 u_selection_discard2;uniform vec4 u_selection_discard3;uniform vec4 u_selection_discard4;uniform vec4 u_selection_discard5;uniform vec4 u_selection_discard6;uniform vec4 u_selection_discard7;uniform vec4 u_selection_discard8;uniform vec4 u_selection_discard9;
#endif
`,shaderSrc_selectionVertex=`
#if defined(TANGRAM_FEATURE_SELECTION) && defined(TANGRAM_VERTEX_SHADER)
if(a_selection_color.rgb==vec3(0.)||a_selection_color==u_selection_discard0||a_selection_color==u_selection_discard1||a_selection_color==u_selection_discard2||a_selection_color==u_selection_discard3||a_selection_color==u_selection_discard4||a_selection_color==u_selection_discard5||a_selection_color==u_selection_discard6||a_selection_color==u_selection_discard7||a_selection_color==u_selection_discard8||a_selection_color==u_selection_discard9){gl_Position=vec4(0.,0.,0.,1.);return;}v_selection_color=a_selection_color;
#endif
`,shaderSrc_utils=`#ifndef UTILS
#define UTILS
bool isLocalSpacePixelOutsideTile(vec4 pixel_local_space_position,float tile_scale){return pixel_local_space_position.x<0.||pixel_local_space_position.x>=tile_scale||pixel_local_space_position.y>0.||pixel_local_space_position.y<=-tile_scale;}
#endif
`,shaderSrc_snapToPixelGrid=`uniform float u_view_pan_snap_timer;void snapToPixelGrid(inout vec4 position){vec2 position_fract=fract((((position.xy/position.w)+1.)*.5)*u_resolution);vec2 position_snap=position.xy+((step(0.5,position_fract)-position_fract)*position.w*2./u_resolution);
#ifdef TANGRAM_VIEW_PAN_SNAP_RATE
position.xy=mix(position.xy,position_snap,clamp(u_view_pan_snap_timer*TANGRAM_VIEW_PAN_SNAP_RATE,0.,1.));
#else
position.xy=position_snap;
#endif
}`,StyleManager=function(){return _createClass(function e(){_classCallCheck(this,e),this.styles={},this.base_styles={},this.register(Object.create(Polygons)),this.register(Object.create(Lines)),this.register(Object.create(PatternLines)),this.register(Object.create(Points)),this.register(Object.create(TextStyle)),this.register(Object.create(RasterStyle)),this.register(Object.create(CustomIcons)),this.register(Object.create(OverlayStyle)),this.register(Object.create(SkyBox))},[{key:"init",value:function(){ShaderProgram.removeBlock("global"),ShaderProgram.removeBlock("setup"),ShaderProgram.addBlock("global",shaderSrc_accessors),ShaderProgram.addBlock("global",shaderSrc_layerOrder),ShaderProgram.addBlock("global",shaderSrc_selectionGlobals),ShaderProgram.addBlock("global",shaderSrc_snapToPixelGrid),ShaderProgram.replaceBlock("utils",shaderSrc_utils),ShaderProgram.replaceBlock("setup",shaderSrc_selectionVertex),ShaderProgram.defines.TANGRAM_EPSILON=1e-5,ShaderProgram.defines.TANGRAM_LAYER_DELTA=1/16384,ShaderProgram.defines.TANGRAM_TILE_SCALE="vec3(".concat(Geo$1.tile_scale,"., ").concat(Geo$1.tile_scale,"., u_meters_per_pixel * ").concat(Geo$1.tile_size,".)"),ShaderProgram.defines.TANGRAM_HEIGHT_SCALE=Geo$1.height_scale,ShaderProgram.defines.TANGRAM_ALPHA_TEST=.1,Lines.dash_textures={}}},{key:"destroy",value:function(e){var n=this;Object.keys(this.styles).forEach(function(r){var o=n.styles[r];o.gl===e&&(log("trace","StyleManager.destroy: destroying render style ".concat(o.name)),o.base&&n.remove(o.name),o.destroy())})}},{key:"register",value:function(e){this.styles[e.name]=e,this.base_styles[e.name]=e}},{key:"remove",value:function(e){delete this.styles[e]}},{key:"mix",value:function(e,n){if(e.mixed)return e;e.mixed={};var r=[];if(e.mix){var o;Array.isArray(e.mix)?(o=r).push.apply(o,_toConsumableArray(e.mix)):r.push(e.mix),(r=r.map(function(l){return n[l]}).filter(function(l){return l&&l!==e})).forEach(function(l){return e.mixed[l.name]=!0})}r.push(e),e.animated=r.some(function(l){return l&&l.animated}),e.texcoords=r.some(function(l){return l&&l.texcoords}),e.base=r.map(function(l){return l.base}).filter(function(l){return l}).pop(),e.lighting=r.map(function(l){return l.lighting}).filter(function(l){return l!=null}).pop(),e.texture=r.map(function(l){return l.texture}).filter(function(l){return l}).pop(),e.raster=r.map(function(l){return l.raster}).filter(function(l){return l!=null}).pop(),e.dash=r.map(function(l){return l.dash}).filter(function(l){return l!=null}).pop(),e.dash_background_color=r.map(function(l){return l.dash_background_color}).filter(function(l){return l!=null}).pop(),r.some(function(l){return l.hasOwnProperty("blend")&&l.blend})&&(e.blend=r.map(function(l){return l.hasOwnProperty("blend")&&l.blend}).filter(function(l){return l}).pop()),e.blend_order=r.map(function(l){return l.blend_order}).filter(function(l){return l!=null}).pop(),e.defines=Object.assign.apply(Object,[{}].concat(_toConsumableArray(r.map(function(l){return l.defines}).filter(function(l){return l})))),e.material=Object.assign.apply(Object,[{}].concat(_toConsumableArray(r.map(function(l){return l.material}).filter(function(l){return l}))));var s=r.map(function(l){return l.draw}).filter(function(l){return l});return s.length>0&&(e.draw=mergeObjects.apply(void 0,[{}].concat(_toConsumableArray(s)))),this.mixShaders(e,n,r),e}},{key:"mixShaders",value:function(e,n,r){var o={},s=r.map(function(g){return g.shaders}).filter(function(g){return g});if(o.defines=Object.assign.apply(Object,[{}].concat(_toConsumableArray(s.map(function(g){return g.defines}).filter(function(g){return g})))),o.uniforms={},o._uniforms=e.shaders&&e.shaders.uniforms||{},o._uniform_scopes={},r.filter(function(g){return g.shaders&&g.shaders.uniforms}).forEach(function(g){var y=function(w){o._uniform_scopes[w]=g.name,Object.defineProperty(o.uniforms,w,{enumerable:!0,configurable:!0,get:function(){return o._uniforms[w]!==void 0?o._uniforms[w]:n[o._uniform_scopes[w]].shaders.uniforms!==o.uniforms?n[o._uniform_scopes[w]].shaders.uniforms[w]:void 0},set:function(k){o._uniforms[w]=k}})};for(var v in g.shaders.uniforms)y(v)}),o.extensions=Object.keys(s.map(function(g){return g.extensions}).filter(function(g){return g}).reduce(function(g,y){return typeof y=="string"?g[y]=!0:y.forEach(function(v){return g[v]=!0}),g},{})||{}),e.shaders&&e.shaders.blocks)for(var l in e.shaders.block_scopes=e.shaders.block_scopes||{},e.shaders.blocks){var d,h=e.shaders.blocks[l];e.shaders.block_scopes[l]=e.shaders.block_scopes[l]||[],Array.isArray(h)?(d=e.shaders.block_scopes[l]).push.apply(d,_toConsumableArray(h.map(function(){return e.name}))):e.shaders.block_scopes[l].push(e.name)}var p={};return s.forEach(function(g){if(g.blocks){o.blocks=o.blocks||{},o.block_scopes=o.block_scopes||{};var y={};for(var v in g.blocks){var w=g.blocks[v],k=g.block_scopes[v];o.blocks[v]=o.blocks[v]||[],o.block_scopes[v]=o.block_scopes[v]||[],w=Array.isArray(w)?w:[w],k=Array.isArray(k)?k:[k];for(var F=0;F<w.length;F++)p[k[F]]||(y[k[F]]=!0,o.blocks[v].push(w[F]),o.block_scopes[v].push(k[F]))}Object.assign(p,y)}}),Object.assign(e.mixed,p),e.shaders=o,e}},{key:"create",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=mergeObjects({},n);return o.name=e,(o=this.mix(o,r)).base&&this.base_styles[o.base]?this.styles[e]=o=Object.assign(Object.create(this.base_styles[o.base]),o):o.base=null,o}},{key:"build",value:function(e){var n=this,r=Object.keys(e).sort(function(l,d){return n.inheritanceDepth(l,e)-n.inheritanceDepth(d,e)});for(var o in this.styles)this.base_styles[o]?this.styles[o].reset():delete this.styles[o];var s={};return r.forEach(function(l){s[l]=n.create(l,e[l],s)}),this.styles}},{key:"initStyles",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(var n in this.styles)this.styles[n].init(e)}},{key:"inheritanceDepth",value:function(e,n){for(var r=this,o=0;;){var s=n[e];if(!s||!s.mix)break;if(o++,Array.isArray(s.mix)){o+=Math.max.apply(Math,_toConsumableArray(s.mix.map(function(l){if(e!==l)return r.inheritanceDepth(l,n)})));break}if(e===s.mix)break;e=s.mix}return o}}])}();function isNothing(e){return e==null}function isObject(e){return typeof e=="object"&&e!==null}function toArray(e){return Array.isArray(e)?e:isNothing(e)?[]:[e]}function extend(e,n){var r,o,s,l;if(n)for(r=0,o=(l=Object.keys(n)).length;r<o;r+=1)e[s=l[r]]=n[s];return e}function repeat(e,n){var r,o="";for(r=0;r<n;r+=1)o+=e;return o}function isNegativeZero(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var isNothing_1=isNothing,isObject_1=isObject,toArray_1=toArray,repeat_1=repeat,isNegativeZero_1=isNegativeZero,extend_1=extend,common={isNothing:isNothing_1,isObject:isObject_1,toArray:toArray_1,repeat:repeat_1,isNegativeZero:isNegativeZero_1,extend:extend_1};function formatError(e,n){var r="",o=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!n&&e.mark.snippet&&(r+=`

`+e.mark.snippet),o+" "+r):o}function YAMLException$1(e,n){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=n,this.message=formatError(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}YAMLException$1.prototype=Object.create(Error.prototype),YAMLException$1.prototype.constructor=YAMLException$1,YAMLException$1.prototype.toString=function(e){return this.name+": "+formatError(this,e)};var exception=YAMLException$1;function getLine(e,n,r,o,s){var l="",d="",h=Math.floor(s/2)-1;return o-n>h&&(n=o-h+(l=" ... ").length),r-o>h&&(r=o+h-(d=" ...").length),{str:l+e.slice(n,r).replace(/\t/g,"\u2192")+d,pos:o-n+l.length}}function padStart(e,n){return common.repeat(" ",n-e.length)+e}function makeSnippet(e,n){if(n=Object.create(n||null),!e.buffer)return null;n.maxLength||(n.maxLength=79),typeof n.indent!="number"&&(n.indent=1),typeof n.linesBefore!="number"&&(n.linesBefore=3),typeof n.linesAfter!="number"&&(n.linesAfter=2);for(var r,o=/\r?\n|\r|\0/g,s=[0],l=[],d=-1;r=o.exec(e.buffer);)l.push(r.index),s.push(r.index+r[0].length),e.position<=r.index&&d<0&&(d=s.length-2);d<0&&(d=s.length-1);var h,p,g="",y=Math.min(e.line+n.linesAfter,l.length).toString().length,v=n.maxLength-(n.indent+y+3);for(h=1;h<=n.linesBefore&&!(d-h<0);h++)p=getLine(e.buffer,s[d-h],l[d-h],e.position-(s[d]-s[d-h]),v),g=common.repeat(" ",n.indent)+padStart((e.line-h+1).toString(),y)+" | "+p.str+`
`+g;for(p=getLine(e.buffer,s[d],l[d],e.position,v),g+=common.repeat(" ",n.indent)+padStart((e.line+1).toString(),y)+" | "+p.str+`
`,g+=common.repeat("-",n.indent+y+3+p.pos)+`^
`,h=1;h<=n.linesAfter&&!(d+h>=l.length);h++)p=getLine(e.buffer,s[d+h],l[d+h],e.position-(s[d]-s[d+h]),v),g+=common.repeat(" ",n.indent)+padStart((e.line+h+1).toString(),y)+" | "+p.str+`
`;return g.replace(/\n$/,"")}var snippet=makeSnippet,TYPE_CONSTRUCTOR_OPTIONS=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],YAML_NODE_KINDS=["scalar","sequence","mapping"];function compileStyleAliases(e){var n={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(o){n[String(o)]=r})}),n}function Type$1(e,n){if(n=n||{},Object.keys(n).forEach(function(r){if(TYPE_CONSTRUCTOR_OPTIONS.indexOf(r)===-1)throw new exception('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=n,this.tag=e,this.kind=n.kind||null,this.resolve=n.resolve||function(){return!0},this.construct=n.construct||function(r){return r},this.instanceOf=n.instanceOf||null,this.predicate=n.predicate||null,this.represent=n.represent||null,this.representName=n.representName||null,this.defaultStyle=n.defaultStyle||null,this.multi=n.multi||!1,this.styleAliases=compileStyleAliases(n.styleAliases||null),YAML_NODE_KINDS.indexOf(this.kind)===-1)throw new exception('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var type=Type$1;function compileList(e,n){var r=[];return e[n].forEach(function(o){var s=r.length;r.forEach(function(l,d){l.tag===o.tag&&l.kind===o.kind&&l.multi===o.multi&&(s=d)}),r[s]=o}),r}function compileMap(){var e,n,r={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function o(s){s.multi?(r.multi[s.kind].push(s),r.multi.fallback.push(s)):r[s.kind][s.tag]=r.fallback[s.tag]=s}for(e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(o);return r}function Schema$1(e){return this.extend(e)}Schema$1.prototype.extend=function(e){var n=[],r=[];if(e instanceof type)r.push(e);else if(Array.isArray(e))r=r.concat(e);else{if(!e||!Array.isArray(e.implicit)&&!Array.isArray(e.explicit))throw new exception("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit))}n.forEach(function(s){if(!(s instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new exception("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new exception("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(s){if(!(s instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var o=Object.create(Schema$1.prototype);return o.implicit=(this.implicit||[]).concat(n),o.explicit=(this.explicit||[]).concat(r),o.compiledImplicit=compileList(o,"implicit"),o.compiledExplicit=compileList(o,"explicit"),o.compiledTypeMap=compileMap(o.compiledImplicit,o.compiledExplicit),o};var schema=Schema$1,str=new type("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),seq=new type("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),map=new type("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),failsafe=new schema({explicit:[str,seq,map]});function resolveYamlNull(e){if(e===null)return!0;var n=e.length;return n===1&&e==="~"||n===4&&(e==="null"||e==="Null"||e==="NULL")}function constructYamlNull(){return null}function isNull(e){return e===null}var _null=new type("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull,construct:constructYamlNull,predicate:isNull,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function resolveYamlBoolean(e){if(e===null)return!1;var n=e.length;return n===4&&(e==="true"||e==="True"||e==="TRUE")||n===5&&(e==="false"||e==="False"||e==="FALSE")}function constructYamlBoolean(e){return e==="true"||e==="True"||e==="TRUE"}function isBoolean(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var bool=new type("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean,construct:constructYamlBoolean,predicate:isBoolean,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function isHexCode(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function isOctCode(e){return 48<=e&&e<=55}function isDecCode(e){return 48<=e&&e<=57}function resolveYamlInteger(e){if(e===null)return!1;var n,r=e.length,o=0,s=!1;if(!r)return!1;if((n=e[o])!=="-"&&n!=="+"||(n=e[++o]),n==="0"){if(o+1===r)return!0;if((n=e[++o])==="b"){for(o++;o<r;o++)if((n=e[o])!=="_"){if(n!=="0"&&n!=="1")return!1;s=!0}return s&&n!=="_"}if(n==="x"){for(o++;o<r;o++)if((n=e[o])!=="_"){if(!isHexCode(e.charCodeAt(o)))return!1;s=!0}return s&&n!=="_"}if(n==="o"){for(o++;o<r;o++)if((n=e[o])!=="_"){if(!isOctCode(e.charCodeAt(o)))return!1;s=!0}return s&&n!=="_"}}if(n==="_")return!1;for(;o<r;o++)if((n=e[o])!=="_"){if(!isDecCode(e.charCodeAt(o)))return!1;s=!0}return!(!s||n==="_")}function constructYamlInteger(e){var n,r=e,o=1;if(r.indexOf("_")!==-1&&(r=r.replace(/_/g,"")),(n=r[0])!=="-"&&n!=="+"||(n==="-"&&(o=-1),n=(r=r.slice(1))[0]),r==="0")return 0;if(n==="0"){if(r[1]==="b")return o*parseInt(r.slice(2),2);if(r[1]==="x")return o*parseInt(r.slice(2),16);if(r[1]==="o")return o*parseInt(r.slice(2),8)}return o*parseInt(r,10)}function isInteger(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1==0&&!common.isNegativeZero(e)}var int=new type("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger,construct:constructYamlInteger,predicate:isInteger,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),YAML_FLOAT_PATTERN=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat(e){return e!==null&&!(!YAML_FLOAT_PATTERN.test(e)||e[e.length-1]==="_")}function constructYamlFloat(e){var n,r;return r=(n=e.replace(/_/g,"").toLowerCase())[0]==="-"?-1:1,"+-".indexOf(n[0])>=0&&(n=n.slice(1)),n===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:n===".nan"?NaN:r*parseFloat(n,10)}var SCIENTIFIC_WITHOUT_DOT=/^[-+]?[0-9]+e/;function representYamlFloat(e,n){var r;if(isNaN(e))switch(n){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(n){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(n){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(common.isNegativeZero(e))return"-0.0";return r=e.toString(10),SCIENTIFIC_WITHOUT_DOT.test(r)?r.replace("e",".e"):r}function isFloat(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!=0||common.isNegativeZero(e))}var float=new type("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat,construct:constructYamlFloat,predicate:isFloat,represent:representYamlFloat,defaultStyle:"lowercase"}),json=failsafe.extend({implicit:[_null,bool,int,float]}),core=json,YAML_DATE_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),YAML_TIMESTAMP_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function resolveYamlTimestamp(e){return e!==null&&(YAML_DATE_REGEXP.exec(e)!==null||YAML_TIMESTAMP_REGEXP.exec(e)!==null)}function constructYamlTimestamp(e){var n,r,o,s,l,d,h,p,g=0,y=null;if((n=YAML_DATE_REGEXP.exec(e))===null&&(n=YAML_TIMESTAMP_REGEXP.exec(e)),n===null)throw new Error("Date resolve error");if(r=+n[1],o=+n[2]-1,s=+n[3],!n[4])return new Date(Date.UTC(r,o,s));if(l=+n[4],d=+n[5],h=+n[6],n[7]){for(g=n[7].slice(0,3);g.length<3;)g+="0";g=+g}return n[9]&&(y=6e4*(60*+n[10]+ +(n[11]||0)),n[9]==="-"&&(y=-y)),p=new Date(Date.UTC(r,o,s,l,d,h,g)),y&&p.setTime(p.getTime()-y),p}function representYamlTimestamp(e){return e.toISOString()}var timestamp=new type("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp,construct:constructYamlTimestamp,instanceOf:Date,represent:representYamlTimestamp});function resolveYamlMerge(e){return e==="<<"||e===null}var merge=new type("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge}),BASE64_MAP=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function resolveYamlBinary(e){if(e===null)return!1;var n,r,o=0,s=e.length,l=BASE64_MAP;for(r=0;r<s;r++)if(!((n=l.indexOf(e.charAt(r)))>64)){if(n<0)return!1;o+=6}return o%8==0}function constructYamlBinary(e){var n,r,o=e.replace(/[\r\n=]/g,""),s=o.length,l=BASE64_MAP,d=0,h=[];for(n=0;n<s;n++)n%4==0&&n&&(h.push(d>>16&255),h.push(d>>8&255),h.push(255&d)),d=d<<6|l.indexOf(o.charAt(n));return(r=s%4*6)===0?(h.push(d>>16&255),h.push(d>>8&255),h.push(255&d)):r===18?(h.push(d>>10&255),h.push(d>>2&255)):r===12&&h.push(d>>4&255),new Uint8Array(h)}function representYamlBinary(e){var n,r,o="",s=0,l=e.length,d=BASE64_MAP;for(n=0;n<l;n++)n%3==0&&n&&(o+=d[s>>18&63],o+=d[s>>12&63],o+=d[s>>6&63],o+=d[63&s]),s=(s<<8)+e[n];return(r=l%3)===0?(o+=d[s>>18&63],o+=d[s>>12&63],o+=d[s>>6&63],o+=d[63&s]):r===2?(o+=d[s>>10&63],o+=d[s>>4&63],o+=d[s<<2&63],o+=d[64]):r===1&&(o+=d[s>>2&63],o+=d[s<<4&63],o+=d[64],o+=d[64]),o}function isBinary(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var binary=new type("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary,construct:constructYamlBinary,predicate:isBinary,represent:representYamlBinary}),_hasOwnProperty$3=Object.prototype.hasOwnProperty,_toString$2=Object.prototype.toString;function resolveYamlOmap(e){if(e===null)return!0;var n,r,o,s,l,d=[],h=e;for(n=0,r=h.length;n<r;n+=1){if(o=h[n],l=!1,_toString$2.call(o)!=="[object Object]")return!1;for(s in o)if(_hasOwnProperty$3.call(o,s)){if(l)return!1;l=!0}if(!l||d.indexOf(s)!==-1)return!1;d.push(s)}return!0}function constructYamlOmap(e){return e!==null?e:[]}var omap=new type("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap,construct:constructYamlOmap}),_toString$1=Object.prototype.toString;function resolveYamlPairs(e){if(e===null)return!0;var n,r,o,s,l,d=e;for(l=new Array(d.length),n=0,r=d.length;n<r;n+=1){if(o=d[n],_toString$1.call(o)!=="[object Object]"||(s=Object.keys(o)).length!==1)return!1;l[n]=[s[0],o[s[0]]]}return!0}function constructYamlPairs(e){if(e===null)return[];var n,r,o,s,l,d=e;for(l=new Array(d.length),n=0,r=d.length;n<r;n+=1)o=d[n],s=Object.keys(o),l[n]=[s[0],o[s[0]]];return l}var pairs=new type("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs,construct:constructYamlPairs}),_hasOwnProperty$2=Object.prototype.hasOwnProperty;function resolveYamlSet(e){if(e===null)return!0;var n,r=e;for(n in r)if(_hasOwnProperty$2.call(r,n)&&r[n]!==null)return!1;return!0}function constructYamlSet(e){return e!==null?e:{}}var set=new type("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet,construct:constructYamlSet}),_default=core.extend({implicit:[timestamp,merge],explicit:[binary,omap,pairs,set]}),_hasOwnProperty$1=Object.prototype.hasOwnProperty,CONTEXT_FLOW_IN=1,CONTEXT_FLOW_OUT=2,CONTEXT_BLOCK_IN=3,CONTEXT_BLOCK_OUT=4,CHOMPING_CLIP=1,CHOMPING_STRIP=2,CHOMPING_KEEP=3,PATTERN_NON_PRINTABLE=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,PATTERN_NON_ASCII_LINE_BREAKS=/[\x85\u2028\u2029]/,PATTERN_FLOW_INDICATORS=/[,\[\]\{\}]/,PATTERN_TAG_HANDLE=/^(?:!|!!|![a-z\-]+!)$/i,PATTERN_TAG_URI=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class(e){return Object.prototype.toString.call(e)}function is_EOL(e){return e===10||e===13}function is_WHITE_SPACE(e){return e===9||e===32}function is_WS_OR_EOL(e){return e===9||e===32||e===10||e===13}function is_FLOW_INDICATOR(e){return e===44||e===91||e===93||e===123||e===125}function fromHexCode(e){var n;return 48<=e&&e<=57?e-48:97<=(n=32|e)&&n<=102?n-97+10:-1}function escapedHexLen(e){return e===120?2:e===117?4:e===85?8:0}function fromDecimalCode(e){return 48<=e&&e<=57?e-48:-1}function simpleEscapeSequence(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function charFromCodepoint(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}for(var simpleEscapeCheck=new Array(256),simpleEscapeMap=new Array(256),i=0;i<256;i++)simpleEscapeCheck[i]=simpleEscapeSequence(i)?1:0,simpleEscapeMap[i]=simpleEscapeSequence(i);function State$1(e,n){this.input=e,this.filename=n.filename||null,this.schema=n.schema||_default,this.onWarning=n.onWarning||null,this.legacy=n.legacy||!1,this.json=n.json||!1,this.listener=n.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function generateError(e,n){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=snippet(r),new exception(n,r)}function throwError(e,n){throw generateError(e,n)}function throwWarning(e,n){e.onWarning&&e.onWarning.call(null,generateError(e,n))}var directiveHandlers={YAML:function(e,n,r){var o,s,l;e.version!==null&&throwError(e,"duplication of %YAML directive"),r.length!==1&&throwError(e,"YAML directive accepts exactly one argument"),(o=/^([0-9]+)\.([0-9]+)$/.exec(r[0]))===null&&throwError(e,"ill-formed argument of the YAML directive"),s=parseInt(o[1],10),l=parseInt(o[2],10),s!==1&&throwError(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=l<2,l!==1&&l!==2&&throwWarning(e,"unsupported YAML version of the document")},TAG:function(e,n,r){var o,s;r.length!==2&&throwError(e,"TAG directive accepts exactly two arguments"),o=r[0],s=r[1],PATTERN_TAG_HANDLE.test(o)||throwError(e,"ill-formed tag handle (first argument) of the TAG directive"),_hasOwnProperty$1.call(e.tagMap,o)&&throwError(e,'there is a previously declared suffix for "'+o+'" tag handle'),PATTERN_TAG_URI.test(s)||throwError(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{throwError(e,"tag prefix is malformed: "+s)}e.tagMap[o]=s}};function captureSegment(e,n,r,o){var s,l,d,h;if(n<r){if(h=e.input.slice(n,r),o)for(s=0,l=h.length;s<l;s+=1)(d=h.charCodeAt(s))===9||32<=d&&d<=1114111||throwError(e,"expected valid JSON character");else PATTERN_NON_PRINTABLE.test(h)&&throwError(e,"the stream contains non-printable characters");e.result+=h}}function mergeMappings(e,n,r,o){var s,l,d,h;for(common.isObject(r)||throwError(e,"cannot merge mappings; the provided source object is unacceptable"),d=0,h=(s=Object.keys(r)).length;d<h;d+=1)l=s[d],_hasOwnProperty$1.call(n,l)||(n[l]=r[l],o[l]=!0)}function storeMappingPair(e,n,r,o,s,l,d,h,p){var g,y;if(Array.isArray(s))for(g=0,y=(s=Array.prototype.slice.call(s)).length;g<y;g+=1)Array.isArray(s[g])&&throwError(e,"nested arrays are not supported inside keys"),typeof s=="object"&&_class(s[g])==="[object Object]"&&(s[g]="[object Object]");if(typeof s=="object"&&_class(s)==="[object Object]"&&(s="[object Object]"),s=String(s),n===null&&(n={}),o==="tag:yaml.org,2002:merge")if(Array.isArray(l))for(g=0,y=l.length;g<y;g+=1)mergeMappings(e,n,l[g],r);else mergeMappings(e,n,l,r);else e.json||_hasOwnProperty$1.call(r,s)||!_hasOwnProperty$1.call(n,s)||(e.line=d||e.line,e.lineStart=h||e.lineStart,e.position=p||e.position,throwError(e,"duplicated mapping key")),s==="__proto__"?Object.defineProperty(n,s,{configurable:!0,enumerable:!0,writable:!0,value:l}):n[s]=l,delete r[s];return n}function readLineBreak(e){var n;(n=e.input.charCodeAt(e.position))===10?e.position++:n===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):throwError(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function skipSeparationSpace(e,n,r){for(var o=0,s=e.input.charCodeAt(e.position);s!==0;){for(;is_WHITE_SPACE(s);)s===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),s=e.input.charCodeAt(++e.position);if(n&&s===35)do s=e.input.charCodeAt(++e.position);while(s!==10&&s!==13&&s!==0);if(!is_EOL(s))break;for(readLineBreak(e),s=e.input.charCodeAt(e.position),o++,e.lineIndent=0;s===32;)e.lineIndent++,s=e.input.charCodeAt(++e.position)}return r!==-1&&o!==0&&e.lineIndent<r&&throwWarning(e,"deficient indentation"),o}function testDocumentSeparator(e){var n,r=e.position;return!((n=e.input.charCodeAt(r))!==45&&n!==46||n!==e.input.charCodeAt(r+1)||n!==e.input.charCodeAt(r+2)||(r+=3,(n=e.input.charCodeAt(r))!==0&&!is_WS_OR_EOL(n)))}function writeFoldedLines(e,n){n===1?e.result+=" ":n>1&&(e.result+=common.repeat(`
`,n-1))}function readPlainScalar(e,n,r){var o,s,l,d,h,p,g,y,v=e.kind,w=e.result;if(is_WS_OR_EOL(y=e.input.charCodeAt(e.position))||is_FLOW_INDICATOR(y)||y===35||y===38||y===42||y===33||y===124||y===62||y===39||y===34||y===37||y===64||y===96||(y===63||y===45)&&(is_WS_OR_EOL(o=e.input.charCodeAt(e.position+1))||r&&is_FLOW_INDICATOR(o)))return!1;for(e.kind="scalar",e.result="",s=l=e.position,d=!1;y!==0;){if(y===58){if(is_WS_OR_EOL(o=e.input.charCodeAt(e.position+1))||r&&is_FLOW_INDICATOR(o))break}else if(y===35){if(is_WS_OR_EOL(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&testDocumentSeparator(e)||r&&is_FLOW_INDICATOR(y))break;if(is_EOL(y)){if(h=e.line,p=e.lineStart,g=e.lineIndent,skipSeparationSpace(e,!1,-1),e.lineIndent>=n){d=!0,y=e.input.charCodeAt(e.position);continue}e.position=l,e.line=h,e.lineStart=p,e.lineIndent=g;break}}d&&(captureSegment(e,s,l,!1),writeFoldedLines(e,e.line-h),s=l=e.position,d=!1),is_WHITE_SPACE(y)||(l=e.position+1),y=e.input.charCodeAt(++e.position)}return captureSegment(e,s,l,!1),!!e.result||(e.kind=v,e.result=w,!1)}function readSingleQuotedScalar(e,n){var r,o,s;if((r=e.input.charCodeAt(e.position))!==39)return!1;for(e.kind="scalar",e.result="",e.position++,o=s=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39){if(captureSegment(e,o,e.position,!0),(r=e.input.charCodeAt(++e.position))!==39)return!0;o=e.position,e.position++,s=e.position}else is_EOL(r)?(captureSegment(e,o,s,!0),writeFoldedLines(e,skipSeparationSpace(e,!1,n)),o=s=e.position):e.position===e.lineStart&&testDocumentSeparator(e)?throwError(e,"unexpected end of the document within a single quoted scalar"):(e.position++,s=e.position);throwError(e,"unexpected end of the stream within a single quoted scalar")}function readDoubleQuotedScalar(e,n){var r,o,s,l,d,h;if((h=e.input.charCodeAt(e.position))!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=o=e.position;(h=e.input.charCodeAt(e.position))!==0;){if(h===34)return captureSegment(e,r,e.position,!0),e.position++,!0;if(h===92){if(captureSegment(e,r,e.position,!0),is_EOL(h=e.input.charCodeAt(++e.position)))skipSeparationSpace(e,!1,n);else if(h<256&&simpleEscapeCheck[h])e.result+=simpleEscapeMap[h],e.position++;else if((d=escapedHexLen(h))>0){for(s=d,l=0;s>0;s--)(d=fromHexCode(h=e.input.charCodeAt(++e.position)))>=0?l=(l<<4)+d:throwError(e,"expected hexadecimal character");e.result+=charFromCodepoint(l),e.position++}else throwError(e,"unknown escape sequence");r=o=e.position}else is_EOL(h)?(captureSegment(e,r,o,!0),writeFoldedLines(e,skipSeparationSpace(e,!1,n)),r=o=e.position):e.position===e.lineStart&&testDocumentSeparator(e)?throwError(e,"unexpected end of the document within a double quoted scalar"):(e.position++,o=e.position)}throwError(e,"unexpected end of the stream within a double quoted scalar")}function readFlowCollection(e,n){var r,o,s,l,d,h,p,g,y,v,w,k,F=!0,q=e.tag,_r=e.anchor,ga=Object.create(null);if((k=e.input.charCodeAt(e.position))===91)d=93,g=!1,l=[];else{if(k!==123)return!1;d=125,g=!0,l={}}for(e.anchor!==null&&(e.anchorMap[e.anchor]=l),k=e.input.charCodeAt(++e.position);k!==0;){if(skipSeparationSpace(e,!0,n),(k=e.input.charCodeAt(e.position))===d)return e.position++,e.tag=q,e.anchor=_r,e.kind=g?"mapping":"sequence",e.result=l,!0;F?k===44&&throwError(e,"expected the node content, but found ','"):throwError(e,"missed comma between flow collection entries"),w=null,h=p=!1,k===63&&is_WS_OR_EOL(e.input.charCodeAt(e.position+1))&&(h=p=!0,e.position++,skipSeparationSpace(e,!0,n)),r=e.line,o=e.lineStart,s=e.position,composeNode(e,n,CONTEXT_FLOW_IN,!1,!0),v=e.tag,y=e.result,skipSeparationSpace(e,!0,n),k=e.input.charCodeAt(e.position),!p&&e.line!==r||k!==58||(h=!0,k=e.input.charCodeAt(++e.position),skipSeparationSpace(e,!0,n),composeNode(e,n,CONTEXT_FLOW_IN,!1,!0),w=e.result),g?storeMappingPair(e,l,ga,v,y,w,r,o,s):h?l.push(storeMappingPair(e,null,ga,v,y,w,r,o,s)):l.push(y),skipSeparationSpace(e,!0,n),(k=e.input.charCodeAt(e.position))===44?(F=!0,k=e.input.charCodeAt(++e.position)):F=!1}throwError(e,"unexpected end of the stream within a flow collection")}function readBlockScalar(e,n){var r,o,s,l,d=CHOMPING_CLIP,h=!1,p=!1,g=n,y=0,v=!1;if((l=e.input.charCodeAt(e.position))===124)o=!1;else{if(l!==62)return!1;o=!0}for(e.kind="scalar",e.result="";l!==0;)if((l=e.input.charCodeAt(++e.position))===43||l===45)CHOMPING_CLIP===d?d=l===43?CHOMPING_KEEP:CHOMPING_STRIP:throwError(e,"repeat of a chomping mode identifier");else{if(!((s=fromDecimalCode(l))>=0))break;s===0?throwError(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):p?throwError(e,"repeat of an indentation width identifier"):(g=n+s-1,p=!0)}if(is_WHITE_SPACE(l)){do l=e.input.charCodeAt(++e.position);while(is_WHITE_SPACE(l));if(l===35)do l=e.input.charCodeAt(++e.position);while(!is_EOL(l)&&l!==0)}for(;l!==0;){for(readLineBreak(e),e.lineIndent=0,l=e.input.charCodeAt(e.position);(!p||e.lineIndent<g)&&l===32;)e.lineIndent++,l=e.input.charCodeAt(++e.position);if(!p&&e.lineIndent>g&&(g=e.lineIndent),is_EOL(l))y++;else{if(e.lineIndent<g){d===CHOMPING_KEEP?e.result+=common.repeat(`
`,h?1+y:y):d===CHOMPING_CLIP&&h&&(e.result+=`
`);break}for(o?is_WHITE_SPACE(l)?(v=!0,e.result+=common.repeat(`
`,h?1+y:y)):v?(v=!1,e.result+=common.repeat(`
`,y+1)):y===0?h&&(e.result+=" "):e.result+=common.repeat(`
`,y):e.result+=common.repeat(`
`,h?1+y:y),h=!0,p=!0,y=0,r=e.position;!is_EOL(l)&&l!==0;)l=e.input.charCodeAt(++e.position);captureSegment(e,r,e.position,!1)}}return!0}function readBlockSequence(e,n){var r,o,s=e.tag,l=e.anchor,d=[],h=!1;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=d),o=e.input.charCodeAt(e.position);o!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,throwError(e,"tab characters must not be used in indentation")),o===45)&&is_WS_OR_EOL(e.input.charCodeAt(e.position+1));)if(h=!0,e.position++,skipSeparationSpace(e,!0,-1)&&e.lineIndent<=n)d.push(null),o=e.input.charCodeAt(e.position);else if(r=e.line,composeNode(e,n,CONTEXT_BLOCK_IN,!1,!0),d.push(e.result),skipSeparationSpace(e,!0,-1),o=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>n)&&o!==0)throwError(e,"bad indentation of a sequence entry");else if(e.lineIndent<n)break;return!!h&&(e.tag=s,e.anchor=l,e.kind="sequence",e.result=d,!0)}function readBlockMapping(e,n,r){var o,s,l,d,h,p,g,y=e.tag,v=e.anchor,w={},k=Object.create(null),F=null,q=null,_r=null,ga=!1,La=!1;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=w),g=e.input.charCodeAt(e.position);g!==0;){if(ga||e.firstTabInLine===-1||(e.position=e.firstTabInLine,throwError(e,"tab characters must not be used in indentation")),o=e.input.charCodeAt(e.position+1),l=e.line,g!==63&&g!==58||!is_WS_OR_EOL(o)){if(d=e.line,h=e.lineStart,p=e.position,!composeNode(e,r,CONTEXT_FLOW_OUT,!1,!0))break;if(e.line===l){for(g=e.input.charCodeAt(e.position);is_WHITE_SPACE(g);)g=e.input.charCodeAt(++e.position);if(g===58)is_WS_OR_EOL(g=e.input.charCodeAt(++e.position))||throwError(e,"a whitespace character is expected after the key-value separator within a block mapping"),ga&&(storeMappingPair(e,w,k,F,q,null,d,h,p),F=q=_r=null),La=!0,ga=!1,s=!1,F=e.tag,q=e.result;else{if(!La)return e.tag=y,e.anchor=v,!0;throwError(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!La)return e.tag=y,e.anchor=v,!0;throwError(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else g===63?(ga&&(storeMappingPair(e,w,k,F,q,null,d,h,p),F=q=_r=null),La=!0,ga=!0,s=!0):ga?(ga=!1,s=!0):throwError(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,g=o;if((e.line===l||e.lineIndent>n)&&(ga&&(d=e.line,h=e.lineStart,p=e.position),composeNode(e,n,CONTEXT_BLOCK_OUT,!0,s)&&(ga?q=e.result:_r=e.result),ga||(storeMappingPair(e,w,k,F,q,_r,d,h,p),F=q=_r=null),skipSeparationSpace(e,!0,-1),g=e.input.charCodeAt(e.position)),(e.line===l||e.lineIndent>n)&&g!==0)throwError(e,"bad indentation of a mapping entry");else if(e.lineIndent<n)break}return ga&&storeMappingPair(e,w,k,F,q,null,d,h,p),La&&(e.tag=y,e.anchor=v,e.kind="mapping",e.result=w),La}function readTagProperty(e){var n,r,o,s,l=!1,d=!1;if((s=e.input.charCodeAt(e.position))!==33)return!1;if(e.tag!==null&&throwError(e,"duplication of a tag property"),(s=e.input.charCodeAt(++e.position))===60?(l=!0,s=e.input.charCodeAt(++e.position)):s===33?(d=!0,r="!!",s=e.input.charCodeAt(++e.position)):r="!",n=e.position,l){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(o=e.input.slice(n,e.position),s=e.input.charCodeAt(++e.position)):throwError(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!is_WS_OR_EOL(s);)s===33&&(d?throwError(e,"tag suffix cannot contain exclamation marks"):(r=e.input.slice(n-1,e.position+1),PATTERN_TAG_HANDLE.test(r)||throwError(e,"named tag handle cannot contain such characters"),d=!0,n=e.position+1)),s=e.input.charCodeAt(++e.position);o=e.input.slice(n,e.position),PATTERN_FLOW_INDICATORS.test(o)&&throwError(e,"tag suffix cannot contain flow indicator characters")}o&&!PATTERN_TAG_URI.test(o)&&throwError(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{throwError(e,"tag name is malformed: "+o)}return l?e.tag=o:_hasOwnProperty$1.call(e.tagMap,r)?e.tag=e.tagMap[r]+o:r==="!"?e.tag="!"+o:r==="!!"?e.tag="tag:yaml.org,2002:"+o:throwError(e,'undeclared tag handle "'+r+'"'),!0}function readAnchorProperty(e){var n,r;if((r=e.input.charCodeAt(e.position))!==38)return!1;for(e.anchor!==null&&throwError(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),n=e.position;r!==0&&!is_WS_OR_EOL(r)&&!is_FLOW_INDICATOR(r);)r=e.input.charCodeAt(++e.position);return e.position===n&&throwError(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(n,e.position),!0}function readAlias(e){var n,r,o;if((o=e.input.charCodeAt(e.position))!==42)return!1;for(o=e.input.charCodeAt(++e.position),n=e.position;o!==0&&!is_WS_OR_EOL(o)&&!is_FLOW_INDICATOR(o);)o=e.input.charCodeAt(++e.position);return e.position===n&&throwError(e,"name of an alias node must contain at least one character"),r=e.input.slice(n,e.position),_hasOwnProperty$1.call(e.anchorMap,r)||throwError(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],skipSeparationSpace(e,!0,-1),!0}function composeNode(e,n,r,o,s){var l,d,h,p,g,y,v,w,k,F=1,q=!1,_r=!1;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,l=d=h=CONTEXT_BLOCK_OUT===r||CONTEXT_BLOCK_IN===r,o&&skipSeparationSpace(e,!0,-1)&&(q=!0,e.lineIndent>n?F=1:e.lineIndent===n?F=0:e.lineIndent<n&&(F=-1)),F===1)for(;readTagProperty(e)||readAnchorProperty(e);)skipSeparationSpace(e,!0,-1)?(q=!0,h=l,e.lineIndent>n?F=1:e.lineIndent===n?F=0:e.lineIndent<n&&(F=-1)):h=!1;if(h&&(h=q||s),F!==1&&CONTEXT_BLOCK_OUT!==r||(w=CONTEXT_FLOW_IN===r||CONTEXT_FLOW_OUT===r?n:n+1,k=e.position-e.lineStart,F===1?h&&(readBlockSequence(e,k)||readBlockMapping(e,k,w))||readFlowCollection(e,w)?_r=!0:(d&&readBlockScalar(e,w)||readSingleQuotedScalar(e,w)||readDoubleQuotedScalar(e,w)?_r=!0:readAlias(e)?(_r=!0,e.tag===null&&e.anchor===null||throwError(e,"alias node should not have any properties")):readPlainScalar(e,w,CONTEXT_FLOW_IN===r)&&(_r=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):F===0&&(_r=h&&readBlockSequence(e,k))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&throwError(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),p=0,g=e.implicitTypes.length;p<g;p+=1)if((v=e.implicitTypes[p]).resolve(e.result)){e.result=v.construct(e.result),e.tag=v.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(_hasOwnProperty$1.call(e.typeMap[e.kind||"fallback"],e.tag))v=e.typeMap[e.kind||"fallback"][e.tag];else for(v=null,p=0,g=(y=e.typeMap.multi[e.kind||"fallback"]).length;p<g;p+=1)if(e.tag.slice(0,y[p].tag.length)===y[p].tag){v=y[p];break}v||throwError(e,"unknown tag !<"+e.tag+">"),e.result!==null&&v.kind!==e.kind&&throwError(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+v.kind+'", not "'+e.kind+'"'),v.resolve(e.result,e.tag)?(e.result=v.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):throwError(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||_r}function readDocument(e){var n,r,o,s,l=e.position,d=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(s=e.input.charCodeAt(e.position))!==0&&(skipSeparationSpace(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(d=!0,s=e.input.charCodeAt(++e.position),n=e.position;s!==0&&!is_WS_OR_EOL(s);)s=e.input.charCodeAt(++e.position);for(o=[],(r=e.input.slice(n,e.position)).length<1&&throwError(e,"directive name must not be less than one character in length");s!==0;){for(;is_WHITE_SPACE(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!is_EOL(s));break}if(is_EOL(s))break;for(n=e.position;s!==0&&!is_WS_OR_EOL(s);)s=e.input.charCodeAt(++e.position);o.push(e.input.slice(n,e.position))}s!==0&&readLineBreak(e),_hasOwnProperty$1.call(directiveHandlers,r)?directiveHandlers[r](e,r,o):throwWarning(e,'unknown document directive "'+r+'"')}skipSeparationSpace(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,skipSeparationSpace(e,!0,-1)):d&&throwError(e,"directives end mark is expected"),composeNode(e,e.lineIndent-1,CONTEXT_BLOCK_OUT,!1,!0),skipSeparationSpace(e,!0,-1),e.checkLineBreaks&&PATTERN_NON_ASCII_LINE_BREAKS.test(e.input.slice(l,e.position))&&throwWarning(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&testDocumentSeparator(e)?e.input.charCodeAt(e.position)===46&&(e.position+=3,skipSeparationSpace(e,!0,-1)):e.position<e.length-1&&throwError(e,"end of the stream or a document separator is expected")}function loadDocuments(e,n){n=n||{},(e=String(e)).length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new State$1(e,n),o=e.indexOf("\0");for(o!==-1&&(r.position=o,throwError(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)readDocument(r);return r.documents}function loadAll$1(e,n,r){n!==null&&typeof n=="object"&&r===void 0&&(r=n,n=null);var o=loadDocuments(e,r);if(typeof n!="function")return o;for(var s=0,l=o.length;s<l;s+=1)n(o[s])}function load$1(e,n){var r=loadDocuments(e,n);if(r.length!==0){if(r.length===1)return r[0];throw new exception("expected a single document in the stream, but found more")}}var loadAll_1=loadAll$1,load_1=load$1,loader={loadAll:loadAll_1,load:load_1},_toString=Object.prototype.toString,_hasOwnProperty=Object.prototype.hasOwnProperty,CHAR_BOM=65279,CHAR_TAB=9,CHAR_LINE_FEED=10,CHAR_CARRIAGE_RETURN=13,CHAR_SPACE=32,CHAR_EXCLAMATION=33,CHAR_DOUBLE_QUOTE=34,CHAR_SHARP=35,CHAR_PERCENT=37,CHAR_AMPERSAND=38,CHAR_SINGLE_QUOTE=39,CHAR_ASTERISK=42,CHAR_COMMA=44,CHAR_MINUS=45,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_GREATER_THAN=62,CHAR_QUESTION=63,CHAR_COMMERCIAL_AT=64,CHAR_LEFT_SQUARE_BRACKET=91,CHAR_RIGHT_SQUARE_BRACKET=93,CHAR_GRAVE_ACCENT=96,CHAR_LEFT_CURLY_BRACKET=123,CHAR_VERTICAL_LINE=124,CHAR_RIGHT_CURLY_BRACKET=125,ESCAPE_SEQUENCES={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},DEPRECATED_BOOLEANS_SYNTAX=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],DEPRECATED_BASE60_SYNTAX=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function compileStyleMap(e,n){var r,o,s,l,d,h,p;if(n===null)return{};for(r={},s=0,l=(o=Object.keys(n)).length;s<l;s+=1)d=o[s],h=String(n[d]),d.slice(0,2)==="!!"&&(d="tag:yaml.org,2002:"+d.slice(2)),(p=e.compiledTypeMap.fallback[d])&&_hasOwnProperty.call(p.styleAliases,h)&&(h=p.styleAliases[h]),r[d]=h;return r}function encodeHex(e){var n,r,o;if(n=e.toString(16).toUpperCase(),e<=255)r="x",o=2;else if(e<=65535)r="u",o=4;else{if(!(e<=4294967295))throw new exception("code point within a string may not be greater than 0xFFFFFFFF");r="U",o=8}return"\\"+r+common.repeat("0",o-n.length)+n}var QUOTING_TYPE_SINGLE=1,QUOTING_TYPE_DOUBLE=2;function State(e){this.schema=e.schema||_default,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=common.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=compileStyleMap(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?QUOTING_TYPE_DOUBLE:QUOTING_TYPE_SINGLE,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function indentString(e,n){for(var r,o=common.repeat(" ",n),s=0,l=-1,d="",h=e.length;s<h;)(l=e.indexOf(`
`,s))===-1?(r=e.slice(s),s=h):(r=e.slice(s,l+1),s=l+1),r.length&&r!==`
`&&(d+=o),d+=r;return d}function generateNextLine(e,n){return`
`+common.repeat(" ",e.indent*n)}function testImplicitResolving(e,n){var r,o;for(r=0,o=e.implicitTypes.length;r<o;r+=1)if(e.implicitTypes[r].resolve(n))return!0;return!1}function isWhitespace(e){return e===CHAR_SPACE||e===CHAR_TAB}function isPrintable(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==CHAR_BOM||65536<=e&&e<=1114111}function isNsCharOrWhitespace(e){return isPrintable(e)&&e!==CHAR_BOM&&e!==CHAR_CARRIAGE_RETURN&&e!==CHAR_LINE_FEED}function isPlainSafe(e,n,r){var o=isNsCharOrWhitespace(e),s=o&&!isWhitespace(e);return(r?o:o&&e!==CHAR_COMMA&&e!==CHAR_LEFT_SQUARE_BRACKET&&e!==CHAR_RIGHT_SQUARE_BRACKET&&e!==CHAR_LEFT_CURLY_BRACKET&&e!==CHAR_RIGHT_CURLY_BRACKET)&&e!==CHAR_SHARP&&!(n===CHAR_COLON&&!s)||isNsCharOrWhitespace(n)&&!isWhitespace(n)&&e===CHAR_SHARP||n===CHAR_COLON&&s}function isPlainSafeFirst(e){return isPrintable(e)&&e!==CHAR_BOM&&!isWhitespace(e)&&e!==CHAR_MINUS&&e!==CHAR_QUESTION&&e!==CHAR_COLON&&e!==CHAR_COMMA&&e!==CHAR_LEFT_SQUARE_BRACKET&&e!==CHAR_RIGHT_SQUARE_BRACKET&&e!==CHAR_LEFT_CURLY_BRACKET&&e!==CHAR_RIGHT_CURLY_BRACKET&&e!==CHAR_SHARP&&e!==CHAR_AMPERSAND&&e!==CHAR_ASTERISK&&e!==CHAR_EXCLAMATION&&e!==CHAR_VERTICAL_LINE&&e!==CHAR_EQUALS&&e!==CHAR_GREATER_THAN&&e!==CHAR_SINGLE_QUOTE&&e!==CHAR_DOUBLE_QUOTE&&e!==CHAR_PERCENT&&e!==CHAR_COMMERCIAL_AT&&e!==CHAR_GRAVE_ACCENT}function isPlainSafeLast(e){return!isWhitespace(e)&&e!==CHAR_COLON}function codePointAt(e,n){var r,o=e.charCodeAt(n);return o>=55296&&o<=56319&&n+1<e.length&&(r=e.charCodeAt(n+1))>=56320&&r<=57343?1024*(o-55296)+r-56320+65536:o}function needIndentIndicator(e){return/^\n* /.test(e)}var STYLE_PLAIN=1,STYLE_SINGLE=2,STYLE_LITERAL=3,STYLE_FOLDED=4,STYLE_DOUBLE=5;function chooseScalarStyle(e,n,r,o,s,l,d,h){var p,g=0,y=null,v=!1,w=!1,k=o!==-1,F=-1,q=isPlainSafeFirst(codePointAt(e,0))&&isPlainSafeLast(codePointAt(e,e.length-1));if(n||d)for(p=0;p<e.length;g>=65536?p+=2:p++){if(!isPrintable(g=codePointAt(e,p)))return STYLE_DOUBLE;q=q&&isPlainSafe(g,y,h),y=g}else{for(p=0;p<e.length;g>=65536?p+=2:p++){if((g=codePointAt(e,p))===CHAR_LINE_FEED)v=!0,k&&(w=w||p-F-1>o&&e[F+1]!==" ",F=p);else if(!isPrintable(g))return STYLE_DOUBLE;q=q&&isPlainSafe(g,y,h),y=g}w=w||k&&p-F-1>o&&e[F+1]!==" "}return v||w?r>9&&needIndentIndicator(e)?STYLE_DOUBLE:d?l===QUOTING_TYPE_DOUBLE?STYLE_DOUBLE:STYLE_SINGLE:w?STYLE_FOLDED:STYLE_LITERAL:!q||d||s(e)?l===QUOTING_TYPE_DOUBLE?STYLE_DOUBLE:STYLE_SINGLE:STYLE_PLAIN}function writeScalar(e,n,r,o,s){e.dump=function(){if(n.length===0)return e.quotingType===QUOTING_TYPE_DOUBLE?'""':"''";if(!e.noCompatMode&&(DEPRECATED_BOOLEANS_SYNTAX.indexOf(n)!==-1||DEPRECATED_BASE60_SYNTAX.test(n)))return e.quotingType===QUOTING_TYPE_DOUBLE?'"'+n+'"':"'"+n+"'";var l=e.indent*Math.max(1,r),d=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-l),h=o||e.flowLevel>-1&&r>=e.flowLevel;switch(chooseScalarStyle(n,h,e.indent,d,function(p){return testImplicitResolving(e,p)},e.quotingType,e.forceQuotes&&!o,s)){case STYLE_PLAIN:return n;case STYLE_SINGLE:return"'"+n.replace(/'/g,"''")+"'";case STYLE_LITERAL:return"|"+blockHeader(n,e.indent)+dropEndingNewline(indentString(n,l));case STYLE_FOLDED:return">"+blockHeader(n,e.indent)+dropEndingNewline(indentString(foldString(n,d),l));case STYLE_DOUBLE:return'"'+escapeString(n)+'"';default:throw new exception("impossible error: invalid scalar style")}}()}function blockHeader(e,n){var r=needIndentIndicator(e)?String(n):"",o=e[e.length-1]===`
`;return r+(o&&(e[e.length-2]===`
`||e===`
`)?"+":o?"":"-")+`
`}function dropEndingNewline(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function foldString(e,n){for(var r,o,s,l=/(\n+)([^\n]*)/g,d=(r=(r=e.indexOf(`
`))!==-1?r:e.length,l.lastIndex=r,foldLine(e.slice(0,r),n)),h=e[0]===`
`||e[0]===" ";s=l.exec(e);){var p=s[1],g=s[2];o=g[0]===" ",d+=p+(h||o||g===""?"":`
`)+foldLine(g,n),h=o}return d}function foldLine(e,n){if(e===""||e[0]===" ")return e;for(var r,o,s=/ [^ ]/g,l=0,d=0,h=0,p="";r=s.exec(e);)(h=r.index)-l>n&&(o=d>l?d:h,p+=`
`+e.slice(l,o),l=o+1),d=h;return p+=`
`,e.length-l>n&&d>l?p+=e.slice(l,d)+`
`+e.slice(d+1):p+=e.slice(l),p.slice(1)}function escapeString(e){for(var n,r="",o=0,s=0;s<e.length;o>=65536?s+=2:s++)o=codePointAt(e,s),!(n=ESCAPE_SEQUENCES[o])&&isPrintable(o)?(r+=e[s],o>=65536&&(r+=e[s+1])):r+=n||encodeHex(o);return r}function writeFlowSequence(e,n,r){var o,s,l,d="",h=e.tag;for(o=0,s=r.length;o<s;o+=1)l=r[o],e.replacer&&(l=e.replacer.call(r,String(o),l)),(writeNode(e,n,l,!1,!1)||l===void 0&&writeNode(e,n,null,!1,!1))&&(d!==""&&(d+=","+(e.condenseFlow?"":" ")),d+=e.dump);e.tag=h,e.dump="["+d+"]"}function writeBlockSequence(e,n,r,o){var s,l,d,h="",p=e.tag;for(s=0,l=r.length;s<l;s+=1)d=r[s],e.replacer&&(d=e.replacer.call(r,String(s),d)),(writeNode(e,n+1,d,!0,!0,!1,!0)||d===void 0&&writeNode(e,n+1,null,!0,!0,!1,!0))&&(o&&h===""||(h+=generateNextLine(e,n)),e.dump&&CHAR_LINE_FEED===e.dump.charCodeAt(0)?h+="-":h+="- ",h+=e.dump);e.tag=p,e.dump=h||"[]"}function writeFlowMapping(e,n,r){var o,s,l,d,h,p="",g=e.tag,y=Object.keys(r);for(o=0,s=y.length;o<s;o+=1)h="",p!==""&&(h+=", "),e.condenseFlow&&(h+='"'),d=r[l=y[o]],e.replacer&&(d=e.replacer.call(r,l,d)),writeNode(e,n,l,!1,!1)&&(e.dump.length>1024&&(h+="? "),h+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),writeNode(e,n,d,!1,!1)&&(p+=h+=e.dump));e.tag=g,e.dump="{"+p+"}"}function writeBlockMapping(e,n,r,o){var s,l,d,h,p,g,y="",v=e.tag,w=Object.keys(r);if(e.sortKeys===!0)w.sort();else if(typeof e.sortKeys=="function")w.sort(e.sortKeys);else if(e.sortKeys)throw new exception("sortKeys must be a boolean or a function");for(s=0,l=w.length;s<l;s+=1)g="",o&&y===""||(g+=generateNextLine(e,n)),h=r[d=w[s]],e.replacer&&(h=e.replacer.call(r,d,h)),writeNode(e,n+1,d,!0,!0,!0)&&((p=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024)&&(e.dump&&CHAR_LINE_FEED===e.dump.charCodeAt(0)?g+="?":g+="? "),g+=e.dump,p&&(g+=generateNextLine(e,n)),writeNode(e,n+1,h,!0,p)&&(e.dump&&CHAR_LINE_FEED===e.dump.charCodeAt(0)?g+=":":g+=": ",y+=g+=e.dump));e.tag=v,e.dump=y||"{}"}function detectType(e,n,r){var o,s,l,d,h,p;for(l=0,d=(s=r?e.explicitTypes:e.implicitTypes).length;l<d;l+=1)if(((h=s[l]).instanceOf||h.predicate)&&(!h.instanceOf||typeof n=="object"&&n instanceof h.instanceOf)&&(!h.predicate||h.predicate(n))){if(r?h.multi&&h.representName?e.tag=h.representName(n):e.tag=h.tag:e.tag="?",h.represent){if(p=e.styleMap[h.tag]||h.defaultStyle,_toString.call(h.represent)==="[object Function]")o=h.represent(n,p);else{if(!_hasOwnProperty.call(h.represent,p))throw new exception("!<"+h.tag+'> tag resolver accepts not "'+p+'" style');o=h.represent[p](n,p)}e.dump=o}return!0}return!1}function writeNode(e,n,r,o,s,l,d){e.tag=null,e.dump=r,detectType(e,r,!1)||detectType(e,r,!0);var h,p=_toString.call(e.dump),g=o;o&&(o=e.flowLevel<0||e.flowLevel>n);var y,v,w=p==="[object Object]"||p==="[object Array]";if(w&&(v=(y=e.duplicates.indexOf(r))!==-1),(e.tag!==null&&e.tag!=="?"||v||e.indent!==2&&n>0)&&(s=!1),v&&e.usedDuplicates[y])e.dump="*ref_"+y;else{if(w&&v&&!e.usedDuplicates[y]&&(e.usedDuplicates[y]=!0),p==="[object Object]")o&&Object.keys(e.dump).length!==0?(writeBlockMapping(e,n,e.dump,s),v&&(e.dump="&ref_"+y+e.dump)):(writeFlowMapping(e,n,e.dump),v&&(e.dump="&ref_"+y+" "+e.dump));else if(p==="[object Array]")o&&e.dump.length!==0?(e.noArrayIndent&&!d&&n>0?writeBlockSequence(e,n-1,e.dump,s):writeBlockSequence(e,n,e.dump,s),v&&(e.dump="&ref_"+y+e.dump)):(writeFlowSequence(e,n,e.dump),v&&(e.dump="&ref_"+y+" "+e.dump));else{if(p!=="[object String]"){if(p==="[object Undefined]"||e.skipInvalid)return!1;throw new exception("unacceptable kind of an object to dump "+p)}e.tag!=="?"&&writeScalar(e,e.dump,n,l,g)}e.tag!==null&&e.tag!=="?"&&(h=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),h=e.tag[0]==="!"?"!"+h:h.slice(0,18)==="tag:yaml.org,2002:"?"!!"+h.slice(18):"!<"+h+">",e.dump=h+" "+e.dump)}return!0}function getDuplicateReferences(e,n){var r,o,s=[],l=[];for(inspectNode(e,s,l),r=0,o=l.length;r<o;r+=1)n.duplicates.push(s[l[r]]);n.usedDuplicates=new Array(o)}function inspectNode(e,n,r){var o,s,l;if(e!==null&&typeof e=="object")if((s=n.indexOf(e))!==-1)r.indexOf(s)===-1&&r.push(s);else if(n.push(e),Array.isArray(e))for(s=0,l=e.length;s<l;s+=1)inspectNode(e[s],n,r);else for(s=0,l=(o=Object.keys(e)).length;s<l;s+=1)inspectNode(e[o[s]],n,r)}function dump$1(e,n){var r=new State(n=n||{});r.noRefs||getDuplicateReferences(e,r);var o=e;return r.replacer&&(o=r.replacer.call({"":o},"",o)),writeNode(r,0,o,!0,!0)?r.dump+`
`:""}var dump_1=dump$1,dumper={dump:dump_1};function renamed(e,n){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+n+" instead, which is now safe by default.")}}var Type=type,Schema=schema,FAILSAFE_SCHEMA=failsafe,JSON_SCHEMA=json,CORE_SCHEMA=core,DEFAULT_SCHEMA=_default,load=loader.load,loadAll=loader.loadAll,dump=dumper.dump,YAMLException=exception,types={binary,float,map,null:_null,pairs,set,timestamp,bool,int,merge,omap,seq,str},safeLoad=renamed("safeLoad","load"),safeLoadAll=renamed("safeLoadAll","loadAll"),safeDump=renamed("safeDump","dump"),jsYaml={Type,Schema,FAILSAFE_SCHEMA,JSON_SCHEMA,CORE_SCHEMA,DEFAULT_SCHEMA,load,loadAll,dump,YAMLException,types,safeLoad,safeLoadAll,safeDump},SceneBundle=function(){return _createClass(function e(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;_classCallCheck(this,e),this.url=n,!r||isRelativeURL(r)&&!isRelativeURL(this.url)?this.path=pathForURL(this.url):this.path=r,this.path_for_parent=r||this.path,this.parent=o,this.container=null,this.parent&&(this.parent.container?this.container=this.parent.container:this.parent.isContainer()&&(this.container=this.parent))},[{key:"load",value:function(){return loadResource(this.url)}},{key:"resourceFor",value:function(e){return{url:this.urlFor(e),path:this.pathFor(e),type:this.typeFor(e)}}},{key:"urlFor",value:function(e){return isGlobal(e)?e:isRelativeURL(e)&&this.container?this.parent.urlFor(this.path_for_parent+e):addBaseURL(e,this.path)}},{key:"pathFor",value:function(e){return pathForURL(e)}},{key:"typeFor",value:function(e){return extensionForURL(e)}},{key:"isContainer",value:function(){return!1}}])}();function createSceneBundle(e,n,r){return new SceneBundle(e,n,r)}function isGlobal(e){return!(!e||e.slice(0,7)!=="global.")}function parseResource(e){var n;try{n=jsYaml.load(e,{json:!0})}catch(r){throw r}return n}function loadResource(e){return new Promise(function(n,r){typeof e=="string"?Utils$1.io(e).then(function(o){try{var s=parseResource(o);n(s)}catch(l){r(l)}},r):(e=Object.assign({},e),n(e))})}function notNull(e){return e!=null}function wrap(e){return"("+e+")"}function maybeQuote(e){return typeof e=="string"?'"'+e+'"':e}function lookUp(e){return e[0]==="$"?"context['"+e.substring(1)+"']":"context.feature.properties['"+e+"']"}function nullValue(e,n){return" true "}function propertyEqual(e,n){return wrap(maybeQuote(n)+" === "+lookUp(e))}function propertyOr(e,n){return wrap(n.map(function(r){return propertyEqual(e,r)}).join(" || "))}function printNested(e,n){return wrap(e.filter(notNull).map(function(r){return wrap(r.join(" && "))}).join(" "+n+" "))}function any(e,n,r){return n&&n.length>0?printNested(n.map(function(o){return parseFilter(o,r)}),"||"):"true"}function all(e,n,r){return n&&n.length>0?printNested(n.map(function(o){return parseFilter(o,r)}),"&&"):"true"}function not(e,n,r){return"!"+wrap(parseFilter(n,r).join(" && "))}function none(e,n,r){return"!"+wrap(any(null,n,r))}function propertyMatchesBoolean(e,n){return wrap(lookUp(e)+(n?" != ":" == ")+"null")}function rangeMatch(e,n,r){var o=[],s=r&&typeof r.rangeTransform=="function"&&r.rangeTransform;if(n.max){var l=s?s(n.max):n.max;o.push(lookUp(e)+" < "+l)}if(n.min){var d=s?d=s(n.min):n.min;o.push(lookUp(e)+" >= "+d)}return wrap(o.join(" && "))}function parseFilter(e,n){var r=[];if(typeof e=="function")return[wrap(e.toString()+"(context)")];if(Array.isArray(e))return[any(null,e,n)];if(e==null)return["true"];for(var o=Object.keys(e),s=0;s<o.length;s++){var l=o[s],d=e[l],h=_typeof(d);if(h==="string"||h==="number")r.push(propertyEqual(l,d));else if(h==="boolean")r.push(propertyMatchesBoolean(l,d));else if(l==="not")r.push(not(l,d,n));else if(l==="any")r.push(any(l,d,n));else if(l==="all")r.push(all(l,d,n));else if(l==="none")r.push(none(l,d,n));else if(Array.isArray(d))r.push(propertyOr(l,d));else if(h==="object"&&d!=null)(d.max||d.min)&&r.push(rangeMatch(l,d,n));else{if(d!=null)throw new Error("Unknown Query syntax: "+d);r.push(nullValue())}}return o.length===0?["true"]:r}function filterToString(e){return wrap(e.join(" && "))}function buildFilter(e,n){return e==null?function(){return!0}:new Function("context","return "+filterToString(parseFilter(e,n))+";")}var reserved=["filter","draw","visible","enabled","data"],layer_cache={};function cacheKey(e){if(e.length>1){for(var n=e[0],r=1;r<e.length;r++)n+="/"+e[r];return n}return e[0]}function mergeTrees(e,n){for(var r,o=0,s=0;s<e.length;s++)e[s].length>o&&(o=e[s].length);if(o===0)return null;for(var l={visible:!0},d=function(p){if(r=[],e.forEach(function(g){g[p]&&g[p][n]&&r.indexOf(g[p][n])===-1&&r.push(g[p][n])}),r.length===0)return 1;r.sort(function(g,y){return(g&&g.layer_name)>(y&&y.layer_name)?1:-1}),mergeObjects.apply(void 0,[l].concat(_toConsumableArray(r))),delete l.layer_name},h=0;h<o;h++)d(h);return l.visible===!1?null:l}var blacklist=["any","all","not","none"],Layer=function(){return _createClass(function e(n){var r=n.layer,o=n.name,s=n.parent,l=n.draw,d=n.visible,h=n.enabled,p=n.filter,g=n.styles;if(_classCallCheck(this,e),this.id=e.id++,this.config_data=r.data,this.parent=s,this.name=o,this.full_name=this.parent?this.parent.full_name+":"+this.name:this.name,this.draw=l,this.filter=p,this.styles=g,this.is_built=!1,h=h===void 0?d:h,this.parent&&this.parent.visible===!1?this.enabled=!1:this.enabled=h!==!1,this.draw)for(var y in this.draw)if(this.draw[y]=this.draw[y]==null?{}:this.draw[y],_typeof(this.draw[y])!=="object"){var v="Draw group '".concat(y,"' for layer ").concat(this.full_name," is invalid, must be an object, ");log("warn",v+="but was set to `".concat(y,": ").concat(this.draw[y],"` instead")),delete this.draw[y]}else this.draw[y].layer_name=this.full_name},[{key:"build",value:function(){log("trace","Building layer '".concat(this.full_name,"'")),this.buildFilter(),this.buildDraw(),this.is_built=!0}},{key:"buildDraw",value:function(){this.draw=Utils$1.stringsToFunctions(this.draw,StyleParser.wrapFunction),this.calculatedDraw=calculateDraw(this)}},{key:"buildFilter",value:function(){this.filter_original=this.filter,this.filter=Utils$1.stringsToFunctions(this.filter,StyleParser.wrapFunction);var e=_typeof(this.filter);if(this.filter==null||e==="object"||e==="function")try{this.buildZooms(),this.buildPropMatches(),this.filter!=null&&(typeof this.filter=="function"||Object.keys(this.filter).length>0)?this.filter=buildFilter(this.filter,FilterOptions):this.filter=null}catch(o){var n="Filter for layer ".concat(this.full_name," is invalid, `filter: ").concat(JSON.stringify(this.filter),"` ");log("warn",n+="failed with error '".concat(o.message,"', stack trace: ").concat(o.stack))}else{var r="Filter for layer ".concat(this.full_name," is invalid, filter value must be an object or function, ");log("warn",r+="but was set to `filter: ".concat(this.filter,"` instead"))}}},{key:"buildZooms",value:function(){var e=this.filter&&this.filter.$zoom,n=_typeof(e);if(e!=null&&n!=="function"){if(this.zooms={},n==="number")this.zooms[e]=!0;else if(Array.isArray(e))for(var r=0;r<e.length;r++)this.zooms[e[r]]=!0;else if(n==="object"&&(e.min!=null||e.max!=null))for(var o=e.min||0,s=e.max||25,l=o;l<s;l++)this.zooms[l]=!0;delete this.filter.$zoom}}},{key:"buildPropMatches",value:function(){var e=this;this.filter&&!Array.isArray(this.filter)&&typeof this.filter!="function"&&Object.keys(this.filter).forEach(function(n){if(blacklist.indexOf(n)===-1){var r=e.filter[n],o=_typeof(r),s=Array.isArray(r);if(!s&&o!=="string"&&o!=="number")return;n[0]==="$"?(e.context_prop_matches=e.context_prop_matches||[],e.context_prop_matches.push([n.substring(1),s?r:[r]])):(e.feature_prop_matches=e.feature_prop_matches||[],e.feature_prop_matches.push([n,s?r:[r]])),delete e.filter[n]}})}},{key:"doPropMatches",value:function(e){if(this.feature_prop_matches)for(var n=0;n<this.feature_prop_matches.length;n++){var r=this.feature_prop_matches[n],o=e.feature.properties[r[0]];if(o==null||r[1].indexOf(o)===-1)return!1}if(this.context_prop_matches)for(var s=0;s<this.context_prop_matches.length;s++){var l=this.context_prop_matches[s],d=e[l[0]];if(d==null||l[1].indexOf(d)===-1)return!1}return!0}},{key:"doesMatch",value:function(e){if(!this.enabled||(this.is_built||this.build(),this.zooms!=null&&!this.zooms[e.zoom])||!this.doPropMatches(e))return!1;var n;if(this.filter instanceof Function)try{n=this.filter(e)}catch(o){var r="Filter for this ".concat(this.full_name,": `filter: ").concat(this.filter_original,"` ");log("error",r+="failed with error '".concat(o.message,"', stack trace: ").concat(o.stack),e.feature)}else n=this.filter==null;return!!n&&(this.children_to_parse&&(parseLayerChildren(this,this.children_to_parse,this.styles),delete this.children_to_parse),!0)}}])}();Layer.id=0;var LayerLeaf=function(e){function n(r){var o;return _classCallCheck(this,n),(o=_callSuper(this,n,[r])).is_leaf=!0,o}return _inherits(n,e),_createClass(n)}(Layer),LayerTree=function(e){function n(r){var o;return _classCallCheck(this,n),(o=_callSuper(this,n,[r])).is_tree=!0,o.layers=r.layers||[],o}return _inherits(n,e),_createClass(n,[{key:"addLayer",value:function(r){this.layers.push(r)}},{key:"buildDrawGroups",value:function(r){var o=[],s=[];if(matchFeature(r,[this],o,s),o.length>0){var l=cacheKey(s);if(layer_cache[l]===void 0){for(var d=o.map(function(F){return F&&F.visible!==!1&&F.calculatedDraw}),h={},p=0;p<d.length;p++){var g=d[p];if(g)for(var y=0;y<g.length;y++){var v=g[y];for(var w in v)h[w]=!0}}for(var k in h)layer_cache[l]=layer_cache[l]||{},layer_cache[l][k]=mergeTrees(d,k),layer_cache[l][k]?(layer_cache[l][k].key=l+"/"+k,layer_cache[l][k].layers=o.map(function(F){return F&&F.full_name}),layer_cache[l][k].group=k):delete layer_cache[l][k];layer_cache[l]&&Object.keys(layer_cache[l]).length===0&&(layer_cache[l]=null)}return layer_cache[l]}}}])}(Layer),FilterOptions={rangeTransform:function(e){return typeof e=="string"&&e.trim().slice(-3)==="px2"?"".concat(parseFloat(e)," * context.meters_per_pixel_sq"):e}},SceneLoader;function isReserved(e){return reserved.indexOf(e)>-1}function isEmpty(e){return Object.keys(e).length===0}function groupProps(e){var n={},r={};for(var o in e)isReserved(o)?n[o]=e[o]:r[o]=e[o];return[n,r]}function calculateDraw(e){var n=[];if(e.parent){var r=e.parent.calculatedDraw||[];n.push.apply(n,_toConsumableArray(r))}return n.push(e.draw),n}function parseLayerNode(e,n,r,o){var s={name:e,layer:n=n??{},parent:r,styles:o},l=_slicedToArray(groupProps(n),2),d=l[0],h=l[1],p=isEmpty(h),g=new(p&&r!=null?LayerLeaf:LayerTree)(Object.assign(s,d));return g.enabled&&(r&&r.addLayer(g),g.children_to_parse=p?null:h),g}function parseLayerChildren(e,n,r){for(var o in n){var s=n[o];if(_typeof(s)!=="object"||Array.isArray(s)){var l="Layer value must be an object: cannot create layer '".concat(o,": ").concat(JSON.stringify(s),"'");l+=", under parent layer '".concat(e.full_name,"'."),r[e.name]&&(l+=" The parent name '".concat(e.name,"' is also the name of a style, did you mean to create a 'draw' group"),e.parent&&(l+=" under '".concat(e.parent.name,"'")),l+=" instead?"),log("warn",l)}else parseLayerNode(o,s,e,r)}}function parseLayers(e,n){layer_cache={};var r={};for(var o in e){var s=e[o];s&&(r[o]=parseLayerNode(o,s,null,n))}return r}function matchFeature(e,n,r,o){var s=!1;if(n.length!==0){for(var l=0;l<n.length;l++){var d=n[l];d.is_leaf?d.doesMatch(e)&&(s=!0,r.push(d),o.push(d.id)):d.is_tree&&d.doesMatch(e)&&(s=!0,matchFeature(e,d.layers,r,o)||(r.push(d),o.push(d.id)))}return s}}var GLOBAL_PROP_RGX=/^global\.(.+)$/,SceneLoader$1=SceneLoader={loadScene:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=r.path,s=r.type,l=[];return this.loadSceneRecursive({url:e,path:o,type:s},null,l).then(function(d){return n.finalize(d)}).then(function(d){var h=d.config,p=d.bundle;return h?(l.length>0&&l.forEach(function(g){var y="Failed to import scene: ".concat(g.url);log("error",y,g),n.trigger("error",{type:"scene_import",message:y,error:g,url:g.url})}),{config:h,bundle:p}):Promise.reject(l[0])})},loadSceneRecursive:function(e,n){var r=this,o=e.url,s=e.path;e.type;var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(!o)return Promise.resolve({});var d=createSceneBundle(o,s,n);return d.load().then(function(h){if(h.import==null)return r.normalize(h,d),{config:h,bundle:d};Array.isArray(h.import)||(h.import=[h.import]);var p=[];return h.import.forEach(function(g){_typeof(g)==="object"&&(g=createObjectURL(new Blob([JSON.stringify(g)]))),p.push(d.resourceFor(g))}),delete h.import,Promise.all(p.map(function(g){return r.loadSceneRecursive(g,d,l)})).then(function(g){g.forEach(function(v){return r.normalize(v.config,v.bundle)});var y=g.map(function(v){return v.config});return h=mergeObjects.apply(void 0,_toConsumableArray(y).concat([h])),r.normalize(h,d),{config:h,bundle:d}})}).catch(function(h){return h.url=o,l.push(h),{}})},normalize:function(e,n){return this.normalizeDataSources(e,n),this.normalizeFonts(e,n),this.normalizeTextures(e,n),this.hoistTextures(e,n),{config:e,bundle:n}},normalizeDataSources:function(e,n){for(var r in e.sources=e.sources||{},e.sources)this.normalizeDataSource(e.sources[r],n);return e},normalizeDataSource:function(e,n){if(e.url&&(e.url=n.urlFor(e.url)),e.scripts)for(var r in Array.isArray(e.scripts)&&(e.scripts=e.scripts.reduce(function(o,s){return o[s]=s,o},{})),e.scripts)e.scripts[r]=n.urlFor(e.scripts[r]);return e},normalizeFonts:function(e,n){for(var r in e.fonts=e.fonts||{},e.fonts)if(Array.isArray(e.fonts[r]))e.fonts[r].forEach(function(s){s.url=s.url&&n.urlFor(s.url)});else{var o=e.fonts[r];o.url=o.url&&n.urlFor(o.url)}return e},normalizeTextures:function(e,n){if(e.textures=e.textures||{},e.textures)for(var r in e.textures){var o=e.textures[r];o.url&&(o.url=n.urlFor(o.url))}},hoistTextures:function(e,n){var r=this;if(e.styles){var o=function(){var w=e.styles[s],k=w.texture;typeof k!="string"||e.textures[k]||(w.texture=r.hoistTexture(k,e,n)),w.material&&["emission","ambient","diffuse","specular","normal"].forEach(function(F){var q=w.material[F]!=null&&w.material[F].texture;typeof q!="string"||e.textures[q]||(w.material[F].texture=r.hoistTexture(q,e,n))})};for(var s in e.styles)o()}if(this.hoistStyleShaderUniformTextures(e,n,{include_globals:!1}),e.layers)for(var l=[e.layers];l.length>0;){var d=l.pop();if(_typeof(d)==="object"&&!Array.isArray(d))for(var h in d)if(h==="draw"){var p=d[h];for(var g in p){if(p[g].texture){var y=p[g].texture;typeof y!="string"||e.textures[y]||(p[g].texture=this.hoistTexture(y,e,n))}if(p[g].outline&&p[g].outline.texture){var v=p[g].outline.texture;typeof v!="string"||e.textures[v]||(p[g].outline.texture=this.hoistTexture(v,e,n))}}}else{if(isReserved(h))continue;l.push(d[h])}}},hoistStyleShaderUniformTextures:function(e,n,r){var o=this,s=r.include_globals;if(e.styles)for(var l in e.styles){var d=e.styles[l];d.shaders&&d.shaders.uniforms&&GLSL.parseUniforms(d.shaders.uniforms).forEach(function(h){var p=h.type,g=h.value,y=h.key,v=h.uniforms;p!=="sampler2D"||typeof g!="string"||e.textures[g]||!s&&isGlobal(g)||(v[y]=o.hoistTexture(g,e,n))})}},hoistTexture:function(e,n,r){var o=isGlobal(e),s=o?e:r.urlFor(e),l=o?"texture-".concat(s):s;return n.textures[l]={url:s},l},applyGlobalProperties:function(e){if(!e.global||Object.keys(e.global).length===0)return e;var n=flattenProperties(e.global);function r(o,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(l.indexOf(o)>-1)log({level:"warn",once:!0},"Global properties: cyclical reference detected",l);else{l.push(o);var d=GLOBAL_PROP_RGX.exec(o);if(d){var h=d[1];if(h){var p=s[h];if(p!==void 0)return typeof p=="string"&&GLOBAL_PROP_RGX.exec(p)?r(p,s,l):p;log({level:"warn",once:!0},"Global property not found: "+o)}else log({level:"warn",once:!0},"Invalid global property reference: "+o)}}}return function o(s,l,d){if(typeof s=="string"){var h=r(s,n);h!==void 0&&(s=h)}else if(Array.isArray(s))for(var p=0;p<s.length;p++)s[p]=o(s[p]);else if(_typeof(s)==="object")for(var g in s)s[g]=o(s[g]);return s}(e)},finalize:function(e){var n=e.config,r=e.bundle;return n?(n.global=n.global||{},n.scene=n.scene||{},n.cameras=n.cameras||{},n.lights=n.lights||{},n.styles=n.styles||{},n.layers=n.layers||{},n.camera&&(n.cameras.default=n.camera),Object.keys(n.cameras).length===0&&(n.cameras.default={}),(Object.keys(n.lights).length===0||Object.keys(n.lights).every(function(o){return n.lights[o].visible===!1}))&&(n.lights.default_light={type:"directional"}),{config:n,bundle:r}):{}}};function flattenProperties(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:".",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};for(var s in r=r?r+n:"",e){var l=r+s,d=e[s];o[l]=d,_typeof(d)!=="object"||Array.isArray(d)||flattenProperties(d,n,l,o)}return o}subscribeMixin(SceneLoader);var TilePyramid=function(){return _createClass(function e(){_classCallCheck(this,e),this.coords={},this.max_proxy_descendant_depth=6,this.max_proxy_ancestor_depth=10},[{key:"sourceTiles",value:function(e,n){return this.coords[e.key]&&this.coords[e.key].sources&&this.coords[e.key].sources[n.name]}},{key:"addTile",value:function(e){var n=e.coords.key,r=this.coords[n];r||(r=this.coords[n]={descendants:0}),r.sources||(r.sources={}),r.sources[e.source.name]||(r.sources[e.source.name]={}),r.sources[e.source.name][e.style_zoom]=e;for(var o=e.coords.z-1;o>=0;o--){var s=Tile.coordinateAtZoom(e.coords,o);this.coords[s.key]||(this.coords[s.key]={descendants:0}),this.coords[s.key].descendants++}}},{key:"removeTile",value:function(e){var n=this.sourceTiles(e.coords,e.source),r=e.coords.key;n&&(delete n[e.style_zoom],Object.keys(n).length===0&&(delete this.coords[r].sources[e.source.name],Object.keys(this.coords[r].sources).length===0&&(delete this.coords[r].sources,this.coords[r].descendants===0&&delete this.coords[r])));for(var o=e.coords.z-1;o>=0;o--){var s=Tile.coordinateAtZoom(e.coords,o);this.coords[s.key]&&this.coords[s.key].descendants>0&&(this.coords[s.key].descendants--,this.coords[s.key].descendants!==0||this.coords[s.key].sources||delete this.coords[s.key])}}},{key:"getAncestor",value:function(e){var n=e.coords,r=e.style_zoom,o=e.source,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(!(s>this.max_proxy_ancestor_depth)){if(r>o.max_coord_zoom){var l=this.sourceTiles(n,o);if(l){for(var d=r-1;d>=o.max_coord_zoom;d--)if(l[d]&&l[d].loaded)return l[d]}r=o.max_coord_zoom}r--;var h=Tile.coordinateAtZoom(n,n.z-1),p=this.sourceTiles(h,o);return p&&p[r]&&p[r].loaded?p[r]:h.z>0?this.getAncestor({coords:h,style_zoom:r,source:o},s+1):void 0}}},{key:"getDescendants",value:function(e){var n=e.coords,r=e.style_zoom,o=e.source,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,l=[];if(r>=o.max_coord_zoom){var d=this.sourceTiles(n,o);if(d){for(var h=Math.max(Geo$1.default_view_max_zoom,r+this.max_proxy_descendant_depth),p=r+1;p<=h;p++)if(d[p]&&d[p].loaded)return l.push(d[p]),l}return l}if(this.coords[n.key]&&this.coords[n.key].descendants>0){r++;for(var g=Tile.childrenForCoordinate(n),y=0;y<g.length;y++){var v=g[y],w=this.sourceTiles(v,o);w&&w[r]&&w[r].loaded?l.push(w[r]):s<=this.max_proxy_descendant_depth&&v.z<=o.max_coord_zoom&&l.push.apply(l,_toConsumableArray(this.getDescendants({coords:v,source:o,style_zoom:r},s+1)))}}return l}}])}(),LabelMainPass=function(){return _createClass(function e(n,r,o,s){_classCallCheck(this,e),Object.assign(this,n),this.placed=null,this._tile=s;var l=Geo$1.unitsPerMeter(s.coords.z)*Math.pow(2,o-s.style_zoom);this.layout=Object.assign({},n.layout),this.layout.repeat_scale=.75,this.layout.repeat_distance=this.layout.repeat_distance||0,this.layout.repeat_distance/=l,this.position=Geo$1.tileSpaceToMeters(this.position,s.coords.z,s.min),this._worldToScreen=r,this._screenSpaceBoundingBox=void 0,this._boundingCircles=void 0},[{key:"getTile",value:function(){return this._tile}},{key:"isFlat",value:function(){return this.is_flat}},{key:"getScreenSpaceBoundingBox",value:function(){if(!this._screenSpaceBoundingBox){var e=this._worldToScreen(this.position,!0);e[0]+=this.offset[0],e[1]+=this.offset[1];var n=this.size[0]/2+this.layout.buffer[0],r=this.size[1]/2+this.layout.buffer[1],o=e[0]-n,s=e[0]+n,l=e[1]-r,d=e[1]+r;this._screenSpaceBoundingBox={left:o,bottom:d,right:s,top:l}}return this._screenSpaceBoundingBox}},{key:"getBoundingCircles",value:function(){return this._boundingCircles||(this._boundingCircles=this.type==="point"?this._convertSidesToScreenSpaceCircles():this._convertCirclesToScreenSpace()),this._boundingCircles}},{key:"_convertSidesToScreenSpaceCircles",value:function(){var e=this._tile.coords.z,n=this._tile.min,r=Geo$1.tileSpaceToMeters([this.sides[0],this.sides[1]],e,n),o=Geo$1.tileSpaceToMeters([this.sides[2],this.sides[3]],e,n),s=_slicedToArray(this._worldToScreen(r,!0),2),l=s[0],d=s[1],h=_slicedToArray(this._worldToScreen(o,!0),2);return encircleLine(l,d,h[0],h[1],this.size[1]/2+this.layout.buffer[1])}},{key:"_convertCirclesToScreenSpace",value:function(){for(var e=[],n=this.circles,r=this._tile.coords.z,o=this._tile.min,s=0;s<n.length-2;s+=3){var l=Geo$1.tileSpaceToMeters([n[s],-n[s+1]],r,o),d=n[s+2]/Geo$1.unitsPerMeter(r),h=[l[0]+d,l[1]],p=this._worldToScreen(l,!0),g=this._worldToScreen(h,!0),y=MathUtils$1.getLineLength(p[0],p[1],g[0],g[1]);e.push(p[0],p[1],y)}return e}}])}(),labelsMainPass={mainThreadLabelCollisionPass},visible={},prev_visible={},IS_LITTLE_ENDIAN=new Uint8Array(new Uint32Array([305419896]).buffer)[0]===120;function _createContainer(e,n,r,o,s){var l=e.container,d=l.label,h=l.linked,p=e.ranges;return{label:new LabelMainPass(d,r,o,s),linked:h,ranges:p,mesh:n}}function mainThreadLabelCollisionPass(e,n,r,o,s,l){prev_visible=visible,visible={};var d={},h={},p=[],g=r.worldToScreen.bind(r),y=new TextMeshHelper(l);for(var v in e.forEach(function(_r){for(var ga in _r.meshes)_r.meshes[ga].forEach(function(La){if(La.labels){for(var jc in y.trackMesh(La),La.labels["non-collision"]){var _l=_createContainer(La.labels["non-collision"][jc],La,g,n,_r);_l.label.text_data&&y.insertLabel(_l,_r)}for(var e1 in La.labels.collision)if(!d[e1]){var n1=_createContainer(La.labels.collision[e1],La,g,n,_r);d[e1]=n1.label,h[e1]=n1}}})}),h){var w=h[v];w.linked&&(w.linked=h[w.linked]),p.push(w)}var k=r.getViewport(),F=k.width,q=k.height;return Collision.startTile("main",{apply_repeat_groups:!0,return_hidden:!0,grid_index:new GridIndex(F,q,30)}),Collision.addStyle("main","main"),Collision.collide(p,"main","main").then(function(_r){return _r.forEach(function(ga){var La=ga.mesh,jc=ga.label.getTile();if(La.valid){var _l=0;ga.show!==!0||o&&ga.label.breach&&!prev_visible[ga.label.id]||(_l=1),_l&&(visible[ga.label.id]=!0),ga.label.text_data&&y.insertLabel(ga,jc);var e1=La.vertex_layout.offset.a_shape,n1=La.vertex_layout.stride,d1=La.vertex_layout.attribs.find(function(N1){return N1.name==="a_shape"}),c1=d1.byte_size/d1.size;e1+=3*c1;var h1=!0;ga.ranges.forEach(function(N1){if(h1){for(var k1=0;k1<N1[1];k1++){if(La.vertex_data[N1[0]+k1*n1+e1]===_l)return void(h1=!1);La.vertex_data[N1[0]+k1*n1+e1]=_l}y.trackMesh(La)}})}}),y.createTextures(s).then(function(){return y.updateMeshes()})}).then(function(_r){_r.forEach(function(ga){return ga.valid&&ga.upload()}),e.forEach(function(ga){ga.labeled=!0}),p=[],h={},d={}})}var TextMeshHelper=function(){return _createClass(function e(n){_classCallCheck(this,e),this.textureManager=getTextureManager(n),this.tiles={},this.meshes=[],this.containers=[]},[{key:"insertLabel",value:function(e,n){var r=e.label.text_data,o=r.text_settings_key,s=r.text,l=r.text_info;this.containers.push(e);var d=this._ensureTextSection(n,o);d[s]?e.label.text_data.text_info=d[s]:d[s]=l}},{key:"trackMesh",value:function(e){this.meshes.indexOf(e)===-1&&this.meshes.push(e)}},{key:"updateMeshes",value:function(){var e=this;return this.containers.forEach(function(n){if(n.label.text_data){var r=n.label.getTile(),o=n.mesh;if(o.valid){var s=n.label.type,l=n.label.text_data.text_info;if(e.tiles[r.id]&&e.tiles[r.id].textures){var d=e.tiles[r.id].textures[0];if(o.uniforms.u_texture=d,o.textures.indexOf(d)===-1&&o.textures.push(d),s==="point"||s==="straight"){var h=s==="point"?l.align[n.label.align].texcoords:l.texcoords[s].texcoord;e.setTexCoords(o,n,h)}else if(s==="curved"){var p=l.segments.length,g=l.texcoords_stroke,y=l.texcoords.curved;e.setTexCoords(o,n,function(w){return w<p?g[w]:y[w-p].texcoord})}}}else if(e.tiles[r.id]&&e.tiles[r.id].textures){var v=e.tiles[r.id].textures[0];e.textureManager.release(v)}}}),this.meshes}},{key:"setTexCoords",value:function(e,n,r){var o,s=r instanceof Function;if(!s){var l=_slicedToArray(r,4),d=l[0],h=l[1],p=l[2],g=l[3];o=[[d,h],[p,h],[p,g],[d,g]]}var y=e.vertex_layout.stride,v=new DataView(e.vertex_data.buffer),w=e.vertex_layout.offset.a_texcoord;n.ranges.forEach(function(k,F){var q=_slicedToArray(k,3),_r=q[0],ga=q[1],La=q[2];if(s){var jc=_slicedToArray(r(F),4),_l=jc[0],e1=jc[1],n1=jc[2],d1=jc[3];o=[[_l,e1],[n1,e1],[n1,d1],[_l,d1]]}for(var c1=La?ga/2:0;c1<ga;c1++){var h1=o[c1%4],N1=_r+c1*y;v.setUint16(N1+w,h1[0]*texcoord_normalize,IS_LITTLE_ENDIAN),v.setUint16(N1+w+2,h1[1]*texcoord_normalize,IS_LITTLE_ENDIAN)}})}},{key:"createTextures",value:function(e){var n=this;return Promise.all(Object.values(this.tiles).map(function(r){var o=r.id,s=r.key,l=r.texts;return n._createTexturesForTile(e,l,"labels-".concat(s,"-").concat(o),o,n.textureManager).then(function(d){d.length&&(d.forEach(function(h){n.textureManager.retain(h),n.textureManager.getRetainCount(h)>1&&n.textureManager.release(h)}),n.tiles[o].textures=d)})}))}},{key:"_createTexturesForTile",value:function(e,n,r,o,s){var l=new CanvasText,d=l.setTextureTextPositions(n);return l.rasterize(n,d,o,r,e,s)}},{key:"_ensureTile",value:function(e){var n=e.id,r=e.key;return this.tiles[n]||(this.tiles[n]={id:n,key:r,texts:{}}),this.tiles[n]}},{key:"_ensureTextSection",value:function(e,n){var r=this._ensureTile(e).texts;return r[n]||(r[n]={}),r[n]}}])}(),TILE_VISIBILITY_COUNTER_THRESHOLD=30,TileManager=function(){return _createClass(function e(n){var r=this,o=n.scene,s=n.view;_classCallCheck(this,e),this._scene=o,this._view=s,this._visible_tiles={},this._pyramid=new TilePyramid,this._visible_coords={},this._building_tiles=null,this._renderable_tiles=[],this._active_styles=[],this._tile_visibility_counters={},this._update_labels_on_queue_check=!1,this._all_visible_tiles_are_cached=!1,this._debouncedUpdateLabels=debounce(this._updateLabels.bind(this),100,200),this._main_thread_target=["TileManager",this._scene.id].join("_"),WorkerBroker.addTarget(this._main_thread_target,this),this._keepCoordinate=this._keepCoordinate.bind(this),this._removeTilesFilter=this._removeTilesFilter.bind(this),this._removeCachedTilesFilter=this._removeCachedTilesFilter.bind(this),this._is_labeled=!1,this._tile_cache=new H.util.Cache(getMaxTileCacheSize(),function(l,d,h){r._visible_tiles[l]&&r._visible_tiles[l]===d||d.destroy()})},[{key:"destroy",value:function(){this._tile_cache.removeAll(),this.forEachVisibleTile(function(e){return e.destroy()}),this._visible_tiles={},this._pyramid=null,this._visible_coords={},this._scene=null,this._view=null}},{key:"keepTile",value:function(e){this._visible_tiles[e.key]=e,this._pyramid.addTile(e)}},{key:"hasTile",value:function(e){return this._visible_tiles[e]!==void 0}},{key:"_forgetTile",value:function(e){if(this.hasTile(e)){var n=this._visible_tiles[e];if(this._pyramid.removeTile(n),delete this._visible_tiles[e],n.loaded)this._tile_cache.add(n.key,n,getTileByteLength(n));else{var r=this._tile_cache.get(n.key);r?this._tile_cache.drop(r.key):n.destroy()}this._tileBuildStop(n)}}},{key:"removeTile",value:function(e){this._forgetTile(e),this._scene.requestRedraw()}},{key:"forEachVisibleTile",value:function(e){for(var n in this._visible_tiles)e(this._visible_tiles[n])}},{key:"removeTiles",value:function(e){for(var n in this._visible_tiles)e(this._visible_tiles[n])&&this.removeTile(n)}},{key:"removeCachedTiles",value:function(e){var n=this;this._tile_cache.forEach(function(r,o){e(o)&&n._tile_cache.drop(r)})}},{key:"updateTilesForView",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this._visible_coords={};for(var n=this._view.findVisibleTileCoordinates(),r=0;r<n.length;r++){var o=n[r];this._visible_coords[o.key]=o}this.updateTileStates(e)}},{key:"updateTileStates",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];for(var n in this._all_visible_tiles_are_cached=!0,this._visible_coords)this._keepCoordinate(n,e);this._all_visible_tiles_are_cached&&(this._is_labeled=!1,this._debouncedUpdateLabels()),this._tile_cache.removeAll(this._removeCachedTilesFilter),this._updateProxyTiles(),this.removeTiles(this._removeTilesFilter),this._updateRenderableTiles(),this._updateActiveStyles()}},{key:"_removeTilesFilter",value:function(e){if(e.style_zoom===this._view.lookAtManipulator.getLookAtData().tile_level){if(this._visible_coords[e.coords.key])return!1;for(var n in this._visible_coords)if(Tile.isDescendant(e.coords,this._visible_coords[n]))return!1}return!e.isProxy()}},{key:"_updateLabels",value:function(){var e=this;if(!this._building_tiles||Object.keys(this._building_tiles).length===0){CanvasText.pruneTextCache();var n=this._renderable_tiles.sort(compareTileCoords);labelsMainPass.mainThreadLabelCollisionPass(n,roundPrecision(this._view.lookAtManipulator.getLookAtData().zoom,2),this._view.lookAtManipulator,this.isLoadingVisibleTiles(),this._scene.gl,this._scene.id).then(function(){e._is_labeled=!Task.hasPendingTasks(),e._scene&&e._scene.immediateRedraw(),e._update_labels_on_queue_check=!1})}}},{key:"_updateProxyTiles",value:function(){var e=this,n=this._view.lookAtManipulator.getZoomDirection();if(n!==0){var r=!1;this.forEachVisibleTile(function(o){if(o.setProxyFor(null),n===1){if(!o.built){var s=e._pyramid.getAncestor(o);s&&(s.setProxyFor(o),r=!0)}}else if(n===-1&&!o.built)for(var l=e._pyramid.getDescendants(o),d=0;d<l.length;d++)l[d].setProxyFor(o),r=!0}),r||this._view.lookAtManipulator.resetZoomDirection()}}},{key:"getRenderableTiles",value:function(){return this._renderable_tiles}},{key:"_updateRenderableTiles",value:function(){for(var e in this._renderable_tiles=[],this._visible_tiles){var n=this._visible_tiles[e],r=this._tile_cache.get(e);n.loaded?(this._renderable_tiles.push(n),r&&r!==n&&this._tile_cache.drop(e)):r&&(r.generation===this._scene.generation?this._renderable_tiles.push(r):this._tile_cache.drop(e))}return this._renderable_tiles}},{key:"getWorkerForTile",value:function(e,n){return n.has_volatile_data?this._scene.getWorkers(WorkerType.FAKE)[0]:n.tiled?this._scene.getWorkers(WorkerType.NATIVE)[Math.abs(e.x+e.y+e.z)%this._scene.num_workers]:this._scene.getWorkers(WorkerType.NATIVE)[n.id%this._scene.num_workers]}},{key:"getActiveStyles",value:function(){return this._active_styles}},{key:"_updateActiveStyles",value:function(){for(var e=this._renderable_tiles,n={},r=0;r<e.length;r++){var o=e[r];Object.keys(o.meshes).forEach(function(s){return n[s]=!0})}return this._active_styles=Object.keys(n),this._active_styles}},{key:"isLoadingVisibleTiles",value:function(){var e=!1;for(var n in this._visible_tiles)if(!this._visible_tiles[n].built){e=!0;break}return e}},{key:"updateTilesVisibilityCounters",value:function(){var e=this;Object.keys(this._visible_coords).forEach(function(o){o in e._tile_visibility_counters||(e._tile_visibility_counters[o]=0)});var n=Object.keys(this._tile_visibility_counters),r=[];n.forEach(function(o){o in e._visible_coords?(e._tile_visibility_counters[o]++,e._tile_visibility_counters[o]>=TILE_VISIBILITY_COUNTER_THRESHOLD&&r.push(e._visible_coords[o])):(e._tile_visibility_counters[o]--,e._tile_visibility_counters[o]<=0&&delete e._tile_visibility_counters[o])}),r.length&&this.loadCoordinates(r)}},{key:"loadCoordinates",value:function(e){var n=this;e.sort(function(r,o){var s=n._view.lookAtManipulator.getLookAtData().position,l=Geo$1.metersPerTile(r.z)/2,d=Geo$1.metersForTile(r);d.x+=l,d.y-=l;var h=Geo$1.metersForTile(o);h.x+=l,h.y-=l;var p=Math.abs(s[0]-d.x)+Math.abs(s[1]-d.y),g=Math.abs(s[0]-h.x)+Math.abs(s[1]-h.y);return r.center_dist=p,o.center_dist=g,g>p?-1:g===p?0:1}),e.forEach(function(r){return n.loadCoordinate(r)})}},{key:"_keepCoordinate",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=this._visible_coords[e];if(r.z===this._view.center_tile.z)for(var o in this._scene.sources){var s=this._scene.sources[o];if(s.builds_geometry_tiles&&s.includesTile(r,this._view.lookAtManipulator.getLookAtData().tile_level)){var l=Tile.normalizedKey(r,s,this._view.lookAtManipulator.getLookAtData().tile_level);if(l&&!this.hasTile(l)){var d=n&&this._tile_cache.get(l);d||(this._all_visible_tiles_are_cached=!1);var h=d||new Tile({source:s,coords:r,worker:this.getWorkerForTile(r,s),style_zoom:Utils$1.zoomToTileLevel(r.z),view:this._view,sceneId:this._scene.id});s.config.type==="ObjectSource"&&(h.syncedAt=s.getSyncedAt()),this.keepTile(h)}}}}},{key:"loadCoordinate",value:function(e){if(e.z===this._view.center_tile.z)for(var n in this._scene.sources){var r=this._scene.sources[n];if(r.builds_geometry_tiles&&r.includesTile(e,this._view.lookAtManipulator.getLookAtData().tile_level)){var o=Tile.normalizedKey(e,r,this._view.lookAtManipulator.getLookAtData().tile_level);this.hasTile(o)&&this.buildTile(this._visible_tiles[o])}}}},{key:"buildTile",value:function(e,n){this._building_tiles&&this._building_tiles[e.key]||e.built&&e.generation===this._scene.generation||(this._tileBuildStart(e.key),e.build(this._scene.generation,n))}},{key:"buildTileStylesCompleted",value:function(e){var n=e.tile,r=e.progress;if(this._visible_tiles[n.key]==null)Tile.abortBuild(n,this._scene.id);else if(n.generation!==this._scene.generation)Tile.abortBuild(n,this._scene.id);else{if(n.id<this._visible_tiles[n.key].id)return void Tile.abortBuild(n,this._scene.id);n=this._visible_tiles[n.key].merge(n),r.done&&(n.built=!0),n.buildMeshes(this._scene.styles,r),this.updateTileStates(),this._scene.requestRedraw()}r.done&&this._tileBuildStop(n)}},{key:"buildTileError",value:function(e){this._forgetTile(e.key),Tile.abortBuild(e,this._scene.id)}},{key:"_tileBuildStart",value:function(e){this._is_labeled=!1,this._building_tiles=this._building_tiles||{},this._building_tiles[e]=!0}},{key:"_tileBuildStop",value:function(e){this._building_tiles&&(e.source&&e.source.hasLabeledData()&&(this._update_labels_on_queue_check=!0),delete this._building_tiles[e.key],Task.removeForTile(e.id),this.checkBuildQueue())}},{key:"isReady",value:function(){return this._is_labeled&&!this.isLoadingVisibleTiles()}},{key:"checkBuildQueue",value:function(){this._building_tiles&&Object.keys(this._building_tiles).length!==0||(this._building_tiles=null,this._update_labels_on_queue_check?this._updateLabels():(this._is_labeled=!Task.hasPendingTasks(),this._scene.immediateRedraw()))}},{key:"_removeCachedTilesFilter",value:function(e,n,r){var o=n.source;return!this._visible_tiles[e]&&(n.generation!==this._scene.generation||o.config.type==="ObjectSource"&&o.getSyncedAt()>n.syncedAt)}}])}();function compareTileCoords(e,n){var r=e.coords,o=n.coords;return r.z-o.z||r.x-o.x||r.y-o.y}function roundPrecision(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2,o=Math.pow(10,r);return Math.round(Math.floor(e*n)/n*o)/o}function getTileByteLength(e){var n=0;for(var r in e.meshes)for(var o=e.meshes[r],s=0;s<o.length;s++){var l=o[s];n+=l.buffer_size;for(var d=0;d<l.textures.length;d++)n+=e.textureManager.getByteLength(l.textures[d])}return n}function getMaxTileCacheSize(){var e=.1;return navigator&&navigator.deviceMemory?e=5*navigator.deviceMemory/100:window&&window.screen&&(e=window.screen.width/512*window.screen.height/512*.03*3,e=Math.min(e,1)),1024*e*1024*1024}var RenderState=function(){return _createClass(function e(n,r){_classCallCheck(this,e),r(n),this.value=n,this.setup=r},[{key:"get",value:function(){return this.value}},{key:"set",value:function(e){JSON.stringify(this.value)!==JSON.stringify(e)&&(this.setup(e),this.value=e)}}])}(),RenderStateManager=_createClass(function e(n){_classCallCheck(this,e),this.defaults={},this.defaults.culling=!0,this.defaults.culling_face=n.BACK,this.defaults.blending=!1,this.defaults.blending_src=n.ONE_MINUS_SRC_ALPHA,this.defaults.blending_dst=n.ONE_MINUS_SRC_ALPHA,this.defaults.blending_src_alpha=n.ONE,this.defaults.blending_dst_alpha=n.ONE_MINUS_SRC_ALPHA,this.defaults.depth_write=!0,this.defaults.depth_test=!0,n.depthFunc(n.LESS),this.culling=new RenderState({cull:this.defaults.culling,face:this.defaults.culling_face},function(r){r.cull?(n.enable(n.CULL_FACE),n.cullFace(r.face)):n.disable(n.CULL_FACE)}),this.blending=new RenderState({blend:this.defaults.blending,src:this.defaults.blending_src,dst:this.defaults.blending_dst,src_alpha:this.defaults.blending_src_alpha,dst_alpha:this.defaults.blending_dst_alpha},function(r){r.blend?(n.enable(n.BLEND),r.src_alpha&&r.dst_alpha?n.blendFuncSeparate(r.src,r.dst,r.src_alpha,r.dst_alpha):n.blendFunc(r.src,r.dst)):n.disable(n.BLEND)}),this.depth_write=new RenderState({depth_write:this.defaults.depth_write},function(r){n.depthMask(r.depth_write)}),this.depth_test=new RenderState({depth_test:this.defaults.depth_test},function(r){r.depth_test?n.enable(n.DEPTH_TEST):n.disable(n.DEPTH_TEST)})}),MediaCapture=function(){return _createClass(function e(){_classCallCheck(this,e),this.canvas=null,this.gl=null,this.screenshot_canvas=null,this.screenshot_context=null,this.queue_screenshot=null,this.video_capture=null},[{key:"setCanvas",value:function(e,n){this.canvas=e,this.gl=n}},{key:"screenshot",value:function(){var e=this,n=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).background;return this.queue_screenshot!=null||(this.queue_screenshot={background:n},this.queue_screenshot.promise=new Promise(function(r,o){e.queue_screenshot.resolve=r,e.queue_screenshot.reject=o})),this.queue_screenshot.promise}},{key:"completeScreenshot",value:function(){if(this.queue_screenshot!=null){var e=this.canvas.width,n=this.canvas.height,r=new Uint8Array(e*n*4);this.gl.readPixels(0,0,e,n,this.gl.RGBA,this.gl.UNSIGNED_BYTE,r);var o=this.queue_screenshot.background;o=o&&o!=="transparent"?StyleParser.parseColor(o).slice(0,3).map(function(La){return 255*La}):null;for(var s=new Uint8ClampedArray(e*n*4),l=0;l<n;l++)for(var d=0;d<e;d++){var h=4*((n-l-1)*e+d),p=4*(l*e+d),g=r[h+3];s[p+0]=255*r[h+0]/g,s[p+1]=255*r[h+1]/g,s[p+2]=255*r[h+2]/g,s[p+3]=g,o&&(g/=255,s[p+0]=s[p+0]*g+o[0]*(1-g),s[p+1]=s[p+1]*g+o[1]*(1-g),s[p+2]=s[p+2]*g+o[2]*(1-g),s[p+3]=255)}this.screenshot_canvas=this.screenshot_canvas||document.createElement("canvas");var y=this.screenshot_canvas;y.width=e,y.height=n,this.screenshot_context=this.screenshot_context||y.getContext("2d");var v=this.screenshot_context,w=new ImageData(s,e,n);v.putImageData(w,0,0);for(var k=y.toDataURL("image/png"),F=atob(k.slice(22)),q=new Uint8Array(F.length),_r=0;_r<F.length;++_r)q[_r]=F.charCodeAt(_r);var ga=new Blob([q],{type:"image/png"});this.queue_screenshot.resolve({url:k,blob:ga,type:"png"}),this.queue_screenshot=null}}},{key:"startVideoCapture",value:function(){var e=this;if(typeof window.MediaRecorder!="function"||!this.canvas||typeof this.canvas.captureStream!="function")return log("warn","Video capture (Canvas.captureStream and/or MediaRecorder APIs) not supported by browser"),!1;if(this.video_capture)return log("warn","Video capture already in progress, call Scene.stopVideoCapture() first"),!1;try{var n=this.video_capture={};n.chunks=[],n.stream=this.canvas.captureStream(),n.options={mimeType:"video/webm"},n.media_recorder=new MediaRecorder(n.stream,n.options),n.media_recorder.ondataavailable=function(r){if(r.data.size>0&&n.chunks.push(r.data),n.resolve){var o=new Blob(n.chunks,{type:n.options.mimeType}),s=createObjectURL(o);n.stream&&(n.stream.getTracks()||[]).forEach(function(l){l.stop(),n.stream.removeTrack(l)}),n.stream=null,n.media_recorder=null,e.video_capture=null,n.resolve({url:s,blob:o,type:"webm"})}},n.media_recorder.start()}catch(r){return this.video_capture=null,log("error","Scene video capture failed",r),!1}return!0}},{key:"stopVideoCapture",value:function(){var e=this;return this.video_capture?(this.video_capture.promise=new Promise(function(n,r){e.video_capture.resolve=n,e.video_capture.reject=r}),this.video_capture.media_recorder.stop(),this.video_capture.promise):(log("warn","No scene video capture in progress, call Scene.startVideoCapture() first"),Promise.resolve({}))}}])}(),SceneWorker=function(){return _createClass(function e(){_classCallCheck(this,e),this.sources={},this.styles={},this.layers={},this.tiles={},this._isConfigured=!1},[{key:"init",value:function(e,n,r,o,s,l,d){return this.setMeshVariantMaxLife(d),this.scene_id=e,this.textureManager=getTextureManager(e),this._worker_id=n,log.setLevel(r),Utils$1.device_pixel_ratio=o,VertexElements.setElementIndexUint(s),FeatureSelection.setPrefix(this._worker_id),this._style_manager=new StyleManager,this._importExternalScripts(l),Label.id_prefix=n,this._isConfigured=!1,n}},{key:"dispose",value:function(){this._last_config_sources=null,this._config_sources=null,this.sources=null,this._style_manager=null,this.styles=null,this.layers=null,this.tiles=null}},{key:"_importExternalScripts",value:function(e){if(e.length!==0){log("debug","loading custom data source scripts in worker:",e);var n=Object.getOwnPropertyNames(window);importScripts.apply(void 0,_toConsumableArray(e)),Object.getOwnPropertyNames(window).forEach(function(r){n.indexOf(r)===-1&&(self[r]=window[r])})}}},{key:"updateConfig",value:function(e,n){var r=e.config,o=e.generation,s=e.introspection;for(var l in r=JSON.parse(r),mergeDebugSettings(n),this._generation=o,this._isConfigured=!1,r.layers)r.layers[l]&&(r.layers[l].data=Utils$1.stringsToFunctions(r.layers[l].data));this.global=Utils$1.stringsToFunctions(r.global),this._createDataSources(r),r.styles=Utils$1.stringsToFunctions(r.styles,StyleParser.wrapFunction),this.styles=this._style_manager.build(r.styles),self.is_fake_worker=Thread.is_main,this._style_manager.initStyles({generation:this._generation,styles:this.styles,sources:this.sources,introspection:s,id:this.scene_id}),delete self.is_fake_worker,this.layers=parseLayers(r.layers,this._style_manager.styles),this._configuring=this._syncTextures(r.textures)}},{key:"setMeshVariantMaxLife",value:function(e){this.meshVariantMaxLife=e}},{key:"_createDataSources",value:function(e){var n=this;this._last_config_sources=this._config_sources||{},this._config_sources=e.sources;var r=this.sources,o=[];for(var s in e.sources=Utils$1.stringsToFunctions(e.sources),this.sources={},self.is_fake_worker=Thread.is_main,e.sources)if(JSON.stringify(this._last_config_sources[s])!==JSON.stringify(e.sources[s])){var l=void 0;try{l=DataSource.create(Object.assign({},e.sources[s],{name:s}),this.sources)}catch(d){log("error","Error creating source.",d.message,e.sources[s]);continue}l&&(this.sources[s]=l,o.push(s))}else this.sources[s]=r[s];delete self.is_fake_worker,o.forEach(function(d){for(var h in n.tiles)n.tiles[h].source===d&&delete n.tiles[h]})}},{key:"awaitConfiguration",value:function(){return this._configuring}},{key:"_onConfig",value:function(e){var n=this;if(this._isConfigured=!0,e.loaded!==!0)e.loading=!0,e.loaded=!1,e.error=null,this._loadTileSourceData(e).then(function(){if(n.getTile(e.id)){e.loading=!1,e.loaded=!0;try{Tile.buildGeometry(e,n)}catch(r){e.error=r.toString(),WorkerBroker.postMessage("TileManager_".concat(n.scene_id,".buildTileError"),Tile.slice(e))}}else log("trace","stop tile build after data source load because tile was removed. Key: ".concat(e.key,", id: ").concat(e.id))},function(r){e.loading=!1,e.loaded=!1,e.error=r.stack,log("error","tile load error for tile with key ".concat(e.key," and id ").concat(e.id,": ").concat(e.error)),WorkerBroker.postMessage("TileManager_".concat(n.scene_id,".buildTileError"),Tile.slice(e))});else{log("trace","used worker cache for tile with key ".concat(e.key," and id ").concat(e.id));try{Tile.buildGeometry(e,this)}catch(r){e.error=r.toString(),WorkerBroker.postMessage("TileManager_".concat(this.scene_id,".buildTileError"),Tile.slice(e))}}}},{key:"buildTile",value:function(e){var n=e.tile,r=this.getTile(n.id);if(!r||!r.loading)if(n=this.tiles[n.id]=Object.assign(r||{},n),this._isConfigured)this._onConfig(n);else{var o=this;this.awaitConfiguration().then(function(){return o._onConfig(n)})}}},{key:"_loadTileSourceData",value:function(e){return this.sources[e.source]?this.sources[e.source].load(e):(e.source_data={},Promise.resolve(e))}},{key:"getTile",value:function(e){return this.tiles[e]}},{key:"removeTile",value:function(e){var n=this.tiles[e];n!=null&&(n.loading===!0&&(log("trace","cancel tile load for tile id ".concat(e)),n.loading=!1,Tile.cancel(n)),delete this.tiles[e],log("trace","remove tile from cache, tile id: ".concat(e)))}},{key:"queryFeatures",value:function(e){var n=this,r=e.filter,o=e.visible,s=e.geometry,l=e.tile_ids,d=[],h=l.map(function(p){return n.tiles[p]}).filter(function(p){return p});return r!=null&&(r=["{","["].indexOf(r[0])>-1?JSON.parse(r):r,r=Utils$1.stringsToFunctions(r,StyleParser.wrapFunction)),r=buildFilter(r,FilterOptions),h.forEach(function(p){var g=function(v){p.source_data.layers[v].features.forEach(function(w){if(!(o===!0&&w.generation!==n._generation||o===!1&&w.generation===n._generation)){var k=StyleParser.getFeatureParseContext(w,p,n.global);if(k.source=p.source,k.layer=v,r(k)){var F={type:w.type,properties:w.properties};s===!0&&(F.geometry=Geo$1.copyGeometry(w.geometry),Geo$1.tileSpaceToLatlng(F.geometry,p.coords.z,p.min)),d.push(F)}}})};for(var y in p.source_data.layers)g(y)}),d}},{key:"resetFeatureSelection",value:function(){FeatureSelection.reset()}},{key:"_syncTextures",value:function(e){var n=[];return e&&n.push.apply(n,_toConsumableArray(Object.keys(e))),log("trace","sync textures to worker:",n),n.length>0?this.textureManager.syncTexturesToWorker(n):Promise.resolve()}},{key:"profile",value:function(e){console.profile("worker ".concat(this._worker_id,": ").concat(e))}},{key:"profileEnd",value:function(e){console.profileEnd("worker ".concat(this._worker_id,": ").concat(e))}},{key:"terminate",value:function(){this.dispose()}}])}();(Thread.is_worker||self.H&&self.H.DEBUG)&&WorkerBroker.addTarget("self",new SceneWorker);var Scene=function(){function e(n,r){_classCallCheck(this,e),r=r||{},subscribeMixin(this),this.id=e.id++,this.textureManager=getTextureManager(this.id),this.initialized=!1,this.initializing=null,this.sources={},this.view=new View(this,r),this.tile_manager=new TileManager({scene:this,view:this.view}),this.num_workers=r.numWorkers||2,r.disableVertexArrayObjects===!0&&(VertexArrayObject.disabled=!0),Utils$1.device_pixel_ratio=r.devicePixelRatio,this.config=null,this.config_source=n,this.config_bundle=null,this.last_valid_config_source=null,this.styles=null,this.style_manager=new StyleManager,this.building=null,this.dirty=!0,r.preUpdate&&this.subscribe({pre_update:r.preUpdate}),r.postUpdate&&this.subscribe({post_update:r.postUpdate}),this.render_loop=!r.disableRenderLoop,this.render_loop_active=!1,this.render_loop_stop=!1,this.render_count=0,this.last_render_count=0,this.render_count_changed=!1,this.frame=0,this.last_main_render=-1,this.last_selection_render=-1,this.media_capture=new MediaCapture,this.selection=null,this.introspection=r.introspection===!0,this.viewport=r.viewport,this.adjustMeshVariantMaxLife(),this.container=r.container,this.canvas=null,this.contextOptions=r.webGLContextOptions,this.lights=null,this.background=null,this.createListeners(),this.updating=0,this.generation=e.generation,this.last_complete_generation=e.generation,this.log_level=r.logLevel||"warn",log.setLevel(this.log_level),log.reset()}return _createClass(e,[{key:"load",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.initializing||(log.reset(),this.updating++,this.initialized=!1,this.initial_build_time=null,(o=typeof o=="string"?{base_path:o}:o).blocking=o.blocking===void 0||o.blocking,this.render_loop!==!1?this.setupRenderLoop():document.hidden&&document.addEventListener("visibilitychange",function(){document.hidden||(n.setupRenderLoop(),setTimeout(function(){n.render_loop_stop=!0},1e3))}),this.createCanvas(),this.textureManager.destroy(this.gl),this.initializing=this.loadScene(r,o).then(function(){return n.createWorkers()}).then(function(){n.resetFeatureSelection();var s=_typeof(n.config_source)==="object"||n.hasSubscribersFor("load"),l=n.updateConfig({serialize_funcs:s,normalize:!1,load_event:!0,fade_in:!0});if(o.blocking===!0)return l}).then(function(){n.updating--,n.initializing=null,n.initialized=!0,n.last_valid_config_source=n.config_source,n.last_valid_options={base_path:o.base_path,file_type:o.file_type},n.requestRedraw()}).catch(function(s){var l,d;if(n.initializing=null,n.updating=0,s.name==="YAMLException"?(l="yaml",d="Error parsing scene YAML"):d="Error initializing scene",n.trigger("error",{type:l,message:d,error:s,url:n.config_source}),d="Scene.load() failed to load ".concat(n.config_source,": ").concat(s.message),n.last_valid_config_source)return log("warn",d,s),log("info","Scene.load() reverting to last valid configuration"),n.load(n.last_valid_config_source,n.last_valid_base_path);throw log("error",d,s),s})),this.initializing}},{key:"destroy",value:function(){if(this.initialized=!1,this.render_loop_stop=!0,this.destroyListeners(),this.canvas&&this.canvas.parentNode&&(this.canvas.parentNode.removeChild(this.canvas),this.canvas=null),this.container=null,this.selection&&this.selection.destroy(),this.gl){this.textureManager.destroy(this.gl),this.style_manager.destroy(this.gl),this.styles={},ShaderProgram.reset();var n=this.gl.getExtension("WEBGL_lose_context");n&&n.loseContext(),this.gl=null}this.sources={},this.tile_manager.destroy(),this.tile_manager=null,this.destroyWorkers(),log.reset()}},{key:"createCanvas",value:function(){if(!this.canvas){this.container=this.container||document.body,this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.top=0,this.canvas.style.left=0,this.container.style.backgroundColor="transparent",this.container.appendChild(this.canvas);try{this.gl=Context$1.getContext(this.canvas,Object.assign({alpha:!0,premultipliedAlpha:!1,stencil:!0,device_pixel_ratio:Utils$1.device_pixel_ratio},this.contextOptions))}catch{throw new Error("Couldn't create WebGL context. Your browser may not support WebGL, or it's turned off? Visit http://webglreport.com/ for more info.")}this.handleViewportUpdate(),VertexArrayObject.init(this.gl),this.render_states=new RenderStateManager(this.gl),this.media_capture.setCanvas(this.canvas,this.gl)}}},{key:"getWorkerUrl",value:function(){var n;if(__worker_src__!==void 0){var r="("+__worker_src__+")()";__worker_src_origin__&&__worker_src_map__!==""&&(r+=`
//# sourceMappingURL=`+__worker_src_origin__.slice(0,__worker_src_origin__.lastIndexOf("/")+1)+__worker_src_map__),n=createObjectURL(new Blob([r],{type:"application/javascript"}))}if(!n)throw new Error("Couldn't find internal Tangram source variable (may indicate the library did not build correctly)");return n}},{key:"updateExternalScripts",value:function(){var n=_toConsumableArray(this.external_scripts||[]),r=[];if(this.config.scene.scripts)for(var o in this.config.scene.scripts)r.indexOf(this.config.scene.scripts[o])===-1&&r.push(this.config.scene.scripts[o]);for(var s in this.config.sources){var l=this.config.sources[s];if(l.scripts)for(var d in l.scripts)r.indexOf(l.scripts[d])===-1&&r.push(l.scripts[d])}return this.external_scripts=r,!(this.external_scripts.length===n.length&&this.external_scripts.every(function(h,p){return h===n[p]}))}},{key:"createWorkers",value:function(){return this.updateExternalScripts()&&this.destroyWorkers(),this._workers?Promise.resolve():this.makeWorkers(this.getWorkerUrl())}},{key:"makeWorkers",value:function(n){var r=this,o=!!this.gl.getExtension("OES_element_index_uint"),s=[];this._workers=[];for(var l=0,d=function(){var p=new Worker(n);r._workers[l]=p,WorkerBroker.addWorker(p),log("debug","Scene.makeWorkers: initializing worker ".concat(l));var g=l;s.push(WorkerBroker.postMessage(p,"self.init",r.id,l,r.log_level,Utils$1.device_pixel_ratio,o,r.external_scripts,r.meshVariantMaxLife).then(function(y){return log("debug","Scene.makeWorkers: initialized worker ".concat(y)),y},function(y){return log("error","Scene.makeWorkers: failed to initialize worker ".concat(g,":"),y),Promise.reject(y)}))};l<this.num_workers;l++)d();var h=new SceneWorker;return this._workers.push(h),s.push(h.init(this.id,l,this.log_level,Utils$1.device_pixel_ratio,o,[],this.meshVariantMaxLife)),this.next_worker=0,Promise.all(s).then(function(){log.setWorkers(r._workers.slice(0,r.num_workers)),revokeObjectURL(n)})}},{key:"getWorkers",value:function(n){return this._workers.filter(function(r){switch(n){case WorkerType.NATIVE:return r instanceof Worker;case WorkerType.FAKE:return r instanceof SceneWorker;default:return!0}})}},{key:"destroyWorkers",value:function(){this.selection=null,Array.isArray(this._workers)&&(log.setWorkers(null),this._workers.forEach(function(n){n.terminate()}),this._workers=null)}},{key:"ready",value:function(){return!(!this.view.ready()||Object.keys(this.sources).length===0)}},{key:"handleViewportUpdate",value:function(){var n=this.viewport,r=n.width,o=n.height;r>0&&o>0&&(this.dirty=!0,this.view.handleViewportUpdate(),this.gl&&Context$1.resize(this.gl,r,o,Utils$1.device_pixel_ratio)),this.adjustMeshVariantMaxLife()&&this.syncMeshVariantMaxLife()}},{key:"adjustMeshVariantMaxLife",value:function(){var n=this.viewport,r=n.width,o=n.height,s=Utils$1.device_pixel_ratio,l=r/s/256*(o/s/256),d=Math.max(Math.ceil(2*l),8);if(this.meshVariantMaxLife!==d)return this.meshVariantMaxLife=d,!0}},{key:"syncMeshVariantMaxLife",value:function(){this._workers&&WorkerBroker.postMessage(this._workers,"self.setMeshVariantMaxLife",this.meshVariantMaxLife)}},{key:"requestRedraw",value:function(){this.dirty=!0}},{key:"immediateRedraw",value:function(){this.dirty=!0,this.update()}},{key:"renderLoop",value:function(){this.render_loop_active=!0,this.initialized&&this.update(),Task.setState({user_moving_view:this.view.user_input_active}),Task.processAll(),this.render_loop_stop?(this.render_loop_stop=!1,this.render_loop_active=!1):window.requestAnimationFrame(this.renderLoop.bind(this))}},{key:"setupRenderLoop",value:function(){var n=this;this.render_loop_active||setTimeout(function(){n.renderLoop()},0)}},{key:"update",value:function(){var n=this.dirty,r=!!this.selection&&this.selection.hasPendingRequests(),o=!(n===!1&&r===!1||this.initialized===!1||this.updating>0||this.ready()===!1);return this.trigger("pre_update",o),this.view.update(),!!o&&(this.dirty=!1,this.render({main:n,selection:r}),this.updateViewComplete(),this.media_capture.completeScreenshot(),this.trigger("post_update",o),(this.animated===!0||this.view.isAnimating())&&(this.dirty=!0),this.frame++,log("trace","Scene.render()"),!0)}},{key:"render",value:function(n){var r=this,o=n.main,s=n.selection,l=this.gl;if(Object.keys(this.lights).forEach(function(d){return r.lights[d].update()}),o&&(this.render_count=this.renderPass(),this.last_main_render=this.frame),s){if(this.view.panning||this.view.user_input_active)return void this.selection.clearPendingRequests();(this.last_selection_render<this.last_main_render||this.selection.has_dirty_buffer)&&(this.selection.bind(),this.renderPass("selection_program",{allow_blend:!1}),l.bindFramebuffer(l.FRAMEBUFFER,null),l.viewport(0,0,this.canvas.width,this.canvas.height),l.clearColor.apply(l,_toConsumableArray(this.background.color)),this.last_selection_render=this.frame,this.selection.has_dirty_buffer=!1),this.selection.read(this.tile_manager.getRenderableTiles()),this.selection.has_dirty_buffer&&this.render({main:!1,selection:s})}return this.render_count_changed=!1,this.render_count!==this.last_render_count&&(this.render_count_changed=!0),this.last_render_count=this.render_count,!0}},{key:"renderPass",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"program",o=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).allow_blend,s=this.gl;o=o==null||o,this.clearFrame();for(var l,d,h=Style.sortByBlendOrderWithinLayers(this.tile_manager.getActiveStyles().map(function(q){return n.styles[q]}).filter(function(q){return q})),p=0,g=0,y=0;y<h.length;y++){var v=h[y],w=g-(d=parseInt(v.name));if((v.clean_depth||w)&&(this.render_states.depth_write.value.depth_write?s.clear(s.DEPTH_BUFFER_BIT):(s.depthMask(!0),s.clear(s.DEPTH_BUFFER_BIT),s.depthMask(!1)),w&&(g=d)),v.blend!==l){var k=Object.assign({},Style.render_states[v.blend],{blend:o&&v.blend});this.setRenderState(k)}var F=v.blend==="translucent"&&r==="program";F&&(this.gl.colorMask(!1,!1,!1,!1),this.renderStyle(v.name,r),this.gl.colorMask(!0,!0,!0,!0),this.gl.depthFunc(this.gl.EQUAL),this.gl.enable(this.gl.STENCIL_TEST),this.gl.clear(this.gl.STENCIL_BUFFER_BIT),this.gl.stencilFunc(this.gl.EQUAL,this.gl.ZERO,255),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.INCR)),p+=this.renderStyle(v.name,r),F&&(this.gl.disable(this.gl.STENCIL_TEST),this.gl.depthFunc(this.gl.LESS)),l=v.blend}return p}},{key:"renderStyle",value:function(n,r){for(var o,s,l=this,d=this.styles[n],h=!0,p=0,g=this.tile_manager.getRenderableTiles(),y=Math.max.apply(Math,_toConsumableArray(g.map(function(k){return k.meshes[n]?Math.max.apply(Math,_toConsumableArray(k.meshes[n].map(function(F){return F.variant.order}))):-1}))),v=function(k){for(var F=0;F<g.length;F++){var q=g[F];if(q.meshes[n]!=null&&q.shouldProxyForStyle(n))for(var _r=q.meshes[n].filter(function(_l){return _l.variant.order===k}),ga=0,La=_r.length;ga<La;ga+=1){var jc=_r[ga];if(h===!0&&(h=!1,!(o=l.setupStyle(d,r))))return{v:0};l.view.setupTile(q,o),l.selection.setupDiscards(o),d.render(jc)&&l.requestRedraw(),p+=jc.geometry_count}}},w=0;w<y+1;w++)if(s=v(w))return s.v;return p}},{key:"setupStyle",value:function(n,r){var o;try{if(!(o=n.getProgram(r)))return}catch{return void this.trigger("warning",{type:"styles",message:"Error compiling style ".concat(n.name),style:n,shader_errors:n.program&&n.program.shader_errors})}for(var s in o.use(),n.setup(),this.view.setupProgram(o),this.lights)this.lights[s].setupProgram(o);return o}},{key:"clearFrame",value:function(){this.initialized&&(this.render_states.depth_write.set({depth_write:!0}),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT|this.gl.STENCIL_BUFFER_BIT))}},{key:"setRenderState",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.depth_test,o=n.depth_write,s=n.cull_face,l=n.blend;if(this.initialized){var d=this.render_states;r=r!==!1&&d.defaults.depth_test,o=o!==!1&&d.defaults.depth_write,s=s!==!1&&d.defaults.culling,l=l??d.defaults.blending;var h=this.gl;d.depth_test.set({depth_test:r}),d.depth_write.set({depth_write:o}),d.culling.set({cull:s,face:d.defaults.culling_face}),l?l==="opaque"?d.blending.set({blend:!1}):l==="overlay"||l==="inlay"||l==="translucent"?d.blending.set({blend:!0,src:h.SRC_ALPHA,dst:h.ONE_MINUS_SRC_ALPHA,src_alpha:h.ONE,dst_alpha:h.ONE_MINUS_SRC_ALPHA}):l==="add"?d.blending.set({blend:!0,src:h.ONE,dst:h.ONE}):l==="multiply"&&d.blending.set({blend:!0,src:h.ZERO,dst:h.SRC_COLOR}):d.blending.set({blend:!1})}}},{key:"getFeatureAt",value:function(n,r,o){var s=r.radius,l=r.top_most_only;if(this.initialized){var d={x:n.x/this.view.size.css.width,y:n.y/this.view.size.css.height};s=s>0?{x:s/this.view.size.css.width,y:s/this.view.size.css.height}:null,this.selection.getFeatureAt(d,{radius:s,top_most_only:l},o)}else log("debug","Scene.getFeatureAt() called before scene was initialized")}},{key:"queryFeatures",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.filter,o=n.unique,s=o===void 0||o,l=n.group_by,d=l===void 0?null:l,h=n.visible,p=h===void 0?null:h,g=n.geometry,y=g!==void 0&&g;r=Utils$1.serializeWithFunctions(r);var v=this.tile_manager.getRenderableTiles().map(function(w){return w.id});return WorkerBroker.postMessage(this._workers,"self.queryFeatures",{filter:r,visible:p,geometry:y,tile_ids:v}).then(function(w){var k=[],F={},q={},_r=(s=typeof s=="string"?[s]:s)&&function(La){return JSON.stringify(Array.isArray(s)?sliceObject(La,s):La)},ga=(d=(typeof d=="string"||Array.isArray(d))&&d)&&function(La){return Array.isArray(d)?JSON.stringify(sliceObject(La,d)):La[d]};return w.forEach(function(La){return La.forEach(function(jc){if(_r){var _l=_r(jc);if(F[_l])return;F[_l]=!0}if(ga){var e1=ga(jc.properties);q[e1]=q[e1]||[],q[e1].push(jc)}else k.push(jc)})}),ga?q:k})}},{key:"loadScene",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.base_path,l=o.file_type;return this.config_source=r||this.config_source,typeof this.config_source=="string"?this.base_path=pathForURL(s||this.config_source):this.base_path=pathForURL(s),this.config_path=this.base_path,SceneLoader$1.loadScene(this.config_source,{path:this.base_path,type:l}).then(function(d){var h=d.config,p=d.bundle;return n.config=h,n.config_bundle=p,n.config})}},{key:"createDataSources",value:function(){var n=this,r=[],o=Object.keys(this.sources),s=0;for(var l in this.config.sources){var d=this.config.sources[l],h=this.sources[l];try{var p=Object.assign({},d,{name:l,id:s++});if(this.sources[l]=DataSource.create(p,this.sources),!this.sources[l])throw{}}catch(w){delete this.sources[l];var g="Could not create data source: ".concat(w.message);log("warn","Scene: ".concat(g),d),this.trigger("warning",{type:"sources",source:d,message:g})}DataSource.sameConfig(this.sources[l],h)||r.push(l)}for(var y in o.forEach(function(w){n.config.sources[w]||(delete n.sources[w],r.push(w))}),r.length>0&&this.tile_manager.removeTiles(function(w){return r.indexOf(w.source.name)>-1}),this.config.layers){var v=this.config.layers[y];v.enabled!==!1&&v.data&&this.sources[v.data.source]&&(this.sources[v.data.source].builds_geometry_tiles=!0)}}},{key:"loadTextures",value:function(){var n=this;return this.textureManager.createFromObject(this.gl,this.config.textures).then(function(){return n.textureManager.createDefault(n.gl)})}},{key:"updateStyles",value:function(){if(!this.initialized&&!this.initializing)throw new Error("Scene.updateStyles() called before scene was initialized");for(var n in this.styles=this.style_manager.build(this.config.styles),this.style_manager.initStyles(this),this.styles)this.styles[n].setGL(this.gl);this.dirty=!0}},{key:"animated",get:function(){var n=this;return this.config.scene.animated!==void 0?this.config.scene.animated:this.tile_manager.getActiveStyles().some(function(r){return n.styles[r]&&n.styles[r].animated})}},{key:"createLights",value:function(){for(var n in this.lights={},this.config.lights)if(this.config.lights[n]&&_typeof(this.config.lights[n])==="object"){var r=this.config.lights[n];r.name=n.replace("-","_"),r.visible=r.visible!==!1,r.visible&&(this.lights[r.name]=Light.create(this.view,r))}Light.inject(this.lights)}},{key:"setBackground",value:function(){var n,r=this.config.scene.background;this.background={},r&&r.color&&(this.background.color=StyleParser.parseColor(r.color)),this.background.color||(this.background.color=[0,0,0,0]),this.background.color[3]===1?this.canvas.style.backgroundColor="rgba(".concat(this.background.color.map(function(o){return Math.floor(255*o)}).join(", "),")"):this.canvas.style.backgroundColor="transparent",(n=this.gl).clearColor.apply(n,_toConsumableArray(this.background.color))}},{key:"setIntrospection",value:function(n){var r=this;return n!==this.introspection?(this.introspection=n||!1,this.updating++,this.updateConfig({normalize:!1}).then(function(){return r.updating--})):Promise.resolve()}},{key:"updateConfig",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.load_event,o=r!==void 0&&r,s=n.serialize_funcs,l=n.normalize,d=l===void 0||l;n.fade_in,this.generation=++e.generation,this.updating++,this.config=SceneLoader$1.applyGlobalProperties(this.config),d?SceneLoader$1.normalize(this.config,this.config_bundle):(SceneLoader$1.hoistStyleShaderUniformTextures(this.config,this.config_bundle,{include_globals:!0}),SceneLoader$1.normalizeTextures(this.config,this.config_bundle)),this.trigger(o?"load":"update",{config:this.config}),this.style_manager.init(),this.createLights(),this.createDataSources(),this.loadTextures(),this.setBackground(),FontManager.loadFonts(this.config.fonts),this.updateStyles();var h=this.syncConfigToWorker({serialize_funcs:s});return this.updating--,this.view.updateBounds(),this.requestRedraw(),h}},{key:"syncConfigToWorker",value:function(){var n=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).serialize_funcs,r=n===void 0||n?Utils$1.serializeWithFunctions(this.config):JSON.stringify(this.config);return WorkerBroker.postMessage(this._workers,"self.updateConfig",{config:r,generation:this.generation,introspection:this.introspection},debugSettings$1)}},{key:"createListeners",value:function(){var n=this;this.listeners={},this.listeners.view={move:function(){return n.trigger("move")}},this.view.subscribe(this.listeners.view),this.listeners.texture={update:function(){return n.dirty=!0},warning:function(r){return n.trigger("warning",Object.assign({type:"textures"},r))}},this.textureManager.subscribe(this.listeners.texture),this.listeners.scene_loader={error:function(r){return n.trigger("error",Object.assign({type:"scene"},r))}},SceneLoader$1.subscribe(this.listeners.scene_loader)}},{key:"destroyListeners",value:function(){this.unsubscribeAll(),this.view.unsubscribe(this.listeners.view),this.textureManager.unsubscribe(this.listeners.texture),SceneLoader$1.unsubscribe(this.listeners.scene_loader),this.listeners=null}},{key:"resetFeatureSelection",value:function(){this.selection?this._workers&&WorkerBroker.postMessage(this._workers,"self.resetFeatureSelection"):this.selection=new FeatureSelection(this.gl,this.id)}},{key:"updateViewComplete",value:function(){(this.render_count_changed||this.generation!==this.last_complete_generation)&&this.tile_manager.isReady()&&(this.last_complete_generation=this.generation,this.trigger("view_complete"))}},{key:"resetViewComplete",value:function(){this.last_complete_generation=null}},{key:"screenshot",value:function(){var n=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).background,r=n===void 0?"white":n;return this.requestRedraw(),this.media_capture.screenshot({background:r})}},{key:"pixelRatio",value:function(){return Utils$1.device_pixel_ratio}},{key:"startVideoCapture",value:function(){return this.requestRedraw(),this.media_capture.startVideoCapture()}},{key:"stopVideoCapture",value:function(){return this.media_capture.stopVideoCapture()}},{key:"_profile",value:function(n){console.profile("main thread: ".concat(n)),WorkerBroker.postMessage(this._workers,"self.profile",n)}},{key:"_profileEnd",value:function(n){console.profileEnd("main thread: ".concat(n)),WorkerBroker.postMessage(this._workers,"self.profileEnd",n)}},{key:"getCameraMatrix",value:function(){return this.view.lookAtManipulator.getCameraMatrix()}}],[{key:"create",value:function(n){return new e(n,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{})}}])}();Scene.id=0,Scene.generation=0;var RemoteTexture=function(e){function n(r,o,s){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};_classCallCheck(this,n);var d,h=Math.pow(2,l.coords.z),p=Math.abs(Math.floor(l.coords.x/h));d=Math.abs(h*p-Math.abs(l.coords.x));var g=l.coords;return l.coords={x:d,y:g.y,z:g.z},_callSuper(this,n,[r,o,s,l])}return _inherits(n,e),_createClass(n,[{key:"load",value:function(r){var o=this;if(!r||!r.uid)return _get(_getPrototypeOf(n.prototype),"load",this).call(this,r);var s=r.coords,l=new Uint8Array([0,0,0,0]);return this.loading=new Promise(function(d,h){var p=H.map.DataModel.invoke(r.uid,"requestTileAsPromise",[s.x,s.y,s.z])||null;p?p.then(function(g){var y=g.data;o.loaded=!0,!y||y instanceof ArrayBuffer?o.setData(1,1,l,{filtering:"nearest"}):y.tagName.toUpperCase()==="IMG"||y.tagName.toUpperCase()==="CANVAS"?o.setElement(y,r):o.setData(1,1,l,{filtering:"nearest"})},function(){o.loaded=!1}).then(d,function(g){return h(g)}):h(new Error("Unable to invoke on target "+r.uid))}),this.loading}}])}(Texture);TextureManager.register(RemoteTexture,function(e){return e&&e.uid}),self.H=self.H||{},self.H.gl={DataSource,Geo:Geo$1,MathUtils:MathUtils$1,Scene,Task,Tile,WorkerBroker,log,SceneLoader:SceneLoader$1,yaml:jsYaml}})()};f()}(),this.H=this.H||{},this.H.venues=function(e){"use strict";function n($,j){j===void 0&&(j={});var V=j.insertAt;if($&&typeof document<"u"){var _e=document.head||document.getElementsByTagName("head")[0],_i=document.createElement("style");_i.type="text/css",V==="top"&&_e.firstChild?_e.insertBefore(_i,_e.firstChild):_e.appendChild(_i),_i.styleSheet?_i.styleSheet.cssText=$:_i.appendChild(document.createTextNode($))}}function r($,j,V){return j=ga(j),function(_e,_i){if(_i&&(typeof _i=="object"||typeof _i=="function"))return _i;if(_i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(_s){if(_s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _s}(_e)}($,s()?Reflect.construct(j,V||[],ga($).constructor):j.apply($,V))}function o($,j,V){if(s())return Reflect.construct.apply(null,arguments);var _e=[null];_e.push.apply(_e,j);var _i=new($.bind.apply($,_e));return V&&La(_i,V.prototype),_i}function s(){try{var $=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s=function(){return!!$})()}function l($,j){var V=Object.keys($);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols($);j&&(_e=_e.filter(function(_i){return Object.getOwnPropertyDescriptor($,_i).enumerable})),V.push.apply(V,_e)}return V}function d($){for(var j=1;j<arguments.length;j++){var V=arguments[j]!=null?arguments[j]:{};j%2?l(Object(V),!0).forEach(function(_e){q($,_e,V[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(V)):l(Object(V)).forEach(function(_e){Object.defineProperty($,_e,Object.getOwnPropertyDescriptor(V,_e))})}return $}function h(){h=function(){return j};var $,j={},V=Object.prototype,_e=V.hasOwnProperty,_i=Object.defineProperty||function(M1,L1,V1){M1[L1]=V1.value},_s=typeof Symbol=="function"?Symbol:{},_a=_s.iterator||"@@iterator",Pa=_s.asyncIterator||"@@asyncIterator",Cc=_s.toStringTag||"@@toStringTag";function Kc(M1,L1,V1){return Object.defineProperty(M1,L1,{value:V1,enumerable:!0,configurable:!0,writable:!0}),M1[L1]}try{Kc({},"")}catch{Kc=function(L1,V1,x2){return L1[V1]=x2}}function o1(M1,L1,V1,x2){var q1=L1&&L1.prototype instanceof F1?L1:F1,Z2=Object.create(q1.prototype),t0=new W0(x2||[]);return _i(Z2,"_invoke",{value:c0(M1,V1,t0)}),Z2}function l1(M1,L1,V1){try{return{type:"normal",arg:M1.call(L1,V1)}}catch(x2){return{type:"throw",arg:x2}}}j.wrap=o1;var s1="suspendedStart",f1="suspendedYield",u1="executing",m1="completed",_1={};function F1(){}function Y1(){}function Q1(){}var _2={};Kc(_2,_a,function(){return this});var f2=Object.getPrototypeOf,b2=f2&&f2(f2(C4([])));b2&&b2!==V&&_e.call(b2,_a)&&(_2=b2);var t2=Q1.prototype=F1.prototype=Object.create(_2);function h2(M1){["next","throw","return"].forEach(function(L1){Kc(M1,L1,function(V1){return this._invoke(L1,V1)})})}function o2(M1,L1){function V1(q1,Z2,t0,Y0){var Z0=l1(M1[q1],M1,Z2);if(Z0.type!=="throw"){var K0=Z0.arg,w2=K0.value;return w2&&typeof w2=="object"&&_e.call(w2,"__await")?L1.resolve(w2.__await).then(function(x3){V1("next",x3,t0,Y0)},function(x3){V1("throw",x3,t0,Y0)}):L1.resolve(w2).then(function(x3){K0.value=x3,t0(K0)},function(x3){return V1("throw",x3,t0,Y0)})}Y0(Z0.arg)}var x2;_i(this,"_invoke",{value:function(q1,Z2){function t0(){return new L1(function(Y0,Z0){V1(q1,Z2,Y0,Z0)})}return x2=x2?x2.then(t0,t0):t0()}})}function c0(M1,L1,V1){var x2=s1;return function(q1,Z2){if(x2===u1)throw Error("Generator is already running");if(x2===m1){if(q1==="throw")throw Z2;return{value:$,done:!0}}for(V1.method=q1,V1.arg=Z2;;){var t0=V1.delegate;if(t0){var Y0=T0(t0,V1);if(Y0){if(Y0===_1)continue;return Y0}}if(V1.method==="next")V1.sent=V1._sent=V1.arg;else if(V1.method==="throw"){if(x2===s1)throw x2=m1,V1.arg;V1.dispatchException(V1.arg)}else V1.method==="return"&&V1.abrupt("return",V1.arg);x2=u1;var Z0=l1(M1,L1,V1);if(Z0.type==="normal"){if(x2=V1.done?m1:f1,Z0.arg===_1)continue;return{value:Z0.arg,done:V1.done}}Z0.type==="throw"&&(x2=m1,V1.method="throw",V1.arg=Z0.arg)}}}function T0(M1,L1){var V1=L1.method,x2=M1.iterator[V1];if(x2===$)return L1.delegate=null,V1==="throw"&&M1.iterator.return&&(L1.method="return",L1.arg=$,T0(M1,L1),L1.method==="throw")||V1!=="return"&&(L1.method="throw",L1.arg=new TypeError("The iterator does not provide a '"+V1+"' method")),_1;var q1=l1(x2,M1.iterator,L1.arg);if(q1.type==="throw")return L1.method="throw",L1.arg=q1.arg,L1.delegate=null,_1;var Z2=q1.arg;return Z2?Z2.done?(L1[M1.resultName]=Z2.value,L1.next=M1.nextLoc,L1.method!=="return"&&(L1.method="next",L1.arg=$),L1.delegate=null,_1):Z2:(L1.method="throw",L1.arg=new TypeError("iterator result is not an object"),L1.delegate=null,_1)}function p3(M1){var L1={tryLoc:M1[0]};1 in M1&&(L1.catchLoc=M1[1]),2 in M1&&(L1.finallyLoc=M1[2],L1.afterLoc=M1[3]),this.tryEntries.push(L1)}function q0(M1){var L1=M1.completion||{};L1.type="normal",delete L1.arg,M1.completion=L1}function W0(M1){this.tryEntries=[{tryLoc:"root"}],M1.forEach(p3,this),this.reset(!0)}function C4(M1){if(M1||M1===""){var L1=M1[_a];if(L1)return L1.call(M1);if(typeof M1.next=="function")return M1;if(!isNaN(M1.length)){var V1=-1,x2=function q1(){for(;++V1<M1.length;)if(_e.call(M1,V1))return q1.value=M1[V1],q1.done=!1,q1;return q1.value=$,q1.done=!0,q1};return x2.next=x2}}throw new TypeError(typeof M1+" is not iterable")}return Y1.prototype=Q1,_i(t2,"constructor",{value:Q1,configurable:!0}),_i(Q1,"constructor",{value:Y1,configurable:!0}),Y1.displayName=Kc(Q1,Cc,"GeneratorFunction"),j.isGeneratorFunction=function(M1){var L1=typeof M1=="function"&&M1.constructor;return!!L1&&(L1===Y1||(L1.displayName||L1.name)==="GeneratorFunction")},j.mark=function(M1){return Object.setPrototypeOf?Object.setPrototypeOf(M1,Q1):(M1.__proto__=Q1,Kc(M1,Cc,"GeneratorFunction")),M1.prototype=Object.create(t2),M1},j.awrap=function(M1){return{__await:M1}},h2(o2.prototype),Kc(o2.prototype,Pa,function(){return this}),j.AsyncIterator=o2,j.async=function(M1,L1,V1,x2,q1){q1===void 0&&(q1=Promise);var Z2=new o2(o1(M1,L1,V1,x2),q1);return j.isGeneratorFunction(L1)?Z2:Z2.next().then(function(t0){return t0.done?t0.value:Z2.next()})},h2(t2),Kc(t2,Cc,"Generator"),Kc(t2,_a,function(){return this}),Kc(t2,"toString",function(){return"[object Generator]"}),j.keys=function(M1){var L1=Object(M1),V1=[];for(var x2 in L1)V1.push(x2);return V1.reverse(),function q1(){for(;V1.length;){var Z2=V1.pop();if(Z2 in L1)return q1.value=Z2,q1.done=!1,q1}return q1.done=!0,q1}},j.values=C4,W0.prototype={constructor:W0,reset:function(M1){if(this.prev=0,this.next=0,this.sent=this._sent=$,this.done=!1,this.delegate=null,this.method="next",this.arg=$,this.tryEntries.forEach(q0),!M1)for(var L1 in this)L1.charAt(0)==="t"&&_e.call(this,L1)&&!isNaN(+L1.slice(1))&&(this[L1]=$)},stop:function(){this.done=!0;var M1=this.tryEntries[0].completion;if(M1.type==="throw")throw M1.arg;return this.rval},dispatchException:function(M1){if(this.done)throw M1;var L1=this;function V1(Z0,K0){return Z2.type="throw",Z2.arg=M1,L1.next=Z0,K0&&(L1.method="next",L1.arg=$),!!K0}for(var x2=this.tryEntries.length-1;x2>=0;--x2){var q1=this.tryEntries[x2],Z2=q1.completion;if(q1.tryLoc==="root")return V1("end");if(q1.tryLoc<=this.prev){var t0=_e.call(q1,"catchLoc"),Y0=_e.call(q1,"finallyLoc");if(t0&&Y0){if(this.prev<q1.catchLoc)return V1(q1.catchLoc,!0);if(this.prev<q1.finallyLoc)return V1(q1.finallyLoc)}else if(t0){if(this.prev<q1.catchLoc)return V1(q1.catchLoc,!0)}else{if(!Y0)throw Error("try statement without catch or finally");if(this.prev<q1.finallyLoc)return V1(q1.finallyLoc)}}}},abrupt:function(M1,L1){for(var V1=this.tryEntries.length-1;V1>=0;--V1){var x2=this.tryEntries[V1];if(x2.tryLoc<=this.prev&&_e.call(x2,"finallyLoc")&&this.prev<x2.finallyLoc){var q1=x2;break}}q1&&(M1==="break"||M1==="continue")&&q1.tryLoc<=L1&&L1<=q1.finallyLoc&&(q1=null);var Z2=q1?q1.completion:{};return Z2.type=M1,Z2.arg=L1,q1?(this.method="next",this.next=q1.finallyLoc,_1):this.complete(Z2)},complete:function(M1,L1){if(M1.type==="throw")throw M1.arg;return M1.type==="break"||M1.type==="continue"?this.next=M1.arg:M1.type==="return"?(this.rval=this.arg=M1.arg,this.method="return",this.next="end"):M1.type==="normal"&&L1&&(this.next=L1),_1},finish:function(M1){for(var L1=this.tryEntries.length-1;L1>=0;--L1){var V1=this.tryEntries[L1];if(V1.finallyLoc===M1)return this.complete(V1.completion,V1.afterLoc),q0(V1),_1}},catch:function(M1){for(var L1=this.tryEntries.length-1;L1>=0;--L1){var V1=this.tryEntries[L1];if(V1.tryLoc===M1){var x2=V1.completion;if(x2.type==="throw"){var q1=x2.arg;q0(V1)}return q1}}throw Error("illegal catch attempt")},delegateYield:function(M1,L1,V1){return this.delegate={iterator:C4(M1),resultName:L1,nextLoc:V1},this.method==="next"&&(this.arg=$),_1}},j}function p($){var j=function(V,_e){if(typeof V!="object"||!V)return V;var _i=V[Symbol.toPrimitive];if(_i!==void 0){var _s=_i.call(V,_e||"default");if(typeof _s!="object")return _s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(V)}($,"string");return typeof j=="symbol"?j:j+""}function g($){return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},g($)}function y($,j,V,_e,_i,_s,_a){try{var Pa=$[_s](_a),Cc=Pa.value}catch(Kc){return void V(Kc)}Pa.done?j(Cc):Promise.resolve(Cc).then(_e,_i)}function v($){return function(){var j=this,V=arguments;return new Promise(function(_e,_i){var _s=$.apply(j,V);function _a(Cc){y(_s,_e,_i,_a,Pa,"next",Cc)}function Pa(Cc){y(_s,_e,_i,_a,Pa,"throw",Cc)}_a(void 0)})}}function w($,j){if(!($ instanceof j))throw new TypeError("Cannot call a class as a function")}function k($,j){for(var V=0;V<j.length;V++){var _e=j[V];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty($,p(_e.key),_e)}}function F($,j,V){return j&&k($.prototype,j),V&&k($,V),Object.defineProperty($,"prototype",{writable:!1}),$}function q($,j,V){return(j=p(j))in $?Object.defineProperty($,j,{value:V,enumerable:!0,configurable:!0,writable:!0}):$[j]=V,$}function _r($,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(j&&j.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),j&&La($,j)}function ga($){return ga=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(j){return j.__proto__||Object.getPrototypeOf(j)},ga($)}function La($,j){return La=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(V,_e){return V.__proto__=_e,V},La($,j)}function jc($,j){if($==null)return{};var V,_e,_i=function(_a,Pa){if(_a==null)return{};var Cc,Kc,o1={},l1=Object.keys(_a);for(Kc=0;Kc<l1.length;Kc++)Cc=l1[Kc],Pa.indexOf(Cc)>=0||(o1[Cc]=_a[Cc]);return o1}($,j);if(Object.getOwnPropertySymbols){var _s=Object.getOwnPropertySymbols($);for(_e=0;_e<_s.length;_e++)V=_s[_e],j.indexOf(V)>=0||Object.prototype.propertyIsEnumerable.call($,V)&&(_i[V]=$[V])}return _i}function _l(){return _l=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function($,j,V){var _e=function(_s,_a){for(;!Object.prototype.hasOwnProperty.call(_s,_a)&&(_s=ga(_s))!==null;);return _s}($,j);if(_e){var _i=Object.getOwnPropertyDescriptor(_e,j);return _i.get?_i.get.call(arguments.length<3?$:V):_i.value}},_l.apply(this,arguments)}function e1($,j){return function(V){if(Array.isArray(V))return V}($)||function(V,_e){var _i=V==null?null:typeof Symbol<"u"&&V[Symbol.iterator]||V["@@iterator"];if(_i!=null){var _s,_a,Pa,Cc,Kc=[],o1=!0,l1=!1;try{if(Pa=(_i=_i.call(V)).next,_e===0){if(Object(_i)!==_i)return;o1=!1}else for(;!(o1=(_s=Pa.call(_i)).done)&&(Kc.push(_s.value),Kc.length!==_e);o1=!0);}catch(s1){l1=!0,_a=s1}finally{try{if(!o1&&_i.return!=null&&(Cc=_i.return(),Object(Cc)!==Cc))return}finally{if(l1)throw _a}}return Kc}}($,j)||d1($,j)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function n1($){return function(j){if(Array.isArray(j))return c1(j)}($)||function(j){if(typeof Symbol<"u"&&j[Symbol.iterator]!=null||j["@@iterator"]!=null)return Array.from(j)}($)||d1($)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function d1($,j){if($){if(typeof $=="string")return c1($,j);var V=Object.prototype.toString.call($).slice(8,-1);return V==="Object"&&$.constructor&&(V=$.constructor.name),V==="Map"||V==="Set"?Array.from($):V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V)?c1($,j):void 0}}function c1($,j){(j==null||j>$.length)&&(j=$.length);for(var V=0,_e=new Array(j);V<j;V++)_e[V]=$[V];return _e}n(`.H_l_right .venues-ui__drawings .trigger.button--active .arrow {
  transform: rotate(90deg);
}
.H_l_right .venues-ui__drawings .drawings {
  right: 45px;
  left: initial;
}`);var h1=function($){function j(V){var _e;return w(this,j),(_e=r(this,j)).id=V.id,_e.model=V,_e}return _r(j,H.map.Feature),F(j,[{key:"getData",value:function(){return this.model}},{key:"getAddress",value:function(){return this.model.getInternalAddress()}},{key:"getCenter",value:function(){var V=e1(this.model.getCenter(),2),_e=V[0],_i=V[1];return new H.geo.Point(_i,_e)}},{key:"getId",value:function(){return this.model.getId()}},{key:"getIdentifier",value:function(){return this.model.getIdentifier()}},{key:"getName",value:function(){return this.model.getDisplayName()}},{key:"toGeoJSON",value:function(){return this.model.toJSON()}},{key:"getLevel",value:function(){return this.getParentEventTarget()}},{key:"getVenue",value:function(){return this.getLevel().getDrawing().getParentEventTarget()}}])}(),N1=function($){function j(V){var _e;return w(this,j),(_e=r(this,j)).id=V.id,_e.model=V,_e}return _r(j,H.map.Feature),F(j,[{key:"getData",value:function(){return this.model}},{key:"getBoundingBox",value:function(){return o(H.geo.Rect,n1(this.model.getBoundingBox()))}},{key:"getCenter",value:function(){var V=e1(this.model.getCenter(),2),_e=V[0],_i=V[1];return new H.geo.Point(_i,_e)}},{key:"getId",value:function(){return this.model.getId()}},{key:"getIdentifier",value:function(){return this.model.getIdentifier()}},{key:"getName",value:function(){return this.model.getDisplayName()}},{key:"getLevel",value:function(V){return this.getLevels().find(function(_e){return _e.getIdentifier()===V})}},{key:"getLevels",value:function(){var V=this.getData().getLevels().map(function(_e){return _e.getIdentifier()});return this.getVenue().getLevels().filter(function(_e){return V.indexOf(_e.id)!==-1})}},{key:"getMainLevel",value:function(){return this.getLevel(this.model.getMainLevel().getIdentifier())}},{key:"getVenue",value:function(){return this.getParentEventTarget()}}])}(),k1=function($){function j(V){var _e;return w(this,j),(_e=r(this,j)).id=V.id,_e.model=V,_e}return _r(j,H.map.Feature),F(j,[{key:"getGeometry",value:function(V){return this.getGeometries().find(function(_e){return _e.getIdentifier()===V})}},{key:"getGeometries",value:function(){var V=this.getData().getGeometries().map(function(_e){return _e.getIdentifier()});return this.getDrawing().getVenue().getGeometries().filter(function(_e){return V.indexOf(_e.id)!==-1})}},{key:"getData",value:function(){return this.model}},{key:"getId",value:function(){return this.model.getId()}},{key:"getIdentifier",value:function(){return this.model.getIdentifier()}},{key:"getName",value:function(){return this.model.getDisplayName()}},{key:"getShortName",value:function(){return this.model.getShortName()}},{key:"getZIndex",value:function(){return this.model.getZIndex()}},{key:"isMain",value:function(){return this.model.isMain()}},{key:"getDrawing",value:function(){return this.getParentEventTarget()}},{key:"getVenue",value:function(){return this.getDrawing().getParentEventTarget()}}])}();function R1($,j,V,_e){for(var _i,_s=_e,_a=V-j>>1,Pa=V-j,Cc=$[j],Kc=$[j+1],o1=$[V],l1=$[V+1],s1=j+3;s1<V;s1+=3){var f1=U1($[s1],$[s1+1],Cc,Kc,o1,l1);if(f1>_s)_i=s1,_s=f1;else if(f1===_s){var u1=Math.abs(s1-_a);u1<Pa&&(_i=s1,Pa=u1)}}_s>_e&&(_i-j>3&&R1($,j,_i,_e),$[_i+2]=_s,V-_i>3&&R1($,_i,V,_e))}function U1($,j,V,_e,_i,_s){var _a=_i-V,Pa=_s-_e;if(_a!==0||Pa!==0){var Cc=(($-V)*_a+(j-_e)*Pa)/(_a*_a+Pa*Pa);Cc>1?(V=_i,_e=_s):Cc>0&&(V+=_a*Cc,_e+=Pa*Cc)}return(_a=$-V)*_a+(Pa=j-_e)*Pa}function x1($,j,V,_e){var _i={id:$===void 0?null:$,type:j,geometry:V,tags:_e,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(_s){var _a=_s.geometry,Pa=_s.type;if(Pa==="Point"||Pa==="MultiPoint"||Pa==="LineString")m2(_s,_a);else if(Pa==="Polygon"||Pa==="MultiLineString")for(var Cc=0;Cc<_a.length;Cc++)m2(_s,_a[Cc]);else if(Pa==="MultiPolygon")for(Cc=0;Cc<_a.length;Cc++)for(var Kc=0;Kc<_a[Cc].length;Kc++)m2(_s,_a[Cc][Kc])}(_i),_i}function m2($,j){for(var V=0;V<j.length;V+=3)$.minX=Math.min($.minX,j[V]),$.minY=Math.min($.minY,j[V+1]),$.maxX=Math.max($.maxX,j[V]),$.maxY=Math.max($.maxY,j[V+1])}function w1($,j,V,_e){if(j.geometry){var _i=j.geometry.coordinates,_s=j.geometry.type,_a=Math.pow(V.tolerance/((1<<V.maxZoom)*V.extent),2),Pa=[],Cc=j.id;if(V.promoteId?Cc=j.properties[V.promoteId]:V.generateId&&(Cc=_e||0),_s==="Point")B1(_i,Pa);else if(_s==="MultiPoint")for(var Kc=0;Kc<_i.length;Kc++)B1(_i[Kc],Pa);else if(_s==="LineString")A1(_i,Pa,_a,!1);else if(_s==="MultiLineString"){if(V.lineMetrics){for(Kc=0;Kc<_i.length;Kc++)Pa=[],A1(_i[Kc],Pa,_a,!1),$.push(x1(Cc,"LineString",Pa,j.properties));return}H1(_i,Pa,_a,!1)}else if(_s==="Polygon")H1(_i,Pa,_a,!0);else{if(_s!=="MultiPolygon"){if(_s==="GeometryCollection"){for(Kc=0;Kc<j.geometry.geometries.length;Kc++)w1($,{id:Cc,geometry:j.geometry.geometries[Kc],properties:j.properties},V,_e);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Kc=0;Kc<_i.length;Kc++){var o1=[];H1(_i[Kc],o1,_a,!0),Pa.push(o1)}}$.push(x1(Cc,_s,Pa,j.properties))}}function B1($,j){j.push(L2($[0])),j.push(o0($[1])),j.push(0)}function A1($,j,V,_e){for(var _i,_s,_a=0,Pa=0;Pa<$.length;Pa++){var Cc=L2($[Pa][0]),Kc=o0($[Pa][1]);j.push(Cc),j.push(Kc),j.push(0),Pa>0&&(_a+=_e?(_i*Kc-Cc*_s)/2:Math.sqrt(Math.pow(Cc-_i,2)+Math.pow(Kc-_s,2))),_i=Cc,_s=Kc}var o1=j.length-3;j[2]=1,R1(j,0,o1,V),j[o1+2]=1,j.size=Math.abs(_a),j.start=0,j.end=j.size}function H1($,j,V,_e){for(var _i=0;_i<$.length;_i++){var _s=[];A1($[_i],_s,V,_e),j.push(_s)}}function L2($){return $/360+.5}function o0($){var j=Math.sin($*Math.PI/180),V=.5-.25*Math.log((1+j)/(1-j))/Math.PI;return V<0?0:V>1?1:V}function $2($,j,V,_e,_i,_s,_a,Pa){if(_e/=j,_s>=(V/=j)&&_a<_e)return $;if(_a<V||_s>=_e)return null;for(var Cc=[],Kc=0;Kc<$.length;Kc++){var o1=$[Kc],l1=o1.geometry,s1=o1.type,f1=_i===0?o1.minX:o1.minY,u1=_i===0?o1.maxX:o1.maxY;if(f1>=V&&u1<_e)Cc.push(o1);else if(!(u1<V||f1>=_e)){var m1=[];if(s1==="Point"||s1==="MultiPoint")b1(l1,m1,V,_e,_i);else if(s1==="LineString")X2(l1,m1,V,_e,_i,!1,Pa.lineMetrics);else if(s1==="MultiLineString")d3(l1,m1,V,_e,_i,!1);else if(s1==="Polygon")d3(l1,m1,V,_e,_i,!0);else if(s1==="MultiPolygon")for(var _1=0;_1<l1.length;_1++){var F1=[];d3(l1[_1],F1,V,_e,_i,!0),F1.length&&m1.push(F1)}if(m1.length){if(Pa.lineMetrics&&s1==="LineString"){for(_1=0;_1<m1.length;_1++)Cc.push(x1(o1.id,s1,m1[_1],o1.tags));continue}s1!=="LineString"&&s1!=="MultiLineString"||(m1.length===1?(s1="LineString",m1=m1[0]):s1="MultiLineString"),s1!=="Point"&&s1!=="MultiPoint"||(s1=m1.length===3?"Point":"MultiPoint"),Cc.push(x1(o1.id,s1,m1,o1.tags))}}}return Cc.length?Cc:null}function b1($,j,V,_e,_i){for(var _s=0;_s<$.length;_s+=3){var _a=$[_s+_i];_a>=V&&_a<=_e&&(j.push($[_s]),j.push($[_s+1]),j.push($[_s+2]))}}function X2($,j,V,_e,_i,_s,_a){for(var Pa,Cc,Kc=e3($),o1=_i===0?$0:M2,l1=$.start,s1=0;s1<$.length-3;s1+=3){var f1=$[s1],u1=$[s1+1],m1=$[s1+2],_1=$[s1+3],F1=$[s1+4],Y1=_i===0?f1:u1,Q1=_i===0?_1:F1,_2=!1;_a&&(Pa=Math.sqrt(Math.pow(f1-_1,2)+Math.pow(u1-F1,2))),Y1<V?Q1>V&&(Cc=o1(Kc,f1,u1,_1,F1,V),_a&&(Kc.start=l1+Pa*Cc)):Y1>_e?Q1<_e&&(Cc=o1(Kc,f1,u1,_1,F1,_e),_a&&(Kc.start=l1+Pa*Cc)):p0(Kc,f1,u1,m1),Q1<V&&Y1>=V&&(Cc=o1(Kc,f1,u1,_1,F1,V),_2=!0),Q1>_e&&Y1<=_e&&(Cc=o1(Kc,f1,u1,_1,F1,_e),_2=!0),!_s&&_2&&(_a&&(Kc.end=l1+Pa*Cc),j.push(Kc),Kc=e3($)),_a&&(l1+=Pa)}var f2=$.length-3;f1=$[f2],u1=$[f2+1],m1=$[f2+2],(Y1=_i===0?f1:u1)>=V&&Y1<=_e&&p0(Kc,f1,u1,m1),f2=Kc.length-3,_s&&f2>=3&&(Kc[f2]!==Kc[0]||Kc[f2+1]!==Kc[1])&&p0(Kc,Kc[0],Kc[1],Kc[2]),Kc.length&&j.push(Kc)}function e3($){var j=[];return j.size=$.size,j.start=$.start,j.end=$.end,j}function d3($,j,V,_e,_i,_s){for(var _a=0;_a<$.length;_a++)X2($[_a],j,V,_e,_i,_s,!1)}function p0($,j,V,_e){$.push(j),$.push(V),$.push(_e)}function $0($,j,V,_e,_i,_s){var _a=(_s-j)/(_e-j);return $.push(_s),$.push(V+(_i-V)*_a),$.push(1),_a}function M2($,j,V,_e,_i,_s){var _a=(_s-V)/(_i-V);return $.push(j+(_e-j)*_a),$.push(_s),$.push(1),_a}function J0($,j){for(var V=[],_e=0;_e<$.length;_e++){var _i,_s=$[_e],_a=_s.type;if(_a==="Point"||_a==="MultiPoint"||_a==="LineString")_i=W3(_s.geometry,j);else if(_a==="MultiLineString"||_a==="Polygon"){_i=[];for(var Pa=0;Pa<_s.geometry.length;Pa++)_i.push(W3(_s.geometry[Pa],j))}else if(_a==="MultiPolygon")for(_i=[],Pa=0;Pa<_s.geometry.length;Pa++){for(var Cc=[],Kc=0;Kc<_s.geometry[Pa].length;Kc++)Cc.push(W3(_s.geometry[Pa][Kc],j));_i.push(Cc)}V.push(x1(_s.id,_a,_i,_s.tags))}return V}function W3($,j){var V=[];V.size=$.size,$.start!==void 0&&(V.start=$.start,V.end=$.end);for(var _e=0;_e<$.length;_e+=3)V.push($[_e]+j,$[_e+1],$[_e+2]);return V}function M6($,j){if($.transformed)return $;var V,_e,_i,_s=1<<$.z,_a=$.x,Pa=$.y;for(V=0;V<$.features.length;V++){var Cc=$.features[V],Kc=Cc.geometry,o1=Cc.type;if(Cc.geometry=[],o1===1)for(_e=0;_e<Kc.length;_e+=2)Cc.geometry.push(E6(Kc[_e],Kc[_e+1],j,_s,_a,Pa));else for(_e=0;_e<Kc.length;_e++){var l1=[];for(_i=0;_i<Kc[_e].length;_i+=2)l1.push(E6(Kc[_e][_i],Kc[_e][_i+1],j,_s,_a,Pa));Cc.geometry.push(l1)}}return $.transformed=!0,$}function E6($,j,V,_e,_i,_s){return[Math.round(V*($*_e-_i)),Math.round(V*(j*_e-_s))]}function h4($,j,V,_e,_i){for(var _s=j===_i.maxZoom?0:_i.tolerance/((1<<j)*_i.extent),_a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:V,y:_e,z:j,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Pa=0;Pa<$.length;Pa++){_a.numFeatures++,X6(_a,$[Pa],_s,_i);var Cc=$[Pa].minX,Kc=$[Pa].minY,o1=$[Pa].maxX,l1=$[Pa].maxY;Cc<_a.minX&&(_a.minX=Cc),Kc<_a.minY&&(_a.minY=Kc),o1>_a.maxX&&(_a.maxX=o1),l1>_a.maxY&&(_a.maxY=l1)}return _a}function X6($,j,V,_e){var _i=j.geometry,_s=j.type,_a=[];if(_s==="Point"||_s==="MultiPoint")for(var Pa=0;Pa<_i.length;Pa+=3)_a.push(_i[Pa]),_a.push(_i[Pa+1]),$.numPoints++,$.numSimplified++;else if(_s==="LineString")_h(_a,_i,$,V,!1,!1);else if(_s==="MultiLineString"||_s==="Polygon")for(Pa=0;Pa<_i.length;Pa++)_h(_a,_i[Pa],$,V,_s==="Polygon",Pa===0);else if(_s==="MultiPolygon")for(var Cc=0;Cc<_i.length;Cc++){var Kc=_i[Cc];for(Pa=0;Pa<Kc.length;Pa++)_h(_a,Kc[Pa],$,V,!0,Pa===0)}if(_a.length){var o1=j.tags||null;if(_s==="LineString"&&_e.lineMetrics){for(var l1 in o1={},j.tags)o1[l1]=j.tags[l1];o1.mapbox_clip_start=_i.start/_i.size,o1.mapbox_clip_end=_i.end/_i.size}var s1={geometry:_a,type:_s==="Polygon"||_s==="MultiPolygon"?3:_s==="LineString"||_s==="MultiLineString"?2:1,tags:o1};j.id!==null&&(s1.id=j.id),$.features.push(s1)}}function _h($,j,V,_e,_i,_s){var _a=_e*_e;if(_e>0&&j.size<(_i?_a:_e))V.numPoints+=j.length/3;else{for(var Pa=[],Cc=0;Cc<j.length;Cc+=3)(_e===0||j[Cc+2]>_a)&&(V.numSimplified++,Pa.push(j[Cc]),Pa.push(j[Cc+1])),V.numPoints++;_i&&function(Kc,o1){for(var l1=0,s1=0,f1=Kc.length,u1=f1-2;s1<f1;u1=s1,s1+=2)l1+=(Kc[s1]-Kc[u1])*(Kc[s1+1]+Kc[u1+1]);if(l1>0===o1)for(s1=0,f1=Kc.length;s1<f1/2;s1+=2){var m1=Kc[s1],_1=Kc[s1+1];Kc[s1]=Kc[f1-2-s1],Kc[s1+1]=Kc[f1-1-s1],Kc[f1-2-s1]=m1,Kc[f1-1-s1]=_1}}(Pa,_s),$.push(Pa)}}function O3($,j){var V=(j=this.options=function(_i,_s){for(var _a in _s)_i[_a]=_s[_a];return _i}(Object.create(this.options),j)).debug;if(V&&console.time("preprocess data"),j.maxZoom<0||j.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(j.promoteId&&j.generateId)throw new Error("promoteId and generateId cannot be used together.");var _e=function(_i,_s){var _a=[];if(_i.type==="FeatureCollection")for(var Pa=0;Pa<_i.features.length;Pa++)w1(_a,_i.features[Pa],_s,Pa);else _i.type==="Feature"?w1(_a,_i,_s):w1(_a,{geometry:_i},_s);return _a}($,j);this.tiles={},this.tileCoords=[],V&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",j.indexMaxZoom,j.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),_e=function(_i,_s){var _a=_s.buffer/_s.extent,Pa=_i,Cc=$2(_i,1,-1-_a,_a,0,-1,2,_s),Kc=$2(_i,1,1-_a,2+_a,0,-1,2,_s);return(Cc||Kc)&&(Pa=$2(_i,1,-_a,1+_a,0,-1,2,_s)||[],Cc&&(Pa=J0(Cc,1).concat(Pa)),Kc&&(Pa=Pa.concat(J0(Kc,-1)))),Pa}(_e,j),_e.length&&this.splitTile(_e,0,0,0),V&&(_e.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function a3($,j,V){return 32*((1<<$)*V+j)+$}O3.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},O3.prototype.splitTile=function($,j,V,_e,_i,_s,_a){for(var Pa=[$,j,V,_e],Cc=this.options,Kc=Cc.debug;Pa.length;){_e=Pa.pop(),V=Pa.pop(),j=Pa.pop(),$=Pa.pop();var o1=1<<j,l1=a3(j,V,_e),s1=this.tiles[l1];if(!s1&&(Kc>1&&console.time("creation"),s1=this.tiles[l1]=h4($,j,V,_e,Cc),this.tileCoords.push({z:j,x:V,y:_e}),Kc)){Kc>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",j,V,_e,s1.numFeatures,s1.numPoints,s1.numSimplified),console.timeEnd("creation"));var f1="z"+j;this.stats[f1]=(this.stats[f1]||0)+1,this.total++}if(s1.source=$,_i){if(j===Cc.maxZoom||j===_i)continue;var u1=1<<_i-j;if(V!==Math.floor(_s/u1)||_e!==Math.floor(_a/u1))continue}else if(j===Cc.indexMaxZoom||s1.numPoints<=Cc.indexMaxPoints)continue;if(s1.source=null,$.length!==0){Kc>1&&console.time("clipping");var m1,_1,F1,Y1,Q1,_2,f2=.5*Cc.buffer/Cc.extent,b2=.5-f2,t2=.5+f2,h2=1+f2;m1=_1=F1=Y1=null,Q1=$2($,o1,V-f2,V+t2,0,s1.minX,s1.maxX,Cc),_2=$2($,o1,V+b2,V+h2,0,s1.minX,s1.maxX,Cc),$=null,Q1&&(m1=$2(Q1,o1,_e-f2,_e+t2,1,s1.minY,s1.maxY,Cc),_1=$2(Q1,o1,_e+b2,_e+h2,1,s1.minY,s1.maxY,Cc),Q1=null),_2&&(F1=$2(_2,o1,_e-f2,_e+t2,1,s1.minY,s1.maxY,Cc),Y1=$2(_2,o1,_e+b2,_e+h2,1,s1.minY,s1.maxY,Cc),_2=null),Kc>1&&console.timeEnd("clipping"),Pa.push(m1||[],j+1,2*V,2*_e),Pa.push(_1||[],j+1,2*V,2*_e+1),Pa.push(F1||[],j+1,2*V+1,2*_e),Pa.push(Y1||[],j+1,2*V+1,2*_e+1)}}},O3.prototype.getTile=function($,j,V){var _e=this.options,_i=_e.extent,_s=_e.debug;if($<0||$>24)return null;var _a=1<<$,Pa=a3($,j=(j%_a+_a)%_a,V);if(this.tiles[Pa])return M6(this.tiles[Pa],_i);_s>1&&console.log("drilling down to z%d-%d-%d",$,j,V);for(var Cc,Kc=$,o1=j,l1=V;!Cc&&Kc>0;)Kc--,o1=Math.floor(o1/2),l1=Math.floor(l1/2),Cc=this.tiles[a3(Kc,o1,l1)];return Cc&&Cc.source?(_s>1&&console.log("found parent tile z%d-%d-%d",Kc,o1,l1),_s>1&&console.time("drilling down"),this.splitTile(Cc.source,Kc,o1,l1,$,j,V),_s>1&&console.timeEnd("drilling down"),this.tiles[Pa]?M6(this.tiles[Pa],_i):null):null};var t3="Point",E3="Polygon",p4="MultiPoint",n3="MultiLineString",F8="MultiPolygon",b3={fillColor:"#e0e0e0",outlineColor:"#829DB4",outlineWidth:1},_p={fill:"#333333",size:13},Q6={fillColor:"#F2F285",outlineColor:"#0088BF",outlineWidth:1.2},J6=16,b0=18,T5=24,F0={FOOTPRINT:"FOOTPRINT",ICON:"ICON",TEXT:"TEXT",VECTOR:"VECTOR"},S0=Object.freeze({v1:1,v2:2}),a4=1,Y3=2,R4=3,j0="CW",a0="CCW",m4=function($){var j=function(V){for(var _e=0,_i=V.length,_s=0;_s<_i-1;_s+=1){var _a=V[_s],Pa=V[_s+1];_e+=_a[0]*Pa[1]-Pa[0]*_a[1]}return _e+(V[_i-1][0]*V[0][1]-V[0][0]*V[_i-1][1])}($);return j>0?j0:j<0?a0:void 0},T1=function($){for(var j,V=[],_e=[],_i=0,_s=$.coordinates.length;_i<_s;_i+=1){var _a=$.coordinates[_i],Pa=m4(_a);Pa!==null&&(Pa===(j=j||Pa)&&_e.length&&(V.push(_e),_e=[]),_e.push(_a))}return _e.length>0&&V.push(_e),V.length===1?($.type=E3,$.coordinates=V[0]):V.length>1?($.type=F8,$.coordinates=V):$=null,$},P4=function($,j,V,_e,_i){var _s,_a,Pa,Cc,Kc,o1,l1=function(s1,f1,u1,m1,_1){var F1=1<<f1,Y1=[];return Y1[0]=(s1[0]/_1+u1)/F1,Y1[1]=(s1[1]/_1+m1)/F1,{x:Y1[0],y:Y1[1]}}($,j,V,_e,_i);return _a=(_s=l1).x,Pa=_s.y,Cc=360*(_a-.5),Kc=Math.exp(Math.PI*(.5-Pa)/.25)-1,o1=Math.exp(Math.PI*(.5-Pa)/.25)+1,[Cc,180*Math.asin(Kc/o1)/Math.PI]};typeof globalThis<"u"||typeof window<"u"||(typeof global<"u"?global:typeof self<"u");var g4,zp,Z3,$1=(g4=function($,j){$.exports=function(V){var _e={};function _i(_s){if(_e[_s])return _e[_s].exports;var _a=_e[_s]={i:_s,l:!1,exports:{}};return V[_s].call(_a.exports,_a,_a.exports,_i),_a.l=!0,_a.exports}return _i.m=V,_i.c=_e,_i.d=function(_s,_a,Pa){_i.o(_s,_a)||Object.defineProperty(_s,_a,{enumerable:!0,get:Pa})},_i.r=function(_s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_s,"__esModule",{value:!0})},_i.t=function(_s,_a){if(1&_a&&(_s=_i(_s)),8&_a||4&_a&&g(_s)=="object"&&_s&&_s.__esModule)return _s;var Pa=Object.create(null);if(_i.r(Pa),Object.defineProperty(Pa,"default",{enumerable:!0,value:_s}),2&_a&&typeof _s!="string")for(var Cc in _s)_i.d(Pa,Cc,function(Kc){return _s[Kc]}.bind(null,Cc));return Pa},_i.n=function(_s){var _a=_s&&_s.__esModule?function(){return _s.default}:function(){return _s};return _i.d(_a,"a",_a),_a},_i.o=function(_s,_a){return Object.prototype.hasOwnProperty.call(_s,_a)},_i.p="",_i(_i.s=0)}([function(V,_e,_i){function _s(s1){return(_s=typeof Symbol=="function"&&g(Symbol.iterator)=="symbol"?function(f1){return g(f1)}:function(f1){return f1&&typeof Symbol=="function"&&f1.constructor===Symbol&&f1!==Symbol.prototype?"symbol":g(f1)})(s1)}function _a(s1,f1){for(var u1=0;u1<f1.length;u1++){var m1=f1[u1];m1.enumerable=m1.enumerable||!1,m1.configurable=!0,"value"in m1&&(m1.writable=!0),Object.defineProperty(s1,m1.key,m1)}}var Pa=_i(1),Cc=_i(7),Kc=Cc.get,o1=(Cc.deepValue,Cc.isArray),l1=function(){function s1(u1,m1){var _1=m1.location,F1=_1===void 0?0:_1,Y1=m1.distance,Q1=Y1===void 0?100:Y1,_2=m1.threshold,f2=_2===void 0?.6:_2,b2=m1.maxPatternLength,t2=b2===void 0?32:b2,h2=m1.caseSensitive,o2=h2!==void 0&&h2,c0=m1.tokenSeparator,T0=c0===void 0?/ +/g:c0,p3=m1.findAllMatches,q0=p3!==void 0&&p3,W0=m1.minMatchCharLength,C4=W0===void 0?1:W0,M1=m1.id,L1=M1===void 0?null:M1,V1=m1.keys,x2=V1===void 0?[]:V1,q1=m1.shouldSort,Z2=q1===void 0||q1,t0=m1.getFn,Y0=t0===void 0?Kc:t0,Z0=m1.sortFn,K0=Z0===void 0?function(A6,n6){return A6.score-n6.score}:Z0,w2=m1.tokenize,x3=w2!==void 0&&w2,S6=m1.matchAllTokens,L6=S6!==void 0&&S6,H8=m1.includeMatches,t8=H8!==void 0&&H8,G8=m1.includeScore,t6=G8!==void 0&&G8,R5=m1.verbose,P5=R5!==void 0&&R5;(function(A6,n6){if(!(A6 instanceof n6))throw new TypeError("Cannot call a class as a function")})(this,s1),this.options={location:F1,distance:Q1,threshold:f2,maxPatternLength:t2,isCaseSensitive:o2,tokenSeparator:T0,findAllMatches:q0,minMatchCharLength:C4,id:L1,keys:x2,includeMatches:t8,includeScore:t6,shouldSort:Z2,getFn:Y0,sortFn:K0,verbose:P5,tokenize:x3,matchAllTokens:L6},this.setCollection(u1),this._processKeys(x2)}var f1;return(f1=[{key:"setCollection",value:function(u1){return this.list=u1,u1}},{key:"_processKeys",value:function(u1){if(this._keyWeights={},this._keyNames=[],u1.length&&typeof u1[0]=="string")for(var m1=0,_1=u1.length;m1<_1;m1+=1){var F1=u1[m1];this._keyWeights[F1]=1,this._keyNames.push(F1)}else{for(var Y1=null,Q1=null,_2=0,f2=0,b2=u1.length;f2<b2;f2+=1){var t2=u1[f2];if(!t2.hasOwnProperty("name"))throw new Error('Missing "name" property in key object');var h2=t2.name;if(this._keyNames.push(h2),!t2.hasOwnProperty("weight"))throw new Error('Missing "weight" property in key object');var o2=t2.weight;if(o2<0||o2>1)throw new Error('"weight" property in key must bein the range of [0, 1)');Q1=Q1==null?o2:Math.max(Q1,o2),Y1=Y1==null?o2:Math.min(Y1,o2),this._keyWeights[h2]=o2,_2+=o2}if(_2>1)throw new Error("Total of weights cannot exceed 1")}}},{key:"search",value:function(u1){var m1=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{limit:!1};this._log(`---------
Search pattern: "`.concat(u1,'"'));var _1=this._prepareSearchers(u1),F1=_1.tokenSearchers,Y1=_1.fullSearcher,Q1=this._search(F1,Y1);return this._computeScore(Q1),this.options.shouldSort&&this._sort(Q1),m1.limit&&typeof m1.limit=="number"&&(Q1=Q1.slice(0,m1.limit)),this._format(Q1)}},{key:"_prepareSearchers",value:function(){var u1=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",m1=[];if(this.options.tokenize)for(var _1=u1.split(this.options.tokenSeparator),F1=0,Y1=_1.length;F1<Y1;F1+=1)m1.push(new Pa(_1[F1],this.options));return{tokenSearchers:m1,fullSearcher:new Pa(u1,this.options)}}},{key:"_search",value:function(){var u1=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],m1=arguments.length>1?arguments[1]:void 0,_1=this.list,F1={},Y1=[];if(typeof _1[0]=="string"){for(var Q1=0,_2=_1.length;Q1<_2;Q1+=1)this._analyze({key:"",value:_1[Q1],record:Q1,index:Q1},{resultMap:F1,results:Y1,tokenSearchers:u1,fullSearcher:m1});return Y1}for(var f2=0,b2=_1.length;f2<b2;f2+=1)for(var t2=_1[f2],h2=0,o2=this._keyNames.length;h2<o2;h2+=1){var c0=this._keyNames[h2];this._analyze({key:c0,value:this.options.getFn(t2,c0),record:t2,index:f2},{resultMap:F1,results:Y1,tokenSearchers:u1,fullSearcher:m1})}return Y1}},{key:"_analyze",value:function(u1,m1){var _1=this,F1=u1.key,Y1=u1.arrayIndex,Q1=Y1===void 0?-1:Y1,_2=u1.value,f2=u1.record,b2=u1.index,t2=m1.tokenSearchers,h2=t2===void 0?[]:t2,o2=m1.fullSearcher,c0=m1.resultMap,T0=c0===void 0?{}:c0,p3=m1.results,q0=p3===void 0?[]:p3;(function W0(C4,M1,L1,V1){if(M1!=null){if(typeof M1=="string"){var x2=!1,q1=-1,Z2=0;_1._log(`
Key: `.concat(F1===""?"--":F1));var t0=o2.search(M1);if(_1._log('Full text: "'.concat(M1,'", score: ').concat(t0.score)),_1.options.tokenize){for(var Y0=M1.split(_1.options.tokenSeparator),Z0=Y0.length,K0=[],w2=0,x3=h2.length;w2<x3;w2+=1){var S6=h2[w2];_1._log(`
Pattern: "`.concat(S6.pattern,'"'));for(var L6=!1,H8=0;H8<Z0;H8+=1){var t8=Y0[H8],G8=S6.search(t8),t6={};G8.isMatch?(t6[t8]=G8.score,x2=!0,L6=!0,K0.push(G8.score)):(t6[t8]=1,_1.options.matchAllTokens||K0.push(1)),_1._log('Token: "'.concat(t8,'", score: ').concat(t6[t8]))}L6&&(Z2+=1)}q1=K0[0];for(var R5=K0.length,P5=1;P5<R5;P5+=1)q1+=K0[P5];q1/=R5,_1._log("Token score average:",q1)}var A6=t0.score;q1>-1&&(A6=(A6+q1)/2),_1._log("Score average:",A6);var n6=!_1.options.tokenize||!_1.options.matchAllTokens||Z2>=h2.length;if(_1._log(`
Check Matches: `.concat(n6)),(x2||t0.isMatch)&&n6){var $8={key:F1,arrayIndex:C4,value:M1,score:A6};_1.options.includeMatches&&($8.matchedIndices=t0.matchedIndices);var H7=T0[V1];H7?H7.output.push($8):(T0[V1]={item:L1,output:[$8]},q0.push(T0[V1]))}}else if(o1(M1))for(var G7=0,N_=M1.length;G7<N_;G7+=1)W0(G7,M1[G7],L1,V1)}})(Q1,_2,f2,b2)}},{key:"_computeScore",value:function(u1){this._log(`

Computing score:
`);for(var m1=this._keyWeights,_1=!!Object.keys(m1).length,F1=0,Y1=u1.length;F1<Y1;F1+=1){for(var Q1=u1[F1],_2=Q1.output,f2=_2.length,b2=1,t2=0;t2<f2;t2+=1){var h2=_2[t2],o2=h2.key,c0=_1?m1[o2]:1,T0=h2.score===0&&m1&&m1[o2]>0?Number.EPSILON:h2.score;b2*=Math.pow(T0,c0)}Q1.score=b2,this._log(Q1)}}},{key:"_sort",value:function(u1){this._log(`

Sorting....`),u1.sort(this.options.sortFn)}},{key:"_format",value:function(u1){var m1=[];if(this.options.verbose){var _1=[];this._log(`

Output:

`,JSON.stringify(u1,function(h2,o2){if(_s(o2)==="object"&&o2!==null){if(_1.indexOf(o2)!==-1)return;_1.push(o2)}return o2},2)),_1=null}var F1=[];this.options.includeMatches&&F1.push(function(h2,o2){var c0=h2.output;o2.matches=[];for(var T0=0,p3=c0.length;T0<p3;T0+=1){var q0=c0[T0];if(q0.matchedIndices.length!==0){var W0={indices:q0.matchedIndices,value:q0.value};q0.key&&(W0.key=q0.key),q0.hasOwnProperty("arrayIndex")&&q0.arrayIndex>-1&&(W0.arrayIndex=q0.arrayIndex),o2.matches.push(W0)}}}),this.options.includeScore&&F1.push(function(h2,o2){o2.score=h2.score});for(var Y1=0,Q1=u1.length;Y1<Q1;Y1+=1){var _2=u1[Y1];if(this.options.id&&(_2.item=this.options.getFn(_2.item,this.options.id)[0]),F1.length){for(var f2={item:_2.item},b2=0,t2=F1.length;b2<t2;b2+=1)F1[b2](_2,f2);m1.push(f2)}else m1.push(_2.item)}return m1}},{key:"_log",value:function(){var u1;this.options.verbose&&(u1=console).log.apply(u1,arguments)}}])&&_a(s1.prototype,f1),s1}();V.exports=l1},function(V,_e,_i){function _s(o1,l1){for(var s1=0;s1<l1.length;s1++){var f1=l1[s1];f1.enumerable=f1.enumerable||!1,f1.configurable=!0,"value"in f1&&(f1.writable=!0),Object.defineProperty(o1,f1.key,f1)}}var _a=_i(2),Pa=_i(3),Cc=_i(6),Kc=function(){function o1(s1,f1){var u1=f1.location,m1=u1===void 0?0:u1,_1=f1.distance,F1=_1===void 0?100:_1,Y1=f1.threshold,Q1=Y1===void 0?.6:Y1,_2=f1.maxPatternLength,f2=_2===void 0?32:_2,b2=f1.isCaseSensitive,t2=b2!==void 0&&b2,h2=f1.tokenSeparator,o2=h2===void 0?/ +/g:h2,c0=f1.findAllMatches,T0=c0!==void 0&&c0,p3=f1.minMatchCharLength,q0=p3===void 0?1:p3,W0=f1.includeMatches,C4=W0!==void 0&&W0;(function(M1,L1){if(!(M1 instanceof L1))throw new TypeError("Cannot call a class as a function")})(this,o1),this.options={location:m1,distance:F1,threshold:Q1,maxPatternLength:f2,isCaseSensitive:t2,tokenSeparator:o2,findAllMatches:T0,includeMatches:C4,minMatchCharLength:q0},this.pattern=t2?s1:s1.toLowerCase(),this.pattern.length<=f2&&(this.patternAlphabet=Cc(this.pattern))}var l1;return(l1=[{key:"search",value:function(s1){var f1=this.options,u1=f1.isCaseSensitive,m1=f1.includeMatches;if(u1||(s1=s1.toLowerCase()),this.pattern===s1){var _1={isMatch:!0,score:0};return m1&&(_1.matchedIndices=[[0,s1.length-1]]),_1}var F1=this.options,Y1=F1.maxPatternLength,Q1=F1.tokenSeparator;if(this.pattern.length>Y1)return _a(s1,this.pattern,Q1);var _2=this.options,f2=_2.location,b2=_2.distance,t2=_2.threshold,h2=_2.findAllMatches,o2=_2.minMatchCharLength;return Pa(s1,this.pattern,this.patternAlphabet,{location:f2,distance:b2,threshold:t2,findAllMatches:h2,minMatchCharLength:o2,includeMatches:m1})}}])&&_s(o1.prototype,l1),o1}();V.exports=Kc},function(V,_e){var _i=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;V.exports=function(_s,_a){var Pa=arguments.length>2&&arguments[2]!==void 0?arguments[2]:/ +/g,Cc=new RegExp(_a.replace(_i,"\\$&").replace(Pa,"|")),Kc=_s.match(Cc),o1=!!Kc,l1=[];if(o1)for(var s1=0,f1=Kc.length;s1<f1;s1+=1){var u1=Kc[s1];l1.push([_s.indexOf(u1),u1.length-1])}return{score:o1?.5:1,isMatch:o1,matchedIndices:l1}}},function(V,_e,_i){var _s=_i(4),_a=_i(5);V.exports=function(Pa,Cc,Kc,o1){for(var l1=o1.location,s1=l1===void 0?0:l1,f1=o1.distance,u1=f1===void 0?100:f1,m1=o1.threshold,_1=m1===void 0?.6:m1,F1=o1.findAllMatches,Y1=F1!==void 0&&F1,Q1=o1.minMatchCharLength,_2=Q1===void 0?1:Q1,f2=o1.includeMatches,b2=f2!==void 0&&f2,t2=s1,h2=Pa.length,o2=_1,c0=Pa.indexOf(Cc,t2),T0=Cc.length,p3=[],q0=0;q0<h2;q0+=1)p3[q0]=0;if(c0!==-1){var W0=_s(Cc,{errors:0,currentLocation:c0,expectedLocation:t2,distance:u1});if(o2=Math.min(W0,o2),(c0=Pa.lastIndexOf(Cc,t2+T0))!==-1){var C4=_s(Cc,{errors:0,currentLocation:c0,expectedLocation:t2,distance:u1});o2=Math.min(C4,o2)}}c0=-1;for(var M1=[],L1=1,V1=T0+h2,x2=1<<(T0<=31?T0-1:30),q1=0;q1<T0;q1+=1){for(var Z2=0,t0=V1;Z2<t0;)_s(Cc,{errors:q1,currentLocation:t2+t0,expectedLocation:t2,distance:u1})<=o2?Z2=t0:V1=t0,t0=Math.floor((V1-Z2)/2+Z2);V1=t0;var Y0=Math.max(1,t2-t0+1),Z0=Y1?h2:Math.min(t2+t0,h2)+T0,K0=Array(Z0+2);K0[Z0+1]=(1<<q1)-1;for(var w2=Z0;w2>=Y0;w2-=1){var x3=w2-1,S6=Kc[Pa.charAt(x3)];if(S6&&(p3[x3]=1),K0[w2]=(K0[w2+1]<<1|1)&S6,q1!==0&&(K0[w2]|=(M1[w2+1]|M1[w2])<<1|1|M1[w2+1]),K0[w2]&x2&&(L1=_s(Cc,{errors:q1,currentLocation:x3,expectedLocation:t2,distance:u1}))<=o2){if(o2=L1,(c0=x3)<=t2)break;Y0=Math.max(1,2*t2-c0)}}if(_s(Cc,{errors:q1+1,currentLocation:t2,expectedLocation:t2,distance:u1})>o2)break;M1=K0}var L6={isMatch:c0>=0,score:L1===0?.001:L1};return b2&&(L6.matchedIndices=_a(p3,_2)),L6}},function(V,_e){V.exports=function(_i,_s){var _a=_s.errors,Pa=_a===void 0?0:_a,Cc=_s.currentLocation,Kc=Cc===void 0?0:Cc,o1=_s.expectedLocation,l1=o1===void 0?0:o1,s1=_s.distance,f1=s1===void 0?100:s1,u1=Pa/_i.length,m1=Math.abs(l1-Kc);return f1?u1+m1/f1:m1?1:u1}},function(V,_e){V.exports=function(){for(var _i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],_s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,_a=[],Pa=-1,Cc=-1,Kc=0,o1=_i.length;Kc<o1;Kc+=1){var l1=_i[Kc];l1&&Pa===-1?Pa=Kc:l1||Pa===-1||((Cc=Kc-1)-Pa+1>=_s&&_a.push([Pa,Cc]),Pa=-1)}return _i[Kc-1]&&Kc-Pa>=_s&&_a.push([Pa,Kc-1]),_a}},function(V,_e){V.exports=function(_i){for(var _s={},_a=_i.length,Pa=0;Pa<_a;Pa+=1)_s[_i.charAt(Pa)]=0;for(var Cc=0;Cc<_a;Cc+=1)_s[_i.charAt(Cc)]|=1<<_a-Cc-1;return _s}},function(V,_e){var _i=function(Cc){return Array.isArray?Array.isArray(Cc):Object.prototype.toString.call(Cc)==="[object Array]"},_s=function(Cc){return Cc==null?"":function(Kc){if(typeof Kc=="string")return Kc;var o1=Kc+"";return o1=="0"&&1/Kc==-1/0?"-0":o1}(Cc)},_a=function(Cc){return typeof Cc=="string"},Pa=function(Cc){return typeof Cc=="number"};V.exports={get:function(Cc,Kc){var o1=[];return function l1(s1,f1){if(f1){var u1=f1.indexOf("."),m1=f1,_1=null;u1!==-1&&(m1=f1.slice(0,u1),_1=f1.slice(u1+1));var F1=s1[m1];if(F1!=null)if(_1||!_a(F1)&&!Pa(F1))if(_i(F1))for(var Y1=0,Q1=F1.length;Y1<Q1;Y1+=1)l1(F1[Y1],_1);else _1&&l1(F1,_1);else o1.push(_s(F1))}else o1.push(s1)}(Cc,Kc),o1},isArray:_i,isString:_a,isNum:Pa,toString:_s}}])},g4(zp={exports:{}},zp.exports),zp.exports),_m=(Z3=$1)&&Z3.__esModule&&Object.prototype.hasOwnProperty.call(Z3,"default")?Z3.default:Z3;$1.Fuse;var D5,K3=F(function $(j){var V=j.addressList,_e=V===void 0?[]:V,_i=j.geometries,_s=_i===void 0?[]:_i,_a=j.entity,Pa=_a===void 0?null:_a,Cc=j.name,Kc=Cc===void 0?"":Cc,o1=j.icon,l1=o1===void 0?"":o1;w(this,$),this.addressList=_e,this.geometries=_s,this.icon=l1,this.entity=Pa,this.name=Kc}),S3={keys:[{name:"name",weight:.6},{name:"addressList",weight:.4}],threshold:.2},V2=function(){return F(function $(j){w(this,$),this.fuseSearch=null,this.levels_=null,this.searchListEntities_=[],this.searchListIcons_=[],this.searchList_=[],this.venueModel=j,this.init()},[{key:"init",value:function(){var $=this.venueModel.getGeometries().reduce(function(V,_e){var _i=V;return _i[_e.getId()]=_e,_i},{});this.initEntityList(this.venueModel.getOccupant()),this.initIconList($),this.levels_=this.venueModel.getLevels().map(function(V){return{levelId:V.getId(),levelName:V.getName(),drawingId:V.getDrawing().getId(),drawingName:V.getDrawing().getName()}});var j=[].concat(n1(this.searchListEntities_),n1(this.searchListIcons_));this.searchList_=j.sort(function(V,_e){return V.name.localeCompare(_e.name)}),this.fuseSearch_=new _m(this.searchList_,S3)}},{key:"initEntityList",value:function(){var $=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(function(j){return j.spaceIds?new K3({geometries:j.space,addressList:j.spaceIds||[],name:j.properties.name||"",entity:j}):null}).filter(function(j){return j!==null});this.searchListEntities_=$}},{key:"initIconList",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.searchListIcons_=Object.values($).filter(function(j){return j.isIcon()}).map(function(j){var V=j.getIcon();return new K3({geometries:[j],icon:V,name:j.properties.name||""})})}},{key:"all",value:function(){return this.searchList_}},{key:"allIconTypes",value:function(){var $=this.searchListIcons_.reduce(function(j,V){var _e=j;return _e[V.name]=V.name,_e},{});return Object.keys($)}},{key:"find",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return $===""?this.searchList_:this.fuseSearch_.search($)}}])}(),y4=Object.freeze({SITE:"SITE",IMAGES:"IMAGES",THEME:"THEME"}),g2={SITE:"indoor.Site",STRUCTURE:"indoor.Structure",OCCUPANT:"indoor.Occupant",SPACE:"indoor.Space",SPACEGROUPS:"indoor.SpaceGroups",TOPOLOGY:"Topology",ADDRESS:"Address",LEVEL:"indoor.Level",LEVELCONNECTOR:"indoor.LevelConnector",ENTRANCE:"indoor.Entrance"},e6="OCCUPANT_NAMES",P7="SPACE_NAME",e8="INTERNAL_ADDRESS_SHORT",y0="INTERNAL_ADDRESS",c4="INTERNAL_ADDRESS_LONG",L3="SPACE_TYPE_NAME",H0="SPACE_CATEGORY_NAME",f3="Point",s0="LineString",z2="Polygon",j8="MultiPoint",B8="MultiLineString",F4="MultiPolygon",v4=Object.freeze({STANDARD:"STANDARD",FLATTEN:"FLATTEN",OUTDOOR_MAIN:"OUTDOOR_MAIN",INDOOR_MAIN:"INDOOR_MAIN",NO_OUTDOORS:"NO_OUTDOORS",FLATTEN_INDOOR_MAIN:"FLATTEN_INDOOR_MAIN",FLATTEN_OUTDOOR_COPY:"FLATTEN_OUTDOOR_COPY"}),I5="9999999999999",_t="icons",aa="config",_c="https://interactive.data.api.platform.here.com/interactive/v1/catalogs",ic=Object.freeze({THEME:"THEME",THEME_MAP:"THEME_MAP",PRESETS:"PRESETS",SDK_STRINGS:"SDK_STRINGS",ICON_FILE:"ICON_FILE",INPUT_COLORS:"INPUT_COLORS",BASE_MAP_INFO:"BASE_MAP_INFO",CONFIG_PROFILE:"CONFIG_PROFILE",NAV_THEME:"NAV_THEME",NAV_NAME_THEME:"NAV_NAME_THEME",NAV_PROP_MAP:"NAV_PROP_MAP",NAV_STRINGS:"NAV_STRINGS",NAV_THEME_MAP:"NAV_THEME_MAP",NAV_NAME_THEME_MAP:"NAV_NAME_THEME_MAP",V4_THEME_FAMILY:"V4_THEME_FAMILY",V4_MAPTYPE_THEME:"V4_MAPTYPE_THEME",ICON:"ICON",MARKER:"MARKER",PERMISSIONS:"PERMISSIONS",NAICS_ARRAY:"NAICS_ARRAY",NAICS_MAP:"NAICS_MAP"});Object.freeze(q(q(q(q({},ic.THEME,"themeUrls"),ic.THEME_MAP,"themeMapUrl"),ic.PRESETS,"presetsUrl"),ic.SDK_STRINGS,"stringsUrl")),Object.freeze(q(q(q(q(q({},ic.THEME,"themeOverrides"),ic.THEME_MAP,"themeMapOverrides"),ic.PRESETS,"presetOverrides"),ic.SDK_STRINGS,"stringsOverrides"),ic.INPUT_COLORS,"inputColorOverrides")),Object.freeze(q(q(q(q(q(q({},ic.THEME,["Modern","Standard","Factory","Navteq","TheBase","Westfield_noLabels","Westfield","TDM_noLabel"]),ic.SDK_STRINGS,["Standard","SDK","sdk/standard"]),ic.V4_THEME_FAMILY,["modern","standard"]),ic.V4_MAPTYPE_THEME,["Airport Terminal","Airport","Casino","College Building","College Campus","Convention","General","Hospital","Outdoor","Retail","School Building","School Campus","Shopping Mall","Traffic","Train Station"]),ic.NAV_THEME,["Factory","MapEditor"]),ic.ICON,["Multicolor","Standard","TheBase","Factory"])),Object.freeze((q(q(q(q(q(q(q(q(q(q(D5={},ic.THEME,"Modern"),ic.THEME_MAP,"Standard"),ic.PRESETS,"Standard"),ic.SDK_STRINGS,"Standard"),ic.ICON_FILE,"Standard"),ic.INPUT_COLORS,"Standard"),ic.BASE_MAP_INFO,"Standard"),ic.CONFIG_PROFILE,"factory"),ic.NAV_THEME,"Factory"),ic.NAV_NAME_THEME,"FactoryName"),q(q(q(q(q(q(q(q(D5,ic.NAV_PROP_MAP,"Standard"),ic.NAV_STRINGS,"Standard"),ic.NAV_THEME_MAP,"Standard"),ic.NAV_NAME_THEME_MAP,"StandardName"),ic.V4_THEME_FAMILY,"Standard"),ic.V4_MAPTYPE_THEME,"Standard"),ic.ICON,"Multicolor"),ic.MARKER,"Standard")));var t1=Object.freeze({GEO_JSON:"GEO_JSON",V5_MAP:"V5_MAP",V5_NAV:"V5_NAV",V5_INFO:"V5_INFO",KML:"KML",SVG:"SVG",PNG:"PNG"});Object.freeze(q({},t1.GEO_JSON,{COMMUNITY_MAP:"COMMUNITY_MAP",COMMUNITY_ENTITY:"COMMUNITY_ENTITY",PATH_LEVEL_GEOMETRY:"PATH_LEVEL_GEOMETRY",GEOJSON_LEVEL_GEOMETRY:"GEOJSON_LEVEL_GEOMETRY"}));var i1=Object.freeze({ACCOUNT_API:"ACCOUNT_API",DEFAULT_COLLECTION:"DEFAULT_COLLECTION",CATALOG_LAYER:"CATALOG_LAYER"}),a1=Object.freeze(q(q(q({},i1.ACCOUNT_API,{BASE_URL:"https://account.api.here.com/authorization/v1.1/projects/me"}),i1.DEFAULT_COLLECTION,{BASE_URL:"https://config.data.api.platform.here.com/config/v1/catalogs",PARAMS:{CREATED:"created",COLLECTION:"-collection",VERBOSE:"true"}}),i1.CATALOG_LAYER,{BASE_URL:"https://interactive.data.api.platform.here.com/interactive/v1/catalogs",MOMDATA_LAYER:"9999999999999",ICON_LAYER:"icons",THEMERULE_LAYER:"config",COLLECTION_LAYER:"layers/9999999999999/search",PARAMS:{FEATURE_TYPE:{KEY:"p.featureType",VALUE:"indoor.Site"}}})),y1=Object.freeze({isIconsEnabled:!0,isMetaEnabled:!0,metaOptions:{},iconOptions:{}}),S1=Object.freeze({GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",PATCH:"PATCH",OPTIONS:"OPTIONS",HEAD:"HEAD"});function G1(){}function O1(){O1.init.call(this)}function D2($){return $._maxListeners===void 0?O1.defaultMaxListeners:$._maxListeners}function D0($,j,V,_e){var _i,_s,_a,Pa;if(typeof V!="function")throw new TypeError('"listener" argument must be a function');if((_s=$._events)?(_s.newListener&&($.emit("newListener",j,V.listener?V.listener:V),_s=$._events),_a=_s[j]):(_s=$._events=new G1,$._eventsCount=0),_a){if(typeof _a=="function"?_a=_s[j]=_e?[V,_a]:[_a,V]:_e?_a.unshift(V):_a.push(V),!_a.warned&&(_i=D2($))&&_i>0&&_a.length>_i){_a.warned=!0;var Cc=new Error("Possible EventEmitter memory leak detected. "+_a.length+" "+j+" listeners added. Use emitter.setMaxListeners() to increase limit");Cc.name="MaxListenersExceededWarning",Cc.emitter=$,Cc.type=j,Cc.count=_a.length,Pa=Cc,typeof console.warn=="function"?console.warn(Pa):console.log(Pa)}}else _a=_s[j]=V,++$._eventsCount;return $}function f0($,j,V){var _e=!1;function _i(){$.removeListener(j,_i),_e||(_e=!0,V.apply($,arguments))}return _i.listener=V,_i}function c3($){var j=this._events;if(j){var V=j[$];if(typeof V=="function")return 1;if(V)return V.length}return 0}function h3($,j){for(var V=new Array(j);j--;)V[j]=$[j];return V}G1.prototype=Object.create(null),O1.EventEmitter=O1,O1.usingDomains=!1,O1.prototype.domain=void 0,O1.prototype._events=void 0,O1.prototype._maxListeners=void 0,O1.defaultMaxListeners=10,O1.init=function(){this.domain=null,O1.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new G1,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},O1.prototype.setMaxListeners=function($){if(typeof $!="number"||$<0||isNaN($))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=$,this},O1.prototype.getMaxListeners=function(){return D2(this)},O1.prototype.emit=function($){var j,V,_e,_i,_s,_a,Pa,Cc=$==="error";if(_a=this._events)Cc=Cc&&_a.error==null;else if(!Cc)return!1;if(Pa=this.domain,Cc){if(j=arguments[1],!Pa){if(j instanceof Error)throw j;var Kc=new Error('Uncaught, unspecified "error" event. ('+j+")");throw Kc.context=j,Kc}return j||(j=new Error('Uncaught, unspecified "error" event')),j.domainEmitter=this,j.domain=Pa,j.domainThrown=!1,Pa.emit("error",j),!1}if(!(V=_a[$]))return!1;var o1=typeof V=="function";switch(_e=arguments.length){case 1:(function(l1,s1,f1){if(s1)l1.call(f1);else for(var u1=l1.length,m1=h3(l1,u1),_1=0;_1<u1;++_1)m1[_1].call(f1)})(V,o1,this);break;case 2:(function(l1,s1,f1,u1){if(s1)l1.call(f1,u1);else for(var m1=l1.length,_1=h3(l1,m1),F1=0;F1<m1;++F1)_1[F1].call(f1,u1)})(V,o1,this,arguments[1]);break;case 3:(function(l1,s1,f1,u1,m1){if(s1)l1.call(f1,u1,m1);else for(var _1=l1.length,F1=h3(l1,_1),Y1=0;Y1<_1;++Y1)F1[Y1].call(f1,u1,m1)})(V,o1,this,arguments[1],arguments[2]);break;case 4:(function(l1,s1,f1,u1,m1,_1){if(s1)l1.call(f1,u1,m1,_1);else for(var F1=l1.length,Y1=h3(l1,F1),Q1=0;Q1<F1;++Q1)Y1[Q1].call(f1,u1,m1,_1)})(V,o1,this,arguments[1],arguments[2],arguments[3]);break;default:for(_i=new Array(_e-1),_s=1;_s<_e;_s++)_i[_s-1]=arguments[_s];(function(l1,s1,f1,u1){if(s1)l1.apply(f1,u1);else for(var m1=l1.length,_1=h3(l1,m1),F1=0;F1<m1;++F1)_1[F1].apply(f1,u1)})(V,o1,this,_i)}return!0},O1.prototype.addListener=function($,j){return D0(this,$,j,!1)},O1.prototype.on=O1.prototype.addListener,O1.prototype.prependListener=function($,j){return D0(this,$,j,!0)},O1.prototype.once=function($,j){if(typeof j!="function")throw new TypeError('"listener" argument must be a function');return this.on($,f0(this,$,j)),this},O1.prototype.prependOnceListener=function($,j){if(typeof j!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener($,f0(this,$,j)),this},O1.prototype.removeListener=function($,j){var V,_e,_i,_s,_a;if(typeof j!="function")throw new TypeError('"listener" argument must be a function');if(!(_e=this._events))return this;if(!(V=_e[$]))return this;if(V===j||V.listener&&V.listener===j)--this._eventsCount==0?this._events=new G1:(delete _e[$],_e.removeListener&&this.emit("removeListener",$,V.listener||j));else if(typeof V!="function"){for(_i=-1,_s=V.length;_s-- >0;)if(V[_s]===j||V[_s].listener&&V[_s].listener===j){_a=V[_s].listener,_i=_s;break}if(_i<0)return this;if(V.length===1){if(V[0]=void 0,--this._eventsCount==0)return this._events=new G1,this;delete _e[$]}else(function(Pa,Cc){for(var Kc=Cc,o1=Kc+1,l1=Pa.length;o1<l1;Kc+=1,o1+=1)Pa[Kc]=Pa[o1];Pa.pop()})(V,_i);_e.removeListener&&this.emit("removeListener",$,_a||j)}return this},O1.prototype.removeAllListeners=function($){var j,V;if(!(V=this._events))return this;if(!V.removeListener)return arguments.length===0?(this._events=new G1,this._eventsCount=0):V[$]&&(--this._eventsCount==0?this._events=new G1:delete V[$]),this;if(arguments.length===0){for(var _e,_i=Object.keys(V),_s=0;_s<_i.length;++_s)(_e=_i[_s])!=="removeListener"&&this.removeAllListeners(_e);return this.removeAllListeners("removeListener"),this._events=new G1,this._eventsCount=0,this}if(typeof(j=V[$])=="function")this.removeListener($,j);else if(j)do this.removeListener($,j[j.length-1]);while(j[0]);return this},O1.prototype.listeners=function($){var j,V=this._events;return V&&(j=V[$])?typeof j=="function"?[j.listener||j]:function(_e){for(var _i=new Array(_e.length),_s=0;_s<_i.length;++_s)_i[_s]=_e[_s].listener||_e[_s];return _i}(j):[]},O1.listenerCount=function($,j){return typeof $.listenerCount=="function"?$.listenerCount(j):c3.call($,j)},O1.prototype.listenerCount=c3,O1.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var _4="venues-ui-button--active",b4="venues-ui-button",M9="venues-ui__drawings",C_="data-drawing",VM=function(){return F(function $(j,V,_e){var _i=this;w(this,$),this.clickHandler=_e,this.containerDiv=document.createElement("div"),this.containerDiv.setAttribute("class",M9);var _s=document.createElement("div");_s.setAttribute("class","trigger ".concat(b4));var _a=document.createElement("div");_a.setAttribute("class","arrow arrow--down"),_s.appendChild(_a),_s.addEventListener("click",function(){_s.classList.toggle(_4),_i.containerButtons.classList.toggle("drawings--open")}),this.containerDiv.appendChild(_s),this.containerButtons=document.createElement("div"),this.containerButtons.setAttribute("class","drawings"),this.containerDiv.appendChild(this.containerButtons),V&&this.update(V),j.appendChild(this.containerDiv)},[{key:"drawButton",value:function($,j,V){var _e=this,_i=document.createElement("div"),_s=Number(V)===Number($);_i.setAttribute("class",_s?"".concat(b4," ").concat(_4):b4),_i.innerHTML=j,_i.setAttribute(C_,$),_i.addEventListener("click",function(){_e.switch($),_e.clickHandler($)}),this.containerButtons.appendChild(_i)}},{key:"switch",value:function($){this.containerButtons.querySelectorAll(".".concat(M9," .").concat(_4)).forEach(function(V){return V.setAttribute("class",b4)});var j=this.containerButtons.querySelector("[".concat(C_,"='").concat($,"']"));j&&j.setAttribute("class","".concat(b4," ").concat(_4))}},{key:"update",value:function($){var j=this;this.containerButtons.innerHTML="";var V=function(_e){var _i=_e.getDrawings();return new Map(_i.map(function(_s){var _a=_s.getDisplayName()||_s.getName();return[_s.getId(),_a]}))}($);V.size>0&&V.forEach(function(_e,_i){return j.drawButton(_i,_e,$.getRootDrawing().getId())})}}])}(),M_="venues-ui-button--active",j4="venues-ui-button",E_="data-level",V8="venues-ui__levels",F7=function(){return F(function $(j,V,_e,_i){var _s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:4;w(this,$),this.clickHandler=_i,this.levelButtonCount=_s,this.currentScrollIndex=0,this.containerUI=document.createElement("div"),this.containerUI.setAttribute("class","".concat(V8)),this.containerButtons=document.createElement("div"),this.containerButtons.setAttribute("class","levels"),this.containerUI.appendChild(this.containerButtons),V&&this.update(V,_e),j.appendChild(this.containerUI)},[{key:"clear",value:function(){this.containerButtons.innerHTML="",this.buttonScrollUp&&(this.containerUI.removeChild(this.buttonScrollUp),this.buttonScrollUp=null),this.buttonScrollDown&&(this.containerUI.removeChild(this.buttonScrollDown),this.buttonScrollDown=null)}},{key:"drawLevelButton",value:function($,j){var V=this,_e=document.createElement("div");_e.innerHTML=j,_e.style.fontSize="".concat(Math.max(Math.min(28.8/j.length,11.52),10),"px"),_e.style.display="block",_e.setAttribute("class",j4),_e.setAttribute(E_,$),_e.addEventListener("click",function(){V.switch($),V.clickHandler($)}),this.containerButtons.appendChild(_e)}},{key:"drawScrollButtons",value:function(){var $=this;this.buttonScrollUp=document.createElement("div"),this.buttonScrollUp.setAttribute("class","".concat(j4," ").concat(j4,"--up"));var j=document.createElement("div");j.setAttribute("class","arrow arrow--up"),this.buttonScrollUp.appendChild(j),this.buttonScrollUp.addEventListener("click",function(){return $.scroll(1)}),this.containerUI.insertBefore(this.buttonScrollUp,this.containerButtons),this.buttonScrollDown=document.createElement("div"),this.buttonScrollDown.setAttribute("class","".concat(j4," ").concat(j4,"--down"));var V=document.createElement("div");V.setAttribute("class","arrow arrow--down"),this.buttonScrollDown.appendChild(V),this.buttonScrollDown.addEventListener("click",function(){return $.scroll(-1)}),this.containerUI.appendChild(this.buttonScrollDown)}},{key:"scroll",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=Array.from(this.containerButtons.querySelectorAll(".".concat(j4))).reverse(),V=[];if($>=0){this.currentScrollIndex=Math.min(this.currentScrollIndex+$,j.length-this.levelButtonCount);var _e=Math.min(this.currentScrollIndex,j.length-this.levelButtonCount),_i=Math.min(this.currentScrollIndex+this.levelButtonCount,j.length);V=j.slice(_e,_i)}else if($<0){this.currentScrollIndex=Math.max(this.currentScrollIndex+$,0);var _s=Math.max(0,this.currentScrollIndex),_a=Math.min(j.length,this.currentScrollIndex+this.levelButtonCount);V=j.slice(_s,_a)}j.forEach(function(Pa){V.indexOf(Pa)!==-1?Pa.style.display="block":Pa.style.display="none"}),this.buttonScrollDown&&(this.currentScrollIndex===0?this.buttonScrollDown.setAttribute("disabled","disabled"):this.buttonScrollDown.removeAttribute("disabled")),this.buttonScrollUp&&(this.currentScrollIndex===j.length-this.levelButtonCount?this.buttonScrollUp.setAttribute("disabled","disabled"):this.buttonScrollUp.removeAttribute("disabled"))}},{key:"switch",value:function($){this.containerButtons.querySelectorAll(".".concat(M_)).forEach(function(_i){return _i.setAttribute("class",j4)});var j=this.containerButtons.querySelector(".".concat(V8," [").concat(E_,"='").concat($,"']"));if(j){var V=Array.from(this.containerButtons.querySelectorAll(".".concat(j4))).reverse();j.setAttribute("class","".concat(j4," ").concat(M_));var _e=V.indexOf(j);(_e<this.currentScrollIndex||_e>=this.currentScrollIndex+4)&&this.scroll(_e-this.currentScrollIndex)}}},{key:"update",value:function($,j){var V=this,_e=function(){return new Map((arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(function(_s){return[_s.getZIndex(),_s.getShortName()||_s.getDisplayName()||_s.getName()]}))}(function(_s,_a){if(_a===v4.FLATTEN){var Pa=_s.getVenueModel().getLevelMapFlattenedByZIndex_();return Object.values(Pa).map(function(Cc){return Cc[0]})}return _s.getLevels()}($,j).sort(function(_s,_a){return _a.getZIndex()-_s.getZIndex()})),_i=$.getMainLevel().getZIndex();this.clear(),_e.forEach(function(_s,_a){return V.drawLevelButton(_a,_s)}),_e.size>this.levelButtonCount&&(_e.size>this.levelButtonCount+1?this.currentScrollIndex=Math.min(Array.from(_e).reverse().findIndex(function(_s){return _s[0]===_i}),_e.size-this.levelButtonCount):this.currentScrollIndex=0,this.drawScrollButtons(),this.scroll(0)),this.switch(_i)}}])}(),j7=function(){return F(function $(j,V){w(this,$),this.baseTheme=j,this.metaInformation=V,this.labelStyleMap={},this.styleMap={},this.setStyleMap()},[{key:"setStyleMap",value:function(){this.styleMap.ENTRANCE=this.baseTheme.entranceRules.default.styleProperties,this.labelStyleMap.ENTRANCE=this.baseTheme.entranceRules.default.textLabelStyleProperties;for(var $=0,j=Object.entries(this.baseTheme.spaceRules);$<j.length;$++){var V=e1(j[$],2),_e=V[0],_i=V[1],_s=_i.properties.behavioralAppearance.default.styleProperties,_a=_i.properties.behavioralAppearance.default.textLabelStyleProperties;if(this.styleMap[_e]=_s,this.labelStyleMap[_e]=_a,_i.spaceTypes)for(var Pa=0,Cc=Object.entries(_i.spaceTypes);Pa<Cc.length;Pa++){var Kc=e1(Cc[Pa],2),o1=Kc[0],l1=Kc[1],s1=l1.behavioralAppearance.default.styleProperties,f1=l1.behavioralAppearance.default.textLabelStyleProperties;this.styleMap["".concat(_e,"_").concat(o1)]=s1&&Object.keys(s1)!==0?s1:_s,this.labelStyleMap["".concat(_e,"_").concat(o1)]=f1&&Object.keys(f1)!==0?f1:_a}}}},{key:"getBaseTheme",value:function(){return this.baseTheme}},{key:"getStyleMap",value:function(){return this.styleMap}},{key:"getGeometryStyle",value:function($){return this.styleMap&&Object.getOwnPropertyNames(this.styleMap)?this.styleMap[$]:null}},{key:"getLabelStyle",value:function($){return this.labelStyleMap&&Object.getOwnPropertyNames(this.labelStyleMap)?this.labelStyleMap[$]:null}}],[{key:"getGeometryDefaultStyle",value:function(){return{fill:"#e5e5e5",fillOpacity:1,stroke:"#6c7a89",strokeOpacity:1,strokeWidth:2}}},{key:"getLabelDefaultStyle",value:function(){return{stroke:"#6c7a89",zmin:15}}}])}(),U8=function(){return F(function $(){w(this,$),this.config=Object.seal({emitEventOnOverrideUpdate:!0}),this.imageCache={},this.releaseSettings_={displayOptions:{},mom:[]},this.theme={}},[{key:"getMomData",value:function(){return this.releaseSettings_.mom}},{key:"getTheme",value:function(){return this.theme||{}}},{key:"getStyle",value:function($){var j,V=arguments.length>1&&arguments[1]!==void 0&&arguments[1],_e=this.getTheme(),_i=j7.getGeometryDefaultStyle(),_s=$.properties.spaceType,_a=$.properties.spaceCategory,Pa=_a;return _s&&(Pa="".concat(_a,"_").concat(_s)),(j=_e.getGeometryStyle(Pa))&&!V||(j=_i),{m:j.fill&&j.fill.toLowerCase()||"#fff",w:j.strokeWidth/10||.1,o:j.stroke&&j.stroke.toLowerCase()||"#fff",l:"Dark"}}},{key:"getLabelStyle",value:function($){this.getTheme();var j=j7.getLabelDefaultStyle();return{fill:j.stroke,zmin:j.zmin}}}])}(),z3=Math.PI/180,UM=180/Math.PI,x4=function(){function $(){w(this,$)}return F($,null,[{key:"toRadians",value:function(j){return j*z3}},{key:"toDegrees",value:function(j){return j*UM}},{key:"getBoundingBox",value:function(j,V){var _e=[];switch(j){case f3:_e=[V,V];break;case j8:case s0:_e=V;break;case B8:case z2:_e=V.reduce(function(_i,_s){return _i.concat(_s)},[]);break;case F4:_e=V.reduce(function(_i,_s){return _i.concat(_s)},[]).reduce(function(_i,_s){return _i.concat(_s)},[])}return $.getBoundingBoxVertices(_e)}},{key:"getInverseTransform",value:function(j){var V=j[0]*j[3]-j[1]*j[2],_e=[j[3]/V,-j[1]/V,-j[2]/V,j[0]/V,0,0];return _e[4]=-(_e[0]*j[4]+_e[2]*j[5]),_e[5]=-(_e[1]*j[4]+_e[3]*j[5]),_e}},{key:"applyTransformToPoint",value:function(j,V){return[V[0]*j[0]+V[1]*j[2]+j[4],V[0]*j[1]+V[1]*j[3]+j[5]]}},{key:"transformProduct",value:function(j,V){var _e=[0,0,0,0,0,0];return _e[0]=V[0]*j[0]+V[2]*j[1],_e[1]=V[1]*j[0]+V[3]*j[1],_e[2]=V[0]*j[2]+V[2]*j[3],_e[3]=V[1]*j[2]+V[3]*j[3],_e[4]=V[0]*j[4]+V[2]*j[5]+V[4],_e[5]=V[1]*j[4]+V[3]*j[5]+V[5],_e}},{key:"convertLonLatToMerc",value:function(j){var V=j[0]*z3,_e=j[1]*z3,_i=Math.sin(_e);return[.5+V/(2*Math.PI),.5-Math.log((1+_i)/(1-_i))/(4*Math.PI)]}},{key:"convertMercToLatLon",value:function(j){var V=2*Math.PI*(j[0]-.5),_e=Math.atan(Math.sinh(2*Math.PI*(.5-j[1])));return[V/z3,_e/z3]}},{key:"getTransformScale",value:function(j){return Math.sqrt(j[0]*j[3]-j[1]*j[2])}},{key:"getLonLatToMercTransform",value:function(j){var V=[.002777777777777778,0,0,-1/(360*Math.cos(j[1]*z3)),0,0],_e=$.applyTransformToPoint(V,j),_i=$.convertLonLatToMerc(j);return V[4]=_i[0]-_e[0],V[5]=_i[1]-_e[1],V}},{key:"getNatToMercTransform",value:function(j){var V=[j[4],j[5]],_e=$.getLonLatToMercTransform(V);return $.transformProduct(j,_e)}},{key:"convertMxMy2LonLat",value:function(j,V){return j.length&&V.length?$.applyTransformToPoint(j,V):[]}},{key:"convertLonLat2MxMy",value:function(j,V){if(!j.length||!V.length)return[];var _e=$.getInverseTransform(j);return $.applyTransformToPoint(_e,V)}},{key:"getFlattenedQuadraticBezierCurve",value:function(j,V,_e){var _i=[],_s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:10;_s<1&&(_s=6);for(var _a=0;_a<=_s;_a+=1){var Pa=_a/_s,Cc=(1-Pa)*(1-Pa),Kc=2*Pa*(1-Pa),o1=Pa*Pa,l1=Cc*j[0]+Kc*V[0]+o1*_e[0],s1=Cc*j[1]+Kc*V[1]+o1*_e[1];_i.push([l1,s1])}return _i}},{key:"getFlattenedCubicBezierCurve",value:function(j,V,_e,_i){var _s=[],_a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:10;_a<1&&(_a=6);for(var Pa=0;Pa<=_a;Pa+=1){var Cc=Pa/_a,Kc=(1-Cc)*(1-Cc)*(1-Cc),o1=3*Cc*(1-Cc)*(1-Cc),l1=3*Cc*Cc*(1-Cc),s1=Cc*Cc*Cc,f1=Kc*j[0]+o1*V[0]+l1*_e[0]+s1*_i[0],u1=Kc*j[1]+o1*V[1]+l1*_e[1]+s1*_i[1];_s.push([f1,u1])}return _s}},{key:"getRectangularCoordinatesOfLabelArea",value:function(j,V){var _e=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],_i=e1(j,6),_s=_i[0],_a=_i[1],Pa=_i[2],Cc=_i[3],Kc=_i[5],o1=$.getDeltaLonLatForMeterAtGivenLonLat(_s,_a),l1=j[4];return _e?(Kc&&(l1*=-1),V!=null&&(l1=(l1+=V<0?2*Math.PI+V:V)<0?2*Math.PI+l1:l1)):l1=0,$.getRectVerticesFromSignatureRectRepresentation([_s,_a],{xLength:Pa,yLength:Cc},l1,o1)}},{key:"getRotatedPoint",value:function(j,V){var _e=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],_i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[0,0],_s=Math.cos(V),_a=Math.sin(V),Pa=j[0]-_i[0],Cc=j[1]-_i[1],Kc=[];return[(Kc=_e?[Pa*_s+Cc*_a,Cc*_s-Pa*_a]:[Pa*_s-Cc*_a,Cc*_s+Pa*_a])[0]+_i[0],Kc[1]+_i[1]]}},{key:"getRectVerticesFromSignatureRectRepresentation",value:function(j,V,_e,_i){var _s=V.xLength,_a=V.yLength,Pa=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],Cc=e1(j,2),Kc=Cc[0],o1=Cc[1],l1=_s/2,s1=_a/2,f1=e1(_i,2),u1=f1[0],m1=f1[1];return[[1,1],[-1,1],[-1,-1],[1,-1]].map(function(_1){return[_1[0]*l1,_1[1]*s1]}).map(function(_1){return $.getRotatedPoint(_1,_e,Pa)}).map(function(_1){return[_1[0]*u1,_1[1]*m1]}).map(function(_1){return[_1[0]+Kc,_1[1]+o1]})}},{key:"getScaleFactorForRectInSpace",value:function(j,V,_e,_i){var _s=j/_e,_a=V/_i;return _s>_a?_a:_s}},{key:"getDeltaLonLatForMeterAtGivenLonLat",value:function(j,V){var _e=6371e3;return[1/_e*(180/Math.PI)/Math.cos(V*Math.PI/180),1/_e*(180/Math.PI)]}},{key:"getBoundingBoxVertices",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],V=[[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY]];return j.reduce(function(_e,_i){return[[Math.min(_i[0],_e[0][0]),Math.min(_i[1],_e[0][1])],[Math.max(_i[0],_e[1][0]),Math.max(_i[1],_e[1][1])]]},V)}},{key:"isPointInBoundingBox",value:function(j,V){if(j&&V){var _e=e1(j,2),_i=_e[0],_s=_e[1],_a=e1(V,2),Pa=e1(_a[0],2),Cc=Pa[0],Kc=Pa[1],o1=e1(_a[1],2),l1=o1[0],s1=o1[1];return _i<=l1&&_i>=Cc&&_s<=s1&&_s>=Kc}}},{key:"isPointOnLineSegment",value:function(j,V,_e){var _i=e1(j,2),_s=_i[0],_a=_i[1],Pa=e1(V,2),Cc=Pa[0],Kc=Pa[1],o1=e1(_e,2),l1=o1[0],s1=o1[1],f1=(Kc-_a)*(s1-_a)<=0;return Cc===l1?Cc===_s&&f1:!(_a-s1!=(s1-Kc)/(l1-Cc)*(_s-l1)||!f1)}},{key:"rayIntersectLineSegment",value:function(j,V,_e){var _i=e1(j,2),_s=_i[0],_a=_i[1],Pa=e1(V,2),Cc=Pa[0],Kc=Pa[1],o1=e1(_e,2),l1=o1[0],s1=o1[1];if(Cc===l1)return!1;var f1=(_s-Cc)/(l1-Cc);return f1>=0&&f1<1&&(s1-Kc)*f1+Kc>_a}},{key:"isPointInPolygon",value:function(j,V){var _e=e1(j,2),_i=_e[0],_s=_e[1],_a=V.length;if(_a<3)return!1;var Pa=0,Cc=V[_a-1];return V.forEach(function(Kc){$.rayIntersectLineSegment([_i,_s],Cc,Kc)&&(Pa+=1),Cc=Kc}),Pa%2!=0}},{key:"isPointOnLineString",value:function(j,V){var _e=e1(j,2),_i=_e[0],_s=_e[1],_a=V.length;if(_a<2)return!1;for(var Pa=V[_a-1],Cc=0;Cc<_a;Cc+=1){var Kc=V[Cc];if($.isPointOnLineSegment([_i,_s],Pa,Kc))return!0;Pa=V[Cc]}return!1}},{key:"getAreaOfPolygon",value:function(j){var V=j.length;if(V<3)return null;var _e=0,_i=j[V-1];return j.forEach(function(_s){var _a,Pa,Cc,Kc,o1,l1;_e+=.5*(_a=_s,Pa=e1(_i,2),Cc=Pa[0],Kc=Pa[1],o1=e1(_a,2),l1=o1[0],Cc*o1[1]-Kc*l1),_i=_s}),_e}},{key:"getDistanceBetweenPoints",value:function(j,V){var _e=e1(j,2),_i=_e[0],_s=_e[1],_a=e1(V,2),Pa=_i-_a[0],Cc=_s-_a[1];return Math.sqrt(Pa*Pa+Cc*Cc)}}])}(),S_=function(){return F(function $(){w(this,$),this.spaceRules={}},null,[{key:"getDataEntriesOne",value:function($,j){var V=[$,""];if(j!==null&&Array.isArray(j))V[1]=j.toString();else if(j!==null&&g(j)==="object"){var _e=Object.entries(j);if(_e.length>0){var _i=this.getDataEntriesOne(_e[0][0],_e[0][1]);V[0]="".concat(V[0],".").concat(_i[0]),V[1]=_i[1]}}else V[1]=j;return V}},{key:"getDataEntriesAll",value:function($){for(var j=[],V=0,_e=Object.entries($);V<_e.length;V++){var _i=e1(_e[V],2),_s=_i[0],_a=_i[1],Pa=this.getDataEntriesOne(_s,_a);j.push(Pa)}return j}},{key:"doFindComboMatch",value:function($,j){var V="";if($&&$.configuration&&$.configuration.combinations)for(var _e=this.getDataEntriesAll(j),_i=Object.entries($.configuration.combinations),_s=0,_a=function(){var Kc=Cc[Pa],o1=Object.keys(Kc[1]).filter(function(l1){return _e.some(function(s1){return l1===s1[0]&&Kc[1][l1]===s1[1]})});o1.length===Object.keys(Kc[1]).length&&o1.length>_s&&(V=Kc[0],_s=o1.length)},Pa=0,Cc=_i;Pa<Cc.length;Pa++)_a();return V}},{key:"getIconFromCombinations",value:function($,j){if($&&$.configuration.combinations&&j&&Object.keys(j).length>0&&$.behavioralAppearance.combinations&&Object.keys($.behavioralAppearance.combinations).length>0){var V=this.doFindComboMatch($,j);if(V===""||!$.behavioralAppearance.combinations[V].labelIcon)return"";if($.behavioralAppearance.combinations&&$.behavioralAppearance.combinations[V]&&$.behavioralAppearance.combinations[V].labelIcon)return $.behavioralAppearance.combinations[V].labelIcon.referenceUri}return""}},{key:"findSpace",value:function($,j){if(j.spaceTypes&&j.spaceTypes[$])return j.spaceTypes[$]}},{key:"findCategory",value:function($){if(this.spaceRules[$])return this.spaceRules[$]}},{key:"setSpaceRules",value:function($){this.spaceRules=$}},{key:"getSpaceIcon",value:function($,j,V){var _e="",_i=this.findCategory(j);if(_i){var _s=this.findSpace($,_i);if(_s){var _a="";V&&(_a=this.getIconFromCombinations(_s,V)),_a&&_a!==""?_e=_a:_s.behavioralAppearance.default.labelIcon?_e=_s.behavioralAppearance.default.labelIcon.referenceUri:_i.properties.behavioralAppearance.default.labelIcon&&(_e=_i.properties.behavioralAppearance.default.labelIcon.referenceUri)}}return _e}}])}(),B7=function(){return F(function $(){w(this,$)},null,[{key:"getFormattedIndoorMapId",value:function($){var j=/^\d{5}$/.test($),V=typeof $=="string"&&$.includes("indoormap");return j||!V?"indoormap-00000000-0000-4000-a000-".concat($.toString().padStart(12,"0")):$}},{key:"validateIsMicelloId",value:function($){return new RegExp(/^indoormap-00000000-0000-4000-[a-f]000-[0-9]{12}$/).test($)}}])}(),X3=function(){return F(function $(){w(this,$),this.themeRule={},this.svgList={},this.defaultLang="ENG"},null,[{key:"getNumberFromAlphaNumeric",value:function($){try{var j=$.split("").reverse().join("").replace(/[^0-9]/g,"").substr(0,6);return parseInt(j,10)}catch{return null}}},{key:"extractNumFromSting",value:function($){try{var j=$.replace(/[^0-9]/g,"");return parseInt(j,10)}catch{return console.warn("Exception in converting string to Id"),this.getNumberFromAlphaNumeric($)}}},{key:"getVenueId",value:function($){if(typeof $!="number"){var j=$.substr($.length-6);return parseInt(j,10)}return $}},{key:"setSite",value:function($,j){var V=this.getName($),_e={id:B7.getFormattedIndoorMapId(j),location:$.referencePoint,properties:d({},$.properties),geometry:$.geometry,identifier:this.getVenueId(j),obj_type:"CommunityMap"},_i=$.properties.indoorSiteMetadata,_s=_i===void 0?{}:_i;return _s.legacyVersion&&_s.legacyVersion.mapVersion&&(_e.map_version=_s.legacyVersion.mapVersion),_e.properties.name=V,_e.properties.display_name=V,_e}},{key:"setEntrance",value:function($){var j=this.themeRule.entranceRules.default.labelIcon.referenceUri,V=this.extractNumFromSting($.id),_e=this.getName($),_i=$.properties;return _i.icon=!0,_i.svg=this.svgList[j.toLowerCase()],_i.name=_e||"entrance",_i.display_name=_e||"entrance",_i.level={id:$.properties.level.id},{id:$.id,levelId:$.properties.level.id,momType:g2.ENTRANCE,geometry:$.geometry,location:$.geometry,properties:_i,identifier:V,label_area:[$.referencePoint.coordinates[0],$.referencePoint.coordinates[1],50,50,180]}}},{key:"setStructure",value:function($){var j=this.extractNumFromSting($.id),V=this.getName($),_e=$.properties;return _e.is_root=$.properties.drawOrder===0,_e.display_name=V,_e.map_type=$.properties.structureType,_e.name=V,{id:$.id,obj_type:"Drawing",identifier:j,properties:_e}}},{key:"getNameByPriority",value:function($,j){for(var V=this,_e="",_i=function(Pa){return Pa.nameType==="OFFICIAL"&&Pa.languageCode&&Pa.languageCode===V.defaultLang||Pa.nameType==="OFFICIAL"},_s=0;_s<$.length;_s++){var _a=$[_s];if(_i(_a)&&(j&&j===_a.nameType||!j)){_e=_a.name;break}if(_a.nameType==="ABBREVIATION"&&(j&&j===_a.nameType||!j)){_e=_a.name;break}if(_a.nameType==="UNCLASSIFIED"&&(j&&j===_a.nameType||!j)){_e=_a.name;break}if(!_a.nameType&&_a.name){_e=_a.name;break}}return _e}},{key:"getName",value:function($,j){return $.properties&&$.properties.names?this.getNameByPriority($.properties.names,j):$.properties.placeProperties&&$.properties.placeProperties&&$.properties.placeProperties.names?this.getNameByPriority($.properties.placeProperties.names,j):$.properties.locationDetails&&$.properties.locationDetails[0]&&$.properties.locationDetails[0].names?this.getNameByPriority($.properties.locationDetails[0].names,j):""}},{key:"setLevel",value:function($){var j=this.extractNumFromSting($.id),V=$.properties.names,_e=$.properties,_i=$.geometry;return _e["short name"]=this.getNameByPriority(V,V&&V.length!==1?"ABBREVIATION":""),_e.name=this.getNameByPriority(V,V&&V.length!==1?"ABBREVIATION":""),{id:$.id,obj_type:"Level",identifier:j,properties:_e,geometry:_i}}},{key:"setLevelConnector",value:function($){var j=this.extractNumFromSting($.id);return{id:$.id,obj_type:"LevelConnector",properties:$.properties,geometry:$.geometry,identifier:j,location:$.geometry}}},{key:"setOccupant",value:function($){var j=this.getName($),V=this.extractNumFromSting($.id),_e=$.properties;return _e.occupantName=j,_e.email=$.properties.placeProperties&&$.properties.placeProperties.contacts&&$.properties.placeProperties.contacts.find(function(_i){return _i.contactType==="EMAIL"})&&$.properties.placeProperties.contacts.find(function(_i){return _i.contactType==="EMAIL"}).value,_e.name=j,_e.tags=$.properties.attributes&&$.properties.attributes.tags,{geometry:$.geometry,id:$.id,obj_type:"Geometry",properties:_e,identifier:V,spaceIds:$.properties.spaces?$.properties.spaces:[],type:"Feature",momType:g2.OCCUPANT}}},{key:"getIcon",value:function($){var j=!1,V="";return this.svgList[$]&&(j=!0,V=this.svgList[$]),{icon:j,svg:V}}},{key:"setSpace",value:function($){var j=S_.getSpaceIcon($.properties.spaceType,$.properties.spaceCategory,$.properties.spaceTypeProperties),V=this.getName($),_e=this.getIcon(j),_i=_e.icon,_s=_e.svg,_a=this.extractNumFromSting($.id),Pa=$.properties.level.id,Cc=$.properties;Cc.spaceName=V,Cc[$.properties.spaceCategory]=$.properties.spaceType,Cc.spaceType=$.properties.spaceType,Cc.spaceCategory=$.properties.spaceCategory,Cc.icon=_i,Cc.svg=_s;var Kc={geometry:$.geometry,id:$.id,levelId:Pa,label_area:[$.referencePoint.coordinates[0],$.referencePoint.coordinates[1],50,50,180],location:$.referencePoint,obj_type:"Geometry",identifier:_a,properties:Cc,momType:g2.SPACE,type:"Feature"};return $.properties.spaceAddress&&$.properties.spaceAddress.id&&(Kc.addressId=$.properties.spaceAddress.id),Kc}},{key:"setSpaceGroups",value:function($){var j=this.extractNumFromSting($.id);return{id:$.id,obj_type:"SpaceGroups",properties:$.properties,geometry:$.geometry,location:$.referencePoint,identifier:j}}},{key:"setTopology",value:function($){var j=this.extractNumFromSting($.id);return{id:$.id,obj_type:"Topology",properties:$.properties,geometry:$.geometry,identifier:j}}},{key:"setAddress",value:function($){var j=this.extractNumFromSting($.id),V=this.getName($),_e=$.properties;return _e.addressName=V,_e.name=V,{id:$.id,properties:_e,obj_type:"Address",identifier:j}}},{key:"manageSvgDimensions",value:function($){for(var j={},V=0,_e=Object.entries($);V<_e.length;V++){var _i=e1(_e[V],2),_s=_i[0],_a=_i[1];if(typeof _a=="string"){var Pa=_a.indexOf("<g")!==-1&&_a.indexOf("<g")||_a.indexOf("<p"),Cc=_a.indexOf("</s");if(Pa&&Cc){var Kc=_a.substring(Pa-1,Cc-1);j[_s]="<svg width='64' height='64' viewBox='0 0 24 32' fill='none' xmlns='http://www.w3.org/2000/svg'>".concat(Kc,"</svg>")}}}return j}},{key:"getSiteBoundingBox",value:function($){if($){var j=e1(x4.getBoundingBox($.geometry.type,$.geometry.coordinates),2),V=j[0],_e=j[1];if(V)return"".concat(V[0],",").concat(V[1],",").concat(_e[0],",").concat(_e[1])}return"null, null, null, null"}}])}(),N5=function(){return F(function j(){w(this,j)},null,[{key:"get",value:function(j){return fetch(j,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{method:"GET"}).then(function(V){return V.ok?V.json():Promise.reject(new Error("Call failed for ".concat(j," : ").concat(V.status," ").concat(V.statusText)))})}},{key:"getConfigUrl",value:function(j,V,_e){var _i=_e.apiKey,_s=_e.url,_a=_e.token,Pa=_e.hrn,Cc={method:"GET",mode:"cors",cache:"default"},Kc="".concat(_s||_c,"/").concat(Pa),o1="";return V===y4.SITE&&(o1="".concat(Kc,"/layers/").concat(I5,"/search?p.featureType=indoor.Site&p.indoorMapId='").concat(B7.getFormattedIndoorMapId(j),"'")),V===y4.IMAGES&&(o1="".concat(Kc,"/layers/").concat(_t,"/features/svg")),V===y4.Theme&&(o1="".concat(Kc,"/layers/").concat(aa,"/features/indoorMapRules")),_a?Cc.headers={Authorization:"Bearer ".concat(_a)}:o1=o1.concat("".concat(V===y4.SITE?"&":"?","apiKey=").concat(_i)),this.get(o1,Cc)}},{key:"getMomData",value:function(j,V){var _e=V.apiKey,_i=V.url,_s=V.token,_a=V.hrn,Pa={method:"GET",mode:"cors",cache:"default"},Cc="".concat(_i||_c,"/").concat(_a),Kc=j&&j.features&&j.features.find(function(u1){return u1.momType===g2.SITE}),o1=X3.getSiteBoundingBox(Kc),l1=[g2.TOPOLOGY,g2.LEVELCONNECTOR],s1=Object.values(g2).filter(function(u1){return!l1.includes(u1)}).join(),f1="".concat(Cc,"/layers/").concat(I5,"/bbox?bbox=").concat(o1,"&limit=100000&f.momType=").concat(s1);return _s?Pa.headers={Authorization:"Bearer ".concat(_s)}:f1=f1.concat("&apiKey=".concat(_e)),{mom:this.get(f1,Pa),site:Kc}}},{key:"getIndoorMapsCollectionList",value:($=v(h().mark(function j(V){var _e,_i,_s,_a,Pa,Cc,Kc,o1,l1,s1,f1;return h().wrap(function(u1){for(;;)switch(u1.prev=u1.next){case 0:if(_e=V.token,_i=a1[i1.DEFAULT_COLLECTION],_s=_i.PARAMS,_a=_i.BASE_URL,Pa=encodeURI("".concat(_a,"?sortBy=").concat(_s.CREATED,"&verbose=").concat(_s.VERBOSE)),Cc=Pa,!_e){u1.next=23;break}return Kc={method:"GET",headers:{Authorization:"Bearer ".concat(_e)}},u1.prev=6,u1.next=9,this.get(Cc,Kc);case 9:if((o1=u1.sent).results&&o1.results.items.length!==0){u1.next=12;break}return u1.abrupt("return",Promise.reject(new Error("empty catalogs, no result found")));case 12:if(l1=o1.results.items,s1=/^indoormap.*-collection$/,f1=l1.filter(function(m1){return s1.test(m1.id)}),!(Array.isArray(f1)&&f1.length<1)){u1.next=17;break}return u1.abrupt("return",Promise.reject(new Error("No indoormap collections found")));case 17:return u1.abrupt("return",f1);case 20:return u1.prev=20,u1.t0=u1.catch(6),u1.abrupt("return",Promise.reject(new Error("Error while accessing default collection")));case 23:return u1.abrupt("return",Promise.reject(new Error("Please provide valid token")));case 24:case"end":return u1.stop()}},j,this,[[6,20]])})),function(j){return $.apply(this,arguments)})},{key:"getProjectAccountDetails",value:function(j){var V=j.token,_e=a1[i1.ACCOUNT_API].BASE_URL;if(V){var _i={method:"GET",mode:"cors",headers:{Authorization:"Bearer ".concat(V)}};return this.get(_e,_i)}return Promise.reject(new Error("Please provide valid token"))}},{key:"fetchIndoorMapList",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V=j.hrn,_e=j.url,_i=a1[i1.CATALOG_LAYER],_s=_i.PARAMS,_a=_i.COLLECTION_LAYER;if(V){var Pa=encodeURI("".concat(_e||_c,"/").concat(V,"/").concat(_a,"?").concat(_s.FEATURE_TYPE.KEY,"=").concat(_s.FEATURE_TYPE.VALUE)),Cc=this.createBaseUrl(Pa,S1.GET,{},j),Kc=Cc.URL,o1=Cc.options;return this.get(Kc,o1)}return Promise.reject(new Error("Please provide valid hrn"))}},{key:"createBaseUrl",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S1.GET,_e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},_i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},_s=_i.token,_a=_i.apiKey,Pa=j,Cc={method:V,mode:"cors"};return _s?Cc.headers=d({Authorization:"Bearer ".concat(_s)},_e):Pa=j.concat("&apiKey=".concat(_a)),{URL:Pa,options:Cc}}}]);var $}(),O5=function(){function $(){w(this,$)}return F($,null,[{key:"isPointOnGeoJSONLineString",value:function(j,V){var _e=!1;if(V&&V.length>1){for(var _i=0,_s=0,_a=1;_a<V.length;_a+=1)if(_i=V[_a-1],_s=V[_a],x4.isPointOnLineSegment(j,_i,_s)){_e=!0;break}}return _e}},{key:"isPointOnGeoJSONMultiLineString",value:function(j,V){for(var _e=!1,_i=0;_i<V.length;_i+=1)if($.isPointOnGeoJSONLineString(j,V[_i])){_e=!0;break}return _e}},{key:"isPointInsideGeoJSONPolygon",value:function(j,V){var _e=!1;if(x4.isPointInPolygon(j,V[0])&&(_e=!0),_e){for(var _i=1;_i<V.length;_i+=1)if(x4.isPointInPolygon(j,V[_i])){_e=!1;break}}return _e}},{key:"isPointInsideGeoJSONMultiPolygon",value:function(j,V){for(var _e=V.length,_i=0;_i<_e;_i+=1)if($.isPointInsideGeoJSONPolygon(j,V[_i]))return!0;return!1}},{key:"getGeometriesByLonLat",value:function(j,V){for(var _e=arguments.length>2&&arguments[2]!==void 0&&arguments[2],_i=[],_s=V.filter(function(Cc){return x4.isPointInBoundingBox(j,Cc.getBoundingBox())}),_a=0;_a<_s.length;_a+=1){var Pa=_s[_a];if(Pa.isPointInsideGeometry(j,!0)&&(_i.push(Pa),!_e))break}return _i.sort(function(Cc,Kc){return Kc.getZIndex()-Cc.getZIndex()})}}])}(),HM=function(){return F(function $(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V=arguments.length>1?arguments[1]:void 0,_e=arguments.length>2?arguments[2]:void 0;w(this,$),this.id=j.id,this.properties=j.properties||{},this.labelArea=j.label_area||[],this.geometry=j.geometry||{},this.location=j.location||{},this.address=j.address||{},this.level=V,this.zIndex=_e,this.spaceId=j.spaceId,this.state_={isHighlighted:!1,highlightedStyle:{}},this.geometryData=j},[{key:"getId",value:function(){return this.geometryData&&this.geometryData.identifier}},{key:"getIdentifier",value:function(){return this.id}},{key:"getProperties",value:function(){return this.properties}},{key:"getInternalAddress",value:function(){return this.address?this.address.properties&&this.address.properties.name:null}},{key:"getCenter",value:function(){return this.location.coordinates||[]}},{key:"getCoordinates",value:function(){return this.geometry.coordinates||[]}},{key:"getDisplayName",value:function(){return this.properties.display_name||""}},{key:"getName",value:function(){return this.properties.name||""}},{key:"getStyle",value:function(){return this.getMetaInformation_().getStyle(this)}},{key:"getIcon",value:function(){return this.properties.svg}},{key:"getLabelArea",value:function(){return this.labelArea||[]}},{key:"getLabelStyle",value:function(){return this.getMetaInformation_().getLabelStyle(this)||null}},{key:"getLevel",value:function(){return this.level}},{key:"getType",value:function(){return this.geometry.type}},{key:"getZIndex",value:function(){return this.zIndex}},{key:"getBoundingBox",value:function(){var $=this.getType(),j=this.getCoordinates(),V=[];switch($){case f3:V=[j,j];break;case j8:case s0:V=j;break;case B8:case z2:V=j.reduce(function(_e,_i){return _e.concat(_i)},[]);break;case F4:V=j.reduce(function(_e,_i){return _e.concat(_i)},[]).reduce(function(_e,_i){return _e.concat(_i)},[])}return x4.getBoundingBoxVertices(V)}},{key:"isIcon",value:function(){return!!this.properties.icon}},{key:"isPointInsideGeometry",value:function($){var j,V=arguments.length>1&&arguments[1]!==void 0&&arguments[1],_e=!1;switch(this.getType()){case f3:j=this.getLabelArea()&&x4.getRectangularCoordinatesOfLabelArea(this.getLabelArea()),_e=x4.isPointInPolygon($,j);break;case j8:break;case s0:_e=V&&O5.isPointOnGeoJSONLineString($,this.getCoordinates());break;case B8:_e=V&&O5.isPointOnGeoJSONMultiLineString($,this.getCoordinates());break;case z2:_e=O5.isPointInsideGeoJSONPolygon($,this.getCoordinates());break;case F4:_e=O5.isPointInsideGeoJSONMultiPolygon($,this.getCoordinates())}return _e}},{key:"highlight",value:function(){var $=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],j=arguments.length>1?arguments[1]:void 0;this.state_.isHighlighted=$,this.state_.highlightedStyle=$?j:{}}},{key:"isHighlighted",value:function(){return!!this.state_.isHighlighted}},{key:"getHighlightedStyle",value:function(){return this.state_.highlightedStyle||{}}},{key:"toJSON",value:function(){return d({},this.geometry)}},{key:"getMetaInformation_",value:function(){return this.getLevel()?this.getLevel().getDrawing().getVenueModel().metaInformation_:null}}])}(),E9=function(){return F(function $(j,V){var _e=this;w(this,$),this.id=j&&j.id,this.properties=j&&j.properties,this.zIndexCount=0,this.geometries=j&&j.features&&Object.values(j.features).reduce(function(_i,_s){return _i[[_s.id]]=new HM(_s,_e,_s.properties.drawOrder),_i},{}),this.drawing=V,this.levelData=j},[{key:"getId",value:function(){return this.levelData&&this.levelData.identifier}},{key:"getIdentifier",value:function(){return this.id}},{key:"getProperties",value:function(){return this.properties}},{key:"getName",value:function(){return this.properties&&this.properties.name||""}},{key:"getDisplayName",value:function(){return this.properties&&this.properties.display_name||""}},{key:"getDrawing",value:function(){return this.drawing}},{key:"getShortName",value:function(){return this.properties&&this.properties["short name"]||""}},{key:"getZIndex",value:function(){return this.properties&&this.properties.zLevel}},{key:"getFeatureCollectionArray",value:function(){return this.getGeometries().map(function($){return $.toJSON()})}},{key:"getGeometryById",value:function($){return this.geometries[$]}},{key:"getGeometries",value:function(){return arguments.length>0&&arguments[0]!==void 0&&arguments[0]?this.geometries&&Object.values(this.geometries).sort(function($,j){return j.getZIndex()-$.getZIndex()}):this.geometries&&Object.values(this.geometries).sort(function($,j){return $.getZIndex()-j.getZIndex()})}},{key:"getGeometriesByAddress",value:function($){return Object.values(this.geometries).filter(function(j){return j.address&&j.address.properties&&j.address.properties.name&&j.address.properties.name===$})}},{key:"isMain",value:function(){return!!this.properties.isMain}}])}(),GM=function(){return F(function $(j){var V=this,_e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],_s=arguments.length>3?arguments[3]:void 0;w(this,$),this.venueModel=_s,this.levels=_i.map(function(_a){return new E9(_a,V)}),this.structure=j,this.id=j&&j.id,this.properties=_e},[{key:"getId",value:function(){return this.structure&&this.structure&&this.structure.identifier}},{key:"getIdentifier",value:function(){return this.id}},{key:"getProperties",value:function(){return this.properties}},{key:"isRoot",value:function(){return!!this.properties.is_root}},{key:"getDisplayName",value:function(){return this.properties.display_name||""}},{key:"getName",value:function(){return this.properties.name||""}},{key:"getBoundingBox",value:function(){if(this.structure&&this.structure.geometry){var $=e1(x4.getBoundingBox(this.structure.geometry.type,this.structure.geometry.coordinates),2),j=$[0],V=$[1];if(j)return[V[1],j[0],j[1],V[0]]}return[null,null,null,null]}},{key:"getCenter",value:function(){return this.structure&&this.structure.location&&this.structure.location.coordinates}},{key:"getGeometryById",value:function($){return this.getGeometries().find(function(j){return j.getId()===$||j.getIdentifier()===$})}},{key:"getGeometries",value:function(){return this.levels.flatMap(function($){return $.getGeometries()})}},{key:"getLevelById",value:function($){return this.levels.find(function(j){return j.getId()===$||j.getIdentifier()===$})}},{key:"getLevelByZIndex",value:function($){return this.levels.find(function(j){return j.getZIndex()===$})}},{key:"getLevels",value:function(){return this.levels}},{key:"getMainLevel",value:function(){return this.levels.find(function($){return $.isMain()})}},{key:"getVenueModel",value:function(){return this.venueModel}}])}(),L_=v4.STANDARD,A_=function(){return F(function $(j){var V=this,_e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new U8;w(this,$),this.metaInformation_=_e,this.momStructure=j,this.id=j&&j.site&&j.site.id,this.location=j&&j.site&&j.site.location||{},this.properties=j&&j.site&&d({},j.site.properties),this.drawings=j&&j.structure&&Object.values(j.structure).map(function(_i){var _s=j.getStructureWiseGeometry(_i.id);return new GM(_i,_i.properties,Object.values(_s),V)})},[{key:"getDisplaySettings",value:function(){return(this.metaInformation_.releaseSettings_?this.metaInformation_.releaseSettings_.displayOptions:"").display||L_}},{key:"getId",value:function(){return this.momStructure&&this.momStructure.site&&this.momStructure.site.identifier}},{key:"getIdentifier",value:function(){return this.id}},{key:"getName",value:function(){return this.properties.name}},{key:"getBoundingBox",value:function(){if(this.momStructure){var $=e1(x4.getBoundingBox(this.momStructure.site.geometry.type,this.momStructure.site.geometry.coordinates),2),j=$[0],V=$[1];if(j)return[V[1],j[0],j[1],V[0]]}return[null,null,null,null]}},{key:"getCenter",value:function(){return this.location.coordinates}},{key:"getGeometryById",value:function($){return this.getGeometries().find(function(j){return j.getId()===$||j.getIdentifier()===$})}},{key:"getGeometries",value:function(){return this.getLevels().sort(function($,j){return $.getZIndex()-j.getZIndex()}).flatMap(function($){return $.getGeometries()})}},{key:"getGeometriesByLonLat",value:function($){var j=this,V=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],_e=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).map(function(_i){return j.getLevelById(_i)});return _e.length===0&&(_e=this.drawings.filter(function(_i){var _s=_i.getBoundingBox();return x4.isPointInBoundingBox($,_s)}).flatMap(function(_i){return _i.getLevels()})),O5.getGeometriesByLonLat($,_e.flatMap(function(_i){return _i.getGeometries(!0)}),V)}},{key:"getDrawingById",value:function($){return this.drawings.find(function(j){return j.getId()===$||j.getIdentifier()===$})}},{key:"getDrawings",value:function(){return this.drawings}},{key:"getRootDrawing",value:function(){return this.drawings.find(function($){return $.isRoot()})}},{key:"getLevelById",value:function($){return this.getLevels().find(function(j){return j.getId()===$||j.getIdentifier()===$})}},{key:"getLevelsByZIndex",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.getLevels().filter(function(j){return Number(j.getZIndex())===Number($)})}},{key:"getLevels",value:function(){return this.drawings.flatMap(function($){return $.getLevels()})}},{key:"getMomStructure",value:function(){return this.momStructure}},{key:"getLevelMapFlattenedByZIndex_",value:function(){var $=this.getLevels().reduce(function(j,V){var _e=V.getZIndex(),_i=j;return _i[_e]||(_i[_e]=[]),_i[_e].push(V),_i},{});return $}},{key:"getOccupant",value:function(){var $=this.momStructure.occupant;return Object.values($)}}])}(),$M=function(){return F(function $(j){w(this,$),this.theme=j&&j.theme,this.level=j&&j.level,this.site=j&&j.site,this.spaces=j&&j.spaces,this.address=j&&j.address,this.levelConnector=j&&j.levelConnector,this.topology=j&&j.topology,this.entrance=j&&j.entrance,this.occupant=j&&j.occupant,this.structure=j&&j.structure,this.spaceGroups=j&&j.spaceGroups,this.levelWiseGeometry={},this.levelStructureMapping=j&&j.levelStructureMapping,this.outdoorLevelMapping=j&&j.outdoorLevelMapping||{},this.labelTextPreference=j&&j.labelTextPreference||null},[{key:"setSpaceWithLevel",value:function(){var $=this;this.spaces&&Object.values(this.spaces).forEach(function(j){var V="";j.addressId&&(V=$.address&&$.address[j.addressId]&&$.address[j.addressId].properties.addressName);var _e=j.properties;_e.addressName=V;var _i=$.getLabelAsPerPreference(d(d({},j),{},{properties:_e})),_s=j.properties;_s.name=_i,_s.display_name=_i,j.properties.icon&&(_s.name=j.id,_s.display_name=j.id);var _a=j;_a.properties=_s,_a.address=$.address[j.addressId],$.spaces[j.id]=j;var Pa=j.levelId;$.outdoorLevelMapping[Pa]&&(Pa=$.outdoorLevelMapping[Pa]),$.levelWiseGeometry[Pa]||($.levelWiseGeometry[Pa]={}),$.levelWiseGeometry[Pa][_a.id]=_a})}},{key:"setOccupantWithLevel",value:function(){var $=this;this.occupant&&Object.values(this.occupant).forEach(function(j){if(j.spaceIds&&j.properties.occupantName){var V=[],_e=[];j.spaceIds.forEach(function(_i){var _s=_i.id,_a=$.spaces[_s],Pa=null;$.spaceGroups&&Object.values($.spaceGroups).forEach(function(Kc){Kc.properties.spaceGroups&&Kc.properties.spaceGroups&&Kc.properties.spaceGroups.forEach(function(o1){o1.mainSpace&&o1.mainSpace.id===_i.id&&(Pa=o1.spaces.map(function(l1){return l1.id}))})});var Cc=function(Kc){var o1=!1;$.labelTextPreference&&$.labelTextPreference.length&&(o1=$.labelTextPreference.indexOf("OCCUPANT_NAMES")!==-1);var l1=$.labelTextPreference===null||o1,s1=Kc,f1=Kc.properties;f1.name=Kc.properties.icon||!l1?Kc.properties.name:j.properties.occupantName,f1.display_name=Kc.properties.icon||!l1?Kc.properties.display_name:j.properties.occupantName,f1.address=Kc.address,f1.occupantName=j.properties.occupantName;var u1=Kc.levelId;$.outdoorLevelMapping[u1]&&(u1=$.outdoorLevelMapping[u1]),$.levelWiseGeometry[u1]||($.levelWiseGeometry[u1]={}),$.levelWiseGeometry[u1][Kc.id]=s1,V.push(s1),_e.push(Kc.id)};Pa&&Pa.length>0&&Pa.forEach(function(Kc){Cc($.spaces[Kc])}),_a&&Cc(_a)}),$.occupant[j.id]=j,$.occupant[j.id].space=V,$.occupant[j.id].spaceIds=_e}})}},{key:"setEntrance",value:function(){var $=this;this.entrance&&Object.values(this.entrance).forEach(function(j){var V=j.properties.level.id;$.levelWiseGeometry[V]||($.levelWiseGeometry[j.properties.level.id]={}),$.outdoorLevelMapping[V]&&(V=$.outdoorLevelMapping[V]),$.levelWiseGeometry[V][j.id]=j})}},{key:"setLevelWiseGeometry",value:function(){var $=this;this.level&&Object.keys(this.level).forEach(function(j){$.levelWiseGeometry[j]={}}),this.setSpaceWithLevel(),this.setOccupantWithLevel(),this.setEntrance()}},{key:"getStructureWiseGeometry",value:function($){for(var j={},V=0,_e=Object.entries(this.levelWiseGeometry);V<_e.length;V++){var _i=e1(_e[V],2),_s=_i[0],_a=_i[1];$===this.levelStructureMapping[_s]&&(j[_s]=this.level[_s],j[_s].features=_a)}return j}},{key:"getLabelAsPerPreference",value:function($){var j=$.properties,V=j.spaceType,_e=j.occupantName,_i=j.spaceName,_s=j.addressName,_a=j.spaceCategory,Pa=q(q(q(q(q(q(q({},e6,_e),P7,_i),L3,V?V.charAt(0).toUpperCase()+V.slice(1).toLowerCase():""),H0,_a?_a.charAt(0).toUpperCase()+_a.slice(1).toLowerCase():""),e8,_s),y0,_s),c4,_s),Cc=this.theme.spaceRules,Kc="",o1=_a&&V&&Cc[_a]&&Cc[_a].spaceTypes&&Cc[_a].spaceTypes[V].behavioralAppearance.default.labelType;if(o1==="NONE"){if(!this.labelTextPreference)return"";Pa[L3]=""}var l1=_a&&V&&Cc[_a]&&Cc[_a].properties&&Cc[_a].properties.behavioralAppearance&&Cc[_a].properties.behavioralAppearance.default&&Cc[_a].properties.behavioralAppearance.default.labelType;if((l1==="NONE"||l1===void 0)&&o1===void 0){if(!this.labelTextPreference)return"";Pa[L3]="",Pa[H0]=""}var s1=_a&&V&&Cc[_a]&&Cc[_a].properties&&Cc[_a].properties.behavioralAppearance&&Cc[_a].properties.behavioralAppearance.default&&Cc[_a].properties.behavioralAppearance.default.labelTextPreference,f1=s1&&this.labelTextPreference?this.labelTextPreference:s1;if(f1){for(var u1=0;u1<f1.length;u1++)if(Pa[f1[u1]]){Kc=Pa[f1[u1]];break}}return Kc}}])}(),k_=function(){return F(function j(V){var _e=V.apiKey,_i=V.baseUrl,_s=V.token,_a=V.hrn;w(this,j);var Pa={apiKey:_e,url:_i,token:_s,hrn:_a};this.hostOptions_=Pa,this.momData=[],this.theme={},this.loadOptions={}},[{key:"setHostOptions",value:function(j){Object.keys(j).length===0||(this.hostOptions_=d(d({},this.hostOptions_),j))}},{key:"getToken",value:function(){return this.hostOptions_.token}},{key:"getHrn",value:function(){return this.hostOptions_.hrn}},{key:"load",value:function(j){var V=this,_e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.loadOptions=d(d(d({},y1),_e),{},{venueId:j}),this.hostOptions_.mapData=_e.mapData,this.hostOptions_.themeRule=_e.themeRule,this.hostOptions_.svgList=_e.svgList,this.hostOptions_.labelTextPreference=_e.labelTextPreferenceOverride,this.getHrn()?this.getVenueModalInstance():this.getToken()?this.getDefaultCollectionWithToken().then(function(){return V.getVenueModalInstance()}).catch(function(){return Promise.reject(new Error("Unable to find indoor map collection. Please contact your administrator"))}):Promise.reject(new Error("In order to load indoor map, Please provide either hrn or token"))}},{key:"getVenueModalInstance",value:function(){var j=this;return Promise.resolve().then(function(){return j.loadOptions.isMetaEnabled?j.getMeta_(j.loadOptions.isIconsEnabled).catch(function(V){return console.warn(V),Promise.resolve()}):Promise.reject()}).then(function(V){return j.getVenue_(V)}).then(function(V){return V}).catch(function(V){console.debug("Captured event VENUE_ERROR_STATE",V)})}},{key:"createMomStructure",value:function(){var j=this,V={site:{},structure:{},level:{},levelConnector:{},occupant:{},spaces:{},spaceGroups:{},topology:{},address:{},outdoorLevelMapping:{},entrance:{},levelStructureMapping:{}};return this.momData.forEach(function(_e){var _i=B7.getFormattedIndoorMapId(j.loadOptions.venueId),_s=_e.id;(_e.momType===g2.ADDRESS||j.hostOptions_.mapData||_e.properties.indoorMapId==j.loadOptions.venueId||_e.properties.indoorMapId===_i)&&(_e.momType===g2.SITE?V.site=X3.setSite(_e,j.loadOptions.venueId):_e.momType===g2.STRUCTURE?V.structure[_s]=X3.setStructure(_e):_e.momType!==g2.LEVEL||_e.properties.isOutdoor&&(!_e.properties.isOutdoor||_e.properties.parentIndoorLevel)?_e.momType===g2.LEVEL&&_e.properties.isOutdoor&&_e.properties.parentIndoorLevel?V.outdoorLevelMapping[_e.id]=_e.properties.parentIndoorLevel.id:_e.momType===g2.ENTRANCE?V.entrance[_s]=X3.setEntrance(_e):_e.momType===g2.OCCUPANT?V.occupant[_s]=X3.setOccupant(_e):_e.momType===g2.SPACE?V.spaces[_s]=X3.setSpace(_e):_e.momType===g2.SPACEGROUPS?V.spaceGroups[_s]=X3.setSpaceGroups(_e):_e.momType===g2.ADDRESS&&(V.address[_s]=X3.setAddress(_e)):(V.level[_s]=X3.setLevel(_e),V.levelStructureMapping[_s]=_e.properties.structure.id))}),V.theme=this.theme,V.labelTextPreference=this.hostOptions_.labelTextPreference,new $M(V)}},{key:"getVenue_",value:function(j){this.momData=j.getMomData();var V=this.createMomStructure();return V.setLevelWiseGeometry(),new A_(V,j)}},{key:"setConfigData",value:function(j){var V=j.themeRule,_e=j.svgList,_i=j.defaultLang;S_.setSpaceRules(V.spaceRules),X3.svgList=_e,X3.themeRule=V,X3.defaultLang=_i,this.theme=V}},{key:"getMeta_",value:function(){var j=this,V=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],_e=new U8,_i=this.hostOptions_.mapData?{}:this.getMetaConfig_(this.loadOptions.venueId,y4.SITE),_s=this.hostOptions_.themeRule||this.getMetaConfig_(this.loadOptions.venueId,y4.Theme),_a=[];return V&&(_a=this.hostOptions_.svgList||this.getMetaConfig_(this.loadOptions.venueId,y4.IMAGES)),new Promise(function(Pa){Promise.all([_i,_s,_a]).then(function(Cc){var Kc=e1(Cc,3),o1=Kc[0],l1=Kc[1],s1=Kc[2],f1=j.hostOptions_.mapData?{mom:new Promise(function(u1){return u1(j.hostOptions_.mapData)}),site:j.hostOptions_.mapData.features.find(function(u1){return u1.momType===g2.SITE})}:N5.getMomData(o1,j.hostOptions_);f1.mom.then(function(u1){var m1=l1.properties;_e.imageCache=V?X3.manageSvgDimensions(s1.properties):[],j.setConfigData({themeRule:m1,svgList:_e.imageCache,defaultLang:f1&&f1.site&&f1.site.properties.defaultLanguageCode}),_e.releaseSettings_={displayOptions:{display:m1.entranceRules.default.displayName||v4.STANDARD},mom:u1.features},_e.theme=new j7(m1,_e),Pa(_e)})})})}},{key:"getMetaConfig_",value:function(j,V){return N5.getConfigUrl(j,V,this.hostOptions_)}},{key:"fetchCollections",value:function(){return N5.getIndoorMapsCollectionList(this.hostOptions_)}},{key:"fetchUserProjects",value:function(){return N5.getProjectAccountDetails(this.hostOptions_)}},{key:"getDefaultCollectionWithToken",value:($=v(h().mark(function j(){var V=this;return h().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:return _e.abrupt("return",Promise.all([this.fetchCollections(),this.fetchUserProjects()]).then(function(_i){var _s=e1(_i,2),_a=_s[0],Pa=_s[1],Cc=V.getDefaultCollection(_a,Pa);if(Cc.hrn){var Kc={hrn:Cc.hrn};return V.setHostOptions(Kc),Promise.resolve()}return Promise.reject()}).catch(function(_i){return Promise.reject(_i)}));case 1:case"end":return _e.stop()}},j,this)})),function(){return $.apply(this,arguments)})},{key:"getDefaultCollection",value:function(j,V){if(Array.isArray(j)&&j.length){var _e=this.getProjectRealm(V);return j.find(function(_i){return _i.hrn.includes(_e)})}return Promise.reject(new Error("Error while accessing default collection"))}},{key:"getProjectRealm",value:function(j){if(Array.isArray(j.items)&&j.items.length&&j.items[0].id.includes("indoor-")){var V=j.items[0].hrn;return this.getRealmNameFromHrn(V)}return""}},{key:"getRealmNameFromHrn",value:function(j){if(j){var V=j.split(":");return V.length&&V[4]}return""}},{key:"getSupportedMapList",value:function(){var j=this,V=this.hostOptions_,_e=V.hrn,_i=V.token;return _e?this.fetchMapInfoList():_i?this.getDefaultCollectionWithToken().then(function(){return j.fetchMapInfoList()}).catch(function(){return Promise.reject(new Error("Unable to find indoor map collection. Please contact your administrator"))}):Promise.reject(new Error("In order to load map list, Please provide either hrn or token"))}},{key:"fetchMapInfoList",value:function(){var j=this;return N5.fetchIndoorMapList(this.hostOptions_).then(function(V){var _e=V.features;return _e.length>0?_e.map(function(_i){var _s=_i.properties,_a=_s.placeProperties,Pa=_s.indoorMapId,Cc=Pa;if(B7.validateIsMicelloId(Pa)){var Kc=Pa.split("-").pop();Cc=parseInt(Kc.substring(Kc.length-Math.min(Kc.length,5)),10).toString()}return{mapIdentifier:Pa,mapName:j.getMapName(_a.names).name,mapId:Cc}}):[]}).catch(function(V){Promise.reject(new Error("".concat(V,": Error while fetching map list")))})}},{key:"getMapName",value:function(j){return Array.isArray(j)&&j.length>0?j.find(function(V){return V.nameType==="OFFICIAL"}):{}}}]);var $}(),qM=["origin","destination"],WM=function(){return F(function $(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(w(this,$),!j.apiKey&&!j.token)throw new Error("API key or Token is missing");this.config_=d({baseUrl:"https://meta-indoor-routing.api-gateway.ls.hereapi.com"},j)},[{key:"calculateRoute",value:function($){var j=$.origin,V=j===void 0?{}:j,_e=$.destination,_i=_e===void 0?{}:_e,_s=jc($,qM);if(!V.coordinates||!_i.coordinates)throw new Error("Waypoint coordinates are missing");var _a=function(Kc){var o1=Kc.coordinates,l1=Kc.venueId,s1=Kc.levelId,f1=o1.join(",");return l1&&s1?f1.concat(";indoorMapId=",l1,";levelId=",s1):f1},Pa=new URL("".concat(this.config_.baseUrl,"/v1/routes")),Cc=new URLSearchParams({origin:_a(V),destination:_a(_i),apiKey:this.config_.apiKey});return Object.entries(_s).forEach(function(Kc){var o1=e1(Kc,2),l1=o1[0],s1=o1[1];Cc.append(l1,g(s1)==="object"?JSON.stringify(s1):s1)}),Pa.search=Cc,fetch(Pa,{headers:{"X-Api-Key":this.config_.apiKey}}).then(function(Kc){return Kc.json()})}}])}(),w4={VENUE_DATA_LOADED:"VENUE_DATA_LOADED",VENUE_THEME_LOADED:"VENUE_THEME_LOADED",VENUE_ICONS_LOADED:"VENUE_ICONS_LOADED",VENUE_MOM_DATA_LOADED:"VENUE_MOM_DATA_LOADED",VENUE_ERROR_STATE:"VENUE_ERROR_STATE",VENUE_MAP_DATA_LOADED:"VENUE_MAP_DATA_LOADED",VENUE_ENTITY_DATA_LOADED:"VENUE_ENTITY_DATA_LOADED",VENUE_DATA_MODEL_LOADED:"VENUE_DATA_MODEL_LOADED",VENUE_NAV_DATA_LOADED:"VENUE_NAV_DATA_LOADED",META_DATA_LOADED:"META_DATA_LOADED",META_DATA_MODEL_LOADED:"META_DATA_MODEL_LOADED",META_DATA_MODEL_UPDATED:"META_DATA_MODEL_UPDATED"};Object.freeze(q(q(q(q(q(q(q(q(q({},w4.VENUE_DATA_LOADED,{description:"event fired when all requested files along with metadata & overrides are loaded",emitTemplate:{}}),w4.VENUE_MAP_DATA_LOADED,{description:"event fired when requested levels, drawings & community files are loaded",emitTemplate:{}}),w4.VENUE_ENTITY_DATA_LOADED,{description:"event fired when requested entity data is loaded",emitTemplate:{}}),w4.VENUE_DATA_MODEL_LOADED,{description:"event fired when a map file is loaded",emitTemplate:{}}),w4.VENUE_NAV_DATA_LOADED,{description:"event fired when requested navigation product is loaded",emitTemplate:{}}),w4.META_DATA_LOADED,{description:"event fired when all requested meta files are loaded except icon & marker",emitTemplate:{}}),w4.META_DATA_MODEL_LOADED,{description:"event fired when a specific model is loaded except icon & marker",emitTemplate:{}}),w4.META_DATA_MODEL_UPDATED,{description:"event fired when a specific meta override is added or removed",emitTemplate:{}}),w4.VENUE_ICONS_LOADED,{description:"event fired when all icons of venue are loaded",emitTemplate:{}}));var T_=new O1;T_.EVENT_NAME=w4,T_.on("newListener",function($){w4[$]||console.warn("subscribing for un-registered/documented event")});var x0=function($){function j(V){var _e;if(w(this,j),_e=r(this,j),!(V instanceof A_))throw new Error("It is mandatory to provide valid instance of venueModel");return _e.venueModel=V,_e.search_=new V2(V),_e.status_={activeDrawingId:V.getRootDrawing().getIdentifier(),activeLevelIndex:V.getRootDrawing().getMainLevel().getZIndex()},_e.mapObjectStore_=_e.getDefaultMapObjectsStore_(),_e.drawings=V.getDrawings().map(function(_i){var _s=new N1(_i);return _s.setParentEventTarget(_e),_s}),_e.levels=V.getLevels().map(function(_i){var _s=new k1(_i);return _s.setParentEventTarget(_e.drawings.find(function(_a){return _a.getIdentifier()===_s.getData().getDrawing().getIdentifier()})),_s}),_e.geometries=V.getGeometries().map(function(_i){var _s=new h1(_i);return _s.setParentEventTarget(_e.levels.find(function(_a){return _a.getIdentifier()===_s.getData().getLevel().getIdentifier()})),_s}),_e.mutualExclusiveHighlight_=!1,_e}return _r(j,H.map.Feature),F(j,[{key:"getData",value:function(){return this.venueModel}},{key:"getBoundingBox",value:function(){return o(H.geo.Rect,n1(this.venueModel.getBoundingBox()))}},{key:"getCenter",value:function(){var V=e1(this.venueModel.getCenter(),2),_e=V[0],_i=V[1];return new H.geo.Point(_i,_e)}},{key:"getId",value:function(){return this.venueModel.getId()}},{key:"getIdentifier",value:function(){return this.venueModel.getIdentifier()}},{key:"getName",value:function(){return this.venueModel.getName()}},{key:"getDrawing",value:function(V){return this.drawings.find(function(_e){return _e.getIdentifier()===V})}},{key:"getDrawings",value:function(){return this.drawings}},{key:"getLevel",value:function(V){return this.levels.find(function(_e){return _e.getIdentifier()===V})}},{key:"getLevels",value:function(){return this.levels}},{key:"getGeometry",value:function(V){return this.getGeometries().find(function(_e){return _e.getIdentifier()===V})}},{key:"getGeometries",value:function(){return this.geometries}},{key:"getActiveLevels",value:function(){var V=this;return this.getData().getDisplaySettings()===v4.FLATTEN?this.venueModel.getLevelsByZIndex(this.status_.activeLevelIndex).map(function(_e){return V.getLevel(_e.getIdentifier())}):[this.venueModel.getDrawingById(this.status_.activeDrawingId).getLevelByZIndex(this.status_.activeLevelIndex)].map(function(_e){return V.getLevel(_e.getIdentifier())})}},{key:"getActiveDrawing",value:function(){return this.getDrawing(this.status_.activeDrawingId)}},{key:"setActiveDrawing",value:function(V){if(this.status_.activeDrawingId!==V){var _e=this.venueModel.getDrawingById(V);if(!_e)throw new Error("Drawing ".concat(V," was not found"));var _i=this.status_.activeDrawingId;this.status_.activeDrawingId=_e.id,this.setActiveLevelIndex(_e.getMainLevel().getZIndex()),this.dispatchEvent(new H.util.ChangeEvent(j.EVENTS.DRAWING_CHANGE,V,_i))}}},{key:"getActiveLevelIndex",value:function(){return this.status_.activeLevelIndex}},{key:"setActiveLevelIndex",value:function(V){if(this.venueModel.getLevelsByZIndex(V)){var _e=this.status_.activeLevelIndex;this.status_.activeLevelIndex=V,this.dispatchEvent(new H.util.ChangeEvent(j.EVENTS.LEVEL_CHANGE,V,_e))}}},{key:"isActive",value:function(){var V=this.getParentEventTarget();return!!V&&this===V.activeVenue}},{key:"getHighlightedGeometries",value:function(){var V=this;return this.venueModel.getGeometries().filter(function(_e){return _e.isHighlighted()}).map(function(_e){return V.getGeometry(_e.getIdentifier())})}},{key:"setHighlightedGeometries",value:function(){var V=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],_e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],_i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},_s=arguments.length>3&&arguments[3]!==void 0&&arguments[3],_a=d(d({},Q6),_i),Pa=_a.fillColor,Cc=_a.outlineColor,Kc=_a.outlineWidth;this.mutualExclusiveHighlight_=!!_s,this.mutualExclusiveHighlight_&&this.getHighlightedGeometries().forEach(function(o1){o1.getData().highlight(!1)}),_e.forEach(function(o1){o1.getData().highlight(V,{m:Pa,o:Cc,w:Kc})}),this.dispatchEvent(j.EVENTS.GEOMETRY_HIGHLIGHT)}},{key:"getMapObjects",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getActiveLevelIndex(),_e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getActiveDrawing();return this.mapObjectStore_[V][_e.getIdentifier()]}},{key:"setMapObjects",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],_e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getActiveLevelIndex(),_i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getActiveDrawing();this.mapObjectStore_[_e]&&this.mapObjectStore_[_e][_i.getIdentifier()]&&(this.mapObjectStore_[_e][_i.getIdentifier()]=n1(V)),this.updateMapObjectsVisibility_()}},{key:"search",value:function(){var V=this,_e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.search_.find(_e).flatMap(function(_i){return _i.geometries.map(function(_s){return V.getGeometry(_s.id)})})}},{key:"updateMapObjectsVisibility_",value:function(){Object.values(this.mapObjectStore_).forEach(function(V){Object.values(V).forEach(function(_e){return _e.forEach(function(_i){return _i.setVisibility(!1)})})}),this.isActive()&&this.mapObjectStore_[this.getActiveLevelIndex()][this.getActiveDrawing().getIdentifier()].forEach(function(V){return V.setVisibility(!0)})}},{key:"getDefaultMapObjectsStore_",value:function(){var V=this,_e=this.getData().getDisplaySettings()===v4.FLATTEN;return this.venueModel.getLevels().reduce(function(_i,_s){var _a=_s.getZIndex(),Pa=d({},_i);return Pa[_a]||(Pa[_a]={}),Pa[_a][_s.getDrawing().getIdentifier()]=[],_e&&(Pa[_a][V.venueModel.getRootDrawing().getIdentifier()]=[]),Pa},{})}}])}();x0.EVENTS={ACTIVE_VENUE_CHANGE:"activevenuechange",DRAWING_CHANGE:"drawingchange",LEVEL_CHANGE:"levelchange",GEOMETRY_HIGHLIGHT:"geometryhighlight"};var V7=function(){return F(function $(){w(this,$)},null,[{key:"getIconLayer",value:function(){return{type:"FeatureCollection",features:(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).flatMap(function($){return $.getData().getGeometries()}).filter(function($){return $.isIcon()&&$.getIcon()}).map(function($){var j=e1($.getLabelArea(),2),V=j[0],_e=j[1],_i=$.getLevel(),_s=$.getIcon(),_a=$.properties.spaceType||$.properties.spaceCategory||$.getDisplayName();return{type:"Feature",properties:{id:$.getIdentifier(),geometryId:$.getIdentifier(),levelId:_i.getIdentifier(),name:_a,venueId:_i.getDrawing().getVenueModel().getIdentifier(),url:_s?"data:image/svg+xml;utf8,".concat(encodeURIComponent(_s)):""},geometry:{type:t3,coordinates:[V,_e]}}})}}},{key:"getLabelLayer",value:function(){return{type:"FeatureCollection",features:(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).flatMap(function($){return $.getData().getGeometries()}).filter(function($){return $.getDisplayName()&&!$.isIcon()}).map(function($){var j=e1($.getLabelArea(),2),V=j[0],_e=j[1],_i=$.getLabelStyle(),_s=_i.fill,_a=_i.zmin,Pa=$.getLevel();return{type:"Feature",properties:{id:$.getIdentifier(),geometryId:$.getIdentifier(),levelId:Pa.getIdentifier(),venueId:Pa.getDrawing().getVenueModel().getIdentifier(),name:$.getDisplayName(),minZoom:_a||15,textFillColor:_s.toLowerCase()},geometry:{type:t3,coordinates:[V,_e]}}})}}},{key:"getGeometryLayer",value:function(){return{type:"FeatureCollection",features:(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).flatMap(function($){return $.getData().getGeometries()}).filter(function($){return $.getType()!==t3}).map(function($){var j=$.getHighlightedStyle()||{},V=j.m,_e=j.o,_i=j.w,_s=d({},$.getStyle()),_a=_s.m,Pa=_s.o,Cc=_s.w,Kc=b3,o1=Kc.fillColor,l1=Kc.outlineColor,s1=Kc.outlineWidth,f1=$.getLevel();return{type:"Feature",properties:{id:$.getIdentifier(),fillColor:(V||_a||o1).toLowerCase(),geometryId:$.getIdentifier(),levelId:f1.getIdentifier(),venueId:f1.getDrawing().getVenueModel().getIdentifier(),outlineColor:(_e||Pa||l1).toLowerCase(),outlineWidth:Number(((_i||Cc||s1)/3).toFixed(2)),zIndex:$.getZIndex()},geometry:{type:$.getType(),coordinates:$.getCoordinates()}}})}}},{key:"getFootprintLayer",value:function($){return{type:"FeatureCollection",features:$.flatMap(function(j){return j.getData().getLevels().map(function(V){var _e=V.getIdentifier(),_i=j.getLevel(_e).getData().levelData.geometry;return{type:"Feature",properties:{isFootprint:!0,levelId:_e,venueId:j.getIdentifier(),zIndex:1},geometry:{type:"MultiPolygon",coordinates:_i.coordinates}}})})}}}])}(),YM=function(){return F(function $(){w(this,$)},null,[{key:"getStyle",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],V={styles:[{dataLayer:F0.FOOTPRINT,when:["==",["geometry-type"],"Polygon"],technique:"solid-line",color:"#4E5663",width:["interpolate",["linear"],["zoom"],0,"1px",6,"1px",7,"2px",18,"2px",19,"4px",24,"4px"],renderOrder:1},{dataLayer:F0.FOOTPRINT,when:["==",["geometry-type"],"Point"],technique:"text",color:"black",size:16,text:["get","venueName"],priority:61},{dataLayer:F0.VECTOR,when:["==",["geometry-type"],"Polygon"],technique:"polygon",color:["get","fillColor"],renderOrder:["get","zIndex"]},{dataLayer:F0.VECTOR,technique:"solid-line",color:["get","outlineColor"],width:["get","outlineWidth"],renderOrder:["get","zIndex"]},{dataLayer:F0.TEXT,minZoomLevel:["get","minZoom"],technique:"text",color:["get","textFillColor"],size:_p.size,text:["get","name"],priority:60},{dataLayer:F0.ICON,minZoomLevel:J6,when:["==",["geometry-type"],"Point"],technique:"labeled-icon",textIsOptional:!0,size:0,text:["get","name"],imageTexture:["concat","texture",["get","name"]],screenWidth:["interpolate",["linear"],["zoom"],15,3,21,70],screenHeight:["interpolate",["linear"],["zoom"],15,3,21,70],priority:61}],images:{},imageTextures:[]};return $.forEach(function(_e){var _i="texture"+_e.properties.name;V.images[_i]||(V.images[_i]={url:_e.properties.url,preload:!0},V.imageTextures.push({name:_i,image:_i}))}),j.forEach(function(_e){var _i,_s=_e.getData().getHighlightedStyle(),_a=_s.m,Pa=_s.o,Cc=_s.w;(_i=V.styles).push.apply(_i,[{dataLayer:F0.VECTOR,when:["==",["get","id"],_e.id],technique:"polygon",color:_a,renderOrder:["get","zIndex"]},{dataLayer:F0.VECTOR,when:["==",["get","id"],_e.id],technique:"solid-line",color:Pa,width:Cc,renderOrder:["get","zIndex"]}])}),new H.map.render.harp.Style(V)}}])}(),ZM=function(){function $(){w(this,$)}return F($,null,[{key:"getIconsTextures",value:function(){var j={},V={},_e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).reduce(function(_i,_s){var _a=_s.properties.name;return _i[_a]||(_i[_a]=[]),_i[_a].push(_s),_i},{});return Object.keys(_e).forEach(function(_i){var _s="texture".concat(_i),_a="sprite".concat(_i),Pa=_e[_i][0].properties.url;j[_s]={url:Pa,sprites:q({},_a,[0,0,50,50])},_e[_i].forEach(function(Cc){var Kc=Cc.properties;V["icon".concat(Kc.name)]={filter:{name:Kc.name,$zoom:{min:J6}},draw:{points:{interactive:!0,priority:1,size:[[15,"50%"],[16,"55%"],[17,"60%"],[18,"65%"],[19,"75%"],[20,"80%"],[21,"100%"]],texture:_s,sprite:_a}}}})}),{textures:j,iconLayers:V}}},{key:"getFootprintLayer",value:function(){return{data:{source:"venues",layer:F0.FOOTPRINT},draw:{lines:{color:"#4E5663",width:[[0,"1px"],[6,"1px"],[7,"2px"],[18,"2px"],[19,"4px"],[24,"4px"]],order:1},points:{color:"[0, 0, 0, 0]",size:"0px",order:3,priority:1,text:{anchor:"center",collide:!1,font:{fill:"black",size:"16px"},text_source:"function() { return feature.venueName }"}}}}}},{key:"getGeometryLayer",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],V={};if(j.length){var _e=j[0].getData().getHighlightedStyle(),_i=_e.m,_s=_e.o,_a=_e.w;V={filter:{id:j.map(function(Pa){return Pa.id})},draw:{polygons:{interactive:!0,color:_i},lines:{color:_s,width:_a}}}}return{data:{source:"venues",layer:F0.VECTOR},draw:{polygons:{interactive:!0,color:"function() { return feature.fillColor }",order:"function() { return feature.zIndex }"},lines:{color:"function() { return feature.outlineColor }",order:"function() { return feature.zIndex }",width:"function() { return feature.outlineWidth }"}},highlighted:V}}},{key:"getTextLayer",value:function(){return{filter:{$zoom:{min:b0}},data:{source:"venues",layer:F0.TEXT},draw:{points:{filter:"function() { return $zoom > feature.minZoom }",color:"[0, 0, 0, 0]",size:"0px",offset:["0px","-10px"],priority:2,text:{font:{fill:"function() { return feature.textFillColor }",size:_p.size},text_source:"function() { return feature.name }"}}}}}},{key:"getIconLayer",value:function(j){return d({data:{source:"venues",layer:F0.ICON}},j)}},{key:"getStyle",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],_e=$.getIconsTextures(j),_i=_e.textures,_s=_e.iconLayers,_a={venue_footprints:$.getFootprintLayer(),venue_geometries:$.getGeometryLayer(V),venue_labels:$.getTextLayer(),venue_icons:$.getIconLayer(_s)},Pa=H.gl.yaml.dump({sources:{venues:{max_zoom:T5,type:"GeoJSONTileSource"}},layers:_a,textures:_i});return new H.map.render.webgl.Style(Pa)}}])}(),KM={type:"FeatureCollection",features:[]},S9={extent:4096,indexMaxZoom:0,maxZoom:24,tolerance:3},XM=function($){function j(V){var _e;return w(this,j),(_e=r(this,j,[V])).venues=[],_e.activeVenue=null,_e.dataLayers_={},_e.tileIndexes_={},_e.addEventListener(x0.EVENTS.ACTIVE_VENUE_CHANGE,_e.activeVenueChangeHandler_,void 0,_e),_e}return _r(j,H.map.provider.RemoteTileProvider),F(j,[{key:"setStyle",value:function(V){return this.setStyleInternal(V)}},{key:"getStyle",value:function(){return this.getStyleInternal()}},{key:"isFeatureVisible_",value:function(V){var _e=V.properties;return!!this.activeVenue.getActiveLevels().some(function(_i){return _i.id===_e.levelId})}},{key:"requestInternal",value:function(V,_e,_i,_s){var _a=this,Pa=function(Kc){for(var o1=0;o1<Kc.length;o1+=1)Kc[o1]=Kc[o1].map(function(l1){return P4(l1,_i,V,_e,S9.extent)})},Cc={};return Object.keys(this.tileIndexes_).forEach(function(Kc){var o1=_a.tileIndexes_[Kc].getTile(_i,V,_e);Cc[Kc]=o1?function(_1){var F1=[],Y1=_1&&_1.features;if(Y1)for(var Q1=0,_2=Y1.length;Q1<_2;Q1+=1){var f2=Y1[Q1],b2=f2.type,t2=void 0,h2=!1;switch(b2){case a4:t2={type:p4,coordinates:f2.geometry.map(function(o2){return o2.slice()})};break;case Y3:case R4:t2={type:n3,coordinates:f2.geometry.map(function(o2){return o2.map(function(c0){return c0.slice()})})},b2===R4&&(t2=T1(t2))==null&&(h2=!0);break;default:h2=!0}h2||F1.push({geometry:t2,id:f2.id,properties:f2.tags,type:"Feature"})}return{type:"FeatureCollection",features:F1}}(o1):KM,Cc[Kc].features=Cc[Kc].features.filter(function(_1){return _a.isFeatureVisible_(_1)});for(var l1=0;l1<Cc[Kc].features.length;l1+=1){var s1=Cc[Kc].features[l1],f1=s1.geometry.type;if(f1===E3||f1===n3)Pa(s1.geometry.coordinates);else if(f1===F8)s1.geometry.coordinates.map(Pa);else for(var u1=s1.geometry.coordinates,m1=0;m1<u1.length;m1+=1)u1[m1]=P4(u1[m1],_i,V,_e,S9.extent)}}),_s(Cc),{cancel:function(){}}}},{key:"getActiveVenue",value:function(){return this.activeVenue}},{key:"getVenue",value:function(V){return V?this.venues.find(function(_e){return _e.getIdentifier()===V}):this.activeVenue}},{key:"setActiveVenue",value:function(V){var _e=this.activeVenue;this.activeVenue=V,this.dispatchEvent(new H.util.ChangeEvent(x0.EVENTS.ACTIVE_VENUE_CHANGE,V,_e)),this.reload()}},{key:"addVenue",value:function(V){var _e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!(V instanceof x0))throw new Error("Invalid argument");var _i=V.getIdentifier();if(this.getVenue(_i))throw new Error("Please invoke provider.removeVenue to remove old instance of venue ".concat(_i," before adding new"));V.setParentEventTarget(this),this.venues.push(V),_e||(this.reloadData_(),this.reloadStyle_())}},{key:"addVenues",value:function(){var V=this,_e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];_e.length>0&&(_e.forEach(function(_i){_i instanceof x0&&V.addVenue(_i,!0)}),this.reloadData_(),this.reloadStyle_())}},{key:"removeVenue",value:function(V){if(V instanceof x0&&this.venues.indexOf(V)>-1){var _e=V.getIdentifier();this.activeVenue&&this.activeVenue.getIdentifier()===_e&&this.setActiveVenue(null),this.venues.splice(this.venues.indexOf(V),1),this.reloadData_(),this.reloadStyle_(),this.reload()}}},{key:"getFeatureProxy",value:function(V,_e,_i){var _s=V.geometryId,_a=V.venueId,Pa=this.getVenue(_a);return _s?_i(Pa.getGeometries().find(function(Cc){return Cc.id===_s})):Pa&&_i(Pa),!0}},{key:"addVenueEventListeners_",value:function(V){V&&(V.addEventListener(x0.EVENTS.GEOMETRY_HIGHLIGHT,this.geometryHighlightHandler_,void 0,this),V.addEventListener(x0.EVENTS.LEVEL_CHANGE,this.levelChangeHandler_,void 0,this),V.addEventListener(x0.EVENTS.DRAWING_CHANGE,this.drawingChangeHandler_,void 0,this))}},{key:"removeVenueEventListeners_",value:function(V){V&&(V.removeEventListener(x0.EVENTS.GEOMETRY_HIGHLIGHT,this.geometryHighlightHandler_,void 0,this),V.removeEventListener(x0.EVENTS.LEVEL_CHANGE,this.levelChangeHandler_,void 0,this),V.removeEventListener(x0.EVENTS.DRAWING_CHANGE,this.drawingChangeHandler_,void 0,this))}},{key:"activeVenueChangeHandler_",value:function(V){var _e=V.oldValue,_i=V.newValue;_e&&(this.removeVenueEventListeners_(_e),_e.updateMapObjectsVisibility_()),_i&&(this.addVenueEventListeners_(_i),_i.updateMapObjectsVisibility_())}},{key:"drawingChangeHandler_",value:function(){this.reload()}},{key:"levelChangeHandler_",value:function(){this.activeVenue&&(this.activeVenue.updateMapObjectsVisibility_(),this.reload())}},{key:"geometryHighlightHandler_",value:function(){this.reloadStyle_(this.activeVenue.getHighlightedGeometries())}},{key:"createDataLayers_",value:function(){var V=this,_e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Object.keys(F0),_i=F0.FOOTPRINT,_s=F0.ICON,_a=F0.TEXT,Pa=F0.VECTOR;_e.forEach(function(Cc){switch(Cc){case Pa:V.dataLayers_[Pa]=V7.getGeometryLayer(V.venues);break;case _i:V.dataLayers_[_i]=V7.getFootprintLayer(V.venues);break;case _s:V.dataLayers_[_s]=V7.getIconLayer(V.venues);break;case _a:V.dataLayers_[_a]=V7.getLabelLayer(V.venues);break;default:throw new Error("Unsupported Layer ".concat(Cc))}})}},{key:"createTileIndexes_",value:function(){var V=this;(arguments.length>0&&arguments[0]!==void 0?arguments[0]:Object.keys(F0)).forEach(function(_e){V.tileIndexes_[_e]=new O3(V.dataLayers_[_e],S9)})}},{key:"reloadData_",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Object.keys(F0);this.createDataLayers_(V),this.createTileIndexes_(V)}},{key:"reloadStyle_",value:function(V){var _e=this.dataLayers_[F0.ICON]?this.dataLayers_[F0.ICON].features:[];this.getEngineType()===H.Map.EngineType.WEBGL?this.setStyle(ZM.getStyle(_e,V)):this.getEngineType()===H.Map.EngineType.HARP&&this.setStyle(YM.getStyle(_e,V))}},{key:"providesGeoJSON",value:function(){return!0}}])}(),QM=new H.map.SpatialStyle({strokeColor:"#1ab4bf",lineWidth:3}),L9=new H.map.SpatialStyle({strokeColor:"#1ab4bf",lineWidth:3}),A9=new H.map.Icon("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI1MCIgdmlld0JveD0iMCAwIDQwIDUwIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImIiIGQ9Ik0zNC4yNSAzMS42NTJBMTkuMDE1IDE5LjAxNSAwIDAgMCAzOSAxOS4wNkMzOSA4LjU0OSAzMC40NzggMCAyMCAwUzEgOC41NSAxIDE5LjA1OWMwIDQuODIzIDEuNzk1IDkuMjMzIDQuNzUgMTIuNTkzTDE5Ljk3NSA0NiAzNC4yNSAzMS42NTJ6Ii8+PHBhdGggaWQ9ImEiIGQ9Ik0zNC4yNSAzMS42NTJBMTkuMDE1IDE5LjAxNSAwIDAgMCAzOSAxOS4wNkMzOSA4LjU0OSAzMC40NzggMCAyMCAwUzEgOC41NSAxIDE5LjA1OWMwIDQuODIzIDEuNzk1IDkuMjMzIDQuNzUgMTIuNTkzTDE5Ljk3NSA0NiAzNC4yNSAzMS42NTJ6Ii8+PG1hc2sgaWQ9ImMiIHdpZHRoPSIzOCIgaGVpZ2h0PSI0NiIgeD0iMCIgeT0iMCIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48ZWxsaXBzZSBjeD0iMjAiIGN5PSI0NS4xNiIgZmlsbD0iI0ZGRiIgc3Ryb2tlPSIjOTc5Nzk3IiBzdHJva2Utd2lkdGg9Ii4yNSIgcng9IjMuNSIgcnk9IjMuNSIvPjx1c2UgZmlsbD0iIzAxQjZCMiIgeGxpbms6aHJlZj0iI2IiLz48cGF0aCBmaWxsPSIjMzIzMjMyIiBmaWxsLW9wYWNpdHk9Ii41IiBkPSJNMTEuODEgMzcuNjZoMTYuMzhsLTguMiA4eiIvPjx1c2Ugc3Ryb2tlPSIjNDE2QTg2IiBzdHJva2Utd2lkdGg9Ii41IiBtYXNrPSJ1cmwoI2MpIiB4bGluazpocmVmPSIjYSIvPjxlbGxpcHNlIGN4PSIxOS44MSIgY3k9IjE5LjE5IiBmaWxsPSIjRkZGIiByeD0iNC44MSIgcnk9IjQuODEiLz48L2c+PC9zdmc+"),JM=new H.map.Icon("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI1MCIgdmlld0JveD0iMCAwIDQwIDUwIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0zNC4yNSAzMS42NTJBMTkuMDE1IDE5LjAxNSAwIDAgMCAzOSAxOS4wNkMzOSA4LjU0OSAzMC40NzggMCAyMCAwUzEgOC41NSAxIDE5LjA1OWMwIDQuODIzIDEuNzk1IDkuMjMzIDQuNzUgMTIuNTkzTDE5Ljk3NSA0NiAzMi44MyAzMy4xMDRjLjQwNy0uMzc0IDEuNDE5LTEuNDUyIDEuNDE5LTEuNDUyeiIvPjxtYXNrIGlkPSJjIiB3aWR0aD0iMzgiIGhlaWdodD0iNDYiIHg9IjAiIHk9IjAiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PGVsbGlwc2UgaWQ9ImIiIGN4PSIxOS44MDciIGN5PSIxOS4xNjgiIHJ4PSIxMi4zNjMiIHJ5PSIxMi4xOTciLz48bWFzayBpZD0iZCIgd2lkdGg9IjI1LjcyNSIgaGVpZ2h0PSIyNS4zOTQiIHg9Ii0uNSIgeT0iLS41Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNNi45NDQgNi40NzFoMjUuNzI1djI1LjM5NEg2Ljk0NHoiLz48dXNlIHhsaW5rOmhyZWY9IiNiIi8+PC9tYXNrPjwvZGVmcz48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxlbGxpcHNlIGN4PSIyMCIgY3k9IjQ1LjE2IiBmaWxsPSIjRkZGIiBzdHJva2U9IiM5Nzk3OTciIHN0cm9rZS13aWR0aD0iLjI1IiByeD0iMy41IiByeT0iMy41Ii8+PHVzZSBmaWxsPSIjMzIzMjMyIiB4bGluazpocmVmPSIjYSIvPjxwYXRoIGZpbGw9IiM3RDdEN0QiIGQ9Ik0xMi4wMTEgMzcuODA1aDE1Ljk3OGwtNy45MTYgOHoiLz48dXNlIHN0cm9rZT0iIzdDN0M3QyIgc3Ryb2tlLXdpZHRoPSIuNSIgbWFzaz0idXJsKCNlKSIgeGxpbms6aHJlZj0iI2EiLz48dXNlIHN0cm9rZT0iI0ZGRiIgc3Ryb2tlLXdpZHRoPSIuNSIgbWFzaz0idXJsKCNjKSIgeGxpbms6aHJlZj0iI2EiLz48ZWxsaXBzZSBmaWxsPSIjRkZGIiBjeD0iMTkuODA3IiBjeT0iMTkuMTY4IiByeD0iMTIuMzYzIiByeT0iMTIuMTk3Ii8+PHBhdGggZmlsbD0iIzMyMzIzMiIgZD0iTTYuODEyIDYuOTQ4aDYuNDV2Ni4zNjRoLTYuNDV6bTAgMTIuNzI3aDYuNDV2Ni4zNjRoLTYuNDV6bTYuNDUtNi4zNjNoNi40NXY2LjM2NGgtNi40NXptMCAxMi43MjdoNi40NXY2LjM2NGgtNi40NXptNi40NS0xOS4wOTFoNi40NXY2LjM2NGgtNi40NXptMCAxMi43MjdoNi40NXY2LjM2NGgtNi40NXptNi40NS02LjM2M2g2LjQ1djYuMzY0aC02LjQ1em0wIDEyLjcyN2g2LjQ1djYuMzY0aC02LjQ1eiIvPjx1c2Ugc3Ryb2tlPSIjRkZGIiBtYXNrPSJ1cmwoI2QpIiB4bGluazpocmVmPSIjYiIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIvPjwvZz48L3N2Zz4="),D_=function($,j,V){return V===z5.ObjectType.SEGMENT_START_MARKER?$===0?A9:null:V===z5.ObjectType.SEGMENT_FINISH_MARKER?j.length===1||$===j.length-1?JM:null:j[$].departure.place.type==="indoor"?QM:L9},z5=function(){function $(j,V){w(this,$),this.indoorMapObjects_=null,this.outdoorMapObjects_=null,this.createRouteObjects_(j,V)}return F($,[{key:"createRouteObjects_",value:function(j){var V=this,_e=j.sections,_i=_e===void 0?[]:_e,_s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:D_;this.indoorMapObjects_={},this.outdoorMapObjects_=new H.map.Group;for(var _a=function(){var Cc,Kc,o1=_i[Pa],l1=o1.departure.place,s1=l1.id,f1=l1.type,u1=H.util.flexiblePolyline.decode(o1.polyline).polyline,m1=_s(Pa,_i,$.ObjectType.SEGMENT_START_MARKER);m1&&(Cc=new H.map.Marker(o1.departure.place.location,{icon:m1}));var _1=_s(Pa,_i,$.ObjectType.SEGMENT_FINISH_MARKER);_1&&(Kc=new H.map.Marker(o1.arrival.place.location,{icon:_1}));var F1=_s(Pa,_i,$.ObjectType.SEGMENT_POLYLINE);if(f1==="indoor"){var Y1=function(){var b2=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t2=new Map,h2=new H.geo.LineString,o2=e1(b2[0],3)[2];return t2.set(o2,[h2]),b2.forEach(function(c0){var T0;c0[2]!==o2&&(o2=c0[2],h2=new H.geo.LineString,t2.has(o2)?t2.get(o2).push(h2):t2.set(o2,[h2])),(T0=h2).pushLatLngAlt.apply(T0,n1(c0))}),t2}(u1),Q1=Array.from(Y1.keys()).reduce(function(b2,t2){return b2[t2]||(b2[t2]=new H.map.Group),b2},{});F1&&Y1.forEach(function(b2,t2){b2.forEach(function(h2){if(h2.getPointCount()>1){var o2=new H.map.Polyline(h2,{style:F1});Q1[t2].addObject(o2)}})}),Cc&&Q1[o1.departure.place.location.lvl].addObject(Cc),Kc&&Q1[o1.arrival.place.location.lvl].addObject(Kc),V.indoorMapObjects_[s1]=d(d({},V.indoorMapObjects_[s1]||{}),Q1)}else{if(F1){var _2=new H.geo.LineString(u1.flatMap(function(b2){return[b2[0],b2[1],0]})),f2=new H.map.Polyline(_2,{style:F1});V.outdoorMapObjects_.addObject(f2)}Cc&&V.outdoorMapObjects_.addObject(Cc),Kc&&V.outdoorMapObjects_.addObject(Kc)}},Pa=0;Pa<_i.length;Pa++)_a()}},{key:"getIndoorObjects",value:function(){return this.indoorMapObjects_}},{key:"getOutdoorObjects",value:function(){return this.outdoorMapObjects_}}])}();z5.ObjectType={SEGMENT_START_MARKER:1,SEGMENT_FINISH_MARKER:2,SEGMENT_POLYLINE:3};var k9=function($){function j(V){var _e;w(this,j),_e=r(this,j,[j,d(d({},V),{},{baseUrl:void 0})]);var _i={apiKey:V.apikey,baseUrl:V.baseUrl,token:V.token},_s={apiKey:_i.apiKey,token:_i.token};_i.apiKey||(_i.apiKey=_e.getUrl().getQuery().apikey);var _a=V.useLegacy||!1;return _e.venueService_=new k_(_i,_a),_s.apiKey||(_s.apiKey=_e.getUrl().getQuery().apikey),V.routingBaseUrl&&(_s.baseUrl=V.routingBaseUrl),_e.routingService_=new WM(_s),_e}return _r(j,H.service.Service),F(j,[{key:"loadVenue",value:function(V){return console.warn("Venue service version 1 is no longer supported hence "+V+" could not be loaded"),Promise.resolve()}},{key:"calculateRoute",value:function(V){return console.warn("HERE Indoor Routing is deprecated and will be removed soon."),this.routingService_.calculateRoute(V)}}])}();k9.CONFIG_KEY="venues";var U7=function($){function j(V){var _e;w(this,j),_e=r(this,j,[j,d(d({},V),{},{baseUrl:void 0})]);var _i={apiKey:V.apikey,baseUrl:V.baseUrl,token:V.token,hrn:V.hrn};_i.apiKey||(_i.apiKey=_e.getUrl().getQuery().apikey);var _s=V.useLegacy||!1;return _e.venueService_=new k_(_i,_s),_e}return _r(j,H.service.Service),F(j,[{key:"loadVenue",value:function(V){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.venueService_.load(V,_e).then(function(_i){return new x0(_i)})}},{key:"getMapInfoList",value:function(){return this.venueService_.getSupportedMapList()}}])}();U7.CONFIG_KEY="indoorMaps",H.service.Platform.prototype.getVenuesService=function($,j){var V=U7;return j!==1&&j?j!==S0.v2||$.token||($.hrn?$.apikey||console.error("Venue Service version 2 requires either apikey or token"):console.error("Token is mandatory when Hrn is not provided in Venue Service version 2")):(console.warn("Venue service version 1 is no longer supported"),V=k9),this.createService(V,$)},U7.LABEL_TEXT_PREFERENCE_OVERRIDE={OCCUPANT_NAMES:"OCCUPANT_NAMES",SPACE_NAME:"SPACE_NAME",SPACE_TYPE_NAME:"SPACE_TYPE_NAME",SPACE_CATEGORY_NAME:"SPACE_CATEGORY_NAME",INTERNAL_ADDRESS:"INTERNAL_ADDRESS"};var eE=function($){function j(V){var _e,_i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return w(this,j),(_e=r(this,j)).provider_=null,_e.levelSelectorUI_=null,_e.setAlignment(_i&&_i.alignment||H.ui.LayoutAlignment.RIGHT_BOTTOM),_e.addClass("venues-ui"),V instanceof x0&&_e.setVenue(V),_e}return _r(j,H.ui.Control),F(j,[{key:"renderInternal",value:function(V,_e){_l(ga(j.prototype),"renderInternal",this).call(this,V,_e),this.createLevelSelectorUI_(V),this.venue&&this.setVenue(this.venue)}},{key:"setVenue",value:function(V){V instanceof x0&&(this.removeEventListeners_(),this.venue=V,this.provider_=V.getParentEventTarget(),this.update_(),this.addEventListeners_())}},{key:"createLevelSelectorUI_",value:function(V){var _e=this;V.innerHTML="",this.levelSelectorUI_=null,this.levelSelectorUI_=new F7(V,null,null,function(_i){return _e.venue.setActiveLevelIndex(_i)})}},{key:"update_",value:function(){if(this.levelSelectorUI_){var V=this.venue.getActiveDrawing().getData(),_e=this.venue.getData().getDisplaySettings();this.levelSelectorUI_.update(V,_e),this.levelChangeHandler_()}}},{key:"addEventListeners_",value:function(){this.venue&&(this.venue.addEventListener(x0.EVENTS.LEVEL_CHANGE,this.levelChangeHandler_,void 0,this),this.venue.addEventListener(x0.EVENTS.DRAWING_CHANGE,this.drawingChangeHandler_,void 0,this)),this.provider_&&this.provider_.addEventListener(x0.EVENTS.ACTIVE_VENUE_CHANGE,this.activeVenueChangeHandler_,void 0,this)}},{key:"removeEventListeners_",value:function(){this.venue&&(this.venue.removeEventListener(x0.EVENTS.LEVEL_CHANGE,this.levelChangeHandler_,void 0,this),this.venue.removeEventListener(x0.EVENTS.DRAWING_CHANGE,this.drawingChangeHandler_,void 0,this)),this.provider_&&this.provider_.removeEventListener(x0.EVENTS.ACTIVE_VENUE_CHANGE,this.activeVenueChangeHandler_,void 0,this)}},{key:"levelChangeHandler_",value:function(){this.levelSelectorUI_.switch(this.venue.getActiveLevelIndex())}},{key:"drawingChangeHandler_",value:function(){this.update_()}},{key:"activeVenueChangeHandler_",value:function(V){this.setVenue(V.newValue)}}])}(),tE=function($){function j(V){var _e,_i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return w(this,j),(_e=r(this,j)).provider_=null,_e.drawingSelectorUI_=null,_e.addClass("venues-ui"),_e.setAlignment(_i&&_i.alignment||H.ui.LayoutAlignment.RIGHT_BOTTOM),V instanceof x0&&_e.setVenue(V),_e}return _r(j,H.ui.Control),F(j,[{key:"renderInternal",value:function(V,_e){_l(ga(j.prototype),"renderInternal",this).call(this,V,_e),this.createDrawingSelectorUI_(V),this.venue&&this.setVenue(this.venue)}},{key:"setVenue",value:function(V){V instanceof x0&&(this.removeEventListeners_(),this.venue=V,this.provider_=V.getParentEventTarget(),this.drawingSelectorUI_&&this.drawingSelectorUI_.update(V.getData()),this.addEventListeners_())}},{key:"createDrawingSelectorUI_",value:function(V){var _e=this;V.innerHTML="",this.drawingSelectorUI_=null,this.drawingSelectorUI_=new VM(V,null,function(_i){return _e.venue.setActiveDrawing(_i)})}},{key:"addEventListeners_",value:function(){this.venue&&this.venue.addEventListener(x0.EVENTS.DRAWING_CHANGE,this.drawingChangeHandler_,void 0,this),this.provider_&&this.provider_.addEventListener(x0.EVENTS.ACTIVE_VENUE_CHANGE,this.activeVenueChangeHandler_,void 0,this)}},{key:"removeEventListeners_",value:function(){this.venue&&this.venue.removeEventListener(x0.EVENTS.DRAWING_CHANGE,this.drawingChangeHandler_,void 0,this),this.provider_&&this.provider_.removeEventListener(x0.EVENTS.ACTIVE_VENUE_CHANGE,this.activeVenueChangeHandler_,void 0,this)}},{key:"drawingChangeHandler_",value:function(){this.drawingSelectorUI_.switch(this.venue.getActiveDrawing().id)}},{key:"activeVenueChangeHandler_",value:function(V){this.setVenue(V.newValue)}}])}(),I_=Object.freeze({__proto__:null,DrawingControl:tE,LevelControl:eE});return n(`.venues-ui * {
  font-family: "Fira Sans", "Helvetica Neue", Helvetica, sans-serif;
  color: #0F1621;
}
.venues-ui .arrow {
  display: block;
  width: 100%;
  height: 100%;
  background-repeat: no-repeat;
  background-position: center;
}
.venues-ui .arrow--up {
  background-image: url("data:image/svg+xml,%0A%3Csvg width='13px' height='9px' viewBox='0 0 13 9' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cg id='VenueMap_Facilities_Detail' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='Floorplan-Switcher' transform='translate(-426.000000, -584.000000)' fill='%23383C45'%3E%3Cg id='Map-Controls-Copy' transform='translate(417.753906, 572.000000)'%3E%3Cg id='Chevron,-Dark' transform='translate(15.000000, 16.499023) rotate(-180.000000) translate(-15.000000, -16.499023) translate(9.000000, 12.749023)'%3E%3Cpath d='M6.0105,7.5 L4.1895,5.76404817 L0.1695,1.90510321 C0.057,1.79759174 0,1.68291284 0,1.56106651 C0,1.44065367 0.057,1.32597477 0.1695,1.2184633 L1.2465,0.16771789 C1.347,0.0587729358 1.47,0.00430045872 1.617,0.00430045872 C1.764,0.00430045872 1.887,0.0587729358 1.986,0.166284404 L6.009,3.98365826 L10.023,0.161983945 C10.122,0.0530389908 10.236,0 10.3695,0 C10.503,0 10.62,0.0530389908 10.7205,0.161983945 L11.841,1.21129587 C12.0525,1.43922018 12.0525,1.67144495 11.8425,1.89793578 L7.827,5.76118119 L6.0105,7.5 Z' id='Fill-3'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
}
.venues-ui .arrow--down {
  background-image: url("data:image/svg+xml,%0A%3Csvg width='13px' height='9px' viewBox='0 0 13 9' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cg id='VenueMap_Facilities_Detail' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='Floorplan-Switcher' transform='translate(-347.000000, -704.000000)' fill='%23383C45'%3E%3Cg id='Map-Controls' transform='translate(338.251953, 572.000000)'%3E%3Cg id='Chevron,-Dark' transform='translate(9.000000, 132.746094)'%3E%3Cpath d='M6.0105,7.5 L4.1895,5.76404817 L0.1695,1.90510321 C0.057,1.79759174 0,1.68291284 0,1.56106651 C0,1.44065367 0.057,1.32597477 0.1695,1.2184633 L1.2465,0.16771789 C1.347,0.0587729358 1.47,0.00430045872 1.617,0.00430045872 C1.764,0.00430045872 1.887,0.0587729358 1.986,0.166284404 L6.009,3.98365826 L10.023,0.161983945 C10.122,0.0530389908 10.236,0 10.3695,0 C10.503,0 10.62,0.0530389908 10.7205,0.161983945 L11.841,1.21129587 C12.0525,1.43922018 12.0525,1.67144495 11.8425,1.89793578 L7.827,5.76118119 L6.0105,7.5 Z' id='Fill-3'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
}
.venues-ui .venues-ui-button {
  display: block;
  width: 40px;
  height: 40px;
  line-height: 40px;
  font-size: 16px;
  font-weight: 600;
  background-color: #fff;
  border: none;
  border-bottom: 1px solid #9FA2A6;
  cursor: pointer;
  overflow: hidden;
  color: #6e737a;
  text-align: center;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.venues-ui .venues-ui-button:hover, .venues-ui .venues-ui-button--active {
  background-color: #f0f0f0;
  color: #0F1621;
}
@keyframes fade {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}
.venues-ui__drawings .drawings {
  position: absolute;
  top: 0;
  right: 45px;
  display: none;
  opacity: 0;
  border-radius: 5px;
  box-shadow: 0 0 0.4em 0 rgba(15, 22, 33, 0.6);
}
.venues-ui__drawings .drawings--open {
  display: block;
  opacity: 1;
  animation: fade 1s;
  overflow-y: auto;
  max-height: 250px;
}
.venues-ui__drawings .drawings .venues-ui-button {
  width: auto;
  padding: 0 10px;
}
.venues-ui__drawings .drawings .venues-ui-button:first-of-type {
  border-top-left-radius: 5px;
  border-top-right-radius: 5px;
}
.venues-ui__drawings .drawings .venues-ui-button:last-of-type {
  border-bottom-left-radius: 5px;
  border-bottom-right-radius: 5px;
}
.venues-ui__drawings .trigger {
  border-radius: 5px;
  box-shadow: 0 0 0.4em 0 rgba(15, 22, 33, 0.6);
}
.venues-ui__drawings .trigger .arrow {
  transform: rotate(0);
  transition: 0.4s;
}
.venues-ui__drawings .trigger.venues-ui-button--active .arrow {
  transform: rotate(90deg);
  transition: 0.4s;
}
.venues-ui__levels {
  border-radius: 5px;
  box-shadow: 0 0 0.4em 0 rgba(15, 22, 33, 0.6);
}
.venues-ui__levels .levels {
  overflow: hidden;
}
.venues-ui__levels .venues-ui-button--up + .levels .venues-ui-button {
  border-radius: 0;
}
.venues-ui__levels .venues-ui-button:first-of-type {
  border-top-left-radius: 5px;
  border-top-right-radius: 5px;
}
.venues-ui__levels .venues-ui-button:last-of-type {
  border-bottom-left-radius: 5px;
  border-bottom-right-radius: 5px;
}
.venues-ui__levels .venues-ui-button[disabled=disabled] .arrow {
  opacity: 0.5;
}
.venues-ui__directory {
  position: absolute;
  top: 10px;
  right: 60px;
  bottom: calc(100% - 45px);
  width: 350px;
  overflow: hidden;
  background: white;
  border-radius: 5px;
  box-shadow: 0 0 0.4em 0 rgba(15, 22, 33, 0.6);
}
.venues-ui__directory.active {
  bottom: 10px;
}
.venues-ui__directory .directory__list {
  top: 80px;
  bottom: 20px;
  position: absolute;
  overflow-y: scroll;
  right: 10px;
  left: 10px;
  font-size: 12px;
}
.venues-ui__directory .directory__list svg {
  width: 25px;
  height: 25px;
}
.venues-ui__directory .directory__heading {
  margin: 8px;
  font-size: 15px;
  font-weight: normal;
  cursor: pointer;
}
.venues-ui__directory .directory__input {
  margin: 10px;
}
.venues-ui__directory .directory__input input {
  width: 100%;
  padding: 5px 0;
}
.venues-ui__directory .directory__trigger {
  position: absolute;
  right: 10px;
  top: 15px;
  width: 10px;
  height: 10px;
}
.venues-ui__directory .directory__trigger .arrow {
  transform: rotate(0);
  transition: 0.4s;
}
.venues-ui__directory .directory__trigger--active .arrow {
  transform: rotate(-180deg);
  transition: 0.4s;
}`),e.Drawing=N1,e.Geometry=h1,e.Level=k1,e.Provider=XM,e.Route=z5,e.Service=k9,e.Service2=U7,e.Venue=x0,e.ui=I_,Object.defineProperty(e,"__esModule",{value:!0}),e}({})}).call(self);var g5=H;function BB(e,n){var r=document.createElement("iframe"),o=document.documentMode<11&&"pointerEvents"in r.style;return r.style.cssText="position:absolute;left:0;top:-100%;width:100%;height:100%;margin:1px 0 0;border:none;opacity:0;pointer-events:none;"+(o?"":"visibility:hidden;"),r.onload=function(){r.contentWindow.onresize=function(){n(e)}},e.appendChild(r),r}var P2e=V_(Yv());var NT;try{NT=typeof Intl<"u"&&Intl.v8BreakIterator}catch{NT=!1}var E0=(()=>{class e{_platformId=Ua(U3);isBrowser=this._platformId?w8(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||NT)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Yy,VB=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function OT(){if(Yy)return Yy;if(typeof document!="object"||!document)return Yy=new Set(VB),Yy;let e=document.createElement("input");return Yy=new Set(VB.filter(n=>(e.setAttribute("type",n),e.type===n))),Yy}var Zv;function Dre(){if(Zv==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Zv=!0}))}finally{Zv=Zv||!1}return Zv}function Z4(e){return Dre()?e:!!e.capture}var M7;function zT(){if(M7==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return M7=!1,M7;if("scrollBehavior"in document.documentElement.style)M7=!0;else{let e=Element.prototype.scrollTo;e?M7=!/\{\s*\[native code\]\s*\}/.test(e.toString()):M7=!1}}return M7}var IT;function Ire(){if(IT==null){let e=typeof document<"u"?document.head:null;IT=!!(e&&(e.createShadowRoot||e.attachShadow))}return IT}function UB(e){if(Ire()){let n=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}function TC(){let e=typeof document<"u"&&document?document.activeElement:null;for(;e&&e.shadowRoot;){let n=e.shadowRoot.activeElement;if(n===e)break;e=n}return e}function N4(e){return e.composedPath?e.composedPath()[0]:e.target}function RT(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var DC=new WeakMap,u3=(()=>{class e{_appRef;_injector=Ua(w0);_environmentInjector=Ua(T3);load(r){let o=this._appRef=this._appRef||this._injector.get(f6),s=DC.get(o);s||(s={loaders:new Set,refs:[]},DC.set(o,s),o.onDestroy(()=>{DC.get(o)?.refs.forEach(l=>l.destroy()),DC.delete(o)})),s.loaders.has(r)||(s.loaders.add(r),s.refs.push(Nw(r,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),y5=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275cmp=C2({type:e,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(o,s){},styles:[".cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}"],encapsulation:2,changeDetection:0})}return e})();function $3(e,...n){return n.length?n.some(r=>e[r]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}function v5(e){return e!=null&&`${e}`!="false"}function Zy(e){return Array.isArray(e)?e:[e]}function s3(e){return e==null?"":typeof e=="string"?e:`${e}px`}function K4(e){return e instanceof l2?e.nativeElement:e}function HB(e,n=/\s+/){let r=[];if(e!=null){let o=Array.isArray(e)?e:`${e}`.split(n);for(let s of o){let l=`${s}`.trim();l&&r.push(l)}}return r}var Nre=(()=>{class e{create(r){return typeof MutationObserver>"u"?null:new MutationObserver(r)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Ky=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=r2({type:e});static \u0275inj=i2({providers:[Nre]})}return e})();var GB=new Set,E7,Ore=(()=>{class e{_platform=Ua(E0);_nonce=Ua(lv,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Rre}matchMedia(r){return(this._platform.WEBKIT||this._platform.BLINK)&&zre(r,this._nonce),this._matchMedia(r)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function zre(e,n){if(!GB.has(e))try{E7||(E7=document.createElement("style"),n&&E7.setAttribute("nonce",n),E7.setAttribute("type","text/css"),document.head.appendChild(E7)),E7.sheet&&(E7.sheet.insertRule(`@media ${e} {body{ }}`,0),GB.add(e))}catch(r){console.error(r)}}function Rre(e){return{matches:e==="all"||e==="",media:e,addListener:()=>{},removeListener:()=>{}}}var qB=(()=>{class e{_mediaMatcher=Ua(Ore);_zone=Ua(c2);_queries=new Map;_destroySubject=new W1;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(r){return $B(Zy(r)).some(s=>this._registerQuery(s).mql.matches)}observe(r){let s=$B(Zy(r)).map(d=>this._registerQuery(d).observable),l=sy(s);return l=Z8(l.pipe(g3(1)),l.pipe(V9(1),cy(0))),l.pipe(a2(d=>{let h={matches:!1,breakpoints:{}};return d.forEach(({matches:p,query:g})=>{h.matches=h.matches||p,h.breakpoints[g]=p}),h}))}_registerQuery(r){if(this._queries.has(r))return this._queries.get(r);let o=this._mediaMatcher.matchMedia(r),l={observable:new U2(d=>{let h=p=>this._zone.run(()=>d.next(p));return o.addListener(h),()=>{o.removeListener(h)}}).pipe(e4(o),a2(({matches:d})=>({query:r,matches:d})),I0(this._destroySubject)),mql:o};return this._queries.set(r,l),l}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function $B(e){return e.map(n=>n.split(",")).reduce((n,r)=>n.concat(r)).map(n=>n.trim())}var KB=" ";function XB(e,n,r){let o=QB(e,n);r=r.trim(),!o.some(s=>s.trim()===r)&&(o.push(r),e.setAttribute(n,o.join(KB)))}function HT(e,n,r){let o=QB(e,n);r=r.trim();let s=o.filter(l=>l!==r);s.length?e.setAttribute(n,s.join(KB)):e.removeAttribute(n)}function QB(e,n){return e.getAttribute(n)?.match(/\S+/g)??[]}var qre=200,jT=class{_letterKeyStream=new W1;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new W1;selectedItem=this._selectedItem;constructor(n,r){let o=typeof r?.debounceInterval=="number"?r.debounceInterval:qre;r?.skipPredicate&&(this._skipPredicateFn=r.skipPredicate),this.setItems(n),this._setupKeyHandler(o)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(n){this._selectedItemIndex=n}setItems(n){this._items=n}handleKey(n){let r=n.keyCode;n.key&&n.key.length===1?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(r>=65&&r<=90||r>=48&&r<=57)&&this._letterKeyStream.next(String.fromCharCode(r))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(n){this._letterKeyStream.pipe(B0(r=>this._pressedLetters.push(r)),cy(n),d0(()=>this._pressedLetters.length>0),a2(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(r=>{for(let o=1;o<this._items.length+1;o++){let s=(this._selectedItemIndex+o)%this._items.length,l=this._items[s];if(!this._skipPredicateFn?.(l)&&l.getLabel?.().toLocaleUpperCase().trim().indexOf(r)===0){this._selectedItem.next(l);break}}this._pressedLetters=[]})}},BT=class{_items;_activeItemIndex=-1;_activeItem=d6(null);_wrap=!1;_typeaheadSubscription=A2.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=n=>n.disabled;constructor(n,r){this._items=n,n instanceof Cy?this._itemChangesSubscription=n.changes.subscribe(o=>this._itemsChanged(o.toArray())):c5(n)&&(this._effectRef=gv(()=>this._itemsChanged(n()),{injector:r}))}tabOut=new W1;change=new W1;skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){this._typeaheadSubscription.unsubscribe();let r=this._getItemsArray();return this._typeahead=new jT(r,{debounceInterval:typeof n=="number"?n:void 0,skipPredicate:o=>this._skipPredicateFn(o)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(o=>{this.setActiveItem(o)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}withPageUpDown(n=!0,r=10){return this._pageUpAndDown={enabled:n,delta:r},this}setActiveItem(n){let r=this._activeItem();this.updateActiveItem(n),this._activeItem()!==r&&this.change.next(this._activeItemIndex)}onKeydown(n){let r=n.keyCode,s=["altKey","ctrlKey","metaKey","shiftKey"].every(l=>!n[l]||this._allowedModifierKeys.indexOf(l)>-1);switch(r){case 9:this.tabOut.next();return;case 40:if(this._vertical&&s){this.setNextItemActive();break}else return;case 38:if(this._vertical&&s){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&s){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&s){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&s){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&s){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&s){let l=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(l>0?l:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&s){let l=this._activeItemIndex+this._pageUpAndDown.delta,d=this._getItemsArray().length;this._setActiveItemByIndex(l<d?l:d-1,-1);break}else return;default:(s||$3(n,"shiftKey"))&&this._typeahead?.handleKey(n);return}this._typeahead?.reset(),n.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){let r=this._getItemsArray(),o=typeof n=="number"?n:r.indexOf(n),s=r[o];this._activeItem.set(s??null),this._activeItemIndex=o,this._typeahead?.setCurrentSelectedItemIndex(o)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){let r=this._getItemsArray();for(let o=1;o<=r.length;o++){let s=(this._activeItemIndex+n*o+r.length)%r.length,l=r[s];if(!this._skipPredicateFn(l)){this.setActiveItem(s);return}}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex+n,n)}_setActiveItemByIndex(n,r){let o=this._getItemsArray();if(o[n]){for(;this._skipPredicateFn(o[n]);)if(n+=r,!o[n])return;this.setActiveItem(n)}}_getItemsArray(){return c5(this._items)?this._items():this._items instanceof Cy?this._items.toArray():this._items}_itemsChanged(n){this._typeahead?.setItems(n);let r=this._activeItem();if(r){let o=n.indexOf(r);o>-1&&o!==this._activeItemIndex&&(this._activeItemIndex=o,this._typeahead?.setCurrentSelectedItemIndex(o))}}},OC=class extends BT{setActiveItem(n){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(n),this.activeItem&&this.activeItem.setActiveStyles()}};var Wre=(()=>{class e{_platform=Ua(E0);constructor(){}isDisabled(r){return r.hasAttribute("disabled")}isVisible(r){return Zre(r)&&getComputedStyle(r).visibility==="visible"}isTabbable(r){if(!this._platform.isBrowser)return!1;let o=Yre(ioe(r));if(o&&(WB(o)===-1||!this.isVisible(o)))return!1;let s=r.nodeName.toLowerCase(),l=WB(r);return r.hasAttribute("contenteditable")?l!==-1:s==="iframe"||s==="object"||this._platform.WEBKIT&&this._platform.IOS&&!toe(r)?!1:s==="audio"?r.hasAttribute("controls")?l!==-1:!1:s==="video"?l===-1?!1:l!==null?!0:this._platform.FIREFOX||r.hasAttribute("controls"):r.tabIndex>=0}isFocusable(r,o){return noe(r)&&!this.isDisabled(r)&&(o?.ignoreVisibility||this.isVisible(r))}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Yre(e){try{return e.frameElement}catch{return null}}function Zre(e){return!!(e.offsetWidth||e.offsetHeight||typeof e.getClientRects=="function"&&e.getClientRects().length)}function Kre(e){let n=e.nodeName.toLowerCase();return n==="input"||n==="select"||n==="button"||n==="textarea"}function Xre(e){return Jre(e)&&e.type=="hidden"}function Qre(e){return eoe(e)&&e.hasAttribute("href")}function Jre(e){return e.nodeName.toLowerCase()=="input"}function eoe(e){return e.nodeName.toLowerCase()=="a"}function JB(e){if(!e.hasAttribute("tabindex")||e.tabIndex===void 0)return!1;let n=e.getAttribute("tabindex");return!!(n&&!isNaN(parseInt(n,10)))}function WB(e){if(!JB(e))return null;let n=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}function toe(e){let n=e.nodeName.toLowerCase(),r=n==="input"&&e.type;return r==="text"||r==="password"||n==="select"||n==="textarea"}function noe(e){return Xre(e)?!1:Kre(e)||Qre(e)||e.hasAttribute("contenteditable")||JB(e)}function ioe(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}var VT=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_enabled=!0;constructor(n,r,o,s,l=!1,d){this._element=n,this._checker=r,this._ngZone=o,this._document=s,this._injector=d,l||this.attachAnchors()}destroy(){let n=this._startAnchor,r=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.remove()),r&&(r.removeEventListener("focus",this.endAnchorListener),r.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(n){return new Promise(r=>{this._executeOnStable(()=>r(this.focusInitialElement(n)))})}focusFirstTabbableElementWhenReady(n){return new Promise(r=>{this._executeOnStable(()=>r(this.focusFirstTabbableElement(n)))})}focusLastTabbableElementWhenReady(n){return new Promise(r=>{this._executeOnStable(()=>r(this.focusLastTabbableElement(n)))})}_getRegionBoundary(n){let r=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);return n=="start"?r.length?r[0]:this._getFirstTabbableElement(this._element):r.length?r[r.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(n){let r=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(r){if(!this._checker.isFocusable(r)){let o=this._getFirstTabbableElement(r);return o?.focus(n),!!o}return r.focus(n),!0}return this.focusFirstTabbableElement(n)}focusFirstTabbableElement(n){let r=this._getRegionBoundary("start");return r&&r.focus(n),!!r}focusLastTabbableElement(n){let r=this._getRegionBoundary("end");return r&&r.focus(n),!!r}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let r=n.children;for(let o=0;o<r.length;o++){let s=r[o].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(r[o]):null;if(s)return s}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let r=n.children;for(let o=r.length-1;o>=0;o--){let s=r[o].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(r[o]):null;if(s)return s}return null}_createAnchor(){let n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,r){n?r.setAttribute("tabindex","0"):r.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._injector?P6(n,{injector:this._injector}):setTimeout(n)}},roe=(()=>{class e{_checker=Ua(Wre);_ngZone=Ua(c2);_document=Ua(T2);_injector=Ua(w0);constructor(){Ua(u3).load(y5)}create(r,o=!1){return new VT(r,this._checker,this._ngZone,this._document,o,this._injector)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),eV=(()=>{class e{_elementRef=Ua(l2);_focusTrapFactory=Ua(roe);focusTrap;_previouslyFocusedElement=null;get enabled(){return this.focusTrap?.enabled||!1}set enabled(r){this.focusTrap&&(this.focusTrap.enabled=r)}autoCapture;constructor(){Ua(E0).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(r){let o=r.autoCapture;o&&!o.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=TC(),this.focusTrap?.focusInitialElementWhenReady()}static \u0275fac=function(o){return new(o||e)};static \u0275dir=n2({type:e,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",p2],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",p2]},exportAs:["cdkTrapFocus"],features:[z0,A0]})}return e})();function GT(e){return e.buttons===0||e.detail===0}function $T(e){let n=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!!n&&n.identifier===-1&&(n.radiusX==null||n.radiusX===1)&&(n.radiusY==null||n.radiusY===1)}var ooe=new I1("cdk-input-modality-detector-options"),soe={ignoreKeys:[18,17,224,91,16]},tV=650,Xy=Z4({passive:!0,capture:!0}),aoe=(()=>{class e{_platform=Ua(E0);modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new i3(null);_options;_lastTouchMs=0;_onKeydown=r=>{this._options?.ignoreKeys?.some(o=>o===r.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=N4(r))};_onMousedown=r=>{Date.now()-this._lastTouchMs<tV||(this._modality.next(GT(r)?"keyboard":"mouse"),this._mostRecentTarget=N4(r))};_onTouchstart=r=>{if($T(r)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=N4(r)};constructor(){let r=Ua(c2),o=Ua(T2),s=Ua(ooe,{optional:!0});this._options=E1(E1({},soe),s),this.modalityDetected=this._modality.pipe(V9(1)),this.modalityChanged=this.modalityDetected.pipe(W5()),this._platform.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,Xy),o.addEventListener("mousedown",this._onMousedown,Xy),o.addEventListener("touchstart",this._onTouchstart,Xy)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Xy),document.removeEventListener("mousedown",this._onMousedown,Xy),document.removeEventListener("touchstart",this._onTouchstart,Xy))}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),coe=new I1("liveAnnouncerElement",{providedIn:"root",factory:loe});function loe(){return null}var uoe=new I1("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),doe=0,nV=(()=>{class e{_ngZone=Ua(c2);_defaultOptions=Ua(uoe,{optional:!0});_liveElement;_document=Ua(T2);_previousTimeout;_currentPromise;_currentResolve;constructor(){let r=Ua(coe,{optional:!0});this._liveElement=r||this._createLiveElement()}announce(r,...o){let s=this._defaultOptions,l,d;return o.length===1&&typeof o[0]=="number"?d=o[0]:[l,d]=o,this.clear(),clearTimeout(this._previousTimeout),l||(l=s&&s.politeness?s.politeness:"polite"),d==null&&s&&(d=s.duration),this._liveElement.setAttribute("aria-live",l),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(h=>this._currentResolve=h)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=r,typeof d=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),d)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let r="cdk-live-announcer-element",o=this._document.getElementsByClassName(r),s=this._document.createElement("div");for(let l=0;l<o.length;l++)o[l].remove();return s.classList.add(r),s.classList.add("cdk-visually-hidden"),s.setAttribute("aria-atomic","true"),s.setAttribute("aria-live","polite"),s.id=`cdk-live-announcer-${doe++}`,this._document.body.appendChild(s),s}_exposeAnnouncerToModals(r){let o=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let s=0;s<o.length;s++){let l=o[s],d=l.getAttribute("aria-owns");d?d.indexOf(r)===-1&&l.setAttribute("aria-owns",d+" "+r):l.setAttribute("aria-owns",r)}}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var NC=function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e}(NC||{}),foe=new I1("cdk-focus-monitor-default-options"),IC=Z4({passive:!0,capture:!0}),Qv=(()=>{class e{_ngZone=Ua(c2);_platform=Ua(E0);_inputModalityDetector=Ua(aoe);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=Ua(T2,{optional:!0});_stopInputModalityDetector=new W1;constructor(){let r=Ua(foe,{optional:!0});this._detectionMode=r?.detectionMode||NC.IMMEDIATE}_rootNodeFocusAndBlurListener=r=>{let o=N4(r);for(let s=o;s;s=s.parentElement)r.type==="focus"?this._onFocus(r,s):this._onBlur(r,s)};monitor(r,o=!1){let s=K4(r);if(!this._platform.isBrowser||s.nodeType!==1)return s2();let l=UB(s)||this._getDocument(),d=this._elementInfo.get(s);if(d)return o&&(d.checkChildren=!0),d.subject;let h={checkChildren:o,subject:new W1,rootNode:l};return this._elementInfo.set(s,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(r){let o=K4(r),s=this._elementInfo.get(o);s&&(s.subject.complete(),this._setClasses(o),this._elementInfo.delete(o),this._removeGlobalListeners(s))}focusVia(r,o,s){let l=K4(r),d=this._getDocument().activeElement;l===d?this._getClosestElementsInfo(l).forEach(([h,p])=>this._originChanged(h,o,p)):(this._setOrigin(o),typeof l.focus=="function"&&l.focus(s))}ngOnDestroy(){this._elementInfo.forEach((r,o)=>this.stopMonitoring(o))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(r){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(r)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:r&&this._isLastInteractionFromInputLabel(r)?"mouse":"program"}_shouldBeAttributedToTouch(r){return this._detectionMode===NC.EVENTUAL||!!r?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(r,o){r.classList.toggle("cdk-focused",!!o),r.classList.toggle("cdk-touch-focused",o==="touch"),r.classList.toggle("cdk-keyboard-focused",o==="keyboard"),r.classList.toggle("cdk-mouse-focused",o==="mouse"),r.classList.toggle("cdk-program-focused",o==="program")}_setOrigin(r,o=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=r,this._originFromTouchInteraction=r==="touch"&&o,this._detectionMode===NC.IMMEDIATE){clearTimeout(this._originTimeoutId);let s=this._originFromTouchInteraction?tV:1;this._originTimeoutId=setTimeout(()=>this._origin=null,s)}})}_onFocus(r,o){let s=this._elementInfo.get(o),l=N4(r);!s||!s.checkChildren&&o!==l||this._originChanged(o,this._getFocusOrigin(l),s)}_onBlur(r,o){let s=this._elementInfo.get(o);!s||s.checkChildren&&r.relatedTarget instanceof Node&&o.contains(r.relatedTarget)||(this._setClasses(o),this._emitOrigin(s,null))}_emitOrigin(r,o){r.subject.observers.length&&this._ngZone.run(()=>r.subject.next(o))}_registerGlobalListeners(r){if(!this._platform.isBrowser)return;let o=r.rootNode,s=this._rootNodeFocusListenerCount.get(o)||0;s||this._ngZone.runOutsideAngular(()=>{o.addEventListener("focus",this._rootNodeFocusAndBlurListener,IC),o.addEventListener("blur",this._rootNodeFocusAndBlurListener,IC)}),this._rootNodeFocusListenerCount.set(o,s+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(I0(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(r){let o=r.rootNode;if(this._rootNodeFocusListenerCount.has(o)){let s=this._rootNodeFocusListenerCount.get(o);s>1?this._rootNodeFocusListenerCount.set(o,s-1):(o.removeEventListener("focus",this._rootNodeFocusAndBlurListener,IC),o.removeEventListener("blur",this._rootNodeFocusAndBlurListener,IC),this._rootNodeFocusListenerCount.delete(o))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(r,o,s){this._setClasses(r,o),this._emitOrigin(s,o),this._lastFocusOrigin=o}_getClosestElementsInfo(r){let o=[];return this._elementInfo.forEach((s,l)=>{(l===r||s.checkChildren&&l.contains(r))&&o.push([l,s])}),o}_isLastInteractionFromInputLabel(r){let{_mostRecentTarget:o,mostRecentModality:s}=this._inputModalityDetector;if(s!=="mouse"||!o||o===r||r.nodeName!=="INPUT"&&r.nodeName!=="TEXTAREA"||r.disabled)return!1;let l=r.labels;if(l){for(let d=0;d<l.length;d++)if(l[d].contains(o))return!0}return!1}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),iV=(()=>{class e{_elementRef=Ua(l2);_focusMonitor=Ua(Qv);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new Z1;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let r=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(r,r.nodeType===1&&r.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(o=>{this._focusOrigin=o,this.cdkFocusChange.emit(o)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static \u0275fac=function(o){return new(o||e)};static \u0275dir=n2({type:e,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return e})(),S7=function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e}(S7||{}),YB="cdk-high-contrast-black-on-white",ZB="cdk-high-contrast-white-on-black",PT="cdk-high-contrast-active",qT=(()=>{class e{_platform=Ua(E0);_hasCheckedHighContrastMode;_document=Ua(T2);_breakpointSubscription;constructor(){this._breakpointSubscription=Ua(qB).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return S7.NONE;let r=this._document.createElement("div");r.style.backgroundColor="rgb(1,2,3)",r.style.position="absolute",this._document.body.appendChild(r);let o=this._document.defaultView||window,s=o&&o.getComputedStyle?o.getComputedStyle(r):null,l=(s&&s.backgroundColor||"").replace(/ /g,"");switch(r.remove(),l){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return S7.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return S7.BLACK_ON_WHITE}return S7.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let r=this._document.body.classList;r.remove(PT,YB,ZB),this._hasCheckedHighContrastMode=!0;let o=this.getHighContrastMode();o===S7.BLACK_ON_WHITE?r.add(PT,YB):o===S7.WHITE_ON_BLACK&&r.add(PT,ZB)}}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),rV=(()=>{class e{constructor(){Ua(qT)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(o){return new(o||e)};static \u0275mod=r2({type:e});static \u0275inj=i2({imports:[Ky]})}return e})(),FT={},M3=(()=>{class e{_appId=Ua(cv);getId(r){return this._appId!=="ng"&&(r+=this._appId),FT.hasOwnProperty(r)||(FT[r]=0),`${r}${FT[r]++}`}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var hoe=new I1("cdk-dir-doc",{providedIn:"root",factory:poe});function poe(){return Ua(T2)}var moe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function goe(e){let n=e?.toLowerCase()||"";return n==="auto"&&typeof navigator<"u"&&navigator?.language?moe.test(navigator.language)?"rtl":"ltr":n==="rtl"?"rtl":"ltr"}var N3=(()=>{class e{value="ltr";change=new Z1;constructor(){let r=Ua(hoe,{optional:!0});if(r){let o=r.body?r.body.dir:null,s=r.documentElement?r.documentElement.dir:null;this.value=goe(o||s||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var W6=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=r2({type:e});static \u0275inj=i2({})}return e})();var voe=["text"],_oe=[[["mat-icon"]],"*"],boe=["mat-icon","*"];function xoe(e,n){if(e&1&&E2(0,"mat-pseudo-checkbox",1),e&2){let r=S2();d2("disabled",r.disabled)("state",r.selected?"checked":"unchecked")}}function woe(e,n){if(e&1&&E2(0,"mat-pseudo-checkbox",3),e&2){let r=S2();d2("disabled",r.disabled)}}function Coe(e,n){if(e&1&&(g1(0,"span",4),e2(1),v1()),e&2){let r=S2();D1(),v3("(",r.group.label,")")}}var P0=(()=>{class e{constructor(){Ua(qT)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(o){return new(o||e)};static \u0275mod=r2({type:e});static \u0275inj=i2({imports:[W6,W6]})}return e})(),L7=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(n,r,o,s,l){this._defaultMatcher=n,this.ngControl=r,this._parentFormGroup=o,this._parentForm=s,this._stateChanges=l}updateErrorState(){let n=this.errorState,r=this._parentFormGroup||this._parentForm,o=this.matcher||this._defaultMatcher,s=this.ngControl?this.ngControl.control:null,l=o?.isErrorState(s,r)??!1;l!==n&&(this.errorState=l,this._stateChanges.next())}},Jv=new I1("MAT_DATE_LOCALE",{providedIn:"root",factory:Moe});function Moe(){return Ua(Iy)}var e9="Method not implemented",_3=class{locale;_localeChanges=new W1;localeChanges=this._localeChanges;setTime(n,r,o,s){throw new Error(e9)}getHours(n){throw new Error(e9)}getMinutes(n){throw new Error(e9)}getSeconds(n){throw new Error(e9)}parseTime(n,r){throw new Error(e9)}addSeconds(n,r){throw new Error(e9)}getValidDateOrNull(n){return this.isDateInstance(n)&&this.isValid(n)?n:null}deserialize(n){return n==null||this.isDateInstance(n)&&this.isValid(n)?n:this.invalid()}setLocale(n){this.locale=n,this._localeChanges.next()}compareDate(n,r){return this.getYear(n)-this.getYear(r)||this.getMonth(n)-this.getMonth(r)||this.getDate(n)-this.getDate(r)}compareTime(n,r){return this.getHours(n)-this.getHours(r)||this.getMinutes(n)-this.getMinutes(r)||this.getSeconds(n)-this.getSeconds(r)}sameDate(n,r){if(n&&r){let o=this.isValid(n),s=this.isValid(r);return o&&s?!this.compareDate(n,r):o==s}return n==r}sameTime(n,r){if(n&&r){let o=this.isValid(n),s=this.isValid(r);return o&&s?!this.compareTime(n,r):o==s}return n==r}clampDate(n,r,o){return r&&this.compareDate(n,r)<0?r:o&&this.compareDate(n,o)>0?o:n}},k8=new I1("mat-date-formats"),Eoe=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/,Soe=/^(\d?\d)[:.](\d?\d)(?:[:.](\d?\d))?\s*(AM|PM)?$/i;function WT(e,n){let r=Array(e);for(let o=0;o<e;o++)r[o]=n(o);return r}var Loe=(()=>{class e extends _3{useUtcForDisplay=!1;_matDateLocale=Ua(Jv,{optional:!0});constructor(){super();let r=Ua(Jv,{optional:!0});r!==void 0&&(this._matDateLocale=r),super.setLocale(this._matDateLocale)}getYear(r){return r.getFullYear()}getMonth(r){return r.getMonth()}getDate(r){return r.getDate()}getDayOfWeek(r){return r.getDay()}getMonthNames(r){let o=new Intl.DateTimeFormat(this.locale,{month:r,timeZone:"utc"});return WT(12,s=>this._format(o,new Date(2017,s,1)))}getDateNames(){let r=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return WT(31,o=>this._format(r,new Date(2017,0,o+1)))}getDayOfWeekNames(r){let o=new Intl.DateTimeFormat(this.locale,{weekday:r,timeZone:"utc"});return WT(7,s=>this._format(o,new Date(2017,0,s+1)))}getYearName(r){let o=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(o,r)}getFirstDayOfWeek(){if(typeof Intl<"u"&&Intl.Locale){let r=new Intl.Locale(this.locale),o=(r.getWeekInfo?.()||r.weekInfo)?.firstDay??0;return o===7?0:o}return 0}getNumDaysInMonth(r){return this.getDate(this._createDateWithOverflow(this.getYear(r),this.getMonth(r)+1,0))}clone(r){return new Date(r.getTime())}createDate(r,o,s){let l=this._createDateWithOverflow(r,o,s);return l.getMonth()!=o,l}today(){return new Date}parse(r,o){return typeof r=="number"?new Date(r):r?new Date(Date.parse(r)):null}format(r,o){if(!this.isValid(r))throw Error("NativeDateAdapter: Cannot format invalid date.");let s=new Intl.DateTimeFormat(this.locale,R2(E1({},o),{timeZone:"utc"}));return this._format(s,r)}addCalendarYears(r,o){return this.addCalendarMonths(r,o*12)}addCalendarMonths(r,o){let s=this._createDateWithOverflow(this.getYear(r),this.getMonth(r)+o,this.getDate(r));return this.getMonth(s)!=((this.getMonth(r)+o)%12+12)%12&&(s=this._createDateWithOverflow(this.getYear(s),this.getMonth(s),0)),s}addCalendarDays(r,o){return this._createDateWithOverflow(this.getYear(r),this.getMonth(r),this.getDate(r)+o)}toIso8601(r){return[r.getUTCFullYear(),this._2digit(r.getUTCMonth()+1),this._2digit(r.getUTCDate())].join("-")}deserialize(r){if(typeof r=="string"){if(!r)return null;if(Eoe.test(r)){let o=new Date(r);if(this.isValid(o))return o}}return super.deserialize(r)}isDateInstance(r){return r instanceof Date}isValid(r){return!isNaN(r.getTime())}invalid(){return new Date(NaN)}setTime(r,o,s,l){let d=this.clone(r);return d.setHours(o,s,l,0),d}getHours(r){return r.getHours()}getMinutes(r){return r.getMinutes()}getSeconds(r){return r.getSeconds()}parseTime(r,o){if(typeof r!="string")return r instanceof Date?new Date(r.getTime()):null;let s=r.trim();if(s.length===0)return null;let l=this._parseTimeString(s);if(l===null){let d=s.replace(/[^0-9:(AM|PM)]/gi,"").trim();d.length>0&&(l=this._parseTimeString(d))}return l||this.invalid()}addSeconds(r,o){return new Date(r.getTime()+o*1e3)}_createDateWithOverflow(r,o,s){let l=new Date;return l.setFullYear(r,o,s),l.setHours(0,0,0,0),l}_2digit(r){return("00"+r).slice(-2)}_format(r,o){let s=new Date;return s.setUTCFullYear(o.getFullYear(),o.getMonth(),o.getDate()),s.setUTCHours(o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()),r.format(s)}_parseTimeString(r){let o=r.toUpperCase().match(Soe);if(o){let s=parseInt(o[1]),l=parseInt(o[2]),d=o[3]==null?void 0:parseInt(o[3]),h=o[4];if(s===12?s=h==="AM"?0:s:h==="PM"&&(s+=12),YT(s,0,23)&&YT(l,0,59)&&(d==null||YT(d,0,59)))return this.setTime(this.today(),s,l,d||0)}return null}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac})}return e})();function YT(e,n,r){return!isNaN(e)&&e>=n&&e<=r}var Aoe={parse:{dateInput:null,timeInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},timeInput:{hour:"numeric",minute:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"},timeOptionLabel:{hour:"numeric",minute:"numeric"}}};var PC=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=r2({type:e});static \u0275inj=i2({providers:[koe()]})}return e})();function koe(e=Aoe){return[{provide:_3,useClass:Loe},{provide:k8,useValue:e}]}var t_=(()=>{class e{isErrorState(r,o){return!!(r&&r.invalid&&(r.touched||o&&o.submitted))}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),_5=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275cmp=C2({type:e,selectors:[["structural-styles"]],decls:0,vars:0,template:function(o,s){},styles:['.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}'],encapsulation:2,changeDetection:0})}return e})();var X4=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}(X4||{}),XT=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=X4.HIDDEN;constructor(n,r,o,s=!1){this._renderer=n,this.element=r,this.config=o,this._animationForciblyDisabledThroughCss=s}fadeOut(){this._renderer.fadeOutRipple(this)}},oV=Z4({passive:!0,capture:!0}),QT=class{_events=new Map;addHandler(n,r,o,s){let l=this._events.get(r);if(l){let d=l.get(o);d?d.add(s):l.set(o,new Set([s]))}else this._events.set(r,new Map([[o,new Set([s])]])),n.runOutsideAngular(()=>{document.addEventListener(r,this._delegateEventHandler,oV)})}removeHandler(n,r,o){let s=this._events.get(n);if(!s)return;let l=s.get(r);l&&(l.delete(o),l.size===0&&s.delete(r),s.size===0&&(this._events.delete(n),document.removeEventListener(n,this._delegateEventHandler,oV)))}_delegateEventHandler=n=>{let r=N4(n);r&&this._events.get(n.type)?.forEach((o,s)=>{(s===r||s.contains(r))&&o.forEach(l=>l.handleEvent(n))})}},RC={enterDuration:225,exitDuration:150},Toe=800,sV=Z4({passive:!0,capture:!0}),aV=["mousedown","touchstart"],cV=["mouseup","mouseleave","touchend","touchcancel"],Doe=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275cmp=C2({type:e,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(o,s){},styles:[".mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}"],encapsulation:2,changeDetection:0})}return e})(),e_=class e{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new QT;constructor(n,r,o,s,l){this._target=n,this._ngZone=r,this._platform=s,s.isBrowser&&(this._containerElement=K4(o)),l&&l.get(u3).load(Doe)}fadeInRipple(n,r,o={}){let s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l=E1(E1({},RC),o.animation);o.centered&&(n=s.left+s.width/2,r=s.top+s.height/2);let d=o.radius||Ioe(n,r,s),h=n-s.left,p=r-s.top,g=l.enterDuration,y=document.createElement("div");y.classList.add("mat-ripple-element"),y.style.left=`${h-d}px`,y.style.top=`${p-d}px`,y.style.height=`${d*2}px`,y.style.width=`${d*2}px`,o.color!=null&&(y.style.backgroundColor=o.color),y.style.transitionDuration=`${g}ms`,this._containerElement.appendChild(y);let v=window.getComputedStyle(y),w=v.transitionProperty,k=v.transitionDuration,F=w==="none"||k==="0s"||k==="0s, 0s"||s.width===0&&s.height===0,q=new XT(this,y,o,F);y.style.transform="scale3d(1, 1, 1)",q.state=X4.FADING_IN,o.persistent||(this._mostRecentTransientRipple=q);let _r=null;return!F&&(g||l.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let ga=()=>{_r&&(_r.fallbackTimer=null),clearTimeout(jc),this._finishRippleTransition(q)},La=()=>this._destroyRipple(q),jc=setTimeout(La,g+100);y.addEventListener("transitionend",ga),y.addEventListener("transitioncancel",La),_r={onTransitionEnd:ga,onTransitionCancel:La,fallbackTimer:jc}}),this._activeRipples.set(q,_r),(F||!g)&&this._finishRippleTransition(q),q}fadeOutRipple(n){if(n.state===X4.FADING_OUT||n.state===X4.HIDDEN)return;let r=n.element,o=E1(E1({},RC),n.config.animation);r.style.transitionDuration=`${o.exitDuration}ms`,r.style.opacity="0",n.state=X4.FADING_OUT,(n._animationForciblyDisabledThroughCss||!o.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){let r=K4(n);!this._platform.isBrowser||!r||r===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=r,aV.forEach(o=>{e._eventManager.addHandler(this._ngZone,o,r,this)}))}handleEvent(n){n.type==="mousedown"?this._onMousedown(n):n.type==="touchstart"?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{cV.forEach(r=>{this._triggerElement.addEventListener(r,this,sV)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){n.state===X4.FADING_IN?this._startFadeOutTransition(n):n.state===X4.FADING_OUT&&this._destroyRipple(n)}_startFadeOutTransition(n){let r=n===this._mostRecentTransientRipple,{persistent:o}=n.config;n.state=X4.VISIBLE,!o&&(!r||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){let r=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=X4.HIDDEN,r!==null&&(n.element.removeEventListener("transitionend",r.onTransitionEnd),n.element.removeEventListener("transitioncancel",r.onTransitionCancel),r.fallbackTimer!==null&&clearTimeout(r.fallbackTimer)),n.element.remove()}_onMousedown(n){let r=GT(n),o=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Toe;!this._target.rippleDisabled&&!r&&!o&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!$T(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let r=n.changedTouches;if(r)for(let o=0;o<r.length;o++)this.fadeInRipple(r[o].clientX,r[o].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{let r=n.state===X4.VISIBLE||n.config.terminateOnPointerUp&&n.state===X4.FADING_IN;!n.config.persistent&&r&&n.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let n=this._triggerElement;n&&(aV.forEach(r=>e._eventManager.removeHandler(r,n,this)),this._pointerUpEventsRegistered&&(cV.forEach(r=>n.removeEventListener(r,this,sV)),this._pointerUpEventsRegistered=!1))}};function Ioe(e,n,r){let o=Math.max(Math.abs(e-r.left),Math.abs(e-r.right)),s=Math.max(Math.abs(n-r.top),Math.abs(n-r.bottom));return Math.sqrt(o*o+s*s)}var eD=new I1("mat-ripple-global-options"),tD=(()=>{class e{_elementRef=Ua(l2);_animationMode=Ua(r4,{optional:!0});color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(r){r&&this.fadeOutAllNonPersistent(),this._disabled=r,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(r){this._trigger=r,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let r=Ua(c2),o=Ua(E0),s=Ua(eD,{optional:!0}),l=Ua(w0);this._globalOptions=s||{},this._rippleRenderer=new e_(this,r,this._elementRef,o,l)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:E1(E1(E1({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(r,o=0,s){return typeof r=="number"?this._rippleRenderer.fadeInRipple(r,o,E1(E1({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,E1(E1({},this.rippleConfig),r))}static \u0275fac=function(o){return new(o||e)};static \u0275dir=n2({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(o,s){o&2&&G2("mat-ripple-unbounded",s.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return e})(),t9=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=r2({type:e});static \u0275inj=i2({imports:[P0,P0]})}return e})(),nD=(()=>{class e{_animationMode=Ua(r4,{optional:!0});state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=C2({type:e,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(o,s){o&2&&G2("mat-pseudo-checkbox-indeterminate",s.state==="indeterminate")("mat-pseudo-checkbox-checked",s.state==="checked")("mat-pseudo-checkbox-disabled",s.disabled)("mat-pseudo-checkbox-minimal",s.appearance==="minimal")("mat-pseudo-checkbox-full",s.appearance==="full")("_mat-animation-noopable",s._animationMode==="NoopAnimations")},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(o,s){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return e})(),iD=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=r2({type:e});static \u0275inj=i2({imports:[P0]})}return e})(),rD=new I1("MAT_OPTION_PARENT_COMPONENT"),oD=new I1("MatOptgroup");var JT=class{source;isUserInput;constructor(n,r=!1){this.source=n,this.isUserInput=r}},FC=(()=>{class e{_element=Ua(l2);_changeDetectorRef=Ua(k0);_parent=Ua(rD,{optional:!0});group=Ua(oD,{optional:!0});_signalDisableRipple=!1;_selected=!1;_active=!1;_disabled=!1;_mostRecentViewValue="";get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}value;id=Ua(M3).getId("mat-option-");get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(r){this._disabled=r}get disableRipple(){return this._signalDisableRipple?this._parent.disableRipple():!!this._parent?.disableRipple}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}onSelectionChange=new Z1;_text;_stateChanges=new W1;constructor(){Ua(u3).load(_5),Ua(u3).load(y5),this._signalDisableRipple=!!this._parent&&c5(this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(r=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),r&&this._emitSelectionChangeEvent())}deselect(r=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),r&&this._emitSelectionChangeEvent())}focus(r,o){let s=this._getHostElement();typeof s.focus=="function"&&s.focus(o)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(r){(r.keyCode===13||r.keyCode===32)&&!$3(r)&&(this._selectViaInteraction(),r.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let r=this.viewValue;r!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=r)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(r=!1){this.onSelectionChange.emit(new JT(this,r))}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=C2({type:e,selectors:[["mat-option"]],viewQuery:function(o,s){if(o&1&&g0(voe,7),o&2){let l;F2(l=j2())&&(s._text=l.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(o,s){o&1&&O2("click",function(){return s._selectViaInteraction()})("keydown",function(d){return s._handleKeydown(d)}),o&2&&(j6("id",s.id),W2("aria-selected",s.selected)("aria-disabled",s.disabled.toString()),G2("mdc-list-item--selected",s.selected)("mat-mdc-option-multiple",s.multiple)("mat-mdc-option-active",s.active)("mdc-list-item--disabled",s.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",p2]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],features:[z0],ngContentSelectors:boe,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(o,s){o&1&&(Q0(_oe),J2(0,xoe,1,2,"mat-pseudo-checkbox",1),e0(1),g1(2,"span",2,0),e0(4,1),v1(),J2(5,woe,1,1,"mat-pseudo-checkbox",3)(6,Coe,2,1,"span",4),E2(7,"div",5)),o&2&&(C0(s.multiple?0:-1),D1(5),C0(!s.multiple&&s.selected&&!s.hideSingleSelectionIndicator?5:-1),D1(),C0(s.group&&s.group._inert?6:-1),D1(),d2("matRippleTrigger",s._getHostElement())("matRippleDisabled",s.disabled||s.disableRipple))},dependencies:[nD,tD],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-sys-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}@media(forced-colors: active){.mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{right:auto;left:16px}}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return e})();function fV(e,n,r){if(r.length){let o=n.toArray(),s=r.toArray(),l=0;for(let d=0;d<e+1;d++)o[d].group&&o[d].group===s[l]&&l++;return l}return 0}function hV(e,n,r,o){return e<r?e:e+n>r+o?Math.max(0,e-o+n):r}var sD=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=r2({type:e});static \u0275inj=i2({imports:[t9,P0,iD]})}return e})(),lV={capture:!0},uV=["focus","mousedown","mouseenter","touchstart"],ZT="mat-ripple-loader-uninitialized",KT="mat-ripple-loader-class-name",dV="mat-ripple-loader-centered",zC="mat-ripple-loader-disabled",pV=(()=>{class e{_document=Ua(T2,{optional:!0});_animationMode=Ua(r4,{optional:!0});_globalRippleOptions=Ua(eD,{optional:!0});_platform=Ua(E0);_ngZone=Ua(c2);_injector=Ua(w0);_hosts=new Map;constructor(){this._ngZone.runOutsideAngular(()=>{for(let r of uV)this._document?.addEventListener(r,this._onInteraction,lV)})}ngOnDestroy(){let r=this._hosts.keys();for(let o of r)this.destroyRipple(o);for(let o of uV)this._document?.removeEventListener(o,this._onInteraction,lV)}configureRipple(r,o){r.setAttribute(ZT,this._globalRippleOptions?.namespace??""),(o.className||!r.hasAttribute(KT))&&r.setAttribute(KT,o.className||""),o.centered&&r.setAttribute(dV,""),o.disabled&&r.setAttribute(zC,"")}setDisabled(r,o){let s=this._hosts.get(r);s?(s.target.rippleDisabled=o,!o&&!s.hasSetUpEvents&&(s.hasSetUpEvents=!0,s.renderer.setupTriggerEvents(r))):o?r.setAttribute(zC,""):r.removeAttribute(zC)}_onInteraction=r=>{let o=N4(r);if(o instanceof HTMLElement){let s=o.closest(`[${ZT}="${this._globalRippleOptions?.namespace??""}"]`);s&&this._createRipple(s)}};_createRipple(r){if(!this._document||this._hosts.has(r))return;r.querySelector(".mat-ripple")?.remove();let o=this._document.createElement("span");o.classList.add("mat-ripple",r.getAttribute(KT)),r.append(o);let s=this._animationMode==="NoopAnimations",l=this._globalRippleOptions,d=s?0:l?.animation?.enterDuration??RC.enterDuration,h=s?0:l?.animation?.exitDuration??RC.exitDuration,p={rippleDisabled:s||l?.disabled||r.hasAttribute(zC),rippleConfig:{centered:r.hasAttribute(dV),terminateOnPointerUp:l?.terminateOnPointerUp,animation:{enterDuration:d,exitDuration:h}}},g=new e_(p,this._ngZone,o,this._platform,this._injector),y=!p.rippleDisabled;y&&g.setupTriggerEvents(r),this._hosts.set(r,{target:p,renderer:g,hasSetUpEvents:y}),r.removeAttribute(ZT)}destroyRipple(r){let o=this._hosts.get(r);o&&(o.renderer._removeTriggerEvents(),this._hosts.delete(r))}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Noe=V_(Yv(),1),gV=V_(Yv(),1),A7=gV.default||Noe,aD=new I1("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:Ooe});function Ooe(){return{useUtc:!1}}function zoe(e,n){let r=Array(e);for(let o=0;o<e;o++)r[o]=n(o);return r}var Roe=(()=>{class e extends _3{_options=Ua(aD,{optional:!0});_localeData;constructor(){super();let r=Ua(Jv,{optional:!0});this.setLocale(r||A7.locale())}setLocale(r){super.setLocale(r);let o=A7.localeData(r);this._localeData={firstDayOfWeek:o.firstDayOfWeek(),longMonths:o.months(),shortMonths:o.monthsShort(),dates:zoe(31,s=>this.createDate(2017,0,s+1).format("D")),longDaysOfWeek:o.weekdays(),shortDaysOfWeek:o.weekdaysShort(),narrowDaysOfWeek:o.weekdaysMin()}}getYear(r){return this.clone(r).year()}getMonth(r){return this.clone(r).month()}getDate(r){return this.clone(r).date()}getDayOfWeek(r){return this.clone(r).day()}getMonthNames(r){return r=="long"?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(r){return r=="long"?this._localeData.longDaysOfWeek:r=="short"?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(r){return this.clone(r).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(r){return this.clone(r).daysInMonth()}clone(r){return r.clone().locale(this.locale)}createDate(r,o,s){let l=this._createMoment({year:r,month:o,date:s}).locale(this.locale);return l.isValid(),l}today(){return this._createMoment().locale(this.locale)}parse(r,o){return r&&typeof r=="string"?this._createMoment(r,o,this.locale):r?this._createMoment(r).locale(this.locale):null}format(r,o){return r=this.clone(r),this.isValid(r),r.format(o)}addCalendarYears(r,o){return this.clone(r).add({years:o})}addCalendarMonths(r,o){return this.clone(r).add({months:o})}addCalendarDays(r,o){return this.clone(r).add({days:o})}toIso8601(r){return this.clone(r).format()}deserialize(r){let o;if(r instanceof Date)o=this._createMoment(r).locale(this.locale);else if(this.isDateInstance(r))return this.clone(r);if(typeof r=="string"){if(!r)return null;o=this._createMoment(r,A7.ISO_8601).locale(this.locale)}return o&&this.isValid(o)?this._createMoment(o).locale(this.locale):super.deserialize(r)}isDateInstance(r){return A7.isMoment(r)}isValid(r){return this.clone(r).isValid()}invalid(){return A7.invalid()}setTime(r,o,s,l){return this.clone(r).set({hours:o,minutes:s,seconds:l,milliseconds:0})}getHours(r){return r.hours()}getMinutes(r){return r.minutes()}getSeconds(r){return r.seconds()}parseTime(r,o){return this.parse(r,o)}addSeconds(r,o){return this.clone(r).add({seconds:o})}_createMoment(r,o,s){let{strict:l,useUtc:d}=this._options||{};return d?A7.utc(r,o,s,l):A7(r,o,s,l)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac})}return e})(),Poe={parse:{dateInput:"l",timeInput:"LT"},display:{dateInput:"l",timeInput:"LT",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY",timeOptionLabel:"LT"}};function yV(e=Poe,n){let r=[{provide:_3,useClass:Roe,deps:[Jv,aD]},{provide:k8,useValue:e}];return n&&r.push({provide:aD,useValue:n}),r}var CG=V_(Yv());var EV=(()=>{class e{_renderer;_elementRef;onChange=r=>{};onTouched=()=>{};constructor(r,o){this._renderer=r,this._elementRef=o}setProperty(r,o){this._renderer.setProperty(this._elementRef.nativeElement,r,o)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}static \u0275fac=function(o){return new(o||e)(X1(F6),X1(l2))};static \u0275dir=n2({type:e})}return e})(),Foe=(()=>{class e extends EV{static \u0275fac=(()=>{let r;return function(s){return(r||(r=O0(e)))(s||e)}})();static \u0275dir=n2({type:e,features:[h0]})}return e})(),r9=new I1("");var joe={provide:r9,useExisting:S4(()=>YC),multi:!0};function Boe(){let e=x8()?x8().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var Voe=new I1(""),YC=(()=>{class e extends EV{_compositionMode;_composing=!1;constructor(r,o,s){super(r,o),this._compositionMode=s,this._compositionMode==null&&(this._compositionMode=!Boe())}writeValue(r){let o=r??"";this.setProperty("value",o)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}static \u0275fac=function(o){return new(o||e)(X1(F6),X1(l2),X1(Voe,8))};static \u0275dir=n2({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(o,s){o&1&&O2("input",function(d){return s._handleInput(d.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(d){return s._compositionEnd(d.target.value)})},standalone:!1,features:[V0([joe]),h0]})}return e})();function b5(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}function SV(e){return e!=null&&typeof e.length=="number"}var a_=new I1(""),fD=new I1(""),Uoe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,x5=class{static min(n){return Hoe(n)}static max(n){return Goe(n)}static required(n){return $oe(n)}static requiredTrue(n){return qoe(n)}static email(n){return Woe(n)}static minLength(n){return Yoe(n)}static maxLength(n){return Zoe(n)}static pattern(n){return Koe(n)}static nullValidator(n){return LV(n)}static compose(n){return NV(n)}static composeAsync(n){return OV(n)}};function Hoe(e){return n=>{if(b5(n.value)||b5(e))return null;let r=parseFloat(n.value);return!isNaN(r)&&r<e?{min:{min:e,actual:n.value}}:null}}function Goe(e){return n=>{if(b5(n.value)||b5(e))return null;let r=parseFloat(n.value);return!isNaN(r)&&r>e?{max:{max:e,actual:n.value}}:null}}function $oe(e){return b5(e.value)?{required:!0}:null}function qoe(e){return e.value===!0?null:{required:!0}}function Woe(e){return b5(e.value)||Uoe.test(e.value)?null:{email:!0}}function Yoe(e){return n=>b5(n.value)||!SV(n.value)?null:n.value.length<e?{minlength:{requiredLength:e,actualLength:n.value.length}}:null}function Zoe(e){return n=>SV(n.value)&&n.value.length>e?{maxlength:{requiredLength:e,actualLength:n.value.length}}:null}function Koe(e){if(!e)return LV;let n,r;return typeof e=="string"?(r="",e.charAt(0)!=="^"&&(r+="^"),r+=e,e.charAt(e.length-1)!=="$"&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),o=>{if(b5(o.value))return null;let s=o.value;return n.test(s)?null:{pattern:{requiredPattern:r,actualValue:s}}}}function LV(e){return null}function AV(e){return e!=null}function kV(e){return d7(e)?X0(e):e}function TV(e){let n={};return e.forEach(r=>{n=r!=null?E1(E1({},n),r):n}),Object.keys(n).length===0?null:n}function DV(e,n){return n.map(r=>r(e))}function Xoe(e){return!e.validate}function IV(e){return e.map(n=>Xoe(n)?n:r=>n.validate(r))}function NV(e){if(!e)return null;let n=e.filter(AV);return n.length==0?null:function(r){return TV(DV(r,n))}}function hD(e){return e!=null?NV(IV(e)):null}function OV(e){if(!e)return null;let n=e.filter(AV);return n.length==0?null:function(r){let o=DV(r,n).map(kV);return j9(o).pipe(a2(TV))}}function pD(e){return e!=null?OV(IV(e)):null}function vV(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function zV(e){return e._rawValidators}function RV(e){return e._rawAsyncValidators}function cD(e){return e?Array.isArray(e)?e:[e]:[]}function BC(e,n){return Array.isArray(e)?e.includes(n):e===n}function _V(e,n){let r=cD(n);return cD(e).forEach(s=>{BC(r,s)||r.push(s)}),r}function bV(e,n){return cD(n).filter(r=>!BC(e,r))}var VC=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=hD(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=pD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,r){return this.control?this.control.hasError(n,r):!1}getError(n,r){return this.control?this.control.getError(n,r):null}},w5=class extends VC{name;get formDirective(){return null}get path(){return null}},Y6=class extends VC{_parent=null;name=null;valueAccessor=null},lD=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Qoe={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},A8e=R2(E1({},Qoe),{"[class.ng-submitted]":"isSubmitted"}),PV=(()=>{class e extends lD{constructor(r){super(r)}static \u0275fac=function(o){return new(o||e)(X1(Y6,2))};static \u0275dir=n2({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(o,s){o&2&&G2("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},standalone:!1,features:[h0]})}return e})();var n_="VALID",jC="INVALID",n9="PENDING",i_="DISABLED",C5=class{},UC=class extends C5{value;source;constructor(n,r){super(),this.value=n,this.source=r}},o_=class extends C5{pristine;source;constructor(n,r){super(),this.pristine=n,this.source=r}},s_=class extends C5{touched;source;constructor(n,r){super(),this.touched=n,this.source=r}},i9=class extends C5{status;source;constructor(n,r){super(),this.status=n,this.source=r}},uD=class extends C5{source;constructor(n){super(),this.source=n}},dD=class extends C5{source;constructor(n){super(),this.source=n}};function FV(e){return(ZC(e)?e.validators:e)||null}function Joe(e){return Array.isArray(e)?hD(e):e||null}function jV(e,n){return(ZC(n)?n.asyncValidators:e)||null}function ese(e){return Array.isArray(e)?pD(e):e||null}function ZC(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function tse(e,n,r){let o=e.controls;if(!(n?Object.keys(o):o).length)throw new z1(1e3,"");if(!o[r])throw new z1(1001,"")}function nse(e,n,r){e._forEachChild((o,s)=>{if(r[s]===void 0)throw new z1(1002,"")})}var HC=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,r){this._assignValidators(n),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return $4(this.statusReactive)}set status(n){$4(()=>this.statusReactive.set(n))}_status=y8(()=>this.statusReactive());statusReactive=d6(void 0);get valid(){return this.status===n_}get invalid(){return this.status===jC}get pending(){return this.status==n9}get disabled(){return this.status===i_}get enabled(){return this.status!==i_}errors;get pristine(){return $4(this.pristineReactive)}set pristine(n){$4(()=>this.pristineReactive.set(n))}_pristine=y8(()=>this.pristineReactive());pristineReactive=d6(!0);get dirty(){return!this.pristine}get touched(){return $4(this.touchedReactive)}set touched(n){$4(()=>this.touchedReactive.set(n))}_touched=y8(()=>this.touchedReactive());touchedReactive=d6(!1);get untouched(){return!this.touched}_events=new W1;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(_V(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(_V(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(bV(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(bV(n,this._rawAsyncValidators))}hasValidator(n){return BC(this._rawValidators,n)}hasAsyncValidator(n){return BC(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let r=this.touched===!1;this.touched=!0;let o=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(R2(E1({},n),{sourceControl:o})),r&&n.emitEvent!==!1&&this._events.next(new s_(!0,o))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(r=>r.markAllAsTouched(n))}markAsUntouched(n={}){let r=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let o=n.sourceControl??this;this._forEachChild(s=>{s.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:o})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,o),r&&n.emitEvent!==!1&&this._events.next(new s_(!1,o))}markAsDirty(n={}){let r=this.pristine===!0;this.pristine=!1;let o=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(R2(E1({},n),{sourceControl:o})),r&&n.emitEvent!==!1&&this._events.next(new o_(!1,o))}markAsPristine(n={}){let r=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let o=n.sourceControl??this;this._forEachChild(s=>{s.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,o),r&&n.emitEvent!==!1&&this._events.next(new o_(!0,o))}markAsPending(n={}){this.status=n9;let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new i9(this.status,r)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(R2(E1({},n),{sourceControl:r}))}disable(n={}){let r=this._parentMarkedDirty(n.onlySelf);this.status=i_,this.errors=null,this._forEachChild(s=>{s.disable(R2(E1({},n),{onlySelf:!0}))}),this._updateValue();let o=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new UC(this.value,o)),this._events.next(new i9(this.status,o)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(R2(E1({},n),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(s=>s(!0))}enable(n={}){let r=this._parentMarkedDirty(n.onlySelf);this.status=n_,this._forEachChild(o=>{o.enable(R2(E1({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(R2(E1({},n),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(n,r){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},r),this._parent._updateTouched({},r))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let o=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===n_||this.status===n9)&&this._runAsyncValidator(o,n.emitEvent)}let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new UC(this.value,r)),this._events.next(new i9(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(R2(E1({},n),{sourceControl:r}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?i_:n_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,r){if(this.asyncValidator){this.status=n9,this._hasOwnPendingAsyncValidator={emitEvent:r!==!1};let o=kV(this.asyncValidator(this));this._asyncValidationSubscription=o.subscribe(s=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(s,{emitEvent:r,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,r={}){this.errors=n,this._updateControlsErrors(r.emitEvent!==!1,this,r.shouldHaveEmitted)}get(n){let r=n;return r==null||(Array.isArray(r)||(r=r.split(".")),r.length===0)?null:r.reduce((o,s)=>o&&o._find(s),this)}getError(n,r){let o=r?this.get(r):this;return o&&o.errors?o.errors[n]:null}hasError(n,r){return!!this.getError(n,r)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,r,o){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||o)&&this._events.next(new i9(this.status,r)),this._parent&&this._parent._updateControlsErrors(n,r,o)}_initObservables(){this.valueChanges=new Z1,this.statusChanges=new Z1}_calculateStatus(){return this._allControlsDisabled()?i_:this.errors?jC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(n9)?n9:this._anyControlsHaveStatus(jC)?jC:n_}_anyControlsHaveStatus(n){return this._anyControls(r=>r.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,r){let o=!this._anyControlsDirty(),s=this.pristine!==o;this.pristine=o,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),s&&this._events.next(new o_(this.pristine,r))}_updateTouched(n={},r){this.touched=this._anyControlsTouched(),this._events.next(new s_(this.touched,r)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){ZC(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let r=this._parent&&this._parent.dirty;return!n&&!!r&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=Joe(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=ese(this._rawAsyncValidators)}},GC=class extends HC{constructor(n,r,o){super(FV(r),jV(o,r)),this.controls=n,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,r){return this.controls[n]?this.controls[n]:(this.controls[n]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(n,r,o={}){this.registerControl(n,r),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(n,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(n,r,o={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],r&&this.registerControl(n,r),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,r={}){nse(this,!0,n),Object.keys(n).forEach(o=>{tse(this,!0,o),this.controls[o].setValue(n[o],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(n,r={}){n!=null&&(Object.keys(n).forEach(o=>{let s=this.controls[o];s&&s.patchValue(n[o],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(n={},r={}){this._forEachChild((o,s)=>{o.reset(n?n[s]:null,{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r,this),this._updateTouched(r,this),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(n,r,o)=>(n[o]=r.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(r,o)=>o._syncPendingControls()?!0:r);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(r=>{let o=this.controls[r];o&&n(o,r)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[r,o]of Object.entries(this.controls))if(this.contains(r)&&n(o))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(r,o,s)=>((o.enabled||this.disabled)&&(r[s]=o.value),r))}_reduceChildren(n,r){let o=n;return this._forEachChild((s,l)=>{o=r(o,s,l)}),o}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var KC=new I1("CallSetDisabledState",{providedIn:"root",factory:()=>mD}),mD="always";function ise(e,n){return[...n.path,e]}function $C(e,n,r=mD){gD(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||r==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),ose(e,n),ase(e,n),sse(e,n),rse(e,n)}function xV(e,n,r=!0){let o=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(o),n.valueAccessor.registerOnTouched(o)),WC(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function qC(e,n){e.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(n)})}function rse(e,n){if(n.valueAccessor.setDisabledState){let r=o=>{n.valueAccessor.setDisabledState(o)};e.registerOnDisabledChange(r),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(r)})}}function gD(e,n){let r=zV(e);n.validator!==null?e.setValidators(vV(r,n.validator)):typeof r=="function"&&e.setValidators([r]);let o=RV(e);n.asyncValidator!==null?e.setAsyncValidators(vV(o,n.asyncValidator)):typeof o=="function"&&e.setAsyncValidators([o]);let s=()=>e.updateValueAndValidity();qC(n._rawValidators,s),qC(n._rawAsyncValidators,s)}function WC(e,n){let r=!1;if(e!==null){if(n.validator!==null){let s=zV(e);if(Array.isArray(s)&&s.length>0){let l=s.filter(d=>d!==n.validator);l.length!==s.length&&(r=!0,e.setValidators(l))}}if(n.asyncValidator!==null){let s=RV(e);if(Array.isArray(s)&&s.length>0){let l=s.filter(d=>d!==n.asyncValidator);l.length!==s.length&&(r=!0,e.setAsyncValidators(l))}}}let o=()=>{};return qC(n._rawValidators,o),qC(n._rawAsyncValidators,o),r}function ose(e,n){n.valueAccessor.registerOnChange(r=>{e._pendingValue=r,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&BV(e,n)})}function sse(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&BV(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function BV(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function ase(e,n){let r=(o,s)=>{n.valueAccessor.writeValue(o),s&&n.viewToModelUpdate(o)};e.registerOnChange(r),n._registerOnDestroy(()=>{e._unregisterOnChange(r)})}function VV(e,n){e==null,gD(e,n)}function cse(e,n){return WC(e,n)}function lse(e,n){if(!e.hasOwnProperty("model"))return!1;let r=e.model;return r.isFirstChange()?!0:!Object.is(n,r.currentValue)}function use(e){return Object.getPrototypeOf(e.constructor)===Foe}function UV(e,n){e._syncPendingControls(),n.forEach(r=>{let o=r.control;o.updateOn==="submit"&&o._pendingChange&&(r.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}function dse(e,n){if(!n)return null;Array.isArray(n);let r,o,s;return n.forEach(l=>{l.constructor===YC?r=l:use(l)?o=l:s=l}),s||o||r||null}function fse(e,n){let r=e.indexOf(n);r>-1&&e.splice(r,1)}var hse={provide:w5,useExisting:S4(()=>o9)},r_=Promise.resolve(),o9=(()=>{class e extends w5{callSetDisabledState;get submitted(){return $4(this.submittedReactive)}_submitted=y8(()=>this.submittedReactive());submittedReactive=d6(!1);_directives=new Set;form;ngSubmit=new Z1;options;constructor(r,o,s){super(),this.callSetDisabledState=s,this.form=new GC({},hD(r),pD(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){r_.then(()=>{let o=this._findContainer(r.path);r.control=o.registerControl(r.name,r.control),$C(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){r_.then(()=>{let o=this._findContainer(r.path);o&&o.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){r_.then(()=>{let o=this._findContainer(r.path),s=new GC({});VV(s,r),o.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){r_.then(()=>{let o=this._findContainer(r.path);o&&o.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,o){r_.then(()=>{this.form.get(r.path).setValue(o)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),UV(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}static \u0275fac=function(o){return new(o||e)(X1(a_,10),X1(fD,10),X1(KC,8))};static \u0275dir=n2({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(o,s){o&1&&O2("submit",function(d){return s.onSubmit(d)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[V0([hse]),h0]})}return e})();function wV(e,n){let r=e.indexOf(n);r>-1&&e.splice(r,1)}function CV(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var XC=class extends HC{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,r,o){super(FV(r),jV(o,r)),this._applyFormState(n),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ZC(r)&&(r.nonNullable||r.initialValueIsDefault)&&(CV(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,r={}){this.value=this._pendingValue=n,this._onChange.length&&r.emitModelToViewChange!==!1&&this._onChange.forEach(o=>o(this.value,r.emitViewToModelChange!==!1)),this.updateValueAndValidity(r)}patchValue(n,r={}){this.setValue(n,r)}reset(n=this.defaultValue,r={}){this._applyFormState(n),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){wV(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){wV(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){CV(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var pse=e=>e instanceof XC;var mse={provide:Y6,useExisting:S4(()=>yD)},MV=Promise.resolve(),yD=(()=>{class e extends Y6{_changeDetectorRef;callSetDisabledState;control=new XC;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Z1;constructor(r,o,s,l,d,h){super(),this._changeDetectorRef=d,this.callSetDisabledState=h,this._parent=r,this._setValidators(o),this._setAsyncValidators(s),this.valueAccessor=dse(this,l)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let o=r.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),lse(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){$C(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){MV.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let o=r.isDisabled.currentValue,s=o!==0&&p2(o);MV.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?ise(r,this._parent):[r]}static \u0275fac=function(o){return new(o||e)(X1(w5,9),X1(a_,10),X1(fD,10),X1(r9,10),X1(k0,8),X1(KC,8))};static \u0275dir=n2({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[V0([mse]),h0,A0]})}return e})();var gse={provide:w5,useExisting:S4(()=>s9)},s9=(()=>{class e extends w5{callSetDisabledState;get submitted(){return $4(this._submittedReactive)}set submitted(r){this._submittedReactive.set(r)}_submitted=y8(()=>this._submittedReactive());_submittedReactive=d6(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Z1;constructor(r,o,s){super(),this.callSetDisabledState=s,this._setValidators(r),this._setAsyncValidators(o)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(WC(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let o=this.form.get(r.path);return $C(o,r,this.callSetDisabledState),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),o}getControl(r){return this.form.get(r.path)}removeControl(r){xV(r.control||null,r,!1),fse(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,o){this.form.get(r.path).setValue(o)}onSubmit(r){return this._submittedReactive.set(!0),UV(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new uD(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this._submittedReactive.set(!1),this.form._events.next(new dD(this.form))}_updateDomValue(){this.directives.forEach(r=>{let o=r.control,s=this.form.get(r.path);o!==s&&(xV(o||null,r),pse(s)&&($C(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let o=this.form.get(r.path);VV(o,r),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let o=this.form.get(r.path);o&&cse(o,r)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gD(this.form,this),this._oldForm&&WC(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(o){return new(o||e)(X1(a_,10),X1(fD,10),X1(KC,8))};static \u0275dir=n2({type:e,selectors:[["","formGroup",""]],hostBindings:function(o,s){o&1&&O2("submit",function(d){return s.onSubmit(d)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[V0([gse]),h0,A0]})}return e})();var yse=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=r2({type:e});static \u0275inj=i2({})}return e})();var QC=(()=>{class e{static withConfig(r){return{ngModule:e,providers:[{provide:KC,useValue:r.callSetDisabledState??mD}]}}static \u0275fac=function(o){return new(o||e)};static \u0275mod=r2({type:e});static \u0275inj=i2({imports:[yse]})}return e})();var _se=["*"],JC;function bse(){if(JC===void 0&&(JC=null,typeof window<"u")){let e=window;e.trustedTypes!==void 0&&(JC=e.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return JC}function c_(e){return bse()?.createHTML(e)||e}function HV(e){return Error(`Unable to find icon with the name "${e}"`)}function xse(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function GV(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function $V(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}var T8=class{url;svgText;options;svgElement;constructor(n,r,o){this.url=n,this.svgText=r,this.options=o}},wse=(()=>{class e{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(r,o,s,l){this._httpClient=r,this._sanitizer=o,this._errorHandler=l,this._document=s}addSvgIcon(r,o,s){return this.addSvgIconInNamespace("",r,o,s)}addSvgIconLiteral(r,o,s){return this.addSvgIconLiteralInNamespace("",r,o,s)}addSvgIconInNamespace(r,o,s,l){return this._addSvgIconConfig(r,o,new T8(s,null,l))}addSvgIconResolver(r){return this._resolvers.push(r),this}addSvgIconLiteralInNamespace(r,o,s,l){let d=this._sanitizer.sanitize(o4.HTML,s);if(!d)throw $V(s);let h=c_(d);return this._addSvgIconConfig(r,o,new T8("",h,l))}addSvgIconSet(r,o){return this.addSvgIconSetInNamespace("",r,o)}addSvgIconSetLiteral(r,o){return this.addSvgIconSetLiteralInNamespace("",r,o)}addSvgIconSetInNamespace(r,o,s){return this._addSvgIconSetConfig(r,new T8(o,null,s))}addSvgIconSetLiteralInNamespace(r,o,s){let l=this._sanitizer.sanitize(o4.HTML,o);if(!l)throw $V(o);let d=c_(l);return this._addSvgIconSetConfig(r,new T8("",d,s))}registerFontClassAlias(r,o=r){return this._fontCssClassesByAlias.set(r,o),this}classNameForFontAlias(r){return this._fontCssClassesByAlias.get(r)||r}setDefaultFontSetClass(...r){return this._defaultFontSetClass=r,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(r){let o=this._sanitizer.sanitize(o4.RESOURCE_URL,r);if(!o)throw GV(r);let s=this._cachedIconsByUrl.get(o);return s?s2(eM(s)):this._loadSvgIconFromConfig(new T8(r,null)).pipe(B0(l=>this._cachedIconsByUrl.set(o,l)),a2(l=>eM(l)))}getNamedSvgIcon(r,o=""){let s=qV(o,r),l=this._svgIconConfigs.get(s);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(o,r),l)return this._svgIconConfigs.set(s,l),this._getSvgFromConfig(l);let d=this._iconSetConfigs.get(o);return d?this._getSvgFromIconSetConfigs(r,d):Y8(HV(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(r){return r.svgText?s2(eM(this._svgElementFromConfig(r))):this._loadSvgIconFromConfig(r).pipe(a2(o=>eM(o)))}_getSvgFromIconSetConfigs(r,o){let s=this._extractIconWithNameFromAnySet(r,o);if(s)return s2(s);let l=o.filter(d=>!d.svgText).map(d=>this._loadSvgIconSetFromConfig(d).pipe(T6(h=>{let g=`Loading icon set URL: ${this._sanitizer.sanitize(o4.RESOURCE_URL,d.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(g)),s2(null)})));return j9(l).pipe(a2(()=>{let d=this._extractIconWithNameFromAnySet(r,o);if(!d)throw HV(r);return d}))}_extractIconWithNameFromAnySet(r,o){for(let s=o.length-1;s>=0;s--){let l=o[s];if(l.svgText&&l.svgText.toString().indexOf(r)>-1){let d=this._svgElementFromConfig(l),h=this._extractSvgIconFromSet(d,r,l.options);if(h)return h}}return null}_loadSvgIconFromConfig(r){return this._fetchIcon(r).pipe(B0(o=>r.svgText=o),a2(()=>this._svgElementFromConfig(r)))}_loadSvgIconSetFromConfig(r){return r.svgText?s2(null):this._fetchIcon(r).pipe(B0(o=>r.svgText=o))}_extractSvgIconFromSet(r,o,s){let l=r.querySelector(`[id="${o}"]`);if(!l)return null;let d=l.cloneNode(!0);if(d.removeAttribute("id"),d.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(d,s);if(d.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(d),s);let h=this._svgElementFromString(c_("<svg></svg>"));return h.appendChild(d),this._setSvgAttributes(h,s)}_svgElementFromString(r){let o=this._document.createElement("DIV");o.innerHTML=r;let s=o.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(r){let o=this._svgElementFromString(c_("<svg></svg>")),s=r.attributes;for(let l=0;l<s.length;l++){let{name:d,value:h}=s[l];d!=="id"&&o.setAttribute(d,h)}for(let l=0;l<r.childNodes.length;l++)r.childNodes[l].nodeType===this._document.ELEMENT_NODE&&o.appendChild(r.childNodes[l].cloneNode(!0));return o}_setSvgAttributes(r,o){return r.setAttribute("fit",""),r.setAttribute("height","100%"),r.setAttribute("width","100%"),r.setAttribute("preserveAspectRatio","xMidYMid meet"),r.setAttribute("focusable","false"),o&&o.viewBox&&r.setAttribute("viewBox",o.viewBox),r}_fetchIcon(r){let{url:o,options:s}=r,l=s?.withCredentials??!1;if(!this._httpClient)throw xse();if(o==null)throw Error(`Cannot fetch icon from URL "${o}".`);let d=this._sanitizer.sanitize(o4.RESOURCE_URL,o);if(!d)throw GV(o);let h=this._inProgressUrlFetches.get(d);if(h)return h;let p=this._httpClient.get(d,{responseType:"text",withCredentials:l}).pipe(a2(g=>c_(g)),Q8(()=>this._inProgressUrlFetches.delete(d)),B9());return this._inProgressUrlFetches.set(d,p),p}_addSvgIconConfig(r,o,s){return this._svgIconConfigs.set(qV(r,o),s),this}_addSvgIconSetConfig(r,o){let s=this._iconSetConfigs.get(r);return s?s.push(o):this._iconSetConfigs.set(r,[o]),this}_svgElementFromConfig(r){if(!r.svgElement){let o=this._svgElementFromString(r.svgText);this._setSvgAttributes(o,r.options),r.svgElement=o}return r.svgElement}_getIconConfigFromResolvers(r,o){for(let s=0;s<this._resolvers.length;s++){let l=this._resolvers[s](o,r);if(l)return Cse(l)?new T8(l.url,null,l.options):new T8(l,null)}}static \u0275fac=function(o){return new(o||e)(K1(fF,8),K1(yA),K1(T2,8),K1(d4))};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function eM(e){return e.cloneNode(!0)}function qV(e,n){return e+":"+n}function Cse(e){return!!(e.url&&e.options)}var Mse=new I1("MAT_ICON_DEFAULT_OPTIONS"),Ese=new I1("mat-icon-location",{providedIn:"root",factory:Sse});function Sse(){let e=Ua(T2),n=e?e.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}var WV=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Lse=WV.map(e=>`[${e}]`).join(", "),Ase=/^url\(['"]?#(.*?)['"]?\)$/,tM=(()=>{class e{_elementRef=Ua(l2);_iconRegistry=Ua(wse);_location=Ua(Ese);_errorHandler=Ua(d4);_defaultColor;get color(){return this._color||this._defaultColor}set color(r){this._color=r}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(r){r!==this._svgIcon&&(r?this._updateSvgIcon(r):this._svgIcon&&this._clearSvgElement(),this._svgIcon=r)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(r){let o=this._cleanupFontValue(r);o!==this._fontSet&&(this._fontSet=o,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(r){let o=this._cleanupFontValue(r);o!==this._fontIcon&&(this._fontIcon=o,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=A2.EMPTY;constructor(){let r=Ua(new c6("aria-hidden"),{optional:!0}),o=Ua(Mse,{optional:!0});o&&(o.color&&(this.color=this._defaultColor=o.color),o.fontSet&&(this.fontSet=o.fontSet)),r||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(r){if(!r)return["",""];let o=r.split(":");switch(o.length){case 1:return["",o[0]];case 2:return o;default:throw Error(`Invalid icon name: "${r}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let r=this._elementsWithExternalReferences;if(r&&r.size){let o=this._location.getPathname();o!==this._previousPath&&(this._previousPath=o,this._prependPathToReferences(o))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(r){this._clearSvgElement();let o=this._location.getPathname();this._previousPath=o,this._cacheChildrenWithExternalReferences(r),this._prependPathToReferences(o),this._elementRef.nativeElement.appendChild(r)}_clearSvgElement(){let r=this._elementRef.nativeElement,o=r.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();o--;){let s=r.childNodes[o];(s.nodeType!==1||s.nodeName.toLowerCase()==="svg")&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let r=this._elementRef.nativeElement,o=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(s=>s.length>0);this._previousFontSetClass.forEach(s=>r.classList.remove(s)),o.forEach(s=>r.classList.add(s)),this._previousFontSetClass=o,this.fontIcon!==this._previousFontIconClass&&!o.includes("mat-ligature-font")&&(this._previousFontIconClass&&r.classList.remove(this._previousFontIconClass),this.fontIcon&&r.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(r){return typeof r=="string"?r.trim().split(" ")[0]:r}_prependPathToReferences(r){let o=this._elementsWithExternalReferences;o&&o.forEach((s,l)=>{s.forEach(d=>{l.setAttribute(d.name,`url('${r}#${d.value}')`)})})}_cacheChildrenWithExternalReferences(r){let o=r.querySelectorAll(Lse),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<o.length;l++)WV.forEach(d=>{let h=o[l],p=h.getAttribute(d),g=p?p.match(Ase):null;if(g){let y=s.get(h);y||(y=[],s.set(h,y)),y.push({name:d,value:g[1]})}})}_updateSvgIcon(r){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),r){let[o,s]=this._splitIconName(r);o&&(this._svgNamespace=o),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,o).pipe(g3(1)).subscribe(l=>this._setSvgElement(l),l=>{let d=`Error retrieving icon ${o}:${s}! ${l.message}`;this._errorHandler.handleError(new Error(d))})}}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=C2({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(o,s){o&2&&(W2("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet)("fontIcon",s._usingFontIcon()?s.fontIcon:null),h6(s.color?"mat-"+s.color:""),G2("mat-icon-inline",s.inline)("mat-icon-no-color",s.color!=="primary"&&s.color!=="accent"&&s.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",p2],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[z0],ngContentSelectors:_se,decls:1,vars:0,template:function(o,s){o&1&&(Q0(),e0(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return e})();var YV=["mat-button",""],ZV=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],KV=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],kse='.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width, 1px);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-focus-indicator::before,.mat-mdc-raised-button:focus .mat-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}',XV="@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button{outline:solid 1px}}";var Tse=["mat-icon-button",""],Dse=["*"];var Ise=new I1("MAT_BUTTON_CONFIG");var Nse=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],vD=(()=>{class e{_elementRef=Ua(l2);_platform=Ua(E0);_ngZone=Ua(c2);_animationMode=Ua(r4,{optional:!0});_focusMonitor=Ua(Qv);_rippleLoader=Ua(pV);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(r){this._disableRipple=r,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(r){this._disabled=r,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){Ua(u3).load(_5);let r=Ua(Ise,{optional:!0}),o=this._elementRef.nativeElement,s=o.classList;this.disabledInteractive=r?.disabledInteractive??!1,this.color=r?.color??null,this._rippleLoader?.configureRipple(o,{className:"mat-mdc-button-ripple"});for(let{attribute:l,mdcClasses:d}of Nse)o.hasAttribute(l)&&s.add(...d)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(r="program",o){r?this._focusMonitor.focusVia(this._elementRef.nativeElement,r,o):this._elementRef.nativeElement.focus(o)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(o){return new(o||e)};static \u0275dir=n2({type:e,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",p2],disabled:[2,"disabled","disabled",p2],ariaDisabled:[2,"aria-disabled","ariaDisabled",p2],disabledInteractive:[2,"disabledInteractive","disabledInteractive",p2]},features:[z0]})}return e})();var Ose=(()=>{class e extends vD{tabIndex;ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_haltDisabledEvents=r=>{this.disabled&&(r.preventDefault(),r.stopImmediatePropagation())};_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled||null}static \u0275fac=(()=>{let r;return function(s){return(r||(r=O0(e)))(s||e)}})();static \u0275dir=n2({type:e,inputs:{tabIndex:[2,"tabIndex","tabIndex",r=>r==null?void 0:Ny(r)]},features:[z0,h0]})}return e})(),_D=(()=>{class e extends vD{static \u0275fac=(()=>{let r;return function(s){return(r||(r=O0(e)))(s||e)}})();static \u0275cmp=C2({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(o,s){o&2&&(W2("disabled",s._getDisabledAttribute())("aria-disabled",s._getAriaDisabled()),h6(s.color?"mat-"+s.color:""),G2("mat-mdc-button-disabled",s.disabled)("mat-mdc-button-disabled-interactive",s.disabledInteractive)("_mat-animation-noopable",s._animationMode==="NoopAnimations")("mat-unthemed",!s.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[h0],attrs:YV,ngContentSelectors:KV,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(o,s){o&1&&(Q0(ZV),E2(0,"span",0),e0(1),g1(2,"span",1),e0(3,1),v1(),e0(4,2),E2(5,"span",2)(6,"span",3)),o&2&&G2("mdc-button__ripple",!s._isFab)("mdc-fab__ripple",s._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width, 1px);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-focus-indicator::before,.mat-mdc-raised-button:focus .mat-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}',"@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button{outline:solid 1px}}"],encapsulation:2,changeDetection:0})}return e})(),nM=(()=>{class e extends Ose{static \u0275fac=(()=>{let r;return function(s){return(r||(r=O0(e)))(s||e)}})();static \u0275cmp=C2({type:e,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(o,s){o&2&&(W2("disabled",s._getDisabledAttribute())("tabindex",s.disabled&&!s.disabledInteractive?-1:s.tabIndex)("aria-disabled",s._getAriaDisabled()),h6(s.color?"mat-"+s.color:""),G2("mat-mdc-button-disabled",s.disabled)("mat-mdc-button-disabled-interactive",s.disabledInteractive)("_mat-animation-noopable",s._animationMode==="NoopAnimations")("mat-unthemed",!s.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],features:[h0],attrs:YV,ngContentSelectors:KV,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(o,s){o&1&&(Q0(ZV),E2(0,"span",0),e0(1),g1(2,"span",1),e0(3,1),v1(),e0(4,2),E2(5,"span",2)(6,"span",3)),o&2&&G2("mdc-button__ripple",!s._isFab)("mdc-fab__ripple",s._isFab)},styles:[kse,XV],encapsulation:2,changeDetection:0})}return e})();var bD=(()=>{class e extends vD{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=C2({type:e,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(o,s){o&2&&(W2("disabled",s._getDisabledAttribute())("aria-disabled",s._getAriaDisabled()),h6(s.color?"mat-"+s.color:""),G2("mat-mdc-button-disabled",s.disabled)("mat-mdc-button-disabled-interactive",s.disabledInteractive)("_mat-animation-noopable",s._animationMode==="NoopAnimations")("mat-unthemed",!s.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[h0],attrs:Tse,ngContentSelectors:Dse,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(o,s){o&1&&(Q0(),E2(0,"span",0),e0(1),E2(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 40px);height:var(--mdc-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 40px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size, 24px);color:var(--mdc-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display, block)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',XV],encapsulation:2,changeDetection:0})}return e})();var a9=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=r2({type:e});static \u0275inj=i2({imports:[P0,t9,P0]})}return e})();var c9=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new W1;constructor(n=!1,r,o=!0,s){this._multiple=n,this._emitChanges=o,this.compareWith=s,r&&r.length&&(n?r.forEach(l=>this._markSelected(l)):this._markSelected(r[0]),this._selectedToEmit.length=0)}select(...n){this._verifyValueAssignment(n),n.forEach(o=>this._markSelected(o));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}deselect(...n){this._verifyValueAssignment(n),n.forEach(o=>this._unmarkSelected(o));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}setSelection(...n){this._verifyValueAssignment(n);let r=this.selected,o=new Set(n);n.forEach(l=>this._markSelected(l)),r.filter(l=>!o.has(this._getConcreteValue(l,o))).forEach(l=>this._unmarkSelected(l));let s=this._hasQueuedChanges();return this._emitChangeEvent(),s}toggle(n){return this.isSelected(n)?this.deselect(n):this.select(n)}clear(n=!0){this._unmarkAll();let r=this._hasQueuedChanges();return n&&this._emitChangeEvent(),r}isSelected(n){return this._selection.has(this._getConcreteValue(n))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(n){this._multiple&&this.selected&&this._selected.sort(n)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(n){n=this._getConcreteValue(n),this.isSelected(n)||(this._multiple||this._unmarkAll(),this.isSelected(n)||this._selection.add(n),this._emitChanges&&this._selectedToEmit.push(n))}_unmarkSelected(n){n=this._getConcreteValue(n),this.isSelected(n)&&(this._selection.delete(n),this._emitChanges&&this._deselectedToEmit.push(n))}_unmarkAll(){this.isEmpty()||this._selection.forEach(n=>this._unmarkSelected(n))}_verifyValueAssignment(n){n.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(n,r){if(this.compareWith){r=r??this._selection;for(let o of r)if(this.compareWith(n,o))return o;return n}else return n}};var zse=["button"],Rse=["*"];function Pse(e,n){if(e&1&&(g1(0,"div",2),E2(1,"mat-pseudo-checkbox",6),v1()),e&2){let r=S2();D1(),d2("disabled",r.disabled)}}var JV=new I1("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:Fse});function Fse(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1,disabledInteractive:!1}}var eU=new I1("MatButtonToggleGroup"),jse={provide:r9,useExisting:S4(()=>xD),multi:!0},iM=class{source;value;constructor(n,r){this.source=n,this.value=r}},xD=(()=>{class e{_changeDetector=Ua(k0);_dir=Ua(N3,{optional:!0});_multiple=!1;_disabled=!1;_disabledInteractive=!1;_selectionModel;_rawValue;_controlValueAccessorChangeFn=()=>{};_onTouched=()=>{};_buttonToggles;appearance;get name(){return this._name}set name(r){this._name=r,this._markButtonsForCheck()}_name=Ua(M3).getId("mat-button-toggle-group-");vertical;get value(){let r=this._selectionModel?this._selectionModel.selected:[];return this.multiple?r.map(o=>o.value):r[0]?r[0].value:void 0}set value(r){this._setSelectionByValue(r),this.valueChange.emit(this.value)}valueChange=new Z1;get selected(){let r=this._selectionModel?this._selectionModel.selected:[];return this.multiple?r:r[0]||null}get multiple(){return this._multiple}set multiple(r){this._multiple=r,this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(r){this._disabled=r,this._markButtonsForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(r){this._disabledInteractive=r,this._markButtonsForCheck()}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}change=new Z1;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(r){this._hideSingleSelectionIndicator=r,this._markButtonsForCheck()}_hideSingleSelectionIndicator;get hideMultipleSelectionIndicator(){return this._hideMultipleSelectionIndicator}set hideMultipleSelectionIndicator(r){this._hideMultipleSelectionIndicator=r,this._markButtonsForCheck()}_hideMultipleSelectionIndicator;constructor(){let r=Ua(JV,{optional:!0});this.appearance=r&&r.appearance?r.appearance:"standard",this.hideSingleSelectionIndicator=r?.hideSingleSelectionIndicator??!1,this.hideMultipleSelectionIndicator=r?.hideMultipleSelectionIndicator??!1}ngOnInit(){this._selectionModel=new c9(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(r=>r.checked)),this.multiple||this._initializeTabIndex()}writeValue(r){this.value=r,this._changeDetector.markForCheck()}registerOnChange(r){this._controlValueAccessorChangeFn=r}registerOnTouched(r){this._onTouched=r}setDisabledState(r){this.disabled=r}_keydown(r){if(this.multiple||this.disabled)return;let s=r.target.id,l=this._buttonToggles.toArray().findIndex(h=>h.buttonId===s),d=null;switch(r.keyCode){case 32:case 13:d=this._buttonToggles.get(l)||null;break;case 38:d=this._getNextButton(l,-1);break;case 37:d=this._getNextButton(l,this.dir==="ltr"?-1:1);break;case 40:d=this._getNextButton(l,1);break;case 39:d=this._getNextButton(l,this.dir==="ltr"?1:-1);break;default:return}d&&(r.preventDefault(),d._onButtonClick(),d.focus())}_emitChangeEvent(r){let o=new iM(r,this.value);this._rawValue=o.value,this._controlValueAccessorChangeFn(o.value),this.change.emit(o)}_syncButtonToggle(r,o,s=!1,l=!1){!this.multiple&&this.selected&&!r.checked&&(this.selected.checked=!1),this._selectionModel?o?this._selectionModel.select(r):this._selectionModel.deselect(r):l=!0,l?Promise.resolve().then(()=>this._updateModelValue(r,s)):this._updateModelValue(r,s)}_isSelected(r){return this._selectionModel&&this._selectionModel.isSelected(r)}_isPrechecked(r){return typeof this._rawValue>"u"?!1:this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(o=>r.value!=null&&o===r.value):r.value===this._rawValue}_initializeTabIndex(){if(this._buttonToggles.forEach(r=>{r.tabIndex=-1}),this.selected)this.selected.tabIndex=0;else for(let r=0;r<this._buttonToggles.length;r++){let o=this._buttonToggles.get(r);if(!o.disabled){o.tabIndex=0;break}}this._markButtonsForCheck()}_getNextButton(r,o){let s=this._buttonToggles;for(let l=1;l<=s.length;l++){let d=(r+o*l+s.length)%s.length,h=s.get(d);if(h&&!h.disabled)return h}return null}_setSelectionByValue(r){this._rawValue=r,this._buttonToggles&&(this.multiple&&r?(Array.isArray(r),this._clearSelection(),r.forEach(o=>this._selectValue(o))):(this._clearSelection(),this._selectValue(r)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(r=>{r.checked=!1,this.multiple||(r.tabIndex=-1)})}_selectValue(r){let o=this._buttonToggles.find(s=>s.value!=null&&s.value===r);o&&(o.checked=!0,this._selectionModel.select(o),this.multiple||(o.tabIndex=0))}_updateModelValue(r,o){o&&this._emitChangeEvent(r),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(r=>r._markForCheck())}static \u0275fac=function(o){return new(o||e)};static \u0275dir=n2({type:e,selectors:[["mat-button-toggle-group"]],contentQueries:function(o,s,l){if(o&1&&y3(l,wD,5),o&2){let d;F2(d=j2())&&(s._buttonToggles=d)}},hostAttrs:[1,"mat-button-toggle-group"],hostVars:6,hostBindings:function(o,s){o&1&&O2("keydown",function(d){return s._keydown(d)}),o&2&&(W2("role",s.multiple?"group":"radiogroup")("aria-disabled",s.disabled),G2("mat-button-toggle-vertical",s.vertical)("mat-button-toggle-group-appearance-standard",s.appearance==="standard"))},inputs:{appearance:"appearance",name:"name",vertical:[2,"vertical","vertical",p2],value:"value",multiple:[2,"multiple","multiple",p2],disabled:[2,"disabled","disabled",p2],disabledInteractive:[2,"disabledInteractive","disabledInteractive",p2],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",p2],hideMultipleSelectionIndicator:[2,"hideMultipleSelectionIndicator","hideMultipleSelectionIndicator",p2]},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[V0([jse,{provide:eU,useExisting:e}]),z0]})}return e})(),wD=(()=>{class e{_changeDetectorRef=Ua(k0);_elementRef=Ua(l2);_focusMonitor=Ua(Qv);_idGenerator=Ua(M3);_animationMode=Ua(r4,{optional:!0});_checked=!1;ariaLabel;ariaLabelledby=null;_buttonElement;buttonToggleGroup;get buttonId(){return`${this.id}-button`}id;name;value;get tabIndex(){return this._tabIndex}set tabIndex(r){this._tabIndex=r,this._markForCheck()}_tabIndex;disableRipple;get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(r){this._appearance=r}_appearance;get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(r){r!==this._checked&&(this._checked=r,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(r){this._disabled=r}_disabled=!1;get disabledInteractive(){return this._disabledInteractive||this.buttonToggleGroup!==null&&this.buttonToggleGroup.disabledInteractive}set disabledInteractive(r){this._disabledInteractive=r}_disabledInteractive;change=new Z1;constructor(){Ua(u3).load(_5);let r=Ua(eU,{optional:!0}),o=Ua(new c6("tabindex"),{optional:!0}),s=Ua(JV,{optional:!0}),l=Number(o);this.tabIndex=l||l===0?l:null,this.buttonToggleGroup=r,this.appearance=s&&s.appearance?s.appearance:"standard",this.disabledInteractive=s?.disabledInteractive??!1}ngOnInit(){let r=this.buttonToggleGroup;this.id=this.id||this._idGenerator.getId("mat-button-toggle-"),r&&(r._isPrechecked(this)?this.checked=!0:r._isSelected(this)!==this._checked&&r._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._animationMode!=="NoopAnimations"&&this._elementRef.nativeElement.classList.add("mat-button-toggle-animations-enabled"),this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){let r=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),r&&r._isSelected(this)&&r._syncButtonToggle(this,!1,!1,!0)}focus(r){this._buttonElement.nativeElement.focus(r)}_onButtonClick(){if(this.disabled)return;let r=this.isSingleSelector()?!0:!this._checked;if(r!==this._checked&&(this._checked=r,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){let o=this.buttonToggleGroup._buttonToggles.find(s=>s.tabIndex===0);o&&(o.tabIndex=-1),this.tabIndex=0}this.change.emit(new iM(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=C2({type:e,selectors:[["mat-button-toggle"]],viewQuery:function(o,s){if(o&1&&g0(zse,5),o&2){let l;F2(l=j2())&&(s._buttonElement=l.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:14,hostBindings:function(o,s){o&1&&O2("focus",function(){return s.focus()}),o&2&&(W2("aria-label",null)("aria-labelledby",null)("id",s.id)("name",null),G2("mat-button-toggle-standalone",!s.buttonToggleGroup)("mat-button-toggle-checked",s.checked)("mat-button-toggle-disabled",s.disabled)("mat-button-toggle-disabled-interactive",s.disabledInteractive)("mat-button-toggle-appearance-standard",s.appearance==="standard"))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",p2],appearance:"appearance",checked:[2,"checked","checked",p2],disabled:[2,"disabled","disabled",p2],disabledInteractive:[2,"disabledInteractive","disabledInteractive",p2]},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[z0],ngContentSelectors:Rse,decls:7,vars:13,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-checkbox-wrapper"],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"],["state","checked","aria-hidden","true","appearance","minimal",3,"disabled"]],template:function(o,s){if(o&1){let l=G3();Q0(),g1(0,"button",1,0),O2("click",function(){return n0(l),i0(s._onButtonClick())}),J2(2,Pse,2,1,"div",2),g1(3,"span",3),e0(4),v1()(),E2(5,"span",4)(6,"span",5)}if(o&2){let l=B6(1);d2("id",s.buttonId)("disabled",s.disabled&&!s.disabledInteractive||null),W2("role",s.isSingleSelector()?"radio":"button")("tabindex",s.disabled&&!s.disabledInteractive?-1:s.tabIndex)("aria-pressed",s.isSingleSelector()?null:s.checked)("aria-checked",s.isSingleSelector()?s.checked:null)("name",s._getButtonName())("aria-label",s.ariaLabel)("aria-labelledby",s.ariaLabelledby)("aria-disabled",s.disabled&&s.disabledInteractive?"true":null),D1(2),C0(s.buttonToggleGroup&&(!s.buttonToggleGroup.multiple&&!s.buttonToggleGroup.hideSingleSelectionIndicator||s.buttonToggleGroup.multiple&&!s.buttonToggleGroup.hideMultipleSelectionIndicator)?2:-1),D1(4),d2("matRippleTrigger",l)("matRippleDisabled",s.disableRipple||s.disabled)}},dependencies:[tD,nD],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}@media(forced-colors: active){.mat-button-toggle-standalone,.mat-button-toggle-group{outline:solid 1px}}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-full));border:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-sys-on-secondary-container))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}@media(forced-colors: active){.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{outline:0}}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-legacy-button-toggle-selected-state-text-color)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle-checkbox-wrapper{display:inline-block;justify-content:flex-start;align-items:center;width:0;height:18px;line-height:18px;overflow:hidden;box-sizing:border-box;position:absolute;top:50%;left:16px;transform:translate3d(0, -50%, 0)}[dir=rtl] .mat-button-toggle-checkbox-wrapper{left:auto;right:16px}.mat-button-toggle-appearance-standard .mat-button-toggle-checkbox-wrapper{left:12px}[dir=rtl] .mat-button-toggle-appearance-standard .mat-button-toggle-checkbox-wrapper{left:auto;right:12px}.mat-button-toggle-checked .mat-button-toggle-checkbox-wrapper{width:18px}.mat-button-toggle-animations-enabled .mat-button-toggle-checkbox-wrapper{transition:width 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-button-toggle-vertical .mat-button-toggle-checkbox-wrapper{transition:none}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{pointer-events:none;color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-legacy-button-toggle-disabled-state-text-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-disabled-interactive{pointer-events:auto}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color, var(--mat-sys-on-surface));background-color:var(--mat-standard-button-toggle-background-color, transparent);font-family:var(--mat-standard-button-toggle-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-standard-button-toggle-label-text-size, var(--mat-sys-label-large-size));line-height:var(--mat-standard-button-toggle-label-text-line-height, var(--mat-sys-label-large-line-height));font-weight:var(--mat-standard-button-toggle-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mat-standard-button-toggle-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-sys-outline))}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-standard-button-toggle-selected-state-background-color, var(--mat-sys-secondary-container))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-standard-button-toggle-disabled-state-background-color, transparent)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-standard-button-toggle-disabled-selected-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color, var(--mat-sys-on-surface))}.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-button-toggle-appearance-standard.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}@media(hover: none){.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height, 40px)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}@media(forced-colors: active){.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-animations-enabled .mat-button-toggle-button{transition:padding 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-button-toggle-vertical .mat-button-toggle-button{transition:none}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-checked .mat-button-toggle-button:has(.mat-button-toggle-checkbox-wrapper){padding-left:30px}[dir=rtl] .mat-button-toggle-checked .mat-button-toggle-button:has(.mat-button-toggle-checkbox-wrapper){padding-left:0;padding-right:30px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-full));border-bottom-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-full));border-bottom-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-full))}"],encapsulation:2,changeDetection:0})}return e})();var Use=20,CD=(()=>{class e{_ngZone=Ua(c2);_platform=Ua(E0);_document=Ua(T2,{optional:!0});constructor(){}_scrolled=new W1;_globalSubscription=null;_scrolledCount=0;scrollContainers=new Map;register(r){this.scrollContainers.has(r)||this.scrollContainers.set(r,r.elementScrolled().subscribe(()=>this._scrolled.next(r)))}deregister(r){let o=this.scrollContainers.get(r);o&&(o.unsubscribe(),this.scrollContainers.delete(r))}scrolled(r=Use){return this._platform.isBrowser?new U2(o=>{this._globalSubscription||this._addGlobalListener();let s=r>0?this._scrolled.pipe(mx(r)).subscribe(o):this._scrolled.subscribe(o);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):s2()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((r,o)=>this.deregister(o)),this._scrolled.complete()}ancestorScrolled(r,o){let s=this.getAncestorScrollContainers(r);return this.scrolled(o).pipe(d0(l=>!l||s.indexOf(l)>-1))}getAncestorScrollContainers(r){let o=[];return this.scrollContainers.forEach((s,l)=>{this._scrollableContainsElement(l,r)&&o.push(l)}),o}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(r,o){let s=K4(o),l=r.getElementRef().nativeElement;do if(s==l)return!0;while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let r=this._getWindow();return q5(r.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Hse=20,l9=(()=>{class e{_platform=Ua(E0);_viewportSize;_change=new W1;_changeListener=r=>{this._change.next(r)};_document=Ua(T2,{optional:!0});constructor(){Ua(c2).runOutsideAngular(()=>{if(this._platform.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let r=this._getWindow();r.removeEventListener("resize",this._changeListener),r.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let r={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),r}getViewportRect(){let r=this.getViewportScrollPosition(),{width:o,height:s}=this.getViewportSize();return{top:r.top,left:r.left,bottom:r.top+s,right:r.left+o,height:s,width:o}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let r=this._document,o=this._getWindow(),s=r.documentElement,l=s.getBoundingClientRect(),d=-l.top||r.body.scrollTop||o.scrollY||s.scrollTop||0,h=-l.left||r.body.scrollLeft||o.scrollX||s.scrollLeft||0;return{top:d,left:h}}change(r=Hse){return r>0?this._change.pipe(mx(r)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let r=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:r.innerWidth,height:r.innerHeight}:{width:0,height:0}}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var D8=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=r2({type:e});static \u0275inj=i2({})}return e})(),MD=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=r2({type:e});static \u0275inj=i2({imports:[W6,D8,W6,D8]})}return e})();var l_=class{_attachedHost;attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;n!=null&&(this._attachedHost=null,n.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(n){this._attachedHost=n}},u9=class extends l_{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(n,r,o,s,l){super(),this.component=n,this.viewContainerRef=r,this.injector=o,this.projectableNodes=l}},d9=class extends l_{templateRef;viewContainerRef;context;injector;constructor(n,r,o,s){super(),this.templateRef=n,this.viewContainerRef=r,this.context=o,this.injector=s}get origin(){return this.templateRef.elementRef}attach(n,r=this.context){return this.context=r,super.attach(n)}detach(){return this.context=void 0,super.detach()}},ED=class extends l_{element;constructor(n){super(),this.element=n instanceof l2?n.nativeElement:n}},rM=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(n){if(n instanceof u9)return this._attachedPortal=n,this.attachComponentPortal(n);if(n instanceof d9)return this._attachedPortal=n,this.attachTemplatePortal(n);if(this.attachDomPortal&&n instanceof ED)return this._attachedPortal=n,this.attachDomPortal(n)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var oM=class extends rM{outletElement;_appRef;_defaultInjector;_document;constructor(n,r,o,s,l){super(),this.outletElement=n,this._appRef=o,this._defaultInjector=s,this._document=l}attachComponentPortal(n){let r;if(n.viewContainerRef){let o=n.injector||n.viewContainerRef.injector,s=o.get(l6,null,{optional:!0})||void 0;r=n.viewContainerRef.createComponent(n.component,{index:n.viewContainerRef.length,injector:o,ngModuleRef:s,projectableNodes:n.projectableNodes||void 0}),this.setDisposeFn(()=>r.destroy())}else r=Nw(n.component,{elementInjector:n.injector||this._defaultInjector||w0.NULL,environmentInjector:this._appRef.injector,projectableNodes:n.projectableNodes||void 0}),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()});return this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=n,r}attachTemplatePortal(n){let r=n.viewContainerRef,o=r.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return o.rootNodes.forEach(s=>this.outletElement.appendChild(s)),o.detectChanges(),this.setDisposeFn(()=>{let s=r.indexOf(o);s!==-1&&r.remove(s)}),this._attachedPortal=n,o}attachDomPortal=n=>{let r=n.element;r.parentNode;let o=this._document.createComment("dom-portal");r.parentNode.insertBefore(o,r),this.outletElement.appendChild(r),this._attachedPortal=n,super.setDisposeFn(()=>{o.parentNode&&o.parentNode.replaceChild(r,o)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}};var SD=(()=>{class e extends rM{_moduleRef=Ua(l6,{optional:!0});_document=Ua(T2);_viewContainerRef=Ua(H3);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(r){this.hasAttached()&&!r&&!this._isInitialized||(this.hasAttached()&&super.detach(),r&&super.attach(r),this._attachedPortal=r||null)}attached=new Z1;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(r){r.setAttachedHost(this);let o=r.viewContainerRef!=null?r.viewContainerRef:this._viewContainerRef,s=o.createComponent(r.component,{index:o.length,injector:r.injector||o.injector,projectableNodes:r.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return o!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=r,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(r){r.setAttachedHost(this);let o=this._viewContainerRef.createEmbeddedView(r.templateRef,r.context,{injector:r.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=r,this._attachedRef=o,this.attached.emit(o),o}attachDomPortal=r=>{let o=r.element;o.parentNode;let s=this._document.createComment("dom-portal");r.setAttachedHost(this),o.parentNode.insertBefore(s,o),this._getRootNode().appendChild(o),this._attachedPortal=r,super.setDisposeFn(()=>{s.parentNode&&s.parentNode.replaceChild(o,s)})};_getRootNode(){let r=this._viewContainerRef.element.nativeElement;return r.nodeType===r.ELEMENT_NODE?r:r.parentNode}static \u0275fac=function(o){return new(o||e)};static \u0275dir=n2({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[h0]})}return e})();var sM=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=r2({type:e});static \u0275inj=i2({})}return e})();var tU=zT(),LD=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(n,r){this._viewportRuler=n,this._document=r}attach(){}enable(){if(this._canBeEnabled()){let n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=s3(-this._previousScrollPosition.left),n.style.top=s3(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let n=this._document.documentElement,r=this._document.body,o=n.style,s=r.style,l=o.scrollBehavior||"",d=s.scrollBehavior||"";this._isEnabled=!1,o.left=this._previousHTMLStyles.left,o.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),tU&&(o.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),tU&&(o.scrollBehavior=l,s.scrollBehavior=d)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let r=this._document.body,o=this._viewportRuler.getViewportSize();return r.scrollHeight>o.height||r.scrollWidth>o.width}};var AD=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(n,r,o,s){this._scrollDispatcher=n,this._ngZone=r,this._viewportRuler=o,this._config=s}attach(n){this._overlayRef,this._overlayRef=n}enable(){if(this._scrollSubscription)return;let n=this._scrollDispatcher.scrolled(0).pipe(d0(r=>!r||!this._overlayRef.overlayElement.contains(r.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{let r=this._viewportRuler.getViewportScrollPosition().top;Math.abs(r-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},aM=class{enable(){}disable(){}attach(){}};function kD(e,n){return n.some(r=>{let o=e.bottom<r.top,s=e.top>r.bottom,l=e.right<r.left,d=e.left>r.right;return o||s||l||d})}function nU(e,n){return n.some(r=>{let o=e.top<r.top,s=e.bottom>r.bottom,l=e.left<r.left,d=e.right>r.right;return o||s||l||d})}var TD=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(n,r,o,s){this._scrollDispatcher=n,this._viewportRuler=r,this._ngZone=o,this._config=s}attach(n){this._overlayRef,this._overlayRef=n}enable(){if(!this._scrollSubscription){let n=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(n).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let r=this._overlayRef.overlayElement.getBoundingClientRect(),{width:o,height:s}=this._viewportRuler.getViewportSize();kD(r,[{width:o,height:s,bottom:s,right:o,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Gse=(()=>{class e{_scrollDispatcher=Ua(CD);_viewportRuler=Ua(l9);_ngZone=Ua(c2);_document=Ua(T2);constructor(){}noop=()=>new aM;close=r=>new AD(this._scrollDispatcher,this._ngZone,this._viewportRuler,r);block=()=>new LD(this._viewportRuler,this._document);reposition=r=>new TD(this._scrollDispatcher,this._viewportRuler,this._ngZone,r);static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),f9=class{positionStrategy;scrollStrategy=new aM;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(n){if(n){let r=Object.keys(n);for(let o of r)n[o]!==void 0&&(this[o]=n[o])}}};var DD=class{connectionPair;scrollableViewProperties;constructor(n,r){this.connectionPair=n,this.scrollableViewProperties=r}};var cU=(()=>{class e{_attachedOverlays=[];_document=Ua(T2);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(r){this.remove(r),this._attachedOverlays.push(r)}remove(r){let o=this._attachedOverlays.indexOf(r);o>-1&&this._attachedOverlays.splice(o,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$se=(()=>{class e extends cU{_ngZone=Ua(c2,{optional:!0});add(r){super.add(r),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}_keydownListener=r=>{let o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){let l=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(r)):l.next(r);break}};static \u0275fac=(()=>{let r;return function(s){return(r||(r=O0(e)))(s||e)}})();static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),qse=(()=>{class e extends cU{_platform=Ua(E0);_ngZone=Ua(c2,{optional:!0});_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;add(r){if(super.add(r),!this._isAttached){let o=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(o)):this._addEventListeners(o),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=o.style.cursor,o.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let r=this._document.body;r.removeEventListener("pointerdown",this._pointerDownListener,!0),r.removeEventListener("click",this._clickListener,!0),r.removeEventListener("auxclick",this._clickListener,!0),r.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(r.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(r){r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0)}_pointerDownListener=r=>{this._pointerDownEventTarget=N4(r)};_clickListener=r=>{let o=N4(r),s=r.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;let l=this._attachedOverlays.slice();for(let d=l.length-1;d>-1;d--){let h=l[d];if(h._outsidePointerEvents.observers.length<1||!h.hasAttached())continue;if(iU(h.overlayElement,o)||iU(h.overlayElement,s))break;let p=h._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>p.next(r)):p.next(r)}};static \u0275fac=(()=>{let r;return function(s){return(r||(r=O0(e)))(s||e)}})();static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function iU(e,n){let r=typeof ShadowRoot<"u"&&ShadowRoot,o=n;for(;o;){if(o===e)return!0;o=r&&o instanceof ShadowRoot?o.host:o.parentNode}return!1}var lU=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275cmp=C2({type:e,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(o,s){},styles:[".cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}"],encapsulation:2,changeDetection:0})}return e})(),uU=(()=>{class e{_platform=Ua(E0);_containerElement;_document=Ua(T2);_styleLoader=Ua(u3);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let r="cdk-overlay-container";if(this._platform.isBrowser||RT()){let s=this._document.querySelectorAll(`.${r}[platform="server"], .${r}[platform="test"]`);for(let l=0;l<s.length;l++)s[l].remove()}let o=this._document.createElement("div");o.classList.add(r),RT()?o.setAttribute("platform","test"):this._platform.isBrowser||o.setAttribute("platform","server"),this._document.body.appendChild(o),this._containerElement=o}_loadStyles(){this._styleLoader.load(lU)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ID=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_backdropElement=null;_backdropTimeout;_backdropClick=new W1;_attachments=new W1;_detachments=new W1;_positionStrategy;_scrollStrategy;_locationChanges=A2.EMPTY;_backdropClickHandler=n=>this._backdropClick.next(n);_backdropTransitionendHandler=n=>{this._disposeBackdrop(n.target)};_previousHostParent;_keydownEvents=new W1;_outsidePointerEvents=new W1;_renders=new W1;_afterRenderRef;_afterNextRenderRef;constructor(n,r,o,s,l,d,h,p,g,y=!1,v){this._portalOutlet=n,this._host=r,this._pane=o,this._config=s,this._ngZone=l,this._keyboardDispatcher=d,this._document=h,this._location=p,this._outsideClickDispatcher=g,this._animationsDisabled=y,this._injector=v,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy,this._afterRenderRef=$4(()=>uv(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(n){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let r=this._portalOutlet.attach(n);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=P6(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof r?.onDestroy=="function"&&r.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),r}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){let n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,n&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config=E1(E1({},this._config),n),this._updateElementSize()}setDirection(n){this._config=R2(E1({},this._config),{direction:n}),this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){let n=this._config.direction;return n?typeof n=="string"?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let n=this._pane.style;n.width=s3(this._config.width),n.height=s3(this._config.height),n.minWidth=s3(this._config.minWidth),n.minHeight=s3(this._config.minHeight),n.maxWidth=s3(this._config.maxWidth),n.maxHeight=s3(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){let n="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(n)})}):this._backdropElement.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let n=this._backdropElement;if(n){if(this._animationsDisabled){this._disposeBackdrop(n);return}n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{n.addEventListener("transitionend",this._backdropTransitionendHandler)}),n.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(n)},500))}}_toggleClasses(n,r,o){let s=Zy(r||[]).filter(l=>!!l);s.length&&(o?n.classList.add(...s):n.classList.remove(...s))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let n=this._renders.pipe(I0(P3(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){let n=this._scrollStrategy;n&&(n.disable(),n.detach&&n.detach())}_disposeBackdrop(n){n&&(n.removeEventListener("click",this._backdropClickHandler),n.removeEventListener("transitionend",this._backdropTransitionendHandler),n.remove(),this._backdropElement===n&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},rU="cdk-overlay-connected-position-bounding-box",Wse=/([A-Za-z%]+)$/,u_=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new W1;_resizeSubscription=A2.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(n,r,o,s,l){this._viewportRuler=r,this._document=o,this._platform=s,this._overlayContainer=l,this.setOrigin(n)}attach(n){this._overlayRef&&this._overlayRef,this._validatePositions(),n.hostElement.classList.add(rU),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._originRect,r=this._overlayRect,o=this._viewportRect,s=this._containerRect,l=[],d;for(let h of this._preferredPositions){let p=this._getOriginPoint(n,s,h),g=this._getOverlayPoint(p,r,h),y=this._getOverlayFit(g,r,o,h);if(y.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(h,p);return}if(this._canFitWithFlexibleDimensions(y,g,o)){l.push({position:h,origin:p,overlayRect:r,boundingBoxRect:this._calculateBoundingBoxRect(p,h)});continue}(!d||d.overlayFit.visibleArea<y.visibleArea)&&(d={overlayFit:y,overlayPoint:g,originPoint:p,position:h,overlayRect:r})}if(l.length){let h=null,p=-1;for(let g of l){let y=g.boundingBoxRect.width*g.boundingBoxRect.height*(g.position.weight||1);y>p&&(p=y,h=g)}this._isPushed=!1,this._applyPosition(h.position,h.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(d.position,d.originPoint);return}this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&k7(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(rU),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let n=this._lastPosition;if(n){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let r=this._getOriginPoint(this._originRect,this._containerRect,n);this._applyPosition(n,r)}else this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,n.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,r,o){let s;if(o.originX=="center")s=n.left+n.width/2;else{let d=this._isRtl()?n.right:n.left,h=this._isRtl()?n.left:n.right;s=o.originX=="start"?d:h}r.left<0&&(s-=r.left);let l;return o.originY=="center"?l=n.top+n.height/2:l=o.originY=="top"?n.top:n.bottom,r.top<0&&(l-=r.top),{x:s,y:l}}_getOverlayPoint(n,r,o){let s;o.overlayX=="center"?s=-r.width/2:o.overlayX==="start"?s=this._isRtl()?-r.width:0:s=this._isRtl()?0:-r.width;let l;return o.overlayY=="center"?l=-r.height/2:l=o.overlayY=="top"?0:-r.height,{x:n.x+s,y:n.y+l}}_getOverlayFit(n,r,o,s){let l=sU(r),{x:d,y:h}=n,p=this._getOffset(s,"x"),g=this._getOffset(s,"y");p&&(d+=p),g&&(h+=g);let y=0-d,v=d+l.width-o.width,w=0-h,k=h+l.height-o.height,F=this._subtractOverflows(l.width,y,v),q=this._subtractOverflows(l.height,w,k),_r=F*q;return{visibleArea:_r,isCompletelyWithinViewport:l.width*l.height===_r,fitsInViewportVertically:q===l.height,fitsInViewportHorizontally:F==l.width}}_canFitWithFlexibleDimensions(n,r,o){if(this._hasFlexibleDimensions){let s=o.bottom-r.y,l=o.right-r.x,d=oU(this._overlayRef.getConfig().minHeight),h=oU(this._overlayRef.getConfig().minWidth),p=n.fitsInViewportVertically||d!=null&&d<=s,g=n.fitsInViewportHorizontally||h!=null&&h<=l;return p&&g}return!1}_pushOverlayOnScreen(n,r,o){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};let s=sU(r),l=this._viewportRect,d=Math.max(n.x+s.width-l.width,0),h=Math.max(n.y+s.height-l.height,0),p=Math.max(l.top-o.top-n.y,0),g=Math.max(l.left-o.left-n.x,0),y=0,v=0;return s.width<=l.width?y=g||-d:y=n.x<this._viewportMargin?l.left-o.left-n.x:0,s.height<=l.height?v=p||-h:v=n.y<this._viewportMargin?l.top-o.top-n.y:0,this._previousPushAmount={x:y,y:v},{x:n.x+y,y:n.y+v}}_applyPosition(n,r){if(this._setTransformOrigin(n),this._setOverlayElementStyles(r,n),this._setBoundingBoxStyles(r,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._positionChanges.observers.length){let o=this._getScrollVisibility();if(n!==this._lastPosition||!this._lastScrollVisibility||!Yse(this._lastScrollVisibility,o)){let s=new DD(n,o);this._positionChanges.next(s)}this._lastScrollVisibility=o}this._lastPosition=n,this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;let r=this._boundingBox.querySelectorAll(this._transformOriginSelector),o,s=n.overlayY;n.overlayX==="center"?o="center":this._isRtl()?o=n.overlayX==="start"?"right":"left":o=n.overlayX==="start"?"left":"right";for(let l=0;l<r.length;l++)r[l].style.transformOrigin=`${o} ${s}`}_calculateBoundingBoxRect(n,r){let o=this._viewportRect,s=this._isRtl(),l,d,h;if(r.overlayY==="top")d=n.y,l=o.height-d+this._viewportMargin;else if(r.overlayY==="bottom")h=o.height-n.y+this._viewportMargin*2,l=o.height-h+this._viewportMargin;else{let k=Math.min(o.bottom-n.y+o.top,n.y),F=this._lastBoundingBoxSize.height;l=k*2,d=n.y-k,l>F&&!this._isInitialRender&&!this._growAfterOpen&&(d=n.y-F/2)}let p=r.overlayX==="start"&&!s||r.overlayX==="end"&&s,g=r.overlayX==="end"&&!s||r.overlayX==="start"&&s,y,v,w;if(g)w=o.width-n.x+this._viewportMargin*2,y=n.x-this._viewportMargin;else if(p)v=n.x,y=o.right-n.x;else{let k=Math.min(o.right-n.x+o.left,n.x),F=this._lastBoundingBoxSize.width;y=k*2,v=n.x-k,y>F&&!this._isInitialRender&&!this._growAfterOpen&&(v=n.x-F/2)}return{top:d,left:v,bottom:h,right:w,width:y,height:l}}_setBoundingBoxStyles(n,r){let o=this._calculateBoundingBoxRect(n,r);!this._isInitialRender&&!this._growAfterOpen&&(o.height=Math.min(o.height,this._lastBoundingBoxSize.height),o.width=Math.min(o.width,this._lastBoundingBoxSize.width));let s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{let l=this._overlayRef.getConfig().maxHeight,d=this._overlayRef.getConfig().maxWidth;s.height=s3(o.height),s.top=s3(o.top),s.bottom=s3(o.bottom),s.width=s3(o.width),s.left=s3(o.left),s.right=s3(o.right),r.overlayX==="center"?s.alignItems="center":s.alignItems=r.overlayX==="end"?"flex-end":"flex-start",r.overlayY==="center"?s.justifyContent="center":s.justifyContent=r.overlayY==="bottom"?"flex-end":"flex-start",l&&(s.maxHeight=s3(l)),d&&(s.maxWidth=s3(d))}this._lastBoundingBoxSize=o,k7(this._boundingBox.style,s)}_resetBoundingBoxStyles(){k7(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){k7(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,r){let o={},s=this._hasExactPosition(),l=this._hasFlexibleDimensions,d=this._overlayRef.getConfig();if(s){let y=this._viewportRuler.getViewportScrollPosition();k7(o,this._getExactOverlayY(r,n,y)),k7(o,this._getExactOverlayX(r,n,y))}else o.position="static";let h="",p=this._getOffset(r,"x"),g=this._getOffset(r,"y");p&&(h+=`translateX(${p}px) `),g&&(h+=`translateY(${g}px)`),o.transform=h.trim(),d.maxHeight&&(s?o.maxHeight=s3(d.maxHeight):l&&(o.maxHeight="")),d.maxWidth&&(s?o.maxWidth=s3(d.maxWidth):l&&(o.maxWidth="")),k7(this._pane.style,o)}_getExactOverlayY(n,r,o){let s={top:"",bottom:""},l=this._getOverlayPoint(r,this._overlayRect,n);if(this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,o)),n.overlayY==="bottom"){let d=this._document.documentElement.clientHeight;s.bottom=`${d-(l.y+this._overlayRect.height)}px`}else s.top=s3(l.y);return s}_getExactOverlayX(n,r,o){let s={left:"",right:""},l=this._getOverlayPoint(r,this._overlayRect,n);this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,o));let d;if(this._isRtl()?d=n.overlayX==="end"?"left":"right":d=n.overlayX==="end"?"right":"left",d==="right"){let h=this._document.documentElement.clientWidth;s.right=`${h-(l.x+this._overlayRect.width)}px`}else s.left=s3(l.x);return s}_getScrollVisibility(){let n=this._getOriginRect(),r=this._pane.getBoundingClientRect(),o=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:nU(n,o),isOriginOutsideView:kD(n,o),isOverlayClipped:nU(r,o),isOverlayOutsideView:kD(r,o)}}_subtractOverflows(n,...r){return r.reduce((o,s)=>o-Math.max(s,0),n)}_getNarrowedViewportRect(){let n=this._document.documentElement.clientWidth,r=this._document.documentElement.clientHeight,o=this._viewportRuler.getViewportScrollPosition();return{top:o.top+this._viewportMargin,left:o.left+this._viewportMargin,right:o.left+n-this._viewportMargin,bottom:o.top+r-this._viewportMargin,width:n-2*this._viewportMargin,height:r-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,r){return r==="x"?n.offsetX==null?this._offsetX:n.offsetX:n.offsetY==null?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&Zy(n).forEach(r=>{r!==""&&this._appliedPanelClasses.indexOf(r)===-1&&(this._appliedPanelClasses.push(r),this._pane.classList.add(r))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){let n=this._origin;if(n instanceof l2)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();let r=n.width||0,o=n.height||0;return{top:n.y,bottom:n.y+o,left:n.x,right:n.x+r,height:o,width:r}}};function k7(e,n){for(let r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);return e}function oU(e){if(typeof e!="number"&&e!=null){let[n,r]=e.split(Wse);return!r||r==="px"?parseFloat(n):null}return e||null}function sU(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}function Yse(e,n){return e===n?!0:e.isOriginClipped===n.isOriginClipped&&e.isOriginOutsideView===n.isOriginOutsideView&&e.isOverlayClipped===n.isOverlayClipped&&e.isOverlayOutsideView===n.isOverlayOutsideView}var aU="cdk-global-overlay-wrapper",ND=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(n){let r=n.getConfig();this._overlayRef=n,this._width&&!r.width&&n.updateSize({width:this._width}),this._height&&!r.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(aU),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._xOffset=n,this._xPosition="left",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._xOffset=n,this._xPosition="right",this}start(n=""){return this._xOffset=n,this._xPosition="start",this}end(n=""){return this._xOffset=n,this._xPosition="end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._xPosition="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let n=this._overlayRef.overlayElement.style,r=this._overlayRef.hostElement.style,o=this._overlayRef.getConfig(),{width:s,height:l,maxWidth:d,maxHeight:h}=o,p=(s==="100%"||s==="100vw")&&(!d||d==="100%"||d==="100vw"),g=(l==="100%"||l==="100vh")&&(!h||h==="100%"||h==="100vh"),y=this._xPosition,v=this._xOffset,w=this._overlayRef.getConfig().direction==="rtl",k="",F="",q="";p?q="flex-start":y==="center"?(q="center",w?F=v:k=v):w?y==="left"||y==="end"?(q="flex-end",k=v):(y==="right"||y==="start")&&(q="flex-start",F=v):y==="left"||y==="start"?(q="flex-start",k=v):(y==="right"||y==="end")&&(q="flex-end",F=v),n.position=this._cssPosition,n.marginLeft=p?"0":k,n.marginTop=g?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=p?"0":F,r.justifyContent=q,r.alignItems=g?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let n=this._overlayRef.overlayElement.style,r=this._overlayRef.hostElement,o=r.style;r.classList.remove(aU),o.justifyContent=o.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}},Zse=(()=>{class e{_viewportRuler=Ua(l9);_document=Ua(T2);_platform=Ua(E0);_overlayContainer=Ua(uU);constructor(){}global(){return new ND}flexibleConnectedTo(r){return new u_(r,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),w6=(()=>{class e{scrollStrategies=Ua(Gse);_overlayContainer=Ua(uU);_positionBuilder=Ua(Zse);_keyboardDispatcher=Ua($se);_injector=Ua(w0);_ngZone=Ua(c2);_document=Ua(T2);_directionality=Ua(N3);_location=Ua(h7);_outsideClickDispatcher=Ua(qse);_animationsModuleType=Ua(r4,{optional:!0});_idGenerator=Ua(M3);_appRef;_styleLoader=Ua(u3);constructor(){}create(r){this._styleLoader.load(lU);let o=this._createHostElement(),s=this._createPaneElement(o),l=this._createPortalOutlet(s),d=new f9(r);return d.direction=d.direction||this._directionality.value,new ID(l,o,s,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(T3))}position(){return this._positionBuilder}_createPaneElement(r){let o=this._document.createElement("div");return o.id=this._idGenerator.getId("cdk-overlay-"),o.classList.add("cdk-overlay-pane"),r.appendChild(o),o}_createHostElement(){let r=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalOutlet(r){return this._appRef||(this._appRef=this._injector.get(f6)),new oM(r,null,this._appRef,this._injector,this._document)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Kse=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],dU=new I1("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let e=Ua(w6);return()=>e.scrollStrategies.reposition()}}),d_=(()=>{class e{elementRef=Ua(l2);constructor(){}static \u0275fac=function(o){return new(o||e)};static \u0275dir=n2({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return e})(),OD=(()=>{class e{_overlay=Ua(w6);_dir=Ua(N3,{optional:!0});_overlayRef;_templatePortal;_backdropSubscription=A2.EMPTY;_attachSubscription=A2.EMPTY;_detachSubscription=A2.EMPTY;_positionSubscription=A2.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=Ua(dU);_disposeOnNavigation=!1;_ngZone=Ua(c2);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(r){this._offsetX=r,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(r){this._offsetY=r,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(r){this._disposeOnNavigation=r}backdropClick=new Z1;positionChange=new Z1;attach=new Z1;detach=new Z1;overlayKeydown=new Z1;overlayOutsideClick=new Z1;constructor(){let r=Ua(B4),o=Ua(H3);this._templatePortal=new d9(r,o),this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(r){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),r.origin&&this.open&&this._position.apply()),r.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Kse);let r=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=r.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=r.detachments().subscribe(()=>this.detach.emit()),r.keydownEvents().subscribe(o=>{this.overlayKeydown.next(o),o.keyCode===27&&!this.disableClose&&!$3(o)&&(o.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(o=>{let s=this._getOriginElement(),l=N4(o);(!s||s!==l&&!s.contains(l))&&this.overlayOutsideClick.next(o)})}_buildConfig(){let r=this._position=this.positionStrategy||this._createPositionStrategy(),o=new f9({direction:this._dir||"ltr",positionStrategy:r,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(o.width=this.width),(this.height||this.height===0)&&(o.height=this.height),(this.minWidth||this.minWidth===0)&&(o.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(o.minHeight=this.minHeight),this.backdropClass&&(o.backdropClass=this.backdropClass),this.panelClass&&(o.panelClass=this.panelClass),o}_updatePositionStrategy(r){let o=this.positions.map(s=>({originX:s.originX,originY:s.originY,overlayX:s.overlayX,overlayY:s.overlayY,offsetX:s.offsetX||this.offsetX,offsetY:s.offsetY||this.offsetY,panelClass:s.panelClass||void 0}));return r.setOrigin(this._getOrigin()).withPositions(o).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let r=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(r),r}_getOrigin(){return this.origin instanceof d_?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof d_?this.origin.elementRef.nativeElement:this.origin instanceof l2?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(r=>{this.backdropClick.emit(r)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(RE(()=>this.positionChange.observers.length>0)).subscribe(r=>{this._ngZone.run(()=>this.positionChange.emit(r)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static \u0275fac=function(o){return new(o||e)};static \u0275dir=n2({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",p2],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",p2],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",p2],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",p2],push:[2,"cdkConnectedOverlayPush","push",p2],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",p2]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[z0,A0]})}return e})();function Xse(e){return()=>e.scrollStrategies.reposition()}var Qse={provide:dU,deps:[w6],useFactory:Xse},lM=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=r2({type:e});static \u0275inj=i2({providers:[w6,Qse],imports:[W6,sM,MD,MD]})}return e})();var zD=class{_box;_destroyed=new W1;_resizeSubject=new W1;_resizeObserver;_elementObservables=new Map;constructor(n){this._box=n,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(r=>this._resizeSubject.next(r)))}observe(n){return this._elementObservables.has(n)||this._elementObservables.set(n,new U2(r=>{let o=this._resizeSubject.subscribe(r);return this._resizeObserver?.observe(n,{box:this._box}),()=>{this._resizeObserver?.unobserve(n),o.unsubscribe(),this._elementObservables.delete(n)}}).pipe(d0(r=>r.some(o=>o.target===n)),vx({bufferSize:1,refCount:!0}),I0(this._destroyed))),this._elementObservables.get(n)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},fU=(()=>{class e{_observers=new Map;_ngZone=Ua(c2);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,r]of this._observers)r.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(r,o){let s=o?.box||"content-box";return this._observers.has(s)||this._observers.set(s,new zD(s)),this._observers.get(s).observe(r)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Jse=["notch"],eae=["matFormFieldNotchedOutline",""],tae=["*"],nae=["textField"],iae=["iconPrefixContainer"],rae=["textPrefixContainer"],oae=["iconSuffixContainer"],sae=["textSuffixContainer"],aae=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],cae=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function lae(e,n){e&1&&E2(0,"span",21)}function uae(e,n){if(e&1&&(g1(0,"label",20),e0(1,1),J2(2,lae,1,0,"span",21),v1()),e&2){let r=S2(2);d2("floating",r._shouldLabelFloat())("monitorResize",r._hasOutline())("id",r._labelId),W2("for",r._control.disableAutomaticLabeling?null:r._control.id),D1(2),C0(!r.hideRequiredMarker&&r._control.required?2:-1)}}function dae(e,n){if(e&1&&J2(0,uae,3,5,"label",20),e&2){let r=S2();C0(r._hasFloatingLabel()?0:-1)}}function fae(e,n){e&1&&E2(0,"div",7)}function hae(e,n){}function pae(e,n){if(e&1&&J2(0,hae,0,0,"ng-template",13),e&2){S2(2);let r=B6(1);d2("ngTemplateOutlet",r)}}function mae(e,n){if(e&1&&(g1(0,"div",9),J2(1,pae,1,1,null,13),v1()),e&2){let r=S2();d2("matFormFieldNotchedOutlineOpen",r._shouldLabelFloat()),D1(),C0(r._forceDisplayInfixLabel()?-1:1)}}function gae(e,n){e&1&&(g1(0,"div",10,2),e0(2,2),v1())}function yae(e,n){e&1&&(g1(0,"div",11,3),e0(2,3),v1())}function vae(e,n){}function _ae(e,n){if(e&1&&J2(0,vae,0,0,"ng-template",13),e&2){S2();let r=B6(1);d2("ngTemplateOutlet",r)}}function bae(e,n){e&1&&(g1(0,"div",14,4),e0(2,4),v1())}function xae(e,n){e&1&&(g1(0,"div",15,5),e0(2,5),v1())}function wae(e,n){e&1&&E2(0,"div",16)}function Cae(e,n){if(e&1&&(g1(0,"div",18),e0(1,6),v1()),e&2){let r=S2();d2("@transitionMessages",r._subscriptAnimationState)}}function Mae(e,n){if(e&1&&(g1(0,"mat-hint",22),e2(1),v1()),e&2){let r=S2(2);d2("id",r._hintLabelId),D1(),D3(r.hintLabel)}}function Eae(e,n){if(e&1&&(g1(0,"div",19),J2(1,Mae,2,2,"mat-hint",22),e0(2,7),E2(3,"div",23),e0(4,8),v1()),e&2){let r=S2();d2("@transitionMessages",r._subscriptAnimationState),D1(),C0(r.hintLabel?1:-1)}}var dM=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275dir=n2({type:e,selectors:[["mat-label"]]})}return e})(),Sae=new I1("MatError");var hU=(()=>{class e{align="start";id=Ua(M3).getId("mat-mdc-hint-");static \u0275fac=function(o){return new(o||e)};static \u0275dir=n2({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(o,s){o&2&&(j6("id",s.id),W2("align",null),G2("mat-mdc-form-field-hint-end",s.align==="end"))},inputs:{align:"align",id:"id"}})}return e})(),bU=new I1("MatPrefix"),xU=(()=>{class e{set _isTextSelector(r){this._isText=!0}_isText=!1;static \u0275fac=function(o){return new(o||e)};static \u0275dir=n2({type:e,selectors:[["","matPrefix",""],["","matIconPrefix",""],["","matTextPrefix",""]],inputs:{_isTextSelector:[0,"matTextPrefix","_isTextSelector"]},features:[V0([{provide:bU,useExisting:e}])]})}return e})(),Lae=new I1("MatSuffix");var wU=new I1("FloatingLabelParent"),pU=(()=>{class e{_elementRef=Ua(l2);get floating(){return this._floating}set floating(r){this._floating=r,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(r){this._monitorResize=r,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=Ua(fU);_ngZone=Ua(c2);_parent=Ua(wU);_resizeSubscription=new A2;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return Aae(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(o){return new(o||e)};static \u0275dir=n2({type:e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(o,s){o&2&&G2("mdc-floating-label--float-above",s.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return e})();function Aae(e){let n=e;if(n.offsetParent!==null)return n.scrollWidth;let r=n.cloneNode(!0);r.style.setProperty("position","absolute"),r.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(r);let o=r.scrollWidth;return r.remove(),o}var mU="mdc-line-ripple--active",uM="mdc-line-ripple--deactivating",gU=(()=>{class e{_elementRef=Ua(l2);constructor(){Ua(c2).runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let r=this._elementRef.nativeElement.classList;r.remove(uM),r.add(mU)}deactivate(){this._elementRef.nativeElement.classList.add(uM)}_handleTransitionEnd=r=>{let o=this._elementRef.nativeElement.classList,s=o.contains(uM);r.propertyName==="opacity"&&s&&o.remove(mU,uM)};ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static \u0275fac=function(o){return new(o||e)};static \u0275dir=n2({type:e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return e})(),yU=(()=>{class e{_elementRef=Ua(l2);_ngZone=Ua(c2);open=!1;_notch;constructor(){}ngAfterViewInit(){let r=this._elementRef.nativeElement.querySelector(".mdc-floating-label");r?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(r.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>r.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(r){!this.open||!r?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${r}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=C2({type:e,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(o,s){if(o&1&&g0(Jse,5),o&2){let l;F2(l=j2())&&(s._notch=l.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(o,s){o&2&&G2("mdc-notched-outline--notched",s.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:eae,ngContentSelectors:tae,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(o,s){o&1&&(Q0(),E2(0,"div",1),g1(1,"div",2,0),e0(3),v1(),E2(4,"div",3))},encapsulation:2,changeDetection:0})}return e})(),kae={transitionMessages:p5("transitionMessages",[v7("enter",C3({opacity:1,transform:"translateY(0%)"})),v6("void => enter",[C3({opacity:0,transform:"translateY(-5px)"}),$6("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},h9=(()=>{class e{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;static \u0275fac=function(o){return new(o||e)};static \u0275dir=n2({type:e})}return e})();var T7=new I1("MatFormField"),Tae=new I1("MAT_FORM_FIELD_DEFAULT_OPTIONS"),vU="fill",Dae="auto",_U="fixed",Iae="translateY(-50%)",CU=(()=>{class e{_elementRef=Ua(l2);_changeDetectorRef=Ua(k0);_dir=Ua(N3);_platform=Ua(E0);_idGenerator=Ua(M3);_defaults=Ua(Tae,{optional:!0});_animationMode=Ua(r4,{optional:!0});_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=uP(dM);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(r){this._hideRequiredMarker=v5(r)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||Dae}set floatLabel(r){r!==this._floatLabel&&(this._floatLabel=r,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearance}set appearance(r){let o=this._appearance,s=r||this._defaults?.appearance||vU;this._appearance=s,this._appearance==="outline"&&this._appearance!==o&&(this._needsOutlineLabelOffsetUpdate=!0)}_appearance=vU;get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||_U}set subscriptSizing(r){this._subscriptSizing=r||this._defaults?.subscriptSizing||_U}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(r){this._hintLabel=r,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");_subscriptAnimationState="";get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(r){this._explicitFormFieldControl=r}_destroyed=new W1;_isFocused=null;_explicitFormFieldControl;_needsOutlineLabelOffsetUpdate=!1;_previousControl=null;_stateChanges;_valueChanges;_describedByChanges;_injector=Ua(w0);constructor(){let r=this._defaults;r&&(r.appearance&&(this.appearance=r.appearance),this._hideRequiredMarker=!!r?.hideRequiredMarker,r.color&&(this.color=r.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=y8(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(r){let o=this._control,s="mat-mdc-form-field-type-";r&&this._elementRef.nativeElement.classList.remove(s+r.controlType),o.controlType&&this._elementRef.nativeElement.classList.add(s+o.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=o.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=o.stateChanges.pipe(e4([void 0,void 0]),a2(()=>[o.errorState,o.userAriaDescribedBy]),yx(),d0(([[l,d],[h,p]])=>l!==h||d!==p)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),o.ngControl&&o.ngControl.valueChanges&&(this._valueChanges=o.ngControl.valueChanges.pipe(I0(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(r=>!r._isText),this._hasTextPrefix=!!this._prefixChildren.find(r=>r._isText),this._hasIconSuffix=!!this._suffixChildren.find(r=>!r._isText),this._hasTextSuffix=!!this._suffixChildren.find(r=>r._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),P3(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),uv(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(I0(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=y8(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(r){let o=this._control?this._control.ngControl:null;return o&&o[r]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let r=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&r.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let o=this._hintChildren?this._hintChildren.find(l=>l.align==="start"):null,s=this._hintChildren?this._hintChildren.find(l=>l.align==="end"):null;o?r.push(o.id):this._hintLabel&&r.push(this._hintLabelId),s&&r.push(s.id)}else this._errorChildren&&r.push(...this._errorChildren.map(o=>o.id));this._control.setDescribedByIds(r)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let r=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){r.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let o=this._iconPrefixContainer?.nativeElement,s=this._textPrefixContainer?.nativeElement,l=this._iconSuffixContainer?.nativeElement,d=this._textSuffixContainer?.nativeElement,h=o?.getBoundingClientRect().width??0,p=s?.getBoundingClientRect().width??0,g=l?.getBoundingClientRect().width??0,y=d?.getBoundingClientRect().width??0,v=this._dir.value==="rtl"?"-1":"1",w=`${h+p}px`,F=`calc(${v} * (${w} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;r.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${Iae} translateX(${F})
    )`;let q=h+p+g+y;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${q}px)`)}_isAttachedToDom(){let r=this._elementRef.nativeElement;if(r.getRootNode){let o=r.getRootNode();return o&&o!==r}return document.documentElement.contains(r)}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=C2({type:e,selectors:[["mat-form-field"]],contentQueries:function(o,s,l){if(o&1&&(IP(l,s._labelChild,dM,5),y3(l,h9,5),y3(l,bU,5),y3(l,Lae,5),y3(l,Sae,5),y3(l,hU,5)),o&2){NP();let d;F2(d=j2())&&(s._formFieldControl=d.first),F2(d=j2())&&(s._prefixChildren=d),F2(d=j2())&&(s._suffixChildren=d),F2(d=j2())&&(s._errorChildren=d),F2(d=j2())&&(s._hintChildren=d)}},viewQuery:function(o,s){if(o&1&&(g0(nae,5),g0(iae,5),g0(rae,5),g0(oae,5),g0(sae,5),g0(pU,5),g0(yU,5),g0(gU,5)),o&2){let l;F2(l=j2())&&(s._textField=l.first),F2(l=j2())&&(s._iconPrefixContainer=l.first),F2(l=j2())&&(s._textPrefixContainer=l.first),F2(l=j2())&&(s._iconSuffixContainer=l.first),F2(l=j2())&&(s._textSuffixContainer=l.first),F2(l=j2())&&(s._floatingLabel=l.first),F2(l=j2())&&(s._notchedOutline=l.first),F2(l=j2())&&(s._lineRipple=l.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(o,s){o&2&&G2("mat-mdc-form-field-label-always-float",s._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",s._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",s._hasIconSuffix)("mat-form-field-invalid",s._control.errorState)("mat-form-field-disabled",s._control.disabled)("mat-form-field-autofilled",s._control.autofilled)("mat-form-field-no-animations",s._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",s.appearance=="fill")("mat-form-field-appearance-outline",s.appearance=="outline")("mat-form-field-hide-placeholder",s._hasFloatingLabel()&&!s._shouldLabelFloat())("mat-focused",s._control.focused)("mat-primary",s.color!=="accent"&&s.color!=="warn")("mat-accent",s.color==="accent")("mat-warn",s.color==="warn")("ng-untouched",s._shouldForward("untouched"))("ng-touched",s._shouldForward("touched"))("ng-pristine",s._shouldForward("pristine"))("ng-dirty",s._shouldForward("dirty"))("ng-valid",s._shouldForward("valid"))("ng-invalid",s._shouldForward("invalid"))("ng-pending",s._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[V0([{provide:T7,useExisting:e},{provide:wU,useExisting:e}])],ngContentSelectors:cae,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(o,s){if(o&1){let l=G3();Q0(aae),J2(0,dae,1,1,"ng-template",null,0,YL),g1(2,"div",6,1),O2("click",function(h){return n0(l),i0(s._control.onContainerClick(h))}),J2(4,fae,1,0,"div",7),g1(5,"div",8),J2(6,mae,2,2,"div",9)(7,gae,3,0,"div",10)(8,yae,3,0,"div",11),g1(9,"div",12),J2(10,_ae,1,1,null,13),e0(11),v1(),J2(12,bae,3,0,"div",14)(13,xae,3,0,"div",15),v1(),J2(14,wae,1,0,"div",16),v1(),g1(15,"div",17),J2(16,Cae,2,1,"div",18)(17,Eae,5,2,"div",19),v1()}if(o&2){let l;D1(2),G2("mdc-text-field--filled",!s._hasOutline())("mdc-text-field--outlined",s._hasOutline())("mdc-text-field--no-label",!s._hasFloatingLabel())("mdc-text-field--disabled",s._control.disabled)("mdc-text-field--invalid",s._control.errorState),D1(2),C0(!s._hasOutline()&&!s._control.disabled?4:-1),D1(2),C0(s._hasOutline()?6:-1),D1(),C0(s._hasIconPrefix?7:-1),D1(),C0(s._hasTextPrefix?8:-1),D1(2),C0(!s._hasOutline()||s._forceDisplayInfixLabel()?10:-1),D1(2),C0(s._hasTextSuffix?12:-1),D1(),C0(s._hasIconSuffix?13:-1),D1(),C0(s._hasOutline()?-1:14),D1(),G2("mat-mdc-form-field-subscript-dynamic-size",s.subscriptSizing==="dynamic"),D1(),C0((l=s._getDisplayedMessages())==="error"?16:l==="hint"?17:-1)}},dependencies:[pU,yU,rF,gU,hU],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-sys-outline));border-width:var(--mdc-outlined-text-field-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[kae.transitionMessages]},changeDetection:0})}return e})(),I8=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=r2({type:e});static \u0275inj=i2({imports:[P0,Ky,P0]})}return e})();var Oae=["trigger"],zae=["panel"],Rae=[[["mat-select-trigger"]],"*"],Pae=["mat-select-trigger","*"];function Fae(e,n){if(e&1&&(g1(0,"span",4),e2(1),v1()),e&2){let r=S2();D1(),D3(r.placeholder)}}function jae(e,n){e&1&&e0(0)}function Bae(e,n){if(e&1&&(g1(0,"span",11),e2(1),v1()),e&2){let r=S2(2);D1(),D3(r.triggerValue)}}function Vae(e,n){if(e&1&&(g1(0,"span",5),J2(1,jae,1,0)(2,Bae,2,1,"span",11),v1()),e&2){let r=S2();D1(),C0(r.customTrigger?1:2)}}function Uae(e,n){if(e&1){let r=G3();g1(0,"div",12,1),O2("@transformPanel.done",function(s){n0(r);let l=S2();return i0(l._panelDoneAnimatingStream.next(s.toState))})("keydown",function(s){n0(r);let l=S2();return i0(l._handleKeydown(s))}),e0(2,1),v1()}if(e&2){let r=S2();DP("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",r._getPanelTheme(),""),d2("ngClass",r.panelClass)("@transformPanel","showing"),W2("id",r.id+"-panel")("aria-multiselectable",r.multiple)("aria-label",r.ariaLabel||null)("aria-labelledby",r._getPanelAriaLabelledby())}}var Hae={transformPanelWrap:p5("transformPanelWrap",[v6("* => void",cB("@transformPanel",[aB()],{optional:!0}))]),transformPanel:p5("transformPanel",[v7("void",C3({opacity:0,transform:"scale(1, 0.8)"})),v6("void => showing",$6("120ms cubic-bezier(0, 0, 0.2, 1)",C3({opacity:1,transform:"scale(1, 1)"}))),v6("* => void",$6("100ms linear",C3({opacity:0})))])};var MU=new I1("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let e=Ua(w6);return()=>e.scrollStrategies.reposition()}});function Gae(e){return()=>e.scrollStrategies.reposition()}var $ae=new I1("MAT_SELECT_CONFIG"),qae={provide:MU,deps:[w6],useFactory:Gae},Wae=new I1("MatSelectTrigger"),RD=class{source;value;constructor(n,r){this.source=n,this.value=r}},EU=(()=>{class e{_viewportRuler=Ua(l9);_changeDetectorRef=Ua(k0);_elementRef=Ua(l2);_dir=Ua(N3,{optional:!0});_idGenerator=Ua(M3);_parentFormField=Ua(T7,{optional:!0});ngControl=Ua(Y6,{self:!0,optional:!0});_liveAnnouncer=Ua(nV);_defaultOptions=Ua($ae,{optional:!0});options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(r){let o=this.options.toArray()[r];if(o){let s=this.panel.nativeElement,l=fV(r,this.options,this.optionGroups),d=o._getHostElement();r===0&&l===1?s.scrollTop=0:s.scrollTop=hV(d.offsetTop,d.offsetHeight,s.scrollTop,s.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(r){return new RD(this,r)}_scrollStrategyFactory=Ua(MU);_panelOpen=!1;_compareWith=(r,o)=>r===o;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new W1;_errorStateTracker;stateChanges=new W1;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_panelDoneAnimatingStream=new W1;_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;disableRipple=!1;tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(r){this._hideSingleSelectionIndicator=r,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(r){this._placeholder=r,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(x5.required)??!1}set required(r){this._required=r,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(r){this._selectionModel,this._multiple=r}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(r){this._compareWith=r,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(r){this._assignValue(r)&&this._onChange(r)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(r){this._errorStateTracker.matcher=r}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(r){this._id=r||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(r){this._errorStateTracker.errorState=r}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";_initialized=new W1;optionSelectionChanges=ay(()=>{let r=this.options;return r?r.changes.pipe(e4(r),k3(()=>P3(...r.map(o=>o.onSelectionChange)))):this._initialized.pipe(k3(()=>this.optionSelectionChanges))});openedChange=new Z1;_openedStream=this.openedChange.pipe(d0(r=>r),a2(()=>{}));_closedStream=this.openedChange.pipe(d0(r=>!r),a2(()=>{}));selectionChange=new Z1;valueChange=new Z1;constructor(){let r=Ua(t_),o=Ua(o9,{optional:!0}),s=Ua(s9,{optional:!0}),l=Ua(new c6("tabindex"),{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),this._defaultOptions?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new L7(r,this.ngControl,s,o,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=l==null?0:parseInt(l)||0,this.id=this.id}ngOnInit(){this._selectionModel=new c9(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(W5(),I0(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(I0(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(I0(this._destroy)).subscribe(r=>{r.added.forEach(o=>o.select()),r.removed.forEach(o=>o.deselect())}),this.options.changes.pipe(e4(null),I0(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let r=this._getTriggerAriaLabelledby(),o=this.ngControl;if(r!==this._triggerAriaLabelledBy){let s=this._elementRef.nativeElement;this._triggerAriaLabelledBy=r,r?s.setAttribute("aria-labelledby",r):s.removeAttribute("aria-labelledby")}o&&(this._previousControl!==o.control&&(this._previousControl!==void 0&&o.disabled!==null&&o.disabled!==this.disabled&&(this.disabled=o.disabled),this._previousControl=o.control),this.updateErrorState())}ngOnChanges(r){(r.disabled||r.userAriaDescribedBy)&&this.stateChanges.next(),r.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_trackedModal=null;_applyModalPanelOwnership(){let r=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!r)return;let o=`${this.id}-panel`;this._trackedModal&&HT(this._trackedModal,"aria-owns",o),XB(r,"aria-owns",o),this._trackedModal=r}_clearFromModal(){if(!this._trackedModal)return;let r=`${this.id}-panel`;HT(this._trackedModal,"aria-owns",r),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(r){this._assignValue(r)}registerOnChange(r){this._onChange=r}registerOnTouched(r){this._onTouched=r}setDisabledState(r){this.disabled=r,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let r=this._selectionModel.selected.map(o=>o.viewValue);return this._isRtl()&&r.reverse(),r.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(r){this.disabled||(this.panelOpen?this._handleOpenKeydown(r):this._handleClosedKeydown(r))}_handleClosedKeydown(r){let o=r.keyCode,s=o===40||o===38||o===37||o===39,l=o===13||o===32,d=this._keyManager;if(!d.isTyping()&&l&&!$3(r)||(this.multiple||r.altKey)&&s)r.preventDefault(),this.open();else if(!this.multiple){let h=this.selected;d.onKeydown(r);let p=this.selected;p&&h!==p&&this._liveAnnouncer.announce(p.viewValue,1e4)}}_handleOpenKeydown(r){let o=this._keyManager,s=r.keyCode,l=s===40||s===38,d=o.isTyping();if(l&&r.altKey)r.preventDefault(),this.close();else if(!d&&(s===13||s===32)&&o.activeItem&&!$3(r))r.preventDefault(),o.activeItem._selectViaInteraction();else if(!d&&this._multiple&&s===65&&r.ctrlKey){r.preventDefault();let h=this.options.some(p=>!p.disabled&&!p.selected);this.options.forEach(p=>{p.disabled||(h?p.select():p.deselect())})}else{let h=o.activeItemIndex;o.onKeydown(r),this._multiple&&l&&r.shiftKey&&o.activeItem&&o.activeItemIndex!==h&&o.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(g3(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(r){if(this.options.forEach(o=>o.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&r)Array.isArray(r),r.forEach(o=>this._selectOptionByValue(o)),this._sortValues();else{let o=this._selectOptionByValue(r);o?this._keyManager.updateActiveItem(o):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(r){let o=this.options.find(s=>{if(this._selectionModel.isSelected(s))return!1;try{return s.value!=null&&this._compareWith(s.value,r)}catch{return!1}});return o&&this._selectionModel.select(o),o}_assignValue(r){return r!==this._value||this._multiple&&Array.isArray(r)?(this.options&&this._setSelectionByValue(r),this._value=r,!0):!1}_skipPredicate=r=>this.panelOpen?!1:r.disabled;_getOverlayWidth(r){return this.panelWidth==="auto"?(r instanceof d_?r.elementRef:r||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let r of this.options)r._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new OC(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let r=P3(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(I0(r)).subscribe(o=>{this._onSelect(o.source,o.isUserInput),o.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),P3(...this.options.map(o=>o._stateChanges)).pipe(I0(r)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(r,o){let s=this._selectionModel.isSelected(r);r.value==null&&!this._multiple?(r.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(r.value)):(s!==r.selected&&(r.selected?this._selectionModel.select(r):this._selectionModel.deselect(r)),o&&this._keyManager.setActiveItem(r),this.multiple&&(this._sortValues(),o&&this.focus())),s!==this._selectionModel.isSelected(r)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let r=this.options.toArray();this._selectionModel.sort((o,s)=>this.sortComparator?this.sortComparator(o,s,r):r.indexOf(o)-r.indexOf(s)),this.stateChanges.next()}}_propagateChanges(r){let o;this.multiple?o=this.selected.map(s=>s.value):o=this.selected?this.selected.value:r,this._value=o,this.valueChange.emit(o),this._onChange(o),this.selectionChange.emit(this._getChangeEvent(o)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let r=-1;for(let o=0;o<this.options.length;o++)if(!this.options.get(o).disabled){r=o;break}this._keyManager.setActiveItem(r)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(r){this._elementRef.nativeElement.focus(r)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let r=this._parentFormField?.getLabelId()||null,o=r?r+" ":"";return this.ariaLabelledby?o+this.ariaLabelledby:r}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let r=this._parentFormField?.getLabelId(),o=(r?r+" ":"")+this._valueId;return this.ariaLabelledby&&(o+=" "+this.ariaLabelledby),o}_panelDoneAnimating(r){this.openedChange.emit(r)}setDescribedByIds(r){r.length?this._elementRef.nativeElement.setAttribute("aria-describedby",r.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=C2({type:e,selectors:[["mat-select"]],contentQueries:function(o,s,l){if(o&1&&(y3(l,Wae,5),y3(l,FC,5),y3(l,oD,5)),o&2){let d;F2(d=j2())&&(s.customTrigger=d.first),F2(d=j2())&&(s.options=d),F2(d=j2())&&(s.optionGroups=d)}},viewQuery:function(o,s){if(o&1&&(g0(Oae,5),g0(zae,5),g0(OD,5)),o&2){let l;F2(l=j2())&&(s.trigger=l.first),F2(l=j2())&&(s.panel=l.first),F2(l=j2())&&(s._overlayDir=l.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(o,s){o&1&&O2("keydown",function(d){return s._handleKeydown(d)})("focus",function(){return s._onFocus()})("blur",function(){return s._onBlur()}),o&2&&(W2("id",s.id)("tabindex",s.disabled?-1:s.tabIndex)("aria-controls",s.panelOpen?s.id+"-panel":null)("aria-expanded",s.panelOpen)("aria-label",s.ariaLabel||null)("aria-required",s.required.toString())("aria-disabled",s.disabled.toString())("aria-invalid",s.errorState)("aria-activedescendant",s._getAriaActiveDescendant()),G2("mat-mdc-select-disabled",s.disabled)("mat-mdc-select-invalid",s.errorState)("mat-mdc-select-required",s.required)("mat-mdc-select-empty",s.empty)("mat-mdc-select-multiple",s.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",p2],disableRipple:[2,"disableRipple","disableRipple",p2],tabIndex:[2,"tabIndex","tabIndex",r=>r==null?0:Ny(r)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",p2],placeholder:"placeholder",required:[2,"required","required",p2],multiple:[2,"multiple","multiple",p2],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",p2],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",Ny],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[V0([{provide:h9,useExisting:e},{provide:rD,useExisting:e}]),z0,A0],ngContentSelectors:Pae,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(o,s){if(o&1){let l=G3();Q0(Rae),g1(0,"div",2,0),O2("click",function(){return n0(l),i0(s.open())}),g1(3,"div",3),J2(4,Fae,2,1,"span",4)(5,Vae,3,1,"span",5),v1(),g1(6,"div",6)(7,"div",7),a5(),g1(8,"svg",8),E2(9,"path",9),v1()()()(),J2(10,Uae,3,9,"ng-template",10),O2("backdropClick",function(){return n0(l),i0(s.close())})("attach",function(){return n0(l),i0(s._onAttached())})("detach",function(){return n0(l),i0(s.close())})}if(o&2){let l=B6(1);D1(3),W2("id",s._valueId),D1(),C0(s.empty?4:5),D1(6),d2("cdkConnectedOverlayPanelClass",s._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",s._scrollStrategy)("cdkConnectedOverlayOrigin",s._preferredOverlayOrigin||l)("cdkConnectedOverlayOpen",s.panelOpen)("cdkConnectedOverlayPositions",s._positions)("cdkConnectedOverlayWidth",s._overlayWidth)}},dependencies:[d_,OD,U6],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}'],encapsulation:2,data:{animation:[Hae.transformPanel]},changeDetection:0})}return e})();var fM=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=r2({type:e});static \u0275inj=i2({providers:[qae],imports:[lM,sD,P0,D8,I8,sD,P0]})}return e})();var Zae=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275cmp=C2({type:e,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(o,s){},styles:["textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}"],encapsulation:2,changeDetection:0})}return e})(),SU=Z4({passive:!0}),LU=(()=>{class e{_platform=Ua(E0);_ngZone=Ua(c2);_styleLoader=Ua(u3);_monitoredElements=new Map;constructor(){}monitor(r){if(!this._platform.isBrowser)return A3;this._styleLoader.load(Zae);let o=K4(r),s=this._monitoredElements.get(o);if(s)return s.subject;let l=new W1,d="cdk-text-field-autofilled",h=p=>{p.animationName==="cdk-text-field-autofill-start"&&!o.classList.contains(d)?(o.classList.add(d),this._ngZone.run(()=>l.next({target:p.target,isAutofilled:!0}))):p.animationName==="cdk-text-field-autofill-end"&&o.classList.contains(d)&&(o.classList.remove(d),this._ngZone.run(()=>l.next({target:p.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{o.addEventListener("animationstart",h,SU),o.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(o,{subject:l,unlisten:()=>{o.removeEventListener("animationstart",h,SU)}}),l}stopMonitoring(r){let o=K4(r),s=this._monitoredElements.get(o);s&&(s.unlisten(),s.subject.complete(),o.classList.remove("cdk-text-field-autofill-monitored"),o.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(o))}ngOnDestroy(){this._monitoredElements.forEach((r,o)=>this.stopMonitoring(o))}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var AU=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=r2({type:e});static \u0275inj=i2({})}return e})();var PD=new I1("MAT_INPUT_VALUE_ACCESSOR"),Kae=["button","checkbox","file","hidden","image","radio","range","reset","submit"],Xae=new I1("MAT_INPUT_CONFIG"),kU=(()=>{class e{_elementRef=Ua(l2);_platform=Ua(E0);ngControl=Ua(Y6,{optional:!0,self:!0});_autofillMonitor=Ua(LU);_ngZone=Ua(c2);_formField=Ua(T7,{optional:!0});_uid=Ua(M3).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_webkitBlinkWheelListenerAttached=!1;_config=Ua(Xae,{optional:!0});_formFieldDescribedBy;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new W1;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(r){this._disabled=v5(r),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(r){this._id=r||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(x5.required)??!1}set required(r){this._required=v5(r)}_required;get type(){return this._type}set type(r){this._type=r||"text",this._validateType(),!this._isTextarea&&OT().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(r){this._errorStateTracker.matcher=r}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(r){r!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(r):this._inputValueAccessor.value=r,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(r){this._readonly=v5(r)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(r){this._errorStateTracker.errorState=r}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(r=>OT().has(r));constructor(){let r=Ua(o9,{optional:!0}),o=Ua(s9,{optional:!0}),s=Ua(t_),l=Ua(PD,{optional:!0,self:!0}),d=this._elementRef.nativeElement,h=d.nodeName.toLowerCase();l?c5(l.value)?this._signalBasedValueAccessor=l:this._inputValueAccessor=l:this._inputValueAccessor=d,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{d.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new L7(s,this.ngControl,o,r,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=h==="select",this._isTextarea=h==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=d.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&gv(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(r=>{this.autofilled=r.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(r){this._elementRef.nativeElement.focus(r)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(r){if(r!==this.focused){if(!this._isNativeSelect&&r&&this.disabled&&this.disabledInteractive){let o=this._elementRef.nativeElement;o.type==="number"?(o.type="text",o.setSelectionRange(0,0),o.type="number"):o.setSelectionRange(0,0)}this.focused=r,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let r=this._elementRef.nativeElement.value;this._previousNativeValue!==r&&(this._previousNativeValue=r,this.stateChanges.next())}_dirtyCheckPlaceholder(){let r=this._getPlaceholder();if(r!==this._previousPlaceholder){let o=this._elementRef.nativeElement;this._previousPlaceholder=r,r?o.setAttribute("placeholder",r):o.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){Kae.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let r=this._elementRef.nativeElement.validity;return r&&r.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let r=this._elementRef.nativeElement,o=r.options[0];return this.focused||r.multiple||!this.empty||!!(r.selectedIndex>-1&&o&&o.label)}else return this.focused&&!this.disabled||!this.empty}setDescribedByIds(r){let o=this._elementRef.nativeElement,s=o.getAttribute("aria-describedby"),l;if(s){let d=this._formFieldDescribedBy||r;l=r.concat(s.split(" ").filter(h=>h&&!d.includes(h)))}else l=r;this._formFieldDescribedBy=r,l.length?o.setAttribute("aria-describedby",l.join(" ")):o.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let r=this._elementRef.nativeElement;return this._isNativeSelect&&(r.multiple||r.size>1)}_iOSKeyupListener=r=>{let o=r.target;!o.value&&o.selectionStart===0&&o.selectionEnd===0&&(o.setSelectionRange(1,1),o.setSelectionRange(0,0))};_webkitBlinkWheelListener=()=>{};_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&this._type!=="number"&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(o){return new(o||e)};static \u0275dir=n2({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(o,s){o&1&&O2("focus",function(){return s._focusChanged(!0)})("blur",function(){return s._focusChanged(!1)})("input",function(){return s._onInput()}),o&2&&(j6("id",s.id)("disabled",s.disabled&&!s.disabledInteractive)("required",s.required),W2("name",s.name||null)("readonly",s._getReadonlyAttribute())("aria-disabled",s.disabled&&s.disabledInteractive?"true":null)("aria-invalid",s.empty&&s.required?null:s.errorState)("aria-required",s.required)("id",s.id),G2("mat-input-server",s._isServer)("mat-mdc-form-field-textarea-control",s._isInFormField&&s._isTextarea)("mat-mdc-form-field-input-control",s._isInFormField)("mat-mdc-input-disabled-interactive",s.disabledInteractive)("mdc-text-field__input",s._isInFormField)("mat-mdc-native-select-inline",s._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",p2]},exportAs:["matInput"],features:[V0([{provide:h9,useExisting:e}]),z0,A0]})}return e})(),hM=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=r2({type:e});static \u0275inj=i2({imports:[P0,I8,I8,AU,P0]})}return e})();var Jae=["mat-calendar-body",""];function ece(e,n){return this._trackRow(n)}var PU=(e,n)=>n.id;function tce(e,n){if(e&1&&(g1(0,"tr",0)(1,"td",3),e2(2),v1()()),e&2){let r=S2();D1(),l5("padding-top",r._cellPadding)("padding-bottom",r._cellPadding),W2("colspan",r.numCols),D1(),v3(" ",r.label," ")}}function nce(e,n){if(e&1&&(g1(0,"td",3),e2(1),v1()),e&2){let r=S2(2);l5("padding-top",r._cellPadding)("padding-bottom",r._cellPadding),W2("colspan",r._firstRowOffset),D1(),v3(" ",r._firstRowOffset>=r.labelMinRequiredCells?r.label:""," ")}}function ice(e,n){if(e&1){let r=G3();g1(0,"td",6)(1,"button",7),O2("click",function(s){let l=n0(r).$implicit,d=S2(2);return i0(d._cellClicked(l,s))})("focus",function(s){let l=n0(r).$implicit,d=S2(2);return i0(d._emitActiveDateChange(l,s))}),g1(2,"span",8),e2(3),v1(),E2(4,"span",9),v1()()}if(e&2){let r=n.$implicit,o=n.$index,s=S2().$index,l=S2();l5("width",l._cellWidth)("padding-top",l._cellPadding)("padding-bottom",l._cellPadding),W2("data-mat-row",s)("data-mat-col",o),D1(),G2("mat-calendar-body-disabled",!r.enabled)("mat-calendar-body-active",l._isActiveCell(s,o))("mat-calendar-body-range-start",l._isRangeStart(r.compareValue))("mat-calendar-body-range-end",l._isRangeEnd(r.compareValue))("mat-calendar-body-in-range",l._isInRange(r.compareValue))("mat-calendar-body-comparison-bridge-start",l._isComparisonBridgeStart(r.compareValue,s,o))("mat-calendar-body-comparison-bridge-end",l._isComparisonBridgeEnd(r.compareValue,s,o))("mat-calendar-body-comparison-start",l._isComparisonStart(r.compareValue))("mat-calendar-body-comparison-end",l._isComparisonEnd(r.compareValue))("mat-calendar-body-in-comparison-range",l._isInComparisonRange(r.compareValue))("mat-calendar-body-preview-start",l._isPreviewStart(r.compareValue))("mat-calendar-body-preview-end",l._isPreviewEnd(r.compareValue))("mat-calendar-body-in-preview",l._isInPreview(r.compareValue)),d2("ngClass",r.cssClasses)("tabindex",l._isActiveCell(s,o)?0:-1),W2("aria-label",r.ariaLabel)("aria-disabled",!r.enabled||null)("aria-pressed",l._isSelected(r.compareValue))("aria-current",l.todayValue===r.compareValue?"date":null)("aria-describedby",l._getDescribedby(r.compareValue)),D1(),G2("mat-calendar-body-selected",l._isSelected(r.compareValue))("mat-calendar-body-comparison-identical",l._isComparisonIdentical(r.compareValue))("mat-calendar-body-today",l.todayValue===r.compareValue),D1(),v3(" ",r.displayValue," ")}}function rce(e,n){if(e&1&&(g1(0,"tr",1),J2(1,nce,2,6,"td",4),Lw(2,ice,5,48,"td",5,PU),v1()),e&2){let r=n.$implicit,o=n.$index,s=S2();D1(),C0(o===0&&s._firstRowOffset?1:-1),D1(),Aw(r)}}function oce(e,n){if(e&1&&(g1(0,"th",2)(1,"span",6),e2(2),v1(),g1(3,"span",3),e2(4),v1()()),e&2){let r=n.$implicit;D1(2),D3(r.long),D1(2),D3(r.narrow)}}var sce=["*"];function ace(e,n){}function cce(e,n){if(e&1){let r=G3();g1(0,"mat-month-view",4),m6("activeDateChange",function(s){n0(r);let l=S2();return V6(l.activeDate,s)||(l.activeDate=s),i0(s)}),O2("_userSelection",function(s){n0(r);let l=S2();return i0(l._dateSelected(s))})("dragStarted",function(s){n0(r);let l=S2();return i0(l._dragStarted(s))})("dragEnded",function(s){n0(r);let l=S2();return i0(l._dragEnded(s))}),v1()}if(e&2){let r=S2();p6("activeDate",r.activeDate),d2("selected",r.selected)("dateFilter",r.dateFilter)("maxDate",r.maxDate)("minDate",r.minDate)("dateClass",r.dateClass)("comparisonStart",r.comparisonStart)("comparisonEnd",r.comparisonEnd)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName)("activeDrag",r._activeDrag)}}function lce(e,n){if(e&1){let r=G3();g1(0,"mat-year-view",5),m6("activeDateChange",function(s){n0(r);let l=S2();return V6(l.activeDate,s)||(l.activeDate=s),i0(s)}),O2("monthSelected",function(s){n0(r);let l=S2();return i0(l._monthSelectedInYearView(s))})("selectedChange",function(s){n0(r);let l=S2();return i0(l._goToDateInView(s,"month"))}),v1()}if(e&2){let r=S2();p6("activeDate",r.activeDate),d2("selected",r.selected)("dateFilter",r.dateFilter)("maxDate",r.maxDate)("minDate",r.minDate)("dateClass",r.dateClass)}}function uce(e,n){if(e&1){let r=G3();g1(0,"mat-multi-year-view",6),m6("activeDateChange",function(s){n0(r);let l=S2();return V6(l.activeDate,s)||(l.activeDate=s),i0(s)}),O2("yearSelected",function(s){n0(r);let l=S2();return i0(l._yearSelectedInMultiYearView(s))})("selectedChange",function(s){n0(r);let l=S2();return i0(l._goToDateInView(s,"year"))}),v1()}if(e&2){let r=S2();p6("activeDate",r.activeDate),d2("selected",r.selected)("dateFilter",r.dateFilter)("maxDate",r.maxDate)("minDate",r.minDate)("dateClass",r.dateClass)}}function dce(e,n){}var fce=["button"],hce=[[["","matDatepickerToggleIcon",""]]],pce=["[matDatepickerToggleIcon]"];function mce(e,n){e&1&&(a5(),g1(0,"svg",2),E2(1,"path",3),v1())}var g9=(()=>{class e{changes=new W1;calendarLabel="Calendar";openCalendarLabel="Open calendar";closeCalendarLabel="Close calendar";prevMonthLabel="Previous month";nextMonthLabel="Next month";prevYearLabel="Previous year";nextYearLabel="Next year";prevMultiYearLabel="Previous 24 years";nextMultiYearLabel="Next 24 years";switchToMonthViewLabel="Choose date";switchToMultiYearViewLabel="Choose month and year";startDateLabel="Start date";endDateLabel="End date";comparisonDateLabel="Comparison range";formatYearRange(r,o){return`${r} \u2013 ${o}`}formatYearRangeLabel(r,o){return`${r} to ${o}`}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),gce=0,h_=class{value;displayValue;ariaLabel;enabled;cssClasses;compareValue;rawValue;id=gce++;constructor(n,r,o,s,l={},d=n,h){this.value=n,this.displayValue=r,this.ariaLabel=o,this.enabled=s,this.cssClasses=l,this.compareValue=d,this.rawValue=h}},TU=Z4({passive:!1,capture:!0}),M5=Z4({passive:!0,capture:!0}),pM=Z4({passive:!0}),m9=(()=>{class e{_elementRef=Ua(l2);_ngZone=Ua(c2);_platform=Ua(E0);_intl=Ua(g9);_skipNextFocus;_focusActiveCellAfterViewChecked=!1;label;rows;todayValue;startValue;endValue;labelMinRequiredCells;numCols=7;activeCell=0;ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}isRange=!1;cellAspectRatio=1;comparisonStart;comparisonEnd;previewStart=null;previewEnd=null;startDateAccessibleName;endDateAccessibleName;selectedValueChange=new Z1;previewChange=new Z1;activeDateChange=new Z1;dragStarted=new Z1;dragEnded=new Z1;_firstRowOffset;_cellPadding;_cellWidth;_startDateLabelId;_endDateLabelId;_comparisonStartDateLabelId;_comparisonEndDateLabelId;_didDragSinceMouseDown=!1;_injector=Ua(w0);comparisonDateAccessibleName=this._intl.comparisonDateLabel;_trackRow=r=>r;constructor(){let r=Ua(M3);this._startDateLabelId=r.getId("mat-calendar-body-start-"),this._endDateLabelId=r.getId("mat-calendar-body-end-"),this._comparisonStartDateLabelId=r.getId("mat-calendar-body-comparison-start-"),this._comparisonEndDateLabelId=r.getId("mat-calendar-body-comparison-end-"),Ua(u3).load(_5),this._ngZone.runOutsideAngular(()=>{let o=this._elementRef.nativeElement;o.addEventListener("touchmove",this._touchmoveHandler,TU),o.addEventListener("mouseenter",this._enterHandler,M5),o.addEventListener("focus",this._enterHandler,M5),o.addEventListener("mouseleave",this._leaveHandler,M5),o.addEventListener("blur",this._leaveHandler,M5),o.addEventListener("mousedown",this._mousedownHandler,pM),o.addEventListener("touchstart",this._mousedownHandler,pM),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(r,o){this._didDragSinceMouseDown||r.enabled&&this.selectedValueChange.emit({value:r.value,event:o})}_emitActiveDateChange(r,o){r.enabled&&this.activeDateChange.emit({value:r.value,event:o})}_isSelected(r){return this.startValue===r||this.endValue===r}ngOnChanges(r){let o=r.numCols,{rows:s,numCols:l}=this;(r.rows||o)&&(this._firstRowOffset=s&&s.length&&s[0].length?l-s[0].length:0),(r.cellAspectRatio||o||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/l}%`),(o||!this._cellWidth)&&(this._cellWidth=`${100/l}%`)}ngOnDestroy(){let r=this._elementRef.nativeElement;r.removeEventListener("touchmove",this._touchmoveHandler,TU),r.removeEventListener("mouseenter",this._enterHandler,M5),r.removeEventListener("focus",this._enterHandler,M5),r.removeEventListener("mouseleave",this._leaveHandler,M5),r.removeEventListener("blur",this._leaveHandler,M5),r.removeEventListener("mousedown",this._mousedownHandler,pM),r.removeEventListener("touchstart",this._mousedownHandler,pM),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(r,o){let s=r*this.numCols+o;return r&&(s-=this._firstRowOffset),s==this.activeCell}_focusActiveCell(r=!0){P6(()=>{setTimeout(()=>{let o=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");o&&(r||(this._skipNextFocus=!0),o.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(r){return BD(r,this.startValue,this.endValue)}_isRangeEnd(r){return VD(r,this.startValue,this.endValue)}_isInRange(r){return UD(r,this.startValue,this.endValue,this.isRange)}_isComparisonStart(r){return BD(r,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(r,o,s){if(!this._isComparisonStart(r)||this._isRangeStart(r)||!this._isInRange(r))return!1;let l=this.rows[o][s-1];if(!l){let d=this.rows[o-1];l=d&&d[d.length-1]}return l&&!this._isRangeEnd(l.compareValue)}_isComparisonBridgeEnd(r,o,s){if(!this._isComparisonEnd(r)||this._isRangeEnd(r)||!this._isInRange(r))return!1;let l=this.rows[o][s+1];if(!l){let d=this.rows[o+1];l=d&&d[0]}return l&&!this._isRangeStart(l.compareValue)}_isComparisonEnd(r){return VD(r,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(r){return UD(r,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(r){return this.comparisonStart===this.comparisonEnd&&r===this.comparisonStart}_isPreviewStart(r){return BD(r,this.previewStart,this.previewEnd)}_isPreviewEnd(r){return VD(r,this.previewStart,this.previewEnd)}_isInPreview(r){return UD(r,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(r){if(!this.isRange)return null;if(this.startValue===r&&this.endValue===r)return`${this._startDateLabelId} ${this._endDateLabelId}`;if(this.startValue===r)return this._startDateLabelId;if(this.endValue===r)return this._endDateLabelId;if(this.comparisonStart!==null&&this.comparisonEnd!==null){if(r===this.comparisonStart&&r===this.comparisonEnd)return`${this._comparisonStartDateLabelId} ${this._comparisonEndDateLabelId}`;if(r===this.comparisonStart)return this._comparisonStartDateLabelId;if(r===this.comparisonEnd)return this._comparisonEndDateLabelId}return null}_enterHandler=r=>{if(this._skipNextFocus&&r.type==="focus"){this._skipNextFocus=!1;return}if(r.target&&this.isRange){let o=this._getCellFromElement(r.target);o&&this._ngZone.run(()=>this.previewChange.emit({value:o.enabled?o:null,event:r}))}};_touchmoveHandler=r=>{if(!this.isRange)return;let o=DU(r),s=o?this._getCellFromElement(o):null;o!==r.target&&(this._didDragSinceMouseDown=!0),jD(r.target)&&r.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:s?.enabled?s:null,event:r}))};_leaveHandler=r=>{this.previewEnd!==null&&this.isRange&&(r.type!=="blur"&&(this._didDragSinceMouseDown=!0),r.target&&this._getCellFromElement(r.target)&&!(r.relatedTarget&&this._getCellFromElement(r.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r})))};_mousedownHandler=r=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let o=r.target&&this._getCellFromElement(r.target);!o||!this._isInRange(o.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:o.rawValue,event:r})})};_mouseupHandler=r=>{if(!this.isRange)return;let o=jD(r.target);if(!o){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:r})});return}o.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let s=this._getCellFromElement(o);this.dragEnded.emit({value:s?.rawValue??null,event:r})})};_touchendHandler=r=>{let o=DU(r);o&&this._mouseupHandler({target:o})};_getCellFromElement(r){let o=jD(r);if(o){let s=o.getAttribute("data-mat-row"),l=o.getAttribute("data-mat-col");if(s&&l)return this.rows[parseInt(s)][parseInt(l)]}return null}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=C2({type:e,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[A0],attrs:Jae,decls:11,vars:11,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(o,s){o&1&&(J2(0,tce,3,6,"tr",0),Lw(1,rce,4,1,"tr",1,ece,!0),g1(3,"span",2),e2(4),v1(),g1(5,"span",2),e2(6),v1(),g1(7,"span",2),e2(8),v1(),g1(9,"span",2),e2(10),v1()),o&2&&(C0(s._firstRowOffset<s.labelMinRequiredCells?0:-1),D1(),Aw(s.rows),D1(2),d2("id",s._startDateLabelId),D1(),v3(" ",s.startDateAccessibleName,`
`),D1(),d2("id",s._endDateLabelId),D1(),v3(" ",s.endDateAccessibleName,`
`),D1(),d2("id",s._comparisonStartDateLabelId),D1(),Dw(" ",s.comparisonDateAccessibleName," ",s.startDateAccessibleName,`
`),D1(),d2("id",s._comparisonEndDateLabelId),D1(),Dw(" ",s.comparisonDateAccessibleName," ",s.endDateAccessibleName,`
`))},dependencies:[U6],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-sys-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-sys-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size));-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mat-calendar-body-disabled{opacity:.5}}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-sys-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color, transparent)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}@media(forced-colors: active){.mat-calendar-body-cell-content{border:none}}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-sys-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-sys-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-sys-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-sys-secondary))}@media(forced-colors: active){.mat-datepicker-popup:not(:empty),.mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.mat-calendar-body-today{outline:dotted 1px}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-selected{background:none}.mat-calendar-body-in-range::before,.mat-calendar-body-comparison-bridge-start::before,.mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}}'],encapsulation:2,changeDetection:0})}return e})();function FD(e){return e?.nodeName==="TD"}function jD(e){let n;return FD(e)?n=e:FD(e.parentNode)?n=e.parentNode:FD(e.parentNode?.parentNode)&&(n=e.parentNode.parentNode),n?.getAttribute("data-mat-row")!=null?n:null}function BD(e,n,r){return r!==null&&n!==r&&e<r&&e===n}function VD(e,n,r){return n!==null&&n!==r&&e>=n&&e===r}function UD(e,n,r,o){return o&&n!==null&&r!==null&&n!==r&&e>=n&&e<=r}function DU(e){let n=e.changedTouches[0];return document.elementFromPoint(n.clientX,n.clientY)}var _f=class{start;end;_disableStructuralEquivalency;constructor(n,r){this.start=n,this.end=r}},p_=(()=>{class e{selection;_adapter;_selectionChanged=new W1;selectionChanged=this._selectionChanged;constructor(r,o){this.selection=r,this._adapter=o,this.selection=r}updateSelection(r,o){let s=this.selection;this.selection=r,this._selectionChanged.next({selection:r,source:o,oldValue:s})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(r){return this._adapter.isDateInstance(r)&&this._adapter.isValid(r)}static \u0275fac=function(o){PL()};static \u0275prov=C1({token:e,factory:e.\u0275fac})}return e})(),yce=(()=>{class e extends p_{constructor(r){super(null,r)}add(r){super.updateSelection(r,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let r=new e(this._adapter);return r.updateSelection(this.selection,this),r}static \u0275fac=function(o){return new(o||e)(K1(_3))};static \u0275prov=C1({token:e,factory:e.\u0275fac})}return e})();function vce(e,n){return e||new yce(n)}var FU={provide:p_,deps:[[new l7,new tv,p_],_3],useFactory:vce};var jU=new I1("MAT_DATE_RANGE_SELECTION_STRATEGY");var HD=7,_ce=0,IU=(()=>{class e{_changeDetectorRef=Ua(k0);_dateFormats=Ua(k8,{optional:!0});_dateAdapter=Ua(_3,{optional:!0});_dir=Ua(N3,{optional:!0});_rangeStrategy=Ua(jU,{optional:!0});_rerenderSubscription=A2.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(r){let o=this._activeDate,s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(s,this.minDate,this.maxDate),this._hasSameMonthAndYear(o,this._activeDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(r){r instanceof _f?this._selected=r:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r)),this._setRanges(this._selected)}_selected;get minDate(){return this._minDate}set minDate(r){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r))}_minDate;get maxDate(){return this._maxDate}set maxDate(r){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;activeDrag=null;selectedChange=new Z1;_userSelection=new Z1;dragStarted=new Z1;dragEnded=new Z1;activeDateChange=new Z1;_matCalendarBody;_monthLabel;_weeks;_firstWeekOffset;_rangeStart;_rangeEnd;_comparisonRangeStart;_comparisonRangeEnd;_previewStart;_previewEnd;_isRange;_todayDate;_weekdays;constructor(){Ua(u3).load(y5),this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(e4(null)).subscribe(()=>this._init())}ngOnChanges(r){let o=r.comparisonStart||r.comparisonEnd;o&&!o.firstChange&&this._setRanges(this.selected),r.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(r){let o=r.value,s=this._getDateFromDayOfMonth(o),l,d;this._selected instanceof _f?(l=this._getDateInCurrentMonth(this._selected.start),d=this._getDateInCurrentMonth(this._selected.end)):l=d=this._getDateInCurrentMonth(this._selected),(l!==o||d!==o)&&this.selectedChange.emit(s),this._userSelection.emit({value:s,event:r.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(r){let o=r.value,s=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(o),this._dateAdapter.compareDate(s,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(r){let o=this._activeDate,s=this._isRtl();switch(r.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,s?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,s?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=r.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=r.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&r.preventDefault();return;case 27:this._previewEnd!=null&&!$3(r)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:r}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:r})),r.preventDefault(),r.stopPropagation());return;default:return}this._dateAdapter.compareDate(o,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),r.preventDefault()}_handleCalendarBodyKeyup(r){(r.keyCode===32||r.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:r}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(HD+this._dateAdapter.getDayOfWeek(r)-this._dateAdapter.getFirstDayOfWeek())%HD,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(r){this._matCalendarBody._focusActiveCell(r)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:r,value:o}){if(this._rangeStrategy){let s=o?o.rawValue:null,l=this._rangeStrategy.createPreview(s,this.selected,r);if(this._previewStart=this._getCellCompareValue(l.start),this._previewEnd=this._getCellCompareValue(l.end),this.activeDrag&&s){let d=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,s,r);d&&(this._previewStart=this._getCellCompareValue(d.start),this._previewEnd=this._getCellCompareValue(d.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(r){if(this.activeDrag)if(r.value){let o=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,r.value,r.event);this.dragEnded.emit({value:o??null,event:r.event})}else this.dragEnded.emit({value:null,event:r.event})}_getDateFromDayOfMonth(r){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r)}_initWeekdays(){let r=this._dateAdapter.getFirstDayOfWeek(),o=this._dateAdapter.getDayOfWeekNames("narrow"),l=this._dateAdapter.getDayOfWeekNames("long").map((d,h)=>({long:d,narrow:o[h],id:_ce++}));this._weekdays=l.slice(r).concat(l.slice(0,r))}_createWeekCells(){let r=this._dateAdapter.getNumDaysInMonth(this.activeDate),o=this._dateAdapter.getDateNames();this._weeks=[[]];for(let s=0,l=this._firstWeekOffset;s<r;s++,l++){l==HD&&(this._weeks.push([]),l=0);let d=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),s+1),h=this._shouldEnableDate(d),p=this._dateAdapter.format(d,this._dateFormats.display.dateA11yLabel),g=this.dateClass?this.dateClass(d,"month"):void 0;this._weeks[this._weeks.length-1].push(new h_(s+1,o[s],p,h,g,this._getCellCompareValue(d),d))}}_shouldEnableDate(r){return!!r&&(!this.minDate||this._dateAdapter.compareDate(r,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(r,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(r))}_getDateInCurrentMonth(r){return r&&this._hasSameMonthAndYear(r,this.activeDate)?this._dateAdapter.getDate(r):null}_hasSameMonthAndYear(r,o){return!!(r&&o&&this._dateAdapter.getMonth(r)==this._dateAdapter.getMonth(o)&&this._dateAdapter.getYear(r)==this._dateAdapter.getYear(o))}_getCellCompareValue(r){if(r){let o=this._dateAdapter.getYear(r),s=this._dateAdapter.getMonth(r),l=this._dateAdapter.getDate(r);return new Date(o,s,l).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(r){r instanceof _f?(this._rangeStart=this._getCellCompareValue(r.start),this._rangeEnd=this._getCellCompareValue(r.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(r),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(r){return!this.dateFilter||this.dateFilter(r)}_clearPreview(){this._previewStart=this._previewEnd=null}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=C2({type:e,selectors:[["mat-month-view"]],viewQuery:function(o,s){if(o&1&&g0(m9,5),o&2){let l;F2(l=j2())&&(s._matCalendarBody=l.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[A0],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(o,s){o&1&&(g1(0,"table",0)(1,"thead",1)(2,"tr"),Lw(3,oce,5,2,"th",2,PU),v1(),g1(5,"tr",3),E2(6,"th",4),v1()(),g1(7,"tbody",5),O2("selectedValueChange",function(d){return s._dateSelected(d)})("activeDateChange",function(d){return s._updateActiveDate(d)})("previewChange",function(d){return s._previewChanged(d)})("dragStarted",function(d){return s.dragStarted.emit(d)})("dragEnded",function(d){return s._dragEnded(d)})("keyup",function(d){return s._handleCalendarBodyKeyup(d)})("keydown",function(d){return s._handleCalendarBodyKeydown(d)}),v1()()),o&2&&(D1(3),Aw(s._weekdays),D1(4),d2("label",s._monthLabel)("rows",s._weeks)("todayValue",s._todayDate)("startValue",s._rangeStart)("endValue",s._rangeEnd)("comparisonStart",s._comparisonRangeStart)("comparisonEnd",s._comparisonRangeEnd)("previewStart",s._previewStart)("previewEnd",s._previewEnd)("isRange",s._isRange)("labelMinRequiredCells",3)("activeCell",s._dateAdapter.getDate(s.activeDate)-1)("startDateAccessibleName",s.startDateAccessibleName)("endDateAccessibleName",s.endDateAccessibleName))},dependencies:[m9],encapsulation:2,changeDetection:0})}return e})(),O4=24,GD=4,NU=(()=>{class e{_changeDetectorRef=Ua(k0);_dateAdapter=Ua(_3,{optional:!0});_dir=Ua(N3,{optional:!0});_rerenderSubscription=A2.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(r){let o=this._activeDate,s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(s,this.minDate,this.maxDate),BU(this._dateAdapter,o,this._activeDate,this.minDate,this.maxDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(r){r instanceof _f?this._selected=r:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r)),this._setSelectedYear(r)}_selected;get minDate(){return this._minDate}set minDate(r){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r))}_minDate;get maxDate(){return this._maxDate}set maxDate(r){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r))}_maxDate;dateFilter;dateClass;selectedChange=new Z1;yearSelected=new Z1;activeDateChange=new Z1;_matCalendarBody;_years;_todayYear;_selectedYear;constructor(){this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(e4(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let o=this._dateAdapter.getYear(this._activeDate)-f_(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let s=0,l=[];s<O4;s++)l.push(o+s),l.length==GD&&(this._years.push(l.map(d=>this._createCellForYear(d))),l=[]);this._changeDetectorRef.markForCheck()}_yearSelected(r){let o=r.value,s=this._dateAdapter.createDate(o,0,1),l=this._getDateFromYear(o);this.yearSelected.emit(s),this.selectedChange.emit(l)}_updateActiveDate(r){let o=r.value,s=this._activeDate;this.activeDate=this._getDateFromYear(o),this._dateAdapter.compareDate(s,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(r){let o=this._activeDate,s=this._isRtl();switch(r.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,s?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,s?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-GD);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,GD);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-f_(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,O4-f_(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r.altKey?-O4*10:-O4);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r.altKey?O4*10:O4);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),r.preventDefault()}_handleCalendarBodyKeyup(r){(r.keyCode===32||r.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:r}),this._selectionKeyPressed=!1)}_getActiveCell(){return f_(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(r){let o=this._dateAdapter.getMonth(this.activeDate),s=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(r,o,1));return this._dateAdapter.createDate(r,o,Math.min(this._dateAdapter.getDate(this.activeDate),s))}_createCellForYear(r){let o=this._dateAdapter.createDate(r,0,1),s=this._dateAdapter.getYearName(o),l=this.dateClass?this.dateClass(o,"multi-year"):void 0;return new h_(r,s,s,this._shouldEnableYear(r),l)}_shouldEnableYear(r){if(r==null||this.maxDate&&r>this._dateAdapter.getYear(this.maxDate)||this.minDate&&r<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let o=this._dateAdapter.createDate(r,0,1);for(let s=o;this._dateAdapter.getYear(s)==r;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(r){if(this._selectedYear=null,r instanceof _f){let o=r.start||r.end;o&&(this._selectedYear=this._dateAdapter.getYear(o))}else r&&(this._selectedYear=this._dateAdapter.getYear(r))}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=C2({type:e,selectors:[["mat-multi-year-view"]],viewQuery:function(o,s){if(o&1&&g0(m9,5),o&2){let l;F2(l=j2())&&(s._matCalendarBody=l.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(o,s){o&1&&(g1(0,"table",0)(1,"thead",1)(2,"tr"),E2(3,"th",2),v1()(),g1(4,"tbody",3),O2("selectedValueChange",function(d){return s._yearSelected(d)})("activeDateChange",function(d){return s._updateActiveDate(d)})("keyup",function(d){return s._handleCalendarBodyKeyup(d)})("keydown",function(d){return s._handleCalendarBodyKeydown(d)}),v1()()),o&2&&(D1(4),d2("rows",s._years)("todayValue",s._todayYear)("startValue",s._selectedYear)("endValue",s._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",s._getActiveCell()))},dependencies:[m9],encapsulation:2,changeDetection:0})}return e})();function BU(e,n,r,o,s){let l=e.getYear(n),d=e.getYear(r),h=VU(e,o,s);return Math.floor((l-h)/O4)===Math.floor((d-h)/O4)}function f_(e,n,r,o){let s=e.getYear(n);return bce(s-VU(e,r,o),O4)}function VU(e,n,r){let o=0;return r?o=e.getYear(r)-O4+1:n&&(o=e.getYear(n)),o}function bce(e,n){return(e%n+n)%n}var OU=(()=>{class e{_changeDetectorRef=Ua(k0);_dateFormats=Ua(k8,{optional:!0});_dateAdapter=Ua(_3,{optional:!0});_dir=Ua(N3,{optional:!0});_rerenderSubscription=A2.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(r){let o=this._activeDate,s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(s,this.minDate,this.maxDate),this._dateAdapter.getYear(o)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}_activeDate;get selected(){return this._selected}set selected(r){r instanceof _f?this._selected=r:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r)),this._setSelectedMonth(r)}_selected;get minDate(){return this._minDate}set minDate(r){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r))}_minDate;get maxDate(){return this._maxDate}set maxDate(r){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r))}_maxDate;dateFilter;dateClass;selectedChange=new Z1;monthSelected=new Z1;activeDateChange=new Z1;_matCalendarBody;_months;_yearLabel;_todayMonth;_selectedMonth;constructor(){this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(e4(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(r){let o=r.value,s=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),o,1);this.monthSelected.emit(s);let l=this._getDateFromMonth(o);this.selectedChange.emit(l)}_updateActiveDate(r){let o=r.value,s=this._activeDate;this.activeDate=this._getDateFromMonth(o),this._dateAdapter.compareDate(s,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(r){let o=this._activeDate,s=this._isRtl();switch(r.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,s?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,s?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(o,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),r.preventDefault()}_handleCalendarBodyKeyup(r){(r.keyCode===32||r.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:r}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let r=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(o=>o.map(s=>this._createCellForMonth(s,r[s]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(r){return r&&this._dateAdapter.getYear(r)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(r):null}_getDateFromMonth(r){let o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),r,1),s=this._dateAdapter.getNumDaysInMonth(o);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),r,Math.min(this._dateAdapter.getDate(this.activeDate),s))}_createCellForMonth(r,o){let s=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),r,1),l=this._dateAdapter.format(s,this._dateFormats.display.monthYearA11yLabel),d=this.dateClass?this.dateClass(s,"year"):void 0;return new h_(r,o.toLocaleUpperCase(),l,this._shouldEnableMonth(r),d)}_shouldEnableMonth(r){let o=this._dateAdapter.getYear(this.activeDate);if(r==null||this._isYearAndMonthAfterMaxDate(o,r)||this._isYearAndMonthBeforeMinDate(o,r))return!1;if(!this.dateFilter)return!0;let s=this._dateAdapter.createDate(o,r,1);for(let l=s;this._dateAdapter.getMonth(l)==r;l=this._dateAdapter.addCalendarDays(l,1))if(this.dateFilter(l))return!0;return!1}_isYearAndMonthAfterMaxDate(r,o){if(this.maxDate){let s=this._dateAdapter.getYear(this.maxDate),l=this._dateAdapter.getMonth(this.maxDate);return r>s||r===s&&o>l}return!1}_isYearAndMonthBeforeMinDate(r,o){if(this.minDate){let s=this._dateAdapter.getYear(this.minDate),l=this._dateAdapter.getMonth(this.minDate);return r<s||r===s&&o<l}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(r){r instanceof _f?this._selectedMonth=this._getMonthInCurrentYear(r.start)||this._getMonthInCurrentYear(r.end):this._selectedMonth=this._getMonthInCurrentYear(r)}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=C2({type:e,selectors:[["mat-year-view"]],viewQuery:function(o,s){if(o&1&&g0(m9,5),o&2){let l;F2(l=j2())&&(s._matCalendarBody=l.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(o,s){o&1&&(g1(0,"table",0)(1,"thead",1)(2,"tr"),E2(3,"th",2),v1()(),g1(4,"tbody",3),O2("selectedValueChange",function(d){return s._monthSelected(d)})("activeDateChange",function(d){return s._updateActiveDate(d)})("keyup",function(d){return s._handleCalendarBodyKeyup(d)})("keydown",function(d){return s._handleCalendarBodyKeydown(d)}),v1()()),o&2&&(D1(4),d2("label",s._yearLabel)("rows",s._months)("todayValue",s._todayMonth)("startValue",s._selectedMonth)("endValue",s._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",s._dateAdapter.getMonth(s.activeDate)))},dependencies:[m9],encapsulation:2,changeDetection:0})}return e})(),UU=(()=>{class e{_intl=Ua(g9);calendar=Ua($D);_dateAdapter=Ua(_3,{optional:!0});_dateFormats=Ua(k8,{optional:!0});constructor(){Ua(u3).load(y5);let r=Ua(k0);this.calendar.stateChanges.subscribe(()=>r.markForCheck())}get periodButtonText(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return this.calendar.currentView=="month"?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-O4)}nextClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:O4)}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(r,o){return this.calendar.currentView=="month"?this._dateAdapter.getYear(r)==this._dateAdapter.getYear(o)&&this._dateAdapter.getMonth(r)==this._dateAdapter.getMonth(o):this.calendar.currentView=="year"?this._dateAdapter.getYear(r)==this._dateAdapter.getYear(o):BU(this._dateAdapter,r,o,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let o=this._dateAdapter.getYear(this.calendar.activeDate)-f_(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),s=o+O4-1,l=this._dateAdapter.getYearName(this._dateAdapter.createDate(o,0,1)),d=this._dateAdapter.getYearName(this._dateAdapter.createDate(s,0,1));return[l,d]}_periodButtonLabelId=Ua(M3).getId("mat-calendar-period-label-");static \u0275fac=function(o){return new(o||e)};static \u0275cmp=C2({type:e,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:sce,decls:17,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],template:function(o,s){o&1&&(Q0(),g1(0,"div",0)(1,"div",1)(2,"span",2),e2(3),v1(),g1(4,"button",3),O2("click",function(){return s.currentPeriodClicked()}),g1(5,"span",4),e2(6),v1(),a5(),g1(7,"svg",5),E2(8,"polygon",6),v1()(),gw(),E2(9,"div",7),e0(10),g1(11,"button",8),O2("click",function(){return s.previousClicked()}),a5(),g1(12,"svg",9),E2(13,"path",10),v1()(),gw(),g1(14,"button",11),O2("click",function(){return s.nextClicked()}),a5(),g1(15,"svg",9),E2(16,"path",12),v1()()()()),o&2&&(D1(2),d2("id",s._periodButtonLabelId),D1(),D3(s.periodButtonDescription),D1(),W2("aria-label",s.periodButtonLabel)("aria-describedby",s._periodButtonLabelId),D1(2),D3(s.periodButtonText),D1(),G2("mat-calendar-invert",s.calendar.currentView!=="month"),D1(4),d2("disabled",!s.previousEnabled()),W2("aria-label",s.prevButtonLabel),D1(3),d2("disabled",!s.nextEnabled()),W2("aria-label",s.nextButtonLabel))},dependencies:[_D,bD],encapsulation:2,changeDetection:0})}return e})(),$D=(()=>{class e{_dateAdapter=Ua(_3,{optional:!0});_dateFormats=Ua(k8,{optional:!0});_changeDetectorRef=Ua(k0);headerComponent;_calendarHeaderPortal;_intlChanges;_moveFocusOnNextTick=!1;get startAt(){return this._startAt}set startAt(r){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r))}_startAt;startView="month";get selected(){return this._selected}set selected(r){r instanceof _f?this._selected=r:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r))}_selected;get minDate(){return this._minDate}set minDate(r){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r))}_minDate;get maxDate(){return this._maxDate}set maxDate(r){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;selectedChange=new Z1;yearSelected=new Z1;monthSelected=new Z1;viewChanged=new Z1(!0);_userSelection=new Z1;_userDragDrop=new Z1;monthView;yearView;multiYearView;get activeDate(){return this._clampedActiveDate}set activeDate(r){this._clampedActiveDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}_clampedActiveDate;get currentView(){return this._currentView}set currentView(r){let o=this._currentView!==r?r:null;this._currentView=r,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),o&&this.viewChanged.emit(o)}_currentView;_activeDrag=null;stateChanges=new W1;constructor(){this._intlChanges=Ua(g9).changes.subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new u9(this.headerComponent||UU),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(r){let o=r.minDate&&!this._dateAdapter.sameDate(r.minDate.previousValue,r.minDate.currentValue)?r.minDate:void 0,s=r.maxDate&&!this._dateAdapter.sameDate(r.maxDate.previousValue,r.maxDate.currentValue)?r.maxDate:void 0,l=o||s||r.dateFilter;if(l&&!l.firstChange){let d=this._getCurrentViewComponent();d&&(this._moveFocusOnNextTick=!0,this._changeDetectorRef.detectChanges(),d._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(r){let o=r.value;(this.selected instanceof _f||o&&!this._dateAdapter.sameDate(o,this.selected))&&this.selectedChange.emit(o),this._userSelection.emit(r)}_yearSelectedInMultiYearView(r){this.yearSelected.emit(r)}_monthSelectedInYearView(r){this.monthSelected.emit(r)}_goToDateInView(r,o){this.activeDate=r,this.currentView=o}_dragStarted(r){this._activeDrag=r}_dragEnded(r){this._activeDrag&&(r.value&&this._userDragDrop.emit(r),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=C2({type:e,selectors:[["mat-calendar"]],viewQuery:function(o,s){if(o&1&&(g0(IU,5),g0(OU,5),g0(NU,5)),o&2){let l;F2(l=j2())&&(s.monthView=l.first),F2(l=j2())&&(s.yearView=l.first),F2(l=j2())&&(s.multiYearView=l.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[V0([FU]),A0],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(o,s){if(o&1&&(J2(0,ace,0,0,"ng-template",0),g1(1,"div",1),J2(2,cce,1,11,"mat-month-view",2)(3,lce,1,6,"mat-year-view",3)(4,uce,1,6,"mat-multi-year-view",3),v1()),o&2){let l;d2("cdkPortalOutlet",s._calendarHeaderPortal),D1(2),C0((l=s.currentView)==="month"?2:l==="year"?3:l==="multi-year"?4:-1)}},dependencies:[SD,iV,IU,OU,NU],styles:['.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-sys-title-small-weight));--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}@media(forced-colors: active){.mat-calendar-arrow{fill:CanvasText}}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-sys-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-sys-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color, transparent)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return e})(),zU={transformPanel:p5("transformPanel",[v6("void => enter-dropdown",$6("120ms cubic-bezier(0, 0, 0.2, 1)",nT([C3({opacity:0,transform:"scale(1, 0.8)"}),C3({opacity:1,transform:"scale(1, 1)"})]))),v6("void => enter-dialog",$6("150ms cubic-bezier(0, 0, 0.2, 1)",nT([C3({opacity:0,transform:"scale(0.7)"}),C3({transform:"none",opacity:1})]))),v6("* => void",$6("100ms linear",C3({opacity:0})))]),fadeInCalendar:p5("fadeInCalendar",[v7("void",C3({opacity:0})),v7("enter",C3({opacity:1})),v6("void => *",$6("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},HU=new I1("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let e=Ua(w6);return()=>e.scrollStrategies.reposition()}});function xce(e){return()=>e.scrollStrategies.reposition()}var wce={provide:HU,deps:[w6],useFactory:xce},GU=(()=>{class e{_elementRef=Ua(l2);_changeDetectorRef=Ua(k0);_globalModel=Ua(p_);_dateAdapter=Ua(_3);_rangeSelectionStrategy=Ua(jU,{optional:!0});_subscriptions=new A2;_model;_calendar;color;datepicker;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;_isAbove;_animationState;_animationDone=new W1;_isAnimating=!1;_closeButtonText;_closeButtonFocused;_actionsPortal=null;_dialogLabelId;constructor(){Ua(u3).load(y5);let r=Ua(g9);this._closeButtonText=r.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(r){let o=this._model.selection,s=r.value,l=o instanceof _f;if(l&&this._rangeSelectionStrategy){let d=this._rangeSelectionStrategy.selectionFinished(s,o,r.event);this._model.updateSelection(d,this)}else s&&(l||!this._dateAdapter.sameDate(s,o))&&this._model.add(s);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(r){this._model.updateSelection(r.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(r){this._isAnimating=r.phaseName==="start",this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(r,o){this._model=r?this._globalModel.clone():this._globalModel,this._actionsPortal=r,o&&this._changeDetectorRef.detectChanges()}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=C2({type:e,selectors:[["mat-datepicker-content"]],viewQuery:function(o,s){if(o&1&&g0($D,5),o&2){let l;F2(l=j2())&&(s._calendar=l.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:5,hostBindings:function(o,s){o&1&&Tw("@transformPanel.start",function(d){return s._handleAnimationEvent(d)})("@transformPanel.done",function(d){return s._handleAnimationEvent(d)}),o&2&&(kw("@transformPanel",s._animationState),h6(s.color?"mat-"+s.color:""),G2("mat-datepicker-content-touch",s.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],decls:5,vars:27,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(o,s){if(o&1&&(g1(0,"div",0)(1,"mat-calendar",1),O2("yearSelected",function(d){return s.datepicker._selectYear(d)})("monthSelected",function(d){return s.datepicker._selectMonth(d)})("viewChanged",function(d){return s.datepicker._viewChanged(d)})("_userSelection",function(d){return s._handleUserSelection(d)})("_userDragDrop",function(d){return s._handleUserDragDrop(d)}),v1(),J2(2,dce,0,0,"ng-template",2),g1(3,"button",3),O2("focus",function(){return s._closeButtonFocused=!0})("blur",function(){return s._closeButtonFocused=!1})("click",function(){return s.datepicker.close()}),e2(4),v1()()),o&2){let l;G2("mat-datepicker-content-container-with-custom-header",s.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",s._actionsPortal),W2("aria-modal",!0)("aria-labelledby",(l=s._dialogLabelId)!==null&&l!==void 0?l:void 0),D1(),h6(s.datepicker.panelClass),d2("id",s.datepicker.id)("startAt",s.datepicker.startAt)("startView",s.datepicker.startView)("minDate",s.datepicker._getMinDate())("maxDate",s.datepicker._getMaxDate())("dateFilter",s.datepicker._getDateFilter())("headerComponent",s.datepicker.calendarHeaderComponent)("selected",s._getSelected())("dateClass",s.datepicker.dateClass)("comparisonStart",s.comparisonStart)("comparisonEnd",s.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",s.startDateAccessibleName)("endDateAccessibleName",s.endDateAccessibleName),D1(),d2("cdkPortalOutlet",s._actionsPortal),D1(),G2("cdk-visually-hidden",!s._closeButtonFocused),d2("color",s.color||"primary"),D1(),D3(s._closeButtonText)}},dependencies:[eV,$D,SD,_D],styles:[".mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-sys-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-sys-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-sys-corner-large))}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-sys-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[zU.transformPanel,zU.fadeInCalendar]},changeDetection:0})}return e})(),RU=(()=>{class e{_overlay=Ua(w6);_viewContainerRef=Ua(H3);_dateAdapter=Ua(_3,{optional:!0});_dir=Ua(N3,{optional:!0});_model=Ua(p_);_scrollStrategy=Ua(HU);_inputStateChanges=A2.EMPTY;_document=Ua(T2);calendarHeaderComponent;get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(r){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r))}_startAt;startView="month";get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(r){this._color=r}_color;touchUi=!1;get disabled(){return this._disabled===void 0&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(r){r!==this._disabled&&(this._disabled=r,this.stateChanges.next(void 0))}_disabled;xPosition="start";yPosition="below";restoreFocus=!0;yearSelected=new Z1;monthSelected=new Z1;viewChanged=new Z1(!0);dateClass;openedStream=new Z1;closedStream=new Z1;get panelClass(){return this._panelClass}set panelClass(r){this._panelClass=HB(r)}_panelClass;get opened(){return this._opened}set opened(r){r?this.open():this.close()}_opened=!1;id=Ua(M3).getId("mat-datepicker-");_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}_overlayRef;_componentRef;_focusedElementBeforeOpen=null;_backdropHarnessClass=`${this.id}-backdrop`;_actionsPortal;datepickerInput;stateChanges=new W1;_injector=Ua(w0);_changeDetectorRef=Ua(k0);constructor(){this._dateAdapter,this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(r){let o=r.xPosition||r.yPosition;if(o&&!o.firstChange&&this._overlayRef){let s=this._overlayRef.getConfig().positionStrategy;s instanceof u_&&(this._setConnectedPositions(s),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(r){this._model.add(r)}_selectYear(r){this.yearSelected.emit(r)}_selectMonth(r){this.monthSelected.emit(r)}_viewChanged(r){this.viewChanged.emit(r)}registerInput(r){return this.datepickerInput,this._inputStateChanges.unsubscribe(),this.datepickerInput=r,this._inputStateChanges=r.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(r){this._actionsPortal,this._actionsPortal=r,this._componentRef?.instance._assignActions(r,!0)}removeActions(r){r===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this.datepickerInput,this._focusedElementBeforeOpen=TC(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;let r=this.restoreFocus&&this._focusedElementBeforeOpen&&typeof this._focusedElementBeforeOpen.focus=="function",o=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){let{instance:s,location:l}=this._componentRef;s._startExitAnimation(),s._animationDone.pipe(g3(1)).subscribe(()=>{let d=this._document.activeElement;r&&(!d||d===this._document.activeElement||l.nativeElement.contains(d))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}r?setTimeout(o):o()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(r){r.datepicker=this,r.color=this.color,r._dialogLabelId=this.datepickerInput.getOverlayLabelId(),r._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();let r=this.touchUi,o=new u9(GU,this._viewContainerRef),s=this._overlayRef=this._overlay.create(new f9({positionStrategy:r?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[r?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir||"ltr",scrollStrategy:r?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:`mat-datepicker-${r?"dialog":"popup"}`}));this._getCloseStream(s).subscribe(l=>{l&&l.preventDefault(),this.close()}),s.keydownEvents().subscribe(l=>{let d=l.keyCode;(d===38||d===40||d===37||d===39||d===33||d===34)&&l.preventDefault()}),this._componentRef=s.attach(o),this._forwardContentValues(this._componentRef.instance),r||P6(()=>{s.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){let r=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(r)}_setConnectedPositions(r){let o=this.xPosition==="end"?"end":"start",s=o==="start"?"end":"start",l=this.yPosition==="above"?"bottom":"top",d=l==="top"?"bottom":"top";return r.withPositions([{originX:o,originY:d,overlayX:o,overlayY:l},{originX:o,originY:l,overlayX:o,overlayY:d},{originX:s,originY:d,overlayX:s,overlayY:l},{originX:s,originY:l,overlayX:s,overlayY:d}])}_getCloseStream(r){let o=["ctrlKey","shiftKey","metaKey"];return P3(r.backdropClick(),r.detachments(),r.keydownEvents().pipe(d0(s=>s.keyCode===27&&!$3(s)||this.datepickerInput&&$3(s,"altKey")&&s.keyCode===38&&o.every(l=>!$3(s,l)))))}static \u0275fac=function(o){return new(o||e)};static \u0275dir=n2({type:e,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[2,"touchUi","touchUi",p2],disabled:[2,"disabled","disabled",p2],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[2,"restoreFocus","restoreFocus",p2],dateClass:"dateClass",panelClass:"panelClass",opened:[2,"opened","opened",p2]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[z0,A0]})}return e})(),$U=(()=>{class e extends RU{static \u0275fac=(()=>{let r;return function(s){return(r||(r=O0(e)))(s||e)}})();static \u0275cmp=C2({type:e,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[V0([FU,{provide:RU,useExisting:e}]),h0],decls:0,vars:0,template:function(o,s){},encapsulation:2,changeDetection:0})}return e})(),p9=class{target;targetElement;value;constructor(n,r){this.target=n,this.targetElement=r,this.value=this.target.value}},Cce=(()=>{class e{_elementRef=Ua(l2);_dateAdapter=Ua(_3,{optional:!0});_dateFormats=Ua(k8,{optional:!0});_isInitialized;get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(r){this._assignValueProgrammatically(r)}_model;get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(r){let o=r,s=this._elementRef.nativeElement;this._disabled!==o&&(this._disabled=o,this.stateChanges.next(void 0)),o&&this._isInitialized&&s.blur&&s.blur()}_disabled;dateChange=new Z1;dateInput=new Z1;stateChanges=new W1;_onTouched=()=>{};_validatorOnChange=()=>{};_cvaOnChange=()=>{};_valueChangesSubscription=A2.EMPTY;_localeSubscription=A2.EMPTY;_pendingValue;_parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}};_filterValidator=r=>{let o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r.value));return!o||this._matchesFilter(o)?null:{matDatepickerFilter:!0}};_minValidator=r=>{let o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r.value)),s=this._getMinDate();return!s||!o||this._dateAdapter.compareDate(s,o)<=0?null:{matDatepickerMin:{min:s,actual:o}}};_maxValidator=r=>{let o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r.value)),s=this._getMaxDate();return!s||!o||this._dateAdapter.compareDate(s,o)>=0?null:{matDatepickerMax:{max:s,actual:o}}};_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(r){this._model=r,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(o=>{if(this._shouldHandleChangeEvent(o)){let s=this._getValueFromModel(o.selection);this._lastValueValid=this._isValidValue(s),this._cvaOnChange(s),this._onTouched(),this._formatValue(s),this.dateInput.emit(new p9(this,this._elementRef.nativeElement)),this.dateChange.emit(new p9(this,this._elementRef.nativeElement))}})}_lastValueValid=!1;constructor(){this._localeSubscription=this._dateAdapter.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(r){Mce(r,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(r){this._validatorOnChange=r}validate(r){return this._validator?this._validator(r):null}writeValue(r){this._assignValueProgrammatically(r)}registerOnChange(r){this._cvaOnChange=r}registerOnTouched(r){this._onTouched=r}setDisabledState(r){this.disabled=r}_onKeydown(r){let o=["ctrlKey","shiftKey","metaKey"];$3(r,"altKey")&&r.keyCode===40&&o.every(l=>!$3(r,l))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),r.preventDefault())}_onInput(r){let o=this._lastValueValid,s=this._dateAdapter.parse(r,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(s),s=this._dateAdapter.getValidDateOrNull(s);let l=!this._dateAdapter.sameDate(s,this.value);!s||l?this._cvaOnChange(s):(r&&!this.value&&this._cvaOnChange(s),o!==this._lastValueValid&&this._validatorOnChange()),l&&(this._assignValue(s),this.dateInput.emit(new p9(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new p9(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(r){this._elementRef.nativeElement.value=r!=null?this._dateAdapter.format(r,this._dateFormats.display.dateInput):""}_assignValue(r){this._model?(this._assignValueToModel(r),this._pendingValue=null):this._pendingValue=r}_isValidValue(r){return!r||this._dateAdapter.isValid(r)}_parentDisabled(){return!1}_assignValueProgrammatically(r){r=this._dateAdapter.deserialize(r),this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r),this._assignValue(r),this._formatValue(r)}_matchesFilter(r){let o=this._getDateFilter();return!o||o(r)}static \u0275fac=function(o){return new(o||e)};static \u0275dir=n2({type:e,inputs:{value:"value",disabled:[2,"disabled","disabled",p2]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[z0,A0]})}return e})();function Mce(e,n){let r=Object.keys(e);for(let o of r){let{previousValue:s,currentValue:l}=e[o];if(n.isDateInstance(s)&&n.isDateInstance(l)){if(!n.sameDate(s,l))return!0}else return!0}return!1}var Ece={provide:r9,useExisting:S4(()=>mM),multi:!0},Sce={provide:a_,useExisting:S4(()=>mM),multi:!0},mM=(()=>{class e extends Cce{_formField=Ua(T7,{optional:!0});_closedSubscription=A2.EMPTY;_openedSubscription=A2.EMPTY;set matDatepicker(r){r&&(this._datepicker=r,this._ariaOwns.set(r.opened?r.id:null),this._closedSubscription=r.closedStream.subscribe(()=>{this._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=r.openedStream.subscribe(()=>{this._ariaOwns.set(r.id)}),this._registerModel(r.registerInput(this)))}_datepicker;_ariaOwns=d6(null);get min(){return this._min}set min(r){let o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r));this._dateAdapter.sameDate(o,this._min)||(this._min=o,this._validatorOnChange())}_min;get max(){return this._max}set max(r){let o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(r));this._dateAdapter.sameDate(o,this._max)||(this._max=o,this._validatorOnChange())}_max;get dateFilter(){return this._dateFilter}set dateFilter(r){let o=this._matchesFilter(this.value);this._dateFilter=r,this._matchesFilter(this.value)!==o&&this._validatorOnChange()}_dateFilter;_validator;constructor(){super(),this._validator=x5.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(r){return r}_assignValueToModel(r){this._model&&this._model.updateSelection(r,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(r){return r.source!==this}static \u0275fac=function(o){return new(o||e)};static \u0275dir=n2({type:e,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(o,s){o&1&&O2("input",function(d){return s._onInput(d.target.value)})("change",function(){return s._onChange()})("blur",function(){return s._onBlur()})("keydown",function(d){return s._onKeydown(d)}),o&2&&(j6("disabled",s.disabled),W2("aria-haspopup",s._datepicker?"dialog":null)("aria-owns",s._ariaOwns())("min",s.min?s._dateAdapter.toIso8601(s.min):null)("max",s.max?s._dateAdapter.toIso8601(s.max):null)("data-mat-calendar",s._datepicker?s._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[0,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[V0([Ece,Sce,{provide:PD,useExisting:e}]),h0]})}return e})(),qD=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275dir=n2({type:e,selectors:[["","matDatepickerToggleIcon",""]]})}return e})(),WD=(()=>{class e{_intl=Ua(g9);_changeDetectorRef=Ua(k0);_stateChanges=A2.EMPTY;datepicker;tabIndex;ariaLabel;get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(r){this._disabled=r}_disabled;disableRipple;_customIcon;_button;constructor(){let r=Ua(new c6("tabindex"),{optional:!0}),o=Number(r);this.tabIndex=o||o===0?o:null}ngOnChanges(r){r.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(r){this.datepicker&&!this.disabled&&(this.datepicker.open(),r.stopPropagation())}_watchStateChanges(){let r=this.datepicker?this.datepicker.stateChanges:s2(),o=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:s2(),s=this.datepicker?P3(this.datepicker.openedStream,this.datepicker.closedStream):s2();this._stateChanges.unsubscribe(),this._stateChanges=P3(this._intl.changes,r,o,s).subscribe(()=>this._changeDetectorRef.markForCheck())}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=C2({type:e,selectors:[["mat-datepicker-toggle"]],contentQueries:function(o,s,l){if(o&1&&y3(l,qD,5),o&2){let d;F2(d=j2())&&(s._customIcon=d.first)}},viewQuery:function(o,s){if(o&1&&g0(fce,5),o&2){let l;F2(l=j2())&&(s._button=l.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(o,s){o&1&&O2("click",function(d){return s._open(d)}),o&2&&(W2("tabindex",null)("data-mat-calendar",s.datepicker?s.datepicker.id:null),G2("mat-datepicker-toggle-active",s.datepicker&&s.datepicker.opened)("mat-accent",s.datepicker&&s.datepicker.color==="accent")("mat-warn",s.datepicker&&s.datepicker.color==="warn"))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",p2],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[z0,A0],ngContentSelectors:pce,decls:4,vars:6,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(o,s){o&1&&(Q0(hce),g1(0,"button",1,0),J2(2,mce,2,0,":svg:svg",2),e0(3),v1()),o&2&&(d2("disabled",s.disabled)("disableRipple",s.disableRipple),W2("aria-haspopup",s.datepicker?"dialog":null)("aria-label",s.ariaLabel||s._intl.openCalendarLabel)("tabindex",s.disabled?-1:s.tabIndex),D1(2),C0(s._customIcon?-1:2))},dependencies:[bD],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-sys-on-surface-variant))}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-sys-on-surface-variant))}@media(forced-colors: active){.mat-datepicker-toggle-default-icon{color:CanvasText}}"],encapsulation:2,changeDetection:0})}return e})();var gM=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=r2({type:e});static \u0275inj=i2({providers:[g9,wce],imports:[a9,lM,rV,sM,P0,GU,WD,UU,D8]})}return e})();var yM=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=r2({type:e});static \u0275inj=i2({imports:[P0,D8,D8,P0]})}return e})();var qU=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=r2({type:e});static \u0275inj=i2({imports:[P0,P0]})}return e})();var vM=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=r2({type:e});static \u0275inj=i2({imports:[Ky,P0,t9,iD,qU]})}return e})();function Ace(e,n,r){return(n=Tce(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function WU(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,o)}return r}function P1(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?WU(Object(r),!0).forEach(function(o){Ace(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WU(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function kce(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,n||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Tce(e){var n=kce(e,"string");return typeof n=="symbol"?n:n+""}var YU=()=>{},gI={},bH={},xH=null,wH={mark:YU,measure:YU};try{typeof window<"u"&&(gI=window),typeof document<"u"&&(bH=document),typeof MutationObserver<"u"&&(xH=MutationObserver),typeof performance<"u"&&(wH=performance)}catch{}var{userAgent:ZU=""}=gI.navigator||{},S5=gI,G0=bH,KU=xH,_M=wH,Mye=!!S5.document,z8=!!G0.documentElement&&!!G0.head&&typeof G0.addEventListener=="function"&&typeof G0.createElement=="function",CH=~ZU.indexOf("MSIE")||~ZU.indexOf("Trident/"),Dce=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,Ice=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,MH={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},Nce={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},EH=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],q3="classic",EM="duotone",Oce="sharp",zce="sharp-duotone",SH=[q3,EM,Oce,zce],Rce={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},Pce={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},Fce=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),jce={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},Bce=["fak","fa-kit","fakd","fa-kit-duotone"],XU={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},Vce=["kit"],Uce={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},Hce=["fak","fakd"],Gce={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},QU={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},bM={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},$ce=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],qce=["fak","fa-kit","fakd","fa-kit-duotone"],Wce={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},Yce={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},Zce={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},JD={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},Kce=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],eI=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...$ce,...Kce],Xce=["solid","regular","light","thin","duotone","brands"],LH=[1,2,3,4,5,6,7,8,9,10],Qce=LH.concat([11,12,13,14,15,16,17,18,19,20]),Jce=[...Object.keys(Zce),...Xce,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",bM.GROUP,bM.SWAP_OPACITY,bM.PRIMARY,bM.SECONDARY].concat(LH.map(e=>"".concat(e,"x"))).concat(Qce.map(e=>"w-".concat(e))),ele={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},N8="___FONT_AWESOME___",tI=16,AH="fa",kH="svg-inline--fa",I7="data-fa-i2svg",nI="data-fa-pseudo-element",tle="data-fa-pseudo-element-pending",yI="data-prefix",vI="data-icon",JU="fontawesome-i2svg",nle="async",ile=["HTML","HEAD","STYLE","SCRIPT"],TH=(()=>{try{return!0}catch{return!1}})();function b_(e){return new Proxy(e,{get(n,r){return r in n?n[r]:n[q3]}})}var DH=P1({},MH);DH[q3]=P1(P1(P1(P1({},{"fa-duotone":"duotone"}),MH[q3]),XU.kit),XU["kit-duotone"]);var rle=b_(DH),iI=P1({},jce);iI[q3]=P1(P1(P1(P1({},{duotone:"fad"}),iI[q3]),QU.kit),QU["kit-duotone"]);var eH=b_(iI),rI=P1({},JD);rI[q3]=P1(P1({},rI[q3]),Gce.kit);var _I=b_(rI),oI=P1({},Yce);oI[q3]=P1(P1({},oI[q3]),Uce.kit);var Eye=b_(oI),ole=Dce,IH="fa-layers-text",sle=Ice,ale=P1({},Rce),Sye=b_(ale),cle=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],YD=Nce,lle=[...Vce,...Jce],g_=S5.FontAwesomeConfig||{};function ule(e){var n=G0.querySelector("script["+e+"]");if(n)return n.getAttribute(e)}function dle(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}G0&&typeof G0.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(n=>{let[r,o]=n,s=dle(ule(r));s!=null&&(g_[o]=s)});var NH={styleDefault:"solid",familyDefault:q3,cssPrefix:AH,replacementClass:kH,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};g_.familyPrefix&&(g_.cssPrefix=g_.familyPrefix);var _9=P1(P1({},NH),g_);_9.autoReplaceSvg||(_9.observeMutations=!1);var u2={};Object.keys(NH).forEach(e=>{Object.defineProperty(u2,e,{enumerable:!0,set:function(n){_9[e]=n,y_.forEach(r=>r(u2))},get:function(){return _9[e]}})});Object.defineProperty(u2,"familyPrefix",{enumerable:!0,set:function(e){_9.cssPrefix=e,y_.forEach(n=>n(u2))},get:function(){return _9.cssPrefix}});S5.FontAwesomeConfig=u2;var y_=[];function fle(e){return y_.push(e),()=>{y_.splice(y_.indexOf(e),1)}}var E5=tI,Z6={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function hle(e){if(!e||!z8)return;let n=G0.createElement("style");n.setAttribute("type","text/css"),n.innerHTML=e;let r=G0.head.childNodes,o=null;for(let s=r.length-1;s>-1;s--){let l=r[s],d=(l.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(d)>-1&&(o=l)}return G0.head.insertBefore(n,o),e}var ple="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function v_(){let e=12,n="";for(;e-- >0;)n+=ple[Math.random()*62|0];return n}function b9(e){let n=[];for(let r=(e||[]).length>>>0;r--;)n[r]=e[r];return n}function bI(e){return e.classList?b9(e.classList):(e.getAttribute("class")||"").split(" ").filter(n=>n)}function OH(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function mle(e){return Object.keys(e||{}).reduce((n,r)=>n+"".concat(r,'="').concat(OH(e[r]),'" '),"").trim()}function SM(e){return Object.keys(e||{}).reduce((n,r)=>n+"".concat(r,": ").concat(e[r].trim(),";"),"")}function xI(e){return e.size!==Z6.size||e.x!==Z6.x||e.y!==Z6.y||e.rotate!==Z6.rotate||e.flipX||e.flipY}function gle(e){let{transform:n,containerWidth:r,iconWidth:o}=e,s={transform:"translate(".concat(r/2," 256)")},l="translate(".concat(n.x*32,", ").concat(n.y*32,") "),d="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),h="rotate(".concat(n.rotate," 0 0)"),p={transform:"".concat(l," ").concat(d," ").concat(h)},g={transform:"translate(".concat(o/2*-1," -256)")};return{outer:s,inner:p,path:g}}function yle(e){let{transform:n,width:r=tI,height:o=tI,startCentered:s=!1}=e,l="";return s&&CH?l+="translate(".concat(n.x/E5-r/2,"em, ").concat(n.y/E5-o/2,"em) "):s?l+="translate(calc(-50% + ".concat(n.x/E5,"em), calc(-50% + ").concat(n.y/E5,"em)) "):l+="translate(".concat(n.x/E5,"em, ").concat(n.y/E5,"em) "),l+="scale(".concat(n.size/E5*(n.flipX?-1:1),", ").concat(n.size/E5*(n.flipY?-1:1),") "),l+="rotate(".concat(n.rotate,"deg) "),l}var vle=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function zH(){let e=AH,n=kH,r=u2.cssPrefix,o=u2.replacementClass,s=vle;if(r!==e||o!==n){let l=new RegExp("\\.".concat(e,"\\-"),"g"),d=new RegExp("\\--".concat(e,"\\-"),"g"),h=new RegExp("\\.".concat(n),"g");s=s.replace(l,".".concat(r,"-")).replace(d,"--".concat(r,"-")).replace(h,".".concat(o))}return s}var tH=!1;function ZD(){u2.autoAddCss&&!tH&&(hle(zH()),tH=!0)}var _le={mixout(){return{dom:{css:zH,insertCss:ZD}}},hooks(){return{beforeDOMElementCreation(){ZD()},beforeI2svg(){ZD()}}}},O8=S5||{};O8[N8]||(O8[N8]={});O8[N8].styles||(O8[N8].styles={});O8[N8].hooks||(O8[N8].hooks={});O8[N8].shims||(O8[N8].shims=[]);var K6=O8[N8],RH=[],PH=function(){G0.removeEventListener("DOMContentLoaded",PH),CM=1,RH.map(e=>e())},CM=!1;z8&&(CM=(G0.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(G0.readyState),CM||G0.addEventListener("DOMContentLoaded",PH));function ble(e){z8&&(CM?setTimeout(e,0):RH.push(e))}function x_(e){let{tag:n,attributes:r={},children:o=[]}=e;return typeof e=="string"?OH(e):"<".concat(n," ").concat(mle(r),">").concat(o.map(x_).join(""),"</").concat(n,">")}function nH(e,n,r){if(e&&e[n]&&e[n][r])return{prefix:n,iconName:r,icon:e[n][r]}}var xle=function(n,r){return function(o,s,l,d){return n.call(r,o,s,l,d)}},KD=function(n,r,o,s){var l=Object.keys(n),d=l.length,h=s!==void 0?xle(r,s):r,p,g,y;for(o===void 0?(p=1,y=n[l[0]]):(p=0,y=o);p<d;p++)g=l[p],y=h(y,n[g],g,n);return y};function wle(e){let n=[],r=0,o=e.length;for(;r<o;){let s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<o){let l=e.charCodeAt(r++);(l&64512)==56320?n.push(((s&1023)<<10)+(l&1023)+65536):(n.push(s),r--)}else n.push(s)}return n}function sI(e){let n=wle(e);return n.length===1?n[0].toString(16):null}function Cle(e,n){let r=e.length,o=e.charCodeAt(n),s;return o>=55296&&o<=56319&&r>n+1&&(s=e.charCodeAt(n+1),s>=56320&&s<=57343)?(o-55296)*1024+s-56320+65536:o}function iH(e){return Object.keys(e).reduce((n,r)=>{let o=e[r];return!!o.icon?n[o.iconName]=o.icon:n[r]=o,n},{})}function aI(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{skipHooks:o=!1}=r,s=iH(n);typeof K6.hooks.addPack=="function"&&!o?K6.hooks.addPack(e,iH(n)):K6.styles[e]=P1(P1({},K6.styles[e]||{}),s),e==="fas"&&aI("fa",n)}var{styles:__,shims:Mle}=K6,FH=Object.keys(_I),Ele=FH.reduce((e,n)=>(e[n]=Object.keys(_I[n]),e),{}),wI=null,jH={},BH={},VH={},UH={},HH={};function Sle(e){return~lle.indexOf(e)}function Lle(e,n){let r=n.split("-"),o=r[0],s=r.slice(1).join("-");return o===e&&s!==""&&!Sle(s)?s:null}var GH=()=>{let e=o=>KD(__,(s,l,d)=>(s[d]=KD(l,o,{}),s),{});jH=e((o,s,l)=>(s[3]&&(o[s[3]]=l),s[2]&&s[2].filter(h=>typeof h=="number").forEach(h=>{o[h.toString(16)]=l}),o)),BH=e((o,s,l)=>(o[l]=l,s[2]&&s[2].filter(h=>typeof h=="string").forEach(h=>{o[h]=l}),o)),HH=e((o,s,l)=>{let d=s[2];return o[l]=l,d.forEach(h=>{o[h]=l}),o});let n="far"in __||u2.autoFetchSvg,r=KD(Mle,(o,s)=>{let l=s[0],d=s[1],h=s[2];return d==="far"&&!n&&(d="fas"),typeof l=="string"&&(o.names[l]={prefix:d,iconName:h}),typeof l=="number"&&(o.unicodes[l.toString(16)]={prefix:d,iconName:h}),o},{names:{},unicodes:{}});VH=r.names,UH=r.unicodes,wI=LM(u2.styleDefault,{family:u2.familyDefault})};fle(e=>{wI=LM(e.styleDefault,{family:u2.familyDefault})});GH();function CI(e,n){return(jH[e]||{})[n]}function Ale(e,n){return(BH[e]||{})[n]}function D7(e,n){return(HH[e]||{})[n]}function $H(e){return VH[e]||{prefix:null,iconName:null}}function kle(e){let n=UH[e],r=CI("fas",e);return n||(r?{prefix:"fas",iconName:r}:null)||{prefix:null,iconName:null}}function L5(){return wI}var qH=()=>({prefix:null,iconName:null,rest:[]});function Tle(e){let n=q3,r=FH.reduce((o,s)=>(o[s]="".concat(u2.cssPrefix,"-").concat(s),o),{});return SH.forEach(o=>{(e.includes(r[o])||e.some(s=>Ele[o].includes(s)))&&(n=o)}),n}function LM(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{family:r=q3}=n,o=rle[r][e];if(r===EM&&!e)return"fad";let s=eH[r][e]||eH[r][o],l=e in K6.styles?e:null;return s||l||null}function Dle(e){let n=[],r=null;return e.forEach(o=>{let s=Lle(u2.cssPrefix,o);s?r=s:o&&n.push(o)}),{iconName:r,rest:n}}function rH(e){return e.sort().filter((n,r,o)=>o.indexOf(n)===r)}function AM(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{skipLookups:r=!1}=n,o=null,s=eI.concat(qce),l=rH(e.filter(v=>s.includes(v))),d=rH(e.filter(v=>!eI.includes(v))),h=l.filter(v=>(o=v,!EH.includes(v))),[p=null]=h,g=Tle(l),y=P1(P1({},Dle(d)),{},{prefix:LM(p,{family:g})});return P1(P1(P1({},y),zle({values:e,family:g,styles:__,config:u2,canonical:y,givenPrefix:o})),Ile(r,o,y))}function Ile(e,n,r){let{prefix:o,iconName:s}=r;if(e||!o||!s)return{prefix:o,iconName:s};let l=n==="fa"?$H(s):{},d=D7(o,s);return s=l.iconName||d||s,o=l.prefix||o,o==="far"&&!__.far&&__.fas&&!u2.autoFetchSvg&&(o="fas"),{prefix:o,iconName:s}}var Nle=SH.filter(e=>e!==q3||e!==EM),Ole=Object.keys(JD).filter(e=>e!==q3).map(e=>Object.keys(JD[e])).flat();function zle(e){let{values:n,family:r,canonical:o,givenPrefix:s="",styles:l={},config:d={}}=e,h=r===EM,p=n.includes("fa-duotone")||n.includes("fad"),g=d.familyDefault==="duotone",y=o.prefix==="fad"||o.prefix==="fa-duotone";if(!h&&(p||g||y)&&(o.prefix="fad"),(n.includes("fa-brands")||n.includes("fab"))&&(o.prefix="fab"),!o.prefix&&Nle.includes(r)&&(Object.keys(l).find(w=>Ole.includes(w))||d.autoFetchSvg)){let w=Fce.get(r).defaultShortPrefixId;o.prefix=w,o.iconName=D7(o.prefix,o.iconName)||o.iconName}return(o.prefix==="fa"||s==="fa")&&(o.prefix=L5()||"fas"),o}var cI=class{constructor(){this.definitions={}}add(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];let s=r.reduce(this._pullDefinitions,{});Object.keys(s).forEach(l=>{this.definitions[l]=P1(P1({},this.definitions[l]||{}),s[l]),aI(l,s[l]);let d=_I[q3][l];d&&aI(d,s[l]),GH()})}reset(){this.definitions={}}_pullDefinitions(n,r){let o=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(o).map(s=>{let{prefix:l,iconName:d,icon:h}=o[s],p=h[2];n[l]||(n[l]={}),p.length>0&&p.forEach(g=>{typeof g=="string"&&(n[l][g]=h)}),n[l][d]=h}),n}},oH=[],y9={},v9={},Rle=Object.keys(v9);function Ple(e,n){let{mixoutsTo:r}=n;return oH=e,y9={},Object.keys(v9).forEach(o=>{Rle.indexOf(o)===-1&&delete v9[o]}),oH.forEach(o=>{let s=o.mixout?o.mixout():{};if(Object.keys(s).forEach(l=>{typeof s[l]=="function"&&(r[l]=s[l]),typeof s[l]=="object"&&Object.keys(s[l]).forEach(d=>{r[l]||(r[l]={}),r[l][d]=s[l][d]})}),o.hooks){let l=o.hooks();Object.keys(l).forEach(d=>{y9[d]||(y9[d]=[]),y9[d].push(l[d])})}o.provides&&o.provides(v9)}),r}function lI(e,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];return(y9[e]||[]).forEach(d=>{n=d.apply(null,[n,...o])}),n}function N7(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(y9[e]||[]).forEach(l=>{l.apply(null,r)})}function A5(){let e=arguments[0],n=Array.prototype.slice.call(arguments,1);return v9[e]?v9[e].apply(null,n):void 0}function uI(e){e.prefix==="fa"&&(e.prefix="fas");let{iconName:n}=e,r=e.prefix||L5();if(n)return n=D7(r,n)||n,nH(WH.definitions,r,n)||nH(K6.styles,r,n)}var WH=new cI,Fle=()=>{u2.autoReplaceSvg=!1,u2.observeMutations=!1,N7("noAuto")},jle={i2svg:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return z8?(N7("beforeI2svg",e),A5("pseudoElements2svg",e),A5("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:n}=e;u2.autoReplaceSvg===!1&&(u2.autoReplaceSvg=!0),u2.observeMutations=!0,ble(()=>{Vle({autoReplaceSvgRoot:n}),N7("watch",e)})}},Ble={icon:e=>{if(e===null)return null;if(typeof e=="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:D7(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){let n=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],r=LM(e[0]);return{prefix:r,iconName:D7(r,n)||n}}if(typeof e=="string"&&(e.indexOf("".concat(u2.cssPrefix,"-"))>-1||e.match(ole))){let n=AM(e.split(" "),{skipLookups:!0});return{prefix:n.prefix||L5(),iconName:D7(n.prefix,n.iconName)||n.iconName}}if(typeof e=="string"){let n=L5();return{prefix:n,iconName:D7(n,e)||e}}}},z4={noAuto:Fle,config:u2,dom:jle,parse:Ble,library:WH,findIconDefinition:uI,toHtml:x_},Vle=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:n=G0}=e;(Object.keys(K6.styles).length>0||u2.autoFetchSvg)&&z8&&u2.autoReplaceSvg&&z4.dom.i2svg({node:n})};function kM(e,n){return Object.defineProperty(e,"abstract",{get:n}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(r=>x_(r))}}),Object.defineProperty(e,"node",{get:function(){if(!z8)return;let r=G0.createElement("div");return r.innerHTML=e.html,r.children}}),e}function Ule(e){let{children:n,main:r,mask:o,attributes:s,styles:l,transform:d}=e;if(xI(d)&&r.found&&!o.found){let{width:h,height:p}=r,g={x:h/p/2,y:.5};s.style=SM(P1(P1({},l),{},{"transform-origin":"".concat(g.x+d.x/16,"em ").concat(g.y+d.y/16,"em")}))}return[{tag:"svg",attributes:s,children:n}]}function Hle(e){let{prefix:n,iconName:r,children:o,attributes:s,symbol:l}=e,d=l===!0?"".concat(n,"-").concat(u2.cssPrefix,"-").concat(r):l;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:P1(P1({},s),{},{id:d}),children:o}]}]}function MI(e){let{icons:{main:n,mask:r},prefix:o,iconName:s,transform:l,symbol:d,title:h,maskId:p,titleId:g,extra:y,watchable:v=!1}=e,{width:w,height:k}=r.found?r:n,F=Hce.includes(o),q=[u2.replacementClass,s?"".concat(u2.cssPrefix,"-").concat(s):""].filter(e1=>y.classes.indexOf(e1)===-1).filter(e1=>e1!==""||!!e1).concat(y.classes).join(" "),_r={children:[],attributes:P1(P1({},y.attributes),{},{"data-prefix":o,"data-icon":s,class:q,role:y.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(w," ").concat(k)})},ga=F&&!~y.classes.indexOf("fa-fw")?{width:"".concat(w/k*16*.0625,"em")}:{};v&&(_r.attributes[I7]=""),h&&(_r.children.push({tag:"title",attributes:{id:_r.attributes["aria-labelledby"]||"title-".concat(g||v_())},children:[h]}),delete _r.attributes.title);let La=P1(P1({},_r),{},{prefix:o,iconName:s,main:n,mask:r,maskId:p,transform:l,symbol:d,styles:P1(P1({},ga),y.styles)}),{children:jc,attributes:_l}=r.found&&n.found?A5("generateAbstractMask",La)||{children:[],attributes:{}}:A5("generateAbstractIcon",La)||{children:[],attributes:{}};return La.children=jc,La.attributes=_l,d?Hle(La):Ule(La)}function sH(e){let{content:n,width:r,height:o,transform:s,title:l,extra:d,watchable:h=!1}=e,p=P1(P1(P1({},d.attributes),l?{title:l}:{}),{},{class:d.classes.join(" ")});h&&(p[I7]="");let g=P1({},d.styles);xI(s)&&(g.transform=yle({transform:s,startCentered:!0,width:r,height:o}),g["-webkit-transform"]=g.transform);let y=SM(g);y.length>0&&(p.style=y);let v=[];return v.push({tag:"span",attributes:p,children:[n]}),l&&v.push({tag:"span",attributes:{class:"sr-only"},children:[l]}),v}function Gle(e){let{content:n,title:r,extra:o}=e,s=P1(P1(P1({},o.attributes),r?{title:r}:{}),{},{class:o.classes.join(" ")}),l=SM(o.styles);l.length>0&&(s.style=l);let d=[];return d.push({tag:"span",attributes:s,children:[n]}),r&&d.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),d}var{styles:XD}=K6;function dI(e){let n=e[0],r=e[1],[o]=e.slice(4),s=null;return Array.isArray(o)?s={tag:"g",attributes:{class:"".concat(u2.cssPrefix,"-").concat(YD.GROUP)},children:[{tag:"path",attributes:{class:"".concat(u2.cssPrefix,"-").concat(YD.SECONDARY),fill:"currentColor",d:o[0]}},{tag:"path",attributes:{class:"".concat(u2.cssPrefix,"-").concat(YD.PRIMARY),fill:"currentColor",d:o[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:o}},{found:!0,width:n,height:r,icon:s}}var $le={found:!1,width:512,height:512};function qle(e,n){!TH&&!u2.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(n,'" is missing.'))}function fI(e,n){let r=n;return n==="fa"&&u2.styleDefault!==null&&(n=L5()),new Promise((o,s)=>{if(r==="fa"){let l=$H(e)||{};e=l.iconName||e,n=l.prefix||n}if(e&&n&&XD[n]&&XD[n][e]){let l=XD[n][e];return o(dI(l))}qle(e,n),o(P1(P1({},$le),{},{icon:u2.showMissingIcons&&e?A5("missingIconAbstract")||{}:{}}))})}var aH=()=>{},hI=u2.measurePerformance&&_M&&_M.mark&&_M.measure?_M:{mark:aH,measure:aH},m_='FA "6.7.1"',Wle=e=>(hI.mark("".concat(m_," ").concat(e," begins")),()=>YH(e)),YH=e=>{hI.mark("".concat(m_," ").concat(e," ends")),hI.measure("".concat(m_," ").concat(e),"".concat(m_," ").concat(e," begins"),"".concat(m_," ").concat(e," ends"))},EI={begin:Wle,end:YH},xM=()=>{};function cH(e){return typeof(e.getAttribute?e.getAttribute(I7):null)=="string"}function Yle(e){let n=e.getAttribute?e.getAttribute(yI):null,r=e.getAttribute?e.getAttribute(vI):null;return n&&r}function Zle(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(u2.replacementClass)}function Kle(){return u2.autoReplaceSvg===!0?wM.replace:wM[u2.autoReplaceSvg]||wM.replace}function Xle(e){return G0.createElementNS("http://www.w3.org/2000/svg",e)}function Qle(e){return G0.createElement(e)}function ZH(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{ceFn:r=e.tag==="svg"?Xle:Qle}=n;if(typeof e=="string")return G0.createTextNode(e);let o=r(e.tag);return Object.keys(e.attributes||[]).forEach(function(l){o.setAttribute(l,e.attributes[l])}),(e.children||[]).forEach(function(l){o.appendChild(ZH(l,{ceFn:r}))}),o}function Jle(e){let n=" ".concat(e.outerHTML," ");return n="".concat(n,"Font Awesome fontawesome.com "),n}var wM={replace:function(e){let n=e[0];if(n.parentNode)if(e[1].forEach(r=>{n.parentNode.insertBefore(ZH(r),n)}),n.getAttribute(I7)===null&&u2.keepOriginalSource){let r=G0.createComment(Jle(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){let n=e[0],r=e[1];if(~bI(n).indexOf(u2.replacementClass))return wM.replace(e);let o=new RegExp("".concat(u2.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){let l=r[0].attributes.class.split(" ").reduce((d,h)=>(h===u2.replacementClass||h.match(o)?d.toSvg.push(h):d.toNode.push(h),d),{toNode:[],toSvg:[]});r[0].attributes.class=l.toSvg.join(" "),l.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",l.toNode.join(" "))}let s=r.map(l=>x_(l)).join(`
`);n.setAttribute(I7,""),n.innerHTML=s}};function lH(e){e()}function KH(e,n){let r=typeof n=="function"?n:xM;if(e.length===0)r();else{let o=lH;u2.mutateApproach===nle&&(o=S5.requestAnimationFrame||lH),o(()=>{let s=Kle(),l=EI.begin("mutate");e.map(s),l(),r()})}}var SI=!1;function XH(){SI=!0}function pI(){SI=!1}var MM=null;function uH(e){if(!KU||!u2.observeMutations)return;let{treeCallback:n=xM,nodeCallback:r=xM,pseudoElementsCallback:o=xM,observeMutationsRoot:s=G0}=e;MM=new KU(l=>{if(SI)return;let d=L5();b9(l).forEach(h=>{if(h.type==="childList"&&h.addedNodes.length>0&&!cH(h.addedNodes[0])&&(u2.searchPseudoElements&&o(h.target),n(h.target)),h.type==="attributes"&&h.target.parentNode&&u2.searchPseudoElements&&o(h.target.parentNode),h.type==="attributes"&&cH(h.target)&&~cle.indexOf(h.attributeName))if(h.attributeName==="class"&&Yle(h.target)){let{prefix:p,iconName:g}=AM(bI(h.target));h.target.setAttribute(yI,p||d),g&&h.target.setAttribute(vI,g)}else Zle(h.target)&&r(h.target)})}),z8&&MM.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function e1e(){MM&&MM.disconnect()}function t1e(e){let n=e.getAttribute("style"),r=[];return n&&(r=n.split(";").reduce((o,s)=>{let l=s.split(":"),d=l[0],h=l.slice(1);return d&&h.length>0&&(o[d]=h.join(":").trim()),o},{})),r}function n1e(e){let n=e.getAttribute("data-prefix"),r=e.getAttribute("data-icon"),o=e.innerText!==void 0?e.innerText.trim():"",s=AM(bI(e));return s.prefix||(s.prefix=L5()),n&&r&&(s.prefix=n,s.iconName=r),s.iconName&&s.prefix||(s.prefix&&o.length>0&&(s.iconName=Ale(s.prefix,e.innerText)||CI(s.prefix,sI(e.innerText))),!s.iconName&&u2.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=e.firstChild.data)),s}function i1e(e){let n=b9(e.attributes).reduce((s,l)=>(s.name!=="class"&&s.name!=="style"&&(s[l.name]=l.value),s),{}),r=e.getAttribute("title"),o=e.getAttribute("data-fa-title-id");return u2.autoA11y&&(r?n["aria-labelledby"]="".concat(u2.replacementClass,"-title-").concat(o||v_()):(n["aria-hidden"]="true",n.focusable="false")),n}function r1e(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Z6,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function dH(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},{iconName:r,prefix:o,rest:s}=n1e(e),l=i1e(e),d=lI("parseNodeAttributes",{},e),h=n.styleParser?t1e(e):[];return P1({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:o,transform:Z6,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:h,attributes:l}},d)}var{styles:o1e}=K6;function QH(e){let n=u2.autoReplaceSvg==="nest"?dH(e,{styleParser:!1}):dH(e);return~n.extra.classes.indexOf(IH)?A5("generateLayersText",e,n):A5("generateSvgReplacementMutation",e,n)}function s1e(){return[...Bce,...eI]}function fH(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!z8)return Promise.resolve();let r=G0.documentElement.classList,o=y=>r.add("".concat(JU,"-").concat(y)),s=y=>r.remove("".concat(JU,"-").concat(y)),l=u2.autoFetchSvg?s1e():EH.concat(Object.keys(o1e));l.includes("fa")||l.push("fa");let d=[".".concat(IH,":not([").concat(I7,"])")].concat(l.map(y=>".".concat(y,":not([").concat(I7,"])"))).join(", ");if(d.length===0)return Promise.resolve();let h=[];try{h=b9(e.querySelectorAll(d))}catch{}if(h.length>0)o("pending"),s("complete");else return Promise.resolve();let p=EI.begin("onTree"),g=h.reduce((y,v)=>{try{let w=QH(v);w&&y.push(w)}catch(w){TH||w.name==="MissingIcon"&&console.error(w)}return y},[]);return new Promise((y,v)=>{Promise.all(g).then(w=>{KH(w,()=>{o("active"),o("complete"),s("pending"),typeof n=="function"&&n(),p(),y()})}).catch(w=>{p(),v(w)})})}function a1e(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;QH(e).then(r=>{r&&KH([r],n)})}function c1e(e){return function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=(n||{}).icon?n:uI(n||{}),{mask:s}=r;return s&&(s=(s||{}).icon?s:uI(s||{})),e(o,P1(P1({},r),{},{mask:s}))}}var l1e=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:r=Z6,symbol:o=!1,mask:s=null,maskId:l=null,title:d=null,titleId:h=null,classes:p=[],attributes:g={},styles:y={}}=n;if(!e)return;let{prefix:v,iconName:w,icon:k}=e;return kM(P1({type:"icon"},e),()=>(N7("beforeDOMElementCreation",{iconDefinition:e,params:n}),u2.autoA11y&&(d?g["aria-labelledby"]="".concat(u2.replacementClass,"-title-").concat(h||v_()):(g["aria-hidden"]="true",g.focusable="false")),MI({icons:{main:dI(k),mask:s?dI(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:v,iconName:w,transform:P1(P1({},Z6),r),symbol:o,title:d,maskId:l,titleId:h,extra:{attributes:g,styles:y,classes:p}})))},u1e={mixout(){return{icon:c1e(l1e)}},hooks(){return{mutationObserverCallbacks(e){return e.treeCallback=fH,e.nodeCallback=a1e,e}}},provides(e){e.i2svg=function(n){let{node:r=G0,callback:o=()=>{}}=n;return fH(r,o)},e.generateSvgReplacementMutation=function(n,r){let{iconName:o,title:s,titleId:l,prefix:d,transform:h,symbol:p,mask:g,maskId:y,extra:v}=r;return new Promise((w,k)=>{Promise.all([fI(o,d),g.iconName?fI(g.iconName,g.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(F=>{let[q,_r]=F;w([n,MI({icons:{main:q,mask:_r},prefix:d,iconName:o,transform:h,symbol:p,maskId:y,title:s,titleId:l,extra:v,watchable:!0})])}).catch(k)})},e.generateAbstractIcon=function(n){let{children:r,attributes:o,main:s,transform:l,styles:d}=n,h=SM(d);h.length>0&&(o.style=h);let p;return xI(l)&&(p=A5("generateAbstractTransformGrouping",{main:s,transform:l,containerWidth:s.width,iconWidth:s.width})),r.push(p||s.icon),{children:r,attributes:o}}}},d1e={mixout(){return{layer(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{classes:r=[]}=n;return kM({type:"layer"},()=>{N7("beforeDOMElementCreation",{assembler:e,params:n});let o=[];return e(s=>{Array.isArray(s)?s.map(l=>{o=o.concat(l.abstract)}):o=o.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(u2.cssPrefix,"-layers"),...r].join(" ")},children:o}]})}}}},f1e={mixout(){return{counter(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{title:r=null,classes:o=[],attributes:s={},styles:l={}}=n;return kM({type:"counter",content:e},()=>(N7("beforeDOMElementCreation",{content:e,params:n}),Gle({content:e.toString(),title:r,extra:{attributes:s,styles:l,classes:["".concat(u2.cssPrefix,"-layers-counter"),...o]}})))}}}},h1e={mixout(){return{text(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:r=Z6,title:o=null,classes:s=[],attributes:l={},styles:d={}}=n;return kM({type:"text",content:e},()=>(N7("beforeDOMElementCreation",{content:e,params:n}),sH({content:e,transform:P1(P1({},Z6),r),title:o,extra:{attributes:l,styles:d,classes:["".concat(u2.cssPrefix,"-layers-text"),...s]}})))}}},provides(e){e.generateLayersText=function(n,r){let{title:o,transform:s,extra:l}=r,d=null,h=null;if(CH){let p=parseInt(getComputedStyle(n).fontSize,10),g=n.getBoundingClientRect();d=g.width/p,h=g.height/p}return u2.autoA11y&&!o&&(l.attributes["aria-hidden"]="true"),Promise.resolve([n,sH({content:n.innerHTML,width:d,height:h,transform:s,title:o,extra:l,watchable:!0})])}}},p1e=new RegExp('"',"ug"),hH=[1105920,1112319],pH=P1(P1(P1(P1({},{FontAwesome:{normal:"fas",400:"fas"}}),Pce),ele),Wce),mI=Object.keys(pH).reduce((e,n)=>(e[n.toLowerCase()]=pH[n],e),{}),m1e=Object.keys(mI).reduce((e,n)=>{let r=mI[n];return e[n]=r[900]||[...Object.entries(r)][0][1],e},{});function g1e(e){let n=e.replace(p1e,""),r=Cle(n,0),o=r>=hH[0]&&r<=hH[1],s=n.length===2?n[0]===n[1]:!1;return{value:sI(s?n[0]:n),isSecondary:o||s}}function y1e(e,n){let r=e.replace(/^['"]|['"]$/g,"").toLowerCase(),o=parseInt(n),s=isNaN(o)?"normal":o;return(mI[r]||{})[s]||m1e[r]}function mH(e,n){let r="".concat(tle).concat(n.replace(":","-"));return new Promise((o,s)=>{if(e.getAttribute(r)!==null)return o();let d=b9(e.children).filter(w=>w.getAttribute(nI)===n)[0],h=S5.getComputedStyle(e,n),p=h.getPropertyValue("font-family"),g=p.match(sle),y=h.getPropertyValue("font-weight"),v=h.getPropertyValue("content");if(d&&!g)return e.removeChild(d),o();if(g&&v!=="none"&&v!==""){let w=h.getPropertyValue("content"),k=y1e(p,y),{value:F,isSecondary:q}=g1e(w),_r=g[0].startsWith("FontAwesome"),ga=CI(k,F),La=ga;if(_r){let jc=kle(F);jc.iconName&&jc.prefix&&(ga=jc.iconName,k=jc.prefix)}if(ga&&!q&&(!d||d.getAttribute(yI)!==k||d.getAttribute(vI)!==La)){e.setAttribute(r,La),d&&e.removeChild(d);let jc=r1e(),{extra:_l}=jc;_l.attributes[nI]=n,fI(ga,k).then(e1=>{let n1=MI(P1(P1({},jc),{},{icons:{main:e1,mask:qH()},prefix:k,iconName:La,extra:_l,watchable:!0})),d1=G0.createElementNS("http://www.w3.org/2000/svg","svg");n==="::before"?e.insertBefore(d1,e.firstChild):e.appendChild(d1),d1.outerHTML=n1.map(c1=>x_(c1)).join(`
`),e.removeAttribute(r),o()}).catch(s)}else o()}else o()})}function v1e(e){return Promise.all([mH(e,"::before"),mH(e,"::after")])}function _1e(e){return e.parentNode!==document.head&&!~ile.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(nI)&&(!e.parentNode||e.parentNode.tagName!=="svg")}function gH(e){if(z8)return new Promise((n,r)=>{let o=b9(e.querySelectorAll("*")).filter(_1e).map(v1e),s=EI.begin("searchPseudoElements");XH(),Promise.all(o).then(()=>{s(),pI(),n()}).catch(()=>{s(),pI(),r()})})}var b1e={hooks(){return{mutationObserverCallbacks(e){return e.pseudoElementsCallback=gH,e}}},provides(e){e.pseudoElements2svg=function(n){let{node:r=G0}=n;u2.searchPseudoElements&&gH(r)}}},yH=!1,x1e={mixout(){return{dom:{unwatch(){XH(),yH=!0}}}},hooks(){return{bootstrap(){uH(lI("mutationObserverCallbacks",{}))},noAuto(){e1e()},watch(e){let{observeMutationsRoot:n}=e;yH?pI():uH(lI("mutationObserverCallbacks",{observeMutationsRoot:n}))}}}},vH=e=>{let n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce((r,o)=>{let s=o.toLowerCase().split("-"),l=s[0],d=s.slice(1).join("-");if(l&&d==="h")return r.flipX=!0,r;if(l&&d==="v")return r.flipY=!0,r;if(d=parseFloat(d),isNaN(d))return r;switch(l){case"grow":r.size=r.size+d;break;case"shrink":r.size=r.size-d;break;case"left":r.x=r.x-d;break;case"right":r.x=r.x+d;break;case"up":r.y=r.y-d;break;case"down":r.y=r.y+d;break;case"rotate":r.rotate=r.rotate+d;break}return r},n)},w1e={mixout(){return{parse:{transform:e=>vH(e)}}},hooks(){return{parseNodeAttributes(e,n){let r=n.getAttribute("data-fa-transform");return r&&(e.transform=vH(r)),e}}},provides(e){e.generateAbstractTransformGrouping=function(n){let{main:r,transform:o,containerWidth:s,iconWidth:l}=n,d={transform:"translate(".concat(s/2," 256)")},h="translate(".concat(o.x*32,", ").concat(o.y*32,") "),p="scale(".concat(o.size/16*(o.flipX?-1:1),", ").concat(o.size/16*(o.flipY?-1:1),") "),g="rotate(".concat(o.rotate," 0 0)"),y={transform:"".concat(h," ").concat(p," ").concat(g)},v={transform:"translate(".concat(l/2*-1," -256)")},w={outer:d,inner:y,path:v};return{tag:"g",attributes:P1({},w.outer),children:[{tag:"g",attributes:P1({},w.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:P1(P1({},r.icon.attributes),w.path)}]}]}}}},QD={x:0,y:0,width:"100%",height:"100%"};function _H(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||n)&&(e.attributes.fill="black"),e}function C1e(e){return e.tag==="g"?e.children:[e]}var M1e={hooks(){return{parseNodeAttributes(e,n){let r=n.getAttribute("data-fa-mask"),o=r?AM(r.split(" ").map(s=>s.trim())):qH();return o.prefix||(o.prefix=L5()),e.mask=o,e.maskId=n.getAttribute("data-fa-mask-id"),e}}},provides(e){e.generateAbstractMask=function(n){let{children:r,attributes:o,main:s,mask:l,maskId:d,transform:h}=n,{width:p,icon:g}=s,{width:y,icon:v}=l,w=gle({transform:h,containerWidth:y,iconWidth:p}),k={tag:"rect",attributes:P1(P1({},QD),{},{fill:"white"})},F=g.children?{children:g.children.map(_H)}:{},q={tag:"g",attributes:P1({},w.inner),children:[_H(P1({tag:g.tag,attributes:P1(P1({},g.attributes),w.path)},F))]},_r={tag:"g",attributes:P1({},w.outer),children:[q]},ga="mask-".concat(d||v_()),La="clip-".concat(d||v_()),jc={tag:"mask",attributes:P1(P1({},QD),{},{id:ga,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[k,_r]},_l={tag:"defs",children:[{tag:"clipPath",attributes:{id:La},children:C1e(v)},jc]};return r.push(_l,{tag:"rect",attributes:P1({fill:"currentColor","clip-path":"url(#".concat(La,")"),mask:"url(#".concat(ga,")")},QD)}),{children:r,attributes:o}}}},E1e={provides(e){let n=!1;S5.matchMedia&&(n=S5.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){let r=[],o={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:P1(P1({},o),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});let l=P1(P1({},s),{},{attributeName:"opacity"}),d={tag:"circle",attributes:P1(P1({},o),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||d.children.push({tag:"animate",attributes:P1(P1({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:P1(P1({},l),{},{values:"1;0;1;1;0;1;"})}),r.push(d),r.push({tag:"path",attributes:P1(P1({},o),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:P1(P1({},l),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:P1(P1({},o),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:P1(P1({},l),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},S1e={hooks(){return{parseNodeAttributes(e,n){let r=n.getAttribute("data-fa-symbol"),o=r===null?!1:r===""?!0:r;return e.symbol=o,e}}}},L1e=[_le,u1e,d1e,f1e,h1e,b1e,x1e,w1e,M1e,E1e,S1e];Ple(L1e,{mixoutsTo:z4});var Lye=z4.noAuto,A1e=z4.config,Aye=z4.library,k1e=z4.dom,T1e=z4.parse,kye=z4.findIconDefinition,Tye=z4.toHtml,D1e=z4.icon,Dye=z4.layer,I1e=z4.text,N1e=z4.counter;var TM=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=r2({type:e})}static{this.\u0275inj=i2({})}}return e})();function AI(e){for(let n in e){let r=e[n]??"";switch(n){case"display":r==="flex"?e.display=["-webkit-flex","flex"]:r==="inline-flex"?e.display=["-webkit-inline-flex","inline-flex"]:e.display=r;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":e["-webkit-"+n]=r;break;case"flex-direction":e["-webkit-flex-direction"]=r,e["flex-direction"]=r;break;case"order":e.order=e["-webkit-"+n]=isNaN(+r)?"0":r;break}}return e}var LI="inline",DM=["row","column","row-reverse","column-reverse"];function IM(e){let[n,r,o]=O1e(e);return R1e(n,r,o)}function O1e(e){e=e?.toLowerCase()??"";let[n,r,o]=e.split(" ");return DM.find(s=>s===n)||(n=DM[0]),r===LI&&(r=o!==LI?o:"",o=LI),[n,z1e(r),!!o]}function z1e(e){if(e)switch(e.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":e="wrap-reverse";break;case"no":case"none":case"nowrap":e="nowrap";break;default:e="wrap";break}return e}function R1e(e,n=null,r=!1){return{display:r?"inline-flex":"flex","box-sizing":"border-box","flex-direction":e,"flex-wrap":n||null}}function kI(e,...n){if(e==null)throw TypeError("Cannot convert undefined or null to object");for(let r of n)if(r!=null)for(let o in r)r.hasOwnProperty(o)&&(e[o]=r[o]);return e}function P1e(e,n){return()=>{if(w8(n)){let r=Array.from(e.querySelectorAll(`[class*=${JH}]`)),o=/\bflex-layout-.+?\b/g;r.forEach(s=>{s.classList.contains(`${JH}ssr`)&&s.parentNode?s.parentNode.removeChild(s):s.className.replace(o,"")})}}}var F1e={provide:mv,useFactory:P1e,deps:[T2,U3],multi:!0},JH="flex-layout-";var w9=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=r2({type:e})}static{this.\u0275inj=i2({providers:[F1e]})}}return e})(),O7=class e{constructor(n=!1,r="all",o="",s="",l=0){this.matches=n,this.mediaQuery=r,this.mqAlias=o,this.suffix=s,this.priority=l,this.property=""}clone(){return new e(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}};var j1e=(()=>{class e{constructor(){this.stylesheet=new Map}addStyleToElement(r,o,s){let l=this.stylesheet.get(r);l?l.set(o,s):this.stylesheet.set(r,new Map([[o,s]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(r,o){let s=this.stylesheet.get(r),l="";if(s){let d=s.get(o);(typeof d=="number"||typeof d=="string")&&(l=d+"")}return l}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var NM={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},C6=new I1("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>NM});var C9=new I1("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1});var OM=new I1("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function lG(e,n){return e=e?.clone()??new O7,n&&(e.mqAlias=n.alias,e.mediaQuery=n.mediaQuery,e.suffix=n.suffix,e.priority=n.priority),e}var P8=class{constructor(){this.shouldCache=!0}sideEffect(n,r,o){}};var k5=(()=>{class e{constructor(r,o,s,l){this._serverStylesheet=r,this._serverModuleLoaded=o,this._platformId=s,this.layoutConfig=l}applyStyleToElement(r,o,s=null){let l={};typeof o=="string"&&(l[o]=s,o=l),l=this.layoutConfig.disableVendorPrefixes?o:AI(o),this._applyMultiValueStyleToElement(l,r)}applyStyleToElements(r,o=[]){let s=this.layoutConfig.disableVendorPrefixes?r:AI(r);o.forEach(l=>{this._applyMultiValueStyleToElement(s,l)})}getFlowDirection(r){let o="flex-direction",s=this.lookupStyle(r,o),l=this.lookupInlineStyle(r,o)||C8(this._platformId)&&this._serverModuleLoaded?s:"";return[s||"row",l]}hasWrap(r){return this.lookupStyle(r,"flex-wrap")==="wrap"}lookupAttributeValue(r,o){return r.getAttribute(o)??""}lookupInlineStyle(r,o){return w8(this._platformId)?r.style.getPropertyValue(o):B1e(r,o)}lookupStyle(r,o,s=!1){let l="";return r&&((l=this.lookupInlineStyle(r,o))||(w8(this._platformId)?s||(l=getComputedStyle(r).getPropertyValue(o)):this._serverModuleLoaded&&(l=this._serverStylesheet.getStyleForElement(r,o)))),l?l.trim():""}_applyMultiValueStyleToElement(r,o){Object.keys(r).sort().forEach(s=>{let l=r[s],d=Array.isArray(l)?l:[l];d.sort();for(let h of d)h=h?h+"":"",w8(this._platformId)||!this._serverModuleLoaded?w8(this._platformId)?o.style.setProperty(s,h):V1e(o,s,h):this._serverStylesheet.addStyleToElement(o,s,h)})}static{this.\u0275fac=function(o){return new(o||e)(K1(j1e),K1(C9),K1(U3),K1(C6))}}static{this.\u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function B1e(e,n){return uG(e)[n]??""}function V1e(e,n,r){n=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();let o=uG(e);o[n]=r??"",U1e(e,o)}function U1e(e,n){let r="";for(let o in n)n[o]&&(r+=`${o}:${n[o]};`);e.setAttribute("style",r)}function uG(e){let n={},r=e.getAttribute("style");if(r){let o=r.split(/;+/g);for(let s=0;s<o.length;s++){let l=o[s].trim();if(l.length>0){let d=l.indexOf(":");if(d===-1)throw new Error(`Invalid CSS style: ${l}`);let h=l.substr(0,d).trim();n[h]=l.substr(d+1).trim()}}}return n}function w_(e,n){let r=e&&e.priority||0;return(n&&n.priority||0)-r}function H1e(e,n){let r=e.priority||0,o=n.priority||0;return r-o}var G1e=(()=>{class e{constructor(r,o,s){this._zone=r,this._platformId=o,this._document=s,this.source=new i3(new O7(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){let r=[];return this.registry.forEach((o,s)=>{o.matches&&r.push(s)}),r}isActive(r){return this.registry.get(r)?.matches??this.registerQuery(r).some(s=>s.matches)}observe(r,o=!1){if(r&&r.length){let s=this._observable$.pipe(d0(d=>o?r.indexOf(d.mediaQuery)>-1:!0)),l=new U2(d=>{let h=this.registerQuery(r);if(h.length){let p=h.pop();h.forEach(g=>{d.next(g)}),this.source.next(p)}d.complete()});return P3(l,s)}return this._observable$}registerQuery(r){let o=Array.isArray(r)?r:[r],s=[];return $1e(o,this._document),o.forEach(l=>{let d=p=>{this._zone.run(()=>this.source.next(new O7(p.matches,l)))},h=this.registry.get(l);h||(h=this.buildMQL(l),h.addListener(d),this.pendingRemoveListenerFns.push(()=>h.removeListener(d)),this.registry.set(l,h)),h.matches&&s.push(new O7(!0,l))}),s}ngOnDestroy(){let r;for(;r=this.pendingRemoveListenerFns.pop();)r()}buildMQL(r){return W1e(r,w8(this._platformId))}static{this.\u0275fac=function(o){return new(o||e)(K1(c2),K1(U3),K1(T2))}}static{this.\u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),eG={};function $1e(e,n){let r=e.filter(o=>!eG[o]);if(r.length>0){let o=r.join(", ");try{let s=n.createElement("style");if(s.setAttribute("type","text/css"),!s.styleSheet){let l=`
/*
  ng-flex-layout - workaround for possible browser quirk with mediaQuery listeners
  see http://bit.ly/2sd4HMP
*/
@media ${o} {.fx-query-test{ }}
`;s.appendChild(n.createTextNode(l))}n.head.appendChild(s),r.forEach(l=>eG[l]=s)}catch(s){console.error(s)}}}function q1e(e){let n=new EventTarget;return n.matches=e==="all"||e==="",n.media=e,n.addListener=()=>{},n.removeListener=()=>{},n.addEventListener=()=>{},n.dispatchEvent=()=>!1,n.onchange=null,n}function W1e(e,n){return n&&!!window.matchMedia("all").addListener?window.matchMedia(e):q1e(e)}var Y1e=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}];var tG="(orientation: portrait) and (max-width: 599.98px)",nG="(orientation: landscape) and (max-width: 959.98px)",iG="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",rG="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",oG="(orientation: portrait) and (min-width: 840px)",sG="(orientation: landscape) and (min-width: 1280px)",R8={HANDSET:`${tG}, ${nG}`,TABLET:`${iG} , ${rG}`,WEB:`${oG}, ${sG} `,HANDSET_PORTRAIT:`${tG}`,TABLET_PORTRAIT:`${iG} `,WEB_PORTRAIT:`${oG}`,HANDSET_LANDSCAPE:`${nG}`,TABLET_LANDSCAPE:`${rG}`,WEB_LANDSCAPE:`${sG}`},Z1e=[{alias:"handset",priority:2e3,mediaQuery:R8.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:R8.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:R8.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:R8.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:R8.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:R8.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:R8.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:R8.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:R8.WEB_PORTRAIT,overlapping:!0}],K1e=/(\.|-|_)/g;function X1e(e){let n=e.length>0?e.charAt(0):"",r=e.length>1?e.slice(1):"";return n.toUpperCase()+r}function Q1e(e){return e.replace(K1e,"|").split("|").map(X1e).join("")}function J1e(e){return e.forEach(n=>{n.suffix||(n.suffix=Q1e(n.alias),n.overlapping=!!n.overlapping)}),e}function e2e(e,n=[]){let r={};return e.forEach(o=>{r[o.alias]=o}),n.forEach(o=>{r[o.alias]?kI(r[o.alias],o):r[o.alias]=o}),J1e(Object.keys(r).map(o=>r[o]))}var t2e=new I1("Token (ng-flex-layout) Breakpoints",{providedIn:"root",factory:()=>{let e=Ua(OM),n=Ua(C6),r=[].concat.apply([],(e||[]).map(s=>Array.isArray(s)?s:[s])),o=(n.disableDefaultBps?[]:Y1e).concat(n.addOrientationBps?Z1e:[]);return e2e(o,r)}});var dG=(()=>{class e{constructor(r){this.findByMap=new Map,this.items=[...r].sort(H1e)}findByAlias(r){return r?this.findWithPredicate(r,o=>o.alias===r):null}findByQuery(r){return this.findWithPredicate(r,o=>o.mediaQuery===r)}get overlappings(){return this.items.filter(r=>r.overlapping)}get aliases(){return this.items.map(r=>r.alias)}get suffixes(){return this.items.map(r=>r?.suffix??"")}findWithPredicate(r,o){let s=this.findByMap.get(r);return s||(s=this.items.find(o)??null,this.findByMap.set(r,s)),s??null}static{this.\u0275fac=function(o){return new(o||e)(K1(t2e))}}static{this.\u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var x9="print",n2e={alias:x9,mediaQuery:x9,priority:1e3},i2e=(()=>{class e{constructor(r,o,s){this.breakpoints=r,this.layoutConfig=o,this._document=s,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new TI,this.deactivations=[]}withPrintQuery(r){return[...r,x9]}isPrintEvent(r){return r.mediaQuery.startsWith(x9)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(r=>this.breakpoints.findByAlias(r)).filter(r=>r!==null)}getEventBreakpoints({mediaQuery:r}){let o=this.breakpoints.findByQuery(r);return(o?[...this.printBreakPoints,o]:this.printBreakPoints).sort(w_)}updateEvent(r){let o=this.breakpoints.findByQuery(r.mediaQuery);return this.isPrintEvent(r)&&(o=this.getEventBreakpoints(r)[0],r.mediaQuery=o?.mediaQuery??""),lG(r,o)}registerBeforeAfterPrintHooks(r){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;let o=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(r,this.getEventBreakpoints(new O7(!0,x9))),r.updateStyles())},s=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(r),r.updateStyles())};this._document.defaultView.addEventListener("beforeprint",o),this._document.defaultView.addEventListener("afterprint",s),this.beforePrintEventListeners.push(o),this.afterPrintEventListeners.push(s)}interceptEvents(r){return o=>{if(this.isPrintEvent(o)){o.matches&&!this.isPrinting?(this.startPrinting(r,this.getEventBreakpoints(o)),r.updateStyles()):!o.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(r),r.updateStyles());return}this.collectActivations(r,o)}}blockPropagation(){return r=>!(this.isPrinting||this.isPrintEvent(r))}startPrinting(r,o){this.isPrinting=!0,this.formerActivations=r.activatedBreakpoints,r.activatedBreakpoints=this.queue.addPrintBreakpoints(o)}stopPrinting(r){r.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(r,o){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent){this.deactivations=[];return}if(!o.matches){let s=this.breakpoints.findByQuery(o.mediaQuery);if(s){let l=this.formerActivations&&this.formerActivations.includes(s),d=!this.formerActivations&&r.activatedBreakpoints.includes(s);(l||d)&&(this.deactivations.push(s),this.deactivations.sort(w_))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(r=>this._document.defaultView.removeEventListener("beforeprint",r)),this.afterPrintEventListeners.forEach(r=>this._document.defaultView.removeEventListener("afterprint",r)))}static{this.\u0275fac=function(o){return new(o||e)(K1(dG),K1(C6),K1(T2))}}static{this.\u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),TI=class{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(n){return n.push(n2e),n.sort(w_),n.forEach(r=>this.addBreakpoint(r)),this.printBreakpoints}addBreakpoint(n){n&&this.printBreakpoints.find(o=>o.mediaQuery===n.mediaQuery)===void 0&&(this.printBreakpoints=r2e(n)?[n,...this.printBreakpoints]:[...this.printBreakpoints,n])}clear(){this.printBreakpoints=[]}};function r2e(e){return e?.mediaQuery.startsWith(x9)??!1}var z7=(()=>{class e{get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(r){this._activatedBreakpoints=[...r]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(r){this._useFallbacks=r}constructor(r,o,s){this.matchMedia=r,this.breakpoints=o,this.hook=s,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new W1,this.observeActivations()}onMediaChange(r){let o=this.findByQuery(r.mediaQuery);if(o){r=lG(r,o);let s=this.activatedBreakpoints.indexOf(o);r.matches&&s===-1?(this._activatedBreakpoints.push(o),this._activatedBreakpoints.sort(w_),this.updateStyles()):!r.matches&&s!==-1&&(this._activatedBreakpoints.splice(s,1),this._activatedBreakpoints.sort(w_),this.updateStyles())}}init(r,o,s,l,d=[]){aG(this.updateMap,r,o,s),aG(this.clearMap,r,o,l),this.buildElementKeyMap(r,o),this.watchExtraTriggers(r,o,d)}getValue(r,o,s){let l=this.elementMap.get(r);if(l){let d=s!==void 0?l.get(s):this.getActivatedValues(l,o);if(d)return d.get(o)}}hasValue(r,o){let s=this.elementMap.get(r);if(s){let l=this.getActivatedValues(s,o);if(l)return l.get(o)!==void 0||!1}return!1}setValue(r,o,s,l){let d=this.elementMap.get(r);if(!d)d=new Map().set(l,new Map().set(o,s)),this.elementMap.set(r,d);else{let p=(d.get(l)??new Map).set(o,s);d.set(l,p),this.elementMap.set(r,d)}let h=this.getValue(r,o);h!==void 0&&this.updateElement(r,o,h)}trackValue(r,o){return this.subject.asObservable().pipe(d0(s=>s.element===r&&s.key===o))}updateStyles(){this.elementMap.forEach((r,o)=>{let s=new Set(this.elementKeyMap.get(o)),l=this.getActivatedValues(r);l&&l.forEach((d,h)=>{this.updateElement(o,h,d),s.delete(h)}),s.forEach(d=>{if(l=this.getActivatedValues(r,d),l){let h=l.get(d);this.updateElement(o,d,h)}else this.clearElement(o,d)})})}clearElement(r,o){let s=this.clearMap.get(r);if(s){let l=s.get(o);l&&(l(),this.subject.next({element:r,key:o,value:""}))}}updateElement(r,o,s){let l=this.updateMap.get(r);if(l){let d=l.get(o);d&&(d(s),this.subject.next({element:r,key:o,value:s}))}}releaseElement(r){let o=this.watcherMap.get(r);o&&(o.forEach(l=>l.unsubscribe()),this.watcherMap.delete(r));let s=this.elementMap.get(r);s&&(s.forEach((l,d)=>s.delete(d)),this.elementMap.delete(r))}triggerUpdate(r,o){let s=this.elementMap.get(r);if(s){let l=this.getActivatedValues(s,o);l&&(o?this.updateElement(r,o,l.get(o)):l.forEach((d,h)=>this.updateElement(r,h,d)))}}buildElementKeyMap(r,o){let s=this.elementKeyMap.get(r);s||(s=new Set,this.elementKeyMap.set(r,s)),s.add(o)}watchExtraTriggers(r,o,s){if(s&&s.length){let l=this.watcherMap.get(r);if(l||(l=new Map,this.watcherMap.set(r,l)),!l.get(o)){let h=P3(...s).subscribe(()=>{let p=this.getValue(r,o);this.updateElement(r,o,p)});l.set(o,h)}}}findByQuery(r){return this.breakpoints.findByQuery(r)}getActivatedValues(r,o){for(let l=0;l<this.activatedBreakpoints.length;l++){let d=this.activatedBreakpoints[l],h=r.get(d.alias);if(h&&(o===void 0||h.has(o)&&h.get(o)!=null))return h}if(!this._useFallbacks)return;let s=r.get("");return o===void 0||s&&s.has(o)?s:void 0}observeActivations(){let r=this.breakpoints.items.map(o=>o.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(r)).pipe(B0(this.hook.interceptEvents(this)),d0(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}static{this.\u0275fac=function(o){return new(o||e)(K1(G1e),K1(dG),K1(i2e))}}static{this.\u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function aG(e,n,r,o){if(o!==void 0){let s=e.get(n)??new Map;s.set(r,o),e.set(n,s)}}var R7=(()=>{class e{get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(r){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,r,this.marshal.activatedAlias)}constructor(r,o,s,l){this.elementRef=r,this.styleBuilder=o,this.styler=s,this.marshal=l,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new W1,this.styleCache=new Map}ngOnChanges(r){Object.keys(r).forEach(o=>{if(this.inputs.indexOf(o)!==-1){let s=o.split(".").slice(1).join("."),l=r[o].currentValue;this.setValue(l,s)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(r=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),r)}addStyles(r,o){let s=this.styleBuilder,l=s.shouldCache,d=this.styleCache.get(r);(!d||!l)&&(d=s.buildStyles(r,o),l&&this.styleCache.set(r,d)),this.mru=E1({},d),this.applyStyleToElement(d),s.sideEffect(r,d,o)}clearStyles(){Object.keys(this.mru).forEach(r=>{this.mru[r]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(r,o=!1){if(r){let[s,l]=this.styler.getFlowDirection(r);if(!l&&o){let d=IM(s),h=[r];this.styler.applyStyleToElements(d,h)}return s.trim()}return"row"}hasWrap(r){return this.styler.hasWrap(r)}applyStyleToElement(r,o,s=this.nativeElement){this.styler.applyStyleToElement(s,r,o)}setValue(r,o){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,r,o)}updateWithValue(r){this.currentValue!==r&&(this.addStyles(r),this.currentValue=r)}static{this.\u0275fac=function(o){return new(o||e)(X1(l2),X1(P8),X1(k5),X1(z7))}}static{this.\u0275dir=n2({type:e,features:[A0]})}}return e})();var cG="x";function zM(e,n){if(n===void 0)return e;let r=o=>{let s=+o.slice(0,-cG.length);return e.endsWith(cG)&&!isNaN(s)?`${s*n.value}${n.unit}`:e};return e.includes(" ")?e.split(" ").map(r).join(" "):r(e)}var s2e=(()=>{class e extends R7{set klass(r){this.ngClassInstance.klass=r,this.setValue(r,"")}constructor(r,o,s,l,d){super(r,null,o,s),this.ngClassInstance=d,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new U6(r,l)),this.init(),this.setValue("","")}updateWithValue(r){this.ngClassInstance.ngClass=r,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}static{this.\u0275fac=function(o){return new(o||e)(X1(l2),X1(k5),X1(z7),X1(F6),X1(U6,10))}}static{this.\u0275dir=n2({type:e,inputs:{klass:[0,"class","klass"]},features:[h0]})}}return e})(),a2e=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];var hG=(()=>{class e extends s2e{constructor(){super(...arguments),this.inputs=a2e}static{this.\u0275fac=(()=>{let r;return function(s){return(r||(r=O0(e)))(s||e)}})()}static{this.\u0275dir=n2({type:e,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[h0]})}}return e})();var c2e=(()=>{class e extends P8{buildStyles(r,o){return{display:r==="true"?o.display||(o.isServer?"initial":""):"none"}}static{this.\u0275fac=(()=>{let r;return function(s){return(r||(r=O0(e)))(s||e)}})()}static{this.\u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),l2e=(()=>{class e extends R7{constructor(r,o,s,l,d,h,p){super(r,o,s,l),this.layoutConfig=d,this.platformId=h,this.serverModuleLoaded=p,this.DIRECTIVE_KEY="show-hide",this.display="",this.hasLayout=!1,this.hasFlexChild=!1}ngAfterViewInit(){this.trackExtraTriggers();let r=Array.from(this.nativeElement.children);for(let s=0;s<r.length;s++)if(this.marshal.hasValue(r[s],"flex")){this.hasFlexChild=!0;break}DI.has(this.nativeElement)?this.display=DI.get(this.nativeElement):(this.display=this.getDisplayStyle(),DI.set(this.nativeElement,this.display)),this.init();let o=this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY,"");o===void 0||o===""?this.setValue(!0,""):this.triggerUpdate()}ngOnChanges(r){Object.keys(r).forEach(o=>{if(this.inputs.indexOf(o)!==-1){let s=o.split("."),l=s.slice(1).join("."),d=r[o].currentValue,h=d!==""?d!==0?v5(d):!1:!0;s[0]==="fxHide"&&(h=!h),this.setValue(h,l)}})}trackExtraTriggers(){this.hasLayout=this.marshal.hasValue(this.nativeElement,"layout"),["layout","layout-align"].forEach(r=>{this.marshal.trackValue(this.nativeElement,r).pipe(I0(this.destroySubject)).subscribe(this.triggerUpdate.bind(this))})}getDisplayStyle(){return this.hasLayout||this.hasFlexChild&&this.layoutConfig.addFlexToParent?"flex":this.styler.lookupStyle(this.nativeElement,"display",!0)}updateWithValue(r=!0){if(r==="")return;let o=C8(this.platformId);this.addStyles(r?"true":"false",{display:this.display,isServer:o}),o&&this.serverModuleLoaded&&this.nativeElement.style.setProperty("display",""),this.marshal.triggerUpdate(this.parentElement,"layout-gap")}static{this.\u0275fac=function(o){return new(o||e)(X1(l2),X1(c2e),X1(k5),X1(z7),X1(C6),X1(U3),X1(C9))}}static{this.\u0275dir=n2({type:e,features:[h0,A0]})}}return e})(),DI=new WeakMap,u2e=["fxShow","fxShow.print","fxShow.xs","fxShow.sm","fxShow.md","fxShow.lg","fxShow.xl","fxShow.lt-sm","fxShow.lt-md","fxShow.lt-lg","fxShow.lt-xl","fxShow.gt-xs","fxShow.gt-sm","fxShow.gt-md","fxShow.gt-lg","fxHide","fxHide.print","fxHide.xs","fxHide.sm","fxHide.md","fxHide.lg","fxHide.xl","fxHide.lt-sm","fxHide.lt-md","fxHide.lt-lg","fxHide.lt-xl","fxHide.gt-xs","fxHide.gt-sm","fxHide.gt-md","fxHide.gt-lg"];var pG=(()=>{class e extends l2e{constructor(){super(...arguments),this.inputs=u2e}static{this.\u0275fac=(()=>{let r;return function(s){return(r||(r=O0(e)))(s||e)}})()}static{this.\u0275dir=n2({type:e,selectors:[["","fxShow",""],["","fxShow.print",""],["","fxShow.xs",""],["","fxShow.sm",""],["","fxShow.md",""],["","fxShow.lg",""],["","fxShow.xl",""],["","fxShow.lt-sm",""],["","fxShow.lt-md",""],["","fxShow.lt-lg",""],["","fxShow.lt-xl",""],["","fxShow.gt-xs",""],["","fxShow.gt-sm",""],["","fxShow.gt-md",""],["","fxShow.gt-lg",""],["","fxHide",""],["","fxHide.print",""],["","fxHide.xs",""],["","fxHide.sm",""],["","fxHide.md",""],["","fxHide.lg",""],["","fxHide.xl",""],["","fxHide.lt-sm",""],["","fxHide.lt-md",""],["","fxHide.lt-lg",""],["","fxHide.lt-xl",""],["","fxHide.gt-xs",""],["","fxHide.gt-sm",""],["","fxHide.gt-md",""],["","fxHide.gt-lg",""]],inputs:{fxShow:"fxShow","fxShow.print":"fxShow.print","fxShow.xs":"fxShow.xs","fxShow.sm":"fxShow.sm","fxShow.md":"fxShow.md","fxShow.lg":"fxShow.lg","fxShow.xl":"fxShow.xl","fxShow.lt-sm":"fxShow.lt-sm","fxShow.lt-md":"fxShow.lt-md","fxShow.lt-lg":"fxShow.lt-lg","fxShow.lt-xl":"fxShow.lt-xl","fxShow.gt-xs":"fxShow.gt-xs","fxShow.gt-sm":"fxShow.gt-sm","fxShow.gt-md":"fxShow.gt-md","fxShow.gt-lg":"fxShow.gt-lg",fxHide:"fxHide","fxHide.print":"fxHide.print","fxHide.xs":"fxHide.xs","fxHide.sm":"fxHide.sm","fxHide.md":"fxHide.md","fxHide.lg":"fxHide.lg","fxHide.xl":"fxHide.xl","fxHide.lt-sm":"fxHide.lt-sm","fxHide.lt-md":"fxHide.lt-md","fxHide.lt-lg":"fxHide.lt-lg","fxHide.lt-xl":"fxHide.lt-xl","fxHide.gt-xs":"fxHide.gt-xs","fxHide.gt-sm":"fxHide.gt-sm","fxHide.gt-md":"fxHide.gt-md","fxHide.gt-lg":"fxHide.gt-lg"},features:[h0]})}}return e})();var II=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=r2({type:e})}static{this.\u0275inj=i2({imports:[w9]})}}return e})();var d2e=(()=>{class e extends P8{buildStyles(r,{display:o}){let s=IM(r);return R2(E1({},s),{display:o==="none"?o:s.display})}static{this.\u0275fac=(()=>{let r;return function(s){return(r||(r=O0(e)))(s||e)}})()}static{this.\u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),f2e=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];var h2e=(()=>{class e extends R7{constructor(r,o,s,l,d){super(r,s,o,l),this._config=d,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(r){let s=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=gG.get(s)??new Map,gG.set(s,this.styleCache),this.currentValue!==r&&(this.addStyles(r,{display:s}),this.currentValue=r)}static{this.\u0275fac=function(o){return new(o||e)(X1(l2),X1(k5),X1(d2e),X1(z7),X1(C6))}}static{this.\u0275dir=n2({type:e,features:[h0]})}}return e})(),yG=(()=>{class e extends h2e{constructor(){super(...arguments),this.inputs=f2e}static{this.\u0275fac=(()=>{let r;return function(s){return(r||(r=O0(e)))(s||e)}})()}static{this.\u0275dir=n2({type:e,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[h0]})}}return e})(),gG=new Map;var vG={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null},p2e=(()=>{class e extends P8{constructor(r,o){super(),this._styler=r,this._config=o}buildStyles(r,o){return r.endsWith(RM)?(r=r.slice(0,r.indexOf(RM)),r=zM(r,this._config.multiplier),w2e(r,o.directionality)):{}}sideEffect(r,o,s){let l=s.items;if(r.endsWith(RM)){r=r.slice(0,r.indexOf(RM)),r=zM(r,this._config.multiplier);let d=x2e(r,s.directionality);this._styler.applyStyleToElements(d,s.items)}else{r=zM(r,this._config.multiplier),r=this.addFallbackUnit(r);let d=l.pop(),h=C2e(r,s);this._styler.applyStyleToElements(h,l),this._styler.applyStyleToElements(vG,[d])}}addFallbackUnit(r){return isNaN(+r)?r:`${r}${this._config.defaultUnit}`}static{this.\u0275fac=function(o){return new(o||e)(K1(k5),K1(C6))}}static{this.\u0275prov=C1({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),m2e=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];var g2e=(()=>{class e extends R7{get childrenNodes(){let r=this.nativeElement.children,o=[];for(let s=r.length;s--;)o[s]=r[s];return o}constructor(r,o,s,l,d,h){super(r,d,l,h),this.zone=o,this.directionality=s,this.styleUtils=l,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new W1;let p=[this.directionality.change,this.observerSubject.asObservable()];this.init(p),this.marshal.trackValue(this.nativeElement,"layout").pipe(I0(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(r){let s=r.value.split(" ");this.layout=s[0],DM.find(l=>l===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(r){let o=this.childrenNodes.filter(s=>s.nodeType===1&&this.willDisplay(s)).sort((s,l)=>{let d=+this.styler.lookupStyle(s,"order"),h=+this.styler.lookupStyle(l,"order");return isNaN(d)||isNaN(h)||d===h?0:d>h?1:-1});if(o.length>0){let s=this.directionality.value,l=this.layout;l==="row"&&s==="rtl"?this.styleCache=y2e:l==="row"&&s!=="rtl"?this.styleCache=_2e:l==="column"&&s==="rtl"?this.styleCache=v2e:l==="column"&&s!=="rtl"&&(this.styleCache=b2e),this.addStyles(r,{directionality:s,items:o,layout:l})}}clearStyles(){let r=Object.keys(this.mru).length>0,o=r?"padding":bG(this.directionality.value,this.layout);r&&super.clearStyles(),this.styleUtils.applyStyleToElements({[o]:""},this.childrenNodes)}willDisplay(r){let o=this.marshal.getValue(r,"show-hide");return o===!0||o===void 0&&this.styleUtils.lookupStyle(r,"display")!=="none"}buildChildObservable(){this.zone.runOutsideAngular(()=>{typeof MutationObserver<"u"&&(this.observer=new MutationObserver(r=>{let o=s=>s.addedNodes&&s.addedNodes.length>0||s.removedNodes&&s.removedNodes.length>0;r.some(o)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}static{this.\u0275fac=function(o){return new(o||e)(X1(l2),X1(c2),X1(N3),X1(k5),X1(p2e),X1(z7))}}static{this.\u0275dir=n2({type:e,features:[h0]})}}return e})(),_G=(()=>{class e extends g2e{constructor(){super(...arguments),this.inputs=m2e}static{this.\u0275fac=(()=>{let r;return function(s){return(r||(r=O0(e)))(s||e)}})()}static{this.\u0275dir=n2({type:e,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[h0]})}}return e})(),y2e=new Map,v2e=new Map,_2e=new Map,b2e=new Map,RM=" grid";function x2e(e,n){let[r,o]=e.split(" "),s=o??r,l="0px",d=s,h="0px";return n==="rtl"?h=r:l=r,{padding:`0px ${l} ${d} ${h}`}}function w2e(e,n){let[r,o]=e.split(" "),s=o??r,l=g=>`-${g}`,d="0px",h=l(s),p="0px";return n==="rtl"?p=l(r):d=l(r),{margin:`0px ${d} ${h} ${p}`}}function bG(e,n){switch(n){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":return e==="rtl"?"margin-left":"margin-right";case"row-reverse":return e==="rtl"?"margin-right":"margin-left";default:return e==="rtl"?"margin-left":"margin-right"}}function C2e(e,n){let r=bG(n.directionality,n.layout),o=E1({},vG);return o[r]=e,o}var NI=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=r2({type:e})}static{this.\u0275inj=i2({imports:[w9,W6]})}}return e})();var OI=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=r2({type:e})}static{this.\u0275inj=i2({imports:[w9]})}}return e})();var E2e="ng-flex-layout",S2e="19.0.0",L2e={"./mq":{sass:"./core/sass/_layout-bp.scss"},"./_mq":{sass:"./core/sass/_layout-bp.scss"}},A2e={type:"git",url:"https://github.com/alessiobianchini/flex-layout.git"},k2e=["angular","flex-layout","flexbox css","media query","breakpoints"],T2e="MIT",D2e={url:"https://github.com/alessiobianchini/flex-layout/issues"},I2e="https://github.com/alessiobianchini/flex-layout#readme",N2e={tslib:"^2.3.0"},O2e={"@angular/cdk":">=19.0.0","@angular/core":">=19.0.0","@angular/common":">=19.0.0","@angular/platform-browser":">=19.0.0",rxjs:"^6.5.3 || ^7.4.0"},z2e="module",R2e={name:E2e,version:S2e,exports:L2e,repository:A2e,keywords:k2e,license:T2e,bugs:D2e,homepage:I2e,dependencies:N2e,peerDependencies:O2e,type:z2e};var M9e=new f8(R2e.version);var PM=(()=>{class e{static withConfig(r,o=[]){return{ngModule:e,providers:r.serverLoaded?[{provide:C6,useValue:E1(E1({},NM),r)},{provide:OM,useValue:o,multi:!0},{provide:C9,useValue:!0}]:[{provide:C6,useValue:E1(E1({},NM),r)},{provide:OM,useValue:o,multi:!0}]}}constructor(r,o){C8(o)&&!r&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static{this.\u0275fac=function(o){return new(o||e)(K1(C9),K1(U3))}}static{this.\u0275mod=r2({type:e})}static{this.\u0275inj=i2({imports:[NI,II,OI,NI,II,OI]})}}return e})();var F2e=["mapContainer"];function j2e(e,n){if(e&1&&(g1(0,"mat-option",9),e2(1),v1()),e&2){let r=n.$implicit;d2("value",r),D1(),D3(r)}}function B2e(e,n){if(e&1&&(g1(0,"mat-option",9),e2(1),v1()),e&2){let r=n.$implicit;d2("value",r),D1(),D3(r)}}function V2e(e,n){if(e&1&&(g1(0,"div",23)(1,"div",24)(2,"span",25),e2(3),v1(),g1(4,"button",26)(5,"mat-icon",6),e2(6,"circle"),v1(),e2(7),v1()(),g1(8,"div",27)(9,"p")(10,"span",28),e2(11,"From:"),v1(),g1(12,"span",29),e2(13),v1()(),g1(14,"p")(15,"span",28),e2(16,"To:"),v1(),g1(17,"span",29),e2(18),v1()(),g1(19,"p")(20,"span",28),e2(21,"Due Date:"),v1(),g1(22,"span",30),e2(23),qL(24,"date"),v1()()()()),e&2){let r=n.$implicit;D1(3),D3(r.title),D1(),d2("disabled",r.status.toLowerCase()==="needs review")("ngClass",r.status.toLowerCase()),D1(3),v3(" ",r.status," "),D1(6),v3(" ",r.from," "),D1(5),v3(" ",r.to,""),D1(5),v3(" ",WL(24,7,r.dueDate,"dd MMMM"),"")}}function U2e(e,n){if(e&1&&(g1(0,"div",21),J2(1,V2e,25,10,"div",22),v1()),e&2){let r=S2();D1(),d2("ngForOf",r.filteredSubmissions)}}function H2e(e,n){if(e&1&&(g1(0,"div",23)(1,"div",24)(2,"span",25),e2(3),v1(),g1(4,"button",26)(5,"mat-icon",6),e2(6,"circle"),v1(),e2(7),v1()(),g1(8,"div",27)(9,"p")(10,"span",28),e2(11,"From:"),v1(),g1(12,"span"),e2(13),v1()(),g1(14,"p")(15,"span",28),e2(16,"To:"),v1(),g1(17,"span"),e2(18),v1()(),g1(19,"p")(20,"span",28),e2(21,"Due Date:"),v1(),g1(22,"span",34),e2(23),qL(24,"date"),v1()()()()),e&2){let r=n.$implicit;D1(3),D3(r.title),D1(),d2("disabled",r.status.toLowerCase()==="needs review")("ngClass",r.status.toLowerCase()),D1(3),v3(" ",r.status," "),D1(6),v3(" ",r.from," "),D1(5),v3(" ",r.to,""),D1(5),v3(" ",WL(24,7,r.dueDate,"dd MMMM"),"")}}function G2e(e,n){if(e&1&&(g1(0,"div",31,2)(2,"div",32),J2(3,H2e,25,10,"div",22),v1(),E2(4,"div",33),v1()),e&2){let r=S2();D1(3),d2("ngForOf",r.filteredSubmissions)}}var xG=CG.default||P2e,$2e={parse:{dateInput:"MM/YYYY"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},FM=class e{constructor(n){this.cdr=n}date=new XC(xG());setMonthAndYear(n,r){let o=this.date.value??xG();o.month(n.month()),o.year(n.year()),this.date.setValue(o),r.close()}map;faicon=jB;mapContainer;viewMode="map";platform;svg=`<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<g filter="url(#filter0_d_2281_9719)">
<circle cx="24" cy="20" r="20" fill="#2188D9"/>
<circle cx="24" cy="20" r="19" stroke="white" stroke-width="2"/>
</g>
<path d="M16.9688 32H31.0312C32.1944 32 33.1406 31.0538 33.1406 29.8906V15.0312H28.2188C27.0556 15.0312 26.1094 14.085 26.1094 12.9219V8H16.9688C15.8056 8 14.8594 8.94622 14.8594 10.1094V29.8906C14.8594 31.0538 15.8056 32 16.9688 32ZM19.0781 19.2969C19.0781 18.9082 19.3926 18.5938 19.7812 18.5938H28.2188C28.6074 18.5938 28.9219 18.9082 28.9219 19.2969V26.3281C28.9219 26.7168 28.6074 27.0312 28.2188 27.0312H19.7812C19.3926 27.0312 19.0781 26.7168 19.0781 26.3281V19.2969Z" fill="white"/>
<path d="M20.4844 20H27.5156V25.625H20.4844V20Z" fill="white"/>
<path d="M28.2188 13.6249H32.7286L27.5156 8.41187V12.9218C27.5156 13.3097 27.8308 13.6249 28.2188 13.6249Z" fill="white"/>
<defs>
<filter id="filter0_d_2281_9719" x="0" y="0" width="48" height="48" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset dy="4"/>
<feGaussianBlur stdDeviation="2"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_2281_9719"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_2281_9719" result="shape"/>
</filter>
</defs>
</svg>
`;icon=new g5.map.Icon(this.svg,{anchor:{x:24,y:58}});forms=["denisgordiyenya@gmail.com","john.doe@gmail.com","alice.smith@gmail.com","alice.smith@gmail.com"];statuses=["Uncomplete","Complete","Needs Review"];markers=[{lat:43.6707974,lng:-79.347015,title:"Marker 1"},{lat:43.653908,lng:-79.384293,title:"Marker 2"},{lat:43.662301,lng:-79.329356,title:"Marker 3"},{lat:43.662301,lng:-79.395293,title:"Marker 4"},{lat:43.663213,lng:-79.387359,title:"Marker 5"}];selectedForm=null;searchTerm=null;selectedStatus=null;addedMarkers=[];selectedDate=null;submissions=[{title:"Work Flow: Requires Location",from:"denisgordiyenya@gmail.com",to:"denisgordiyenya@gmail.com",dueDate:"2024-12-09",status:"Uncomplete",coordinates:{lat:43.6707974,lng:-79.347015}},{title:"Work Flow: Requires Location",from:"john.doe@gmail.com",to:"jane.doe@gmail.com",dueDate:"2024-12-08",status:"Complete",coordinates:{lat:43.653908,lng:-79.384293}},{title:"Work Flow: Requires Location",from:"alice.smith@gmail.com",to:"bob.smith@gmail.com",dueDate:"2024-12-07",status:"Uncomplete",coordinates:{lat:43.662301,lng:-79.329356}},{title:"Work Flow: Requires Location",from:"alice.smith@gmail.com",to:"bob.smith@gmail.com",dueDate:"2024-12-06",status:"Needs Review",coordinates:{lat:43.662301,lng:-79.395293}}];ngAfterViewInit(){!this.map&&this.mapContainer&&this.renderMap(this.mapContainer.nativeElement.lastChild)}onFilterChange(){this.viewMode==="map"&&this.renderMap(this.mapContainer.nativeElement.lastChild)}onDateChange(n){this.selectedDate=n.value}get filteredSubmissions(){return this.submissions.filter(n=>{let r=!this.selectedForm||n.from===this.selectedForm,o=!this.selectedStatus||n.status===this.selectedStatus,s=!0;if(this.selectedDate){let d=new Date(this.selectedDate).toDateString(),h=new Date(n.dueDate).toDateString();s=d===h}let l=!this.searchTerm||n.title.toLowerCase().includes(this.searchTerm.toLowerCase())||n.from.toLowerCase().includes(this.searchTerm.toLowerCase())||n.to.toLowerCase().includes(this.searchTerm.toLowerCase())||n.status.toLowerCase().includes(this.searchTerm.toLowerCase());return r&&o&&s&&l})}addMarkers(n){this.addedMarkers=[],this.filteredSubmissions.forEach(r=>{let o=new g5.map.Marker({lat:r.coordinates.lat,lng:r.coordinates.lng});o.setIcon(this.icon),this.addedMarkers.push(o),n.addObject(o)})}toggleView(n){this.cdr.detectChanges(),console.log("Selected value:",n.value),n.value=="map"&&this.renderMap(this.mapContainer.nativeElement.lastChild)}exportData(){console.log("Exporting data..."),alert("Data exported successfully!")}renderMap(n){setTimeout(()=>{if(!this.map){let o=new g5.service.Platform({apikey:""}).createDefaultLayers(),s=new g5.Map(n,o.vector.normal.map,{pixelRatio:window.devicePixelRatio,center:{lat:43.662301,lng:-79.329356},zoom:13});new g5.mapevents.Behavior(new g5.mapevents.MapEvents(s)),g5.ui.UI.createDefault(s,o),BB(n,()=>{s.getViewPort().resize()}),this.map=s}this.addedMarkers.forEach(r=>{this.map?.removeObject(r)}),this.addMarkers(this.map)},1e3)}static \u0275fac=function(r){return new(r||e)(X1(k0))};static \u0275cmp=C2({type:e,selectors:[["app-submissions"]],viewQuery:function(r,o){if(r&1&&g0(F2e,5),r&2){let s;F2(s=j2())&&(o.mapContainer=s.first)}},features:[V0([yV($2e)])],decls:42,vars:14,consts:[["picker",""],["viewToggle","matButtonToggleGroup"],["mapContainer",""],["fxLayout","row wrap","fxLayout.xs","column","fxLayoutGap","20px grid",1,"responsive-inputs"],["appearance","outline",1,"search-box"],["matInput","","placeholder","Search",3,"ngModelChange","input","ngModel"],["matPrefix",""],["appearance","outline",1,"filter-field"],[3,"ngModelChange","selectionChange","ngModel"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["matPrefix","",3,"for"],["matDatepickerToggleIcon",""],["matInput","","placeholder","Select Date",3,"ngModelChange","dateChange","matDatepicker","ngModel"],["fxLayout","row","fxLayout.xs","column","fxLayoutGap","20px grid",1,"responsive-inputs","second-group"],["aria-label","Font Style","color","primary",3,"ngModelChange","change","hideSingleSelectionIndicator","ngModel"],["value","map",1,"toggle-field"],["value","list",1,"toggle-field"],["href","#","mat-button","",3,"click"],["class","list-view",4,"ngIf"],["style","display: flex;",4,"ngIf"],[1,"list-view"],["class","submission",4,"ngFor","ngForOf"],[1,"submission"],[1,"card-header"],[1,"card-title"],[1,"card-status","status",3,"disabled","ngClass"],[1,"card-body"],[1,"gray"],[1,"space-adjustment"],[1,"highlight","space-adjustment"],[2,"display","flex"],[1,"box-list"],["id","map",1,"box-map"],[1,"highlight"]],template:function(r,o){if(r&1){let s=G3();g1(0,"h1"),e2(1,"Submissions"),v1(),g1(2,"div",3)(3,"mat-form-field",4)(4,"input",5),m6("ngModelChange",function(d){return n0(s),V6(o.searchTerm,d)||(o.searchTerm=d),i0(d)}),O2("input",function(){return n0(s),i0(o.onFilterChange())}),v1(),g1(5,"mat-icon",6),e2(6,"search"),v1()(),g1(7,"mat-form-field",7)(8,"mat-label"),e2(9,"Select Form"),v1(),g1(10,"mat-select",8),m6("ngModelChange",function(d){return n0(s),V6(o.selectedForm,d)||(o.selectedForm=d),i0(d)}),O2("selectionChange",function(){return n0(s),i0(o.onFilterChange())}),g1(11,"mat-option",9),e2(12,"None"),v1(),J2(13,j2e,2,2,"mat-option",10),v1()(),g1(14,"mat-form-field",7)(15,"mat-label"),e2(16,"Select Status"),v1(),g1(17,"mat-select",8),m6("ngModelChange",function(d){return n0(s),V6(o.selectedStatus,d)||(o.selectedStatus=d),i0(d)}),O2("selectionChange",function(){return n0(s),i0(o.onFilterChange())}),g1(18,"mat-option",9),e2(19,"None"),v1(),J2(20,B2e,2,2,"mat-option",10),v1()(),g1(21,"mat-form-field",7),E2(22,"mat-datepicker",null,0),g1(24,"mat-datepicker-toggle",11)(25,"mat-icon",12),e2(26,"calendar_month"),v1()(),g1(27,"input",13),m6("ngModelChange",function(d){return n0(s),V6(o.selectedDate,d)||(o.selectedDate=d),i0(d)}),O2("dateChange",function(d){return n0(s),i0(o.onDateChange(d))}),v1()(),g1(28,"div",14)(29,"mat-button-toggle-group",15,1),m6("ngModelChange",function(d){return n0(s),V6(o.viewMode,d)||(o.viewMode=d),i0(d)}),O2("change",function(d){return n0(s),i0(o.toggleView(d))}),g1(31,"mat-button-toggle",16),e2(32,"Map"),v1(),g1(33,"mat-button-toggle",17),e2(34,"List"),v1()(),g1(35,"a",18),O2("click",function(){return n0(s),i0(o.exportData())}),g1(36,"mat-icon"),e2(37,"sim_card_download"),v1(),g1(38,"p"),e2(39,"Export"),v1()()()(),J2(40,U2e,2,1,"div",19)(41,G2e,5,1,"div",20)}if(r&2){let s=B6(23);D1(4),p6("ngModel",o.searchTerm),D1(6),p6("ngModel",o.selectedForm),D1(),d2("value",null),D1(2),d2("ngForOf",o.forms),D1(4),p6("ngModel",o.selectedStatus),D1(),d2("value",null),D1(2),d2("ngForOf",o.statuses),D1(4),d2("for",s),D1(3),d2("matDatepicker",s),p6("ngModel",o.selectedDate),D1(2),d2("hideSingleSelectionIndicator",!0),p6("ngModel",o.viewMode),D1(11),d2("ngIf",o.viewMode==="list"),D1(),d2("ngIf",o.viewMode==="map")}},dependencies:[tM,vM,yM,PM,yG,_G,hG,I8,CU,dM,xU,a9,nM,TM,PC,hM,kU,gM,$U,mM,WD,qD,yv,U6,nF,iF,oF,fM,EU,FC,xD,wD,QC,YC,PV,yD],styles:["html[_ngcontent-%COMP%]{--mat-sys-on-surface: initial}.mat-app-background[_ngcontent-%COMP%]{background-color:var(--mat-app-background-color, var(--mat-sys-background, transparent));color:var(--mat-app-text-color, var(--mat-sys-on-background, inherit))}.mat-elevation-z0[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z0[_ngcontent-%COMP%]{box-shadow:var(--mat-app-elevation-shadow-level-0, none)}.mat-elevation-z1[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z1[_ngcontent-%COMP%]{box-shadow:var(--mat-app-elevation-shadow-level-1, none)}.mat-elevation-z2[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z2[_ngcontent-%COMP%]{box-shadow:var(--mat-app-elevation-shadow-level-2, none)}.mat-elevation-z3[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z3[_ngcontent-%COMP%]{box-shadow:var(--mat-app-elevation-shadow-level-3, none)}.mat-elevation-z4[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z4[_ngcontent-%COMP%]{box-shadow:var(--mat-app-elevation-shadow-level-4, none)}.mat-elevation-z5[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z5[_ngcontent-%COMP%]{box-shadow:var(--mat-app-elevation-shadow-level-5, none)}.mat-elevation-z6[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z6[_ngcontent-%COMP%]{box-shadow:var(--mat-app-elevation-shadow-level-6, none)}.mat-elevation-z7[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z7[_ngcontent-%COMP%]{box-shadow:var(--mat-app-elevation-shadow-level-7, none)}.mat-elevation-z8[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z8[_ngcontent-%COMP%]{box-shadow:var(--mat-app-elevation-shadow-level-8, none)}.mat-elevation-z9[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z9[_ngcontent-%COMP%]{box-shadow:var(--mat-app-elevation-shadow-level-9, none)}.mat-elevation-z10[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z10[_ngcontent-%COMP%]{box-shadow:var(--mat-app-elevation-shadow-level-10, none)}.mat-elevation-z11[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z11[_ngcontent-%COMP%]{box-shadow:var(--mat-app-elevation-shadow-level-11, none)}.mat-elevation-z12[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z12[_ngcontent-%COMP%]{box-shadow:var(--mat-app-elevation-shadow-level-12, none)}.mat-elevation-z13[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z13[_ngcontent-%COMP%]{box-shadow:var(--mat-app-elevation-shadow-level-13, none)}.mat-elevation-z14[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z14[_ngcontent-%COMP%]{box-shadow:var(--mat-app-elevation-shadow-level-14, none)}.mat-elevation-z15[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z15[_ngcontent-%COMP%]{box-shadow:var(--mat-app-elevation-shadow-level-15, none)}.mat-elevation-z16[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z16[_ngcontent-%COMP%]{box-shadow:var(--mat-app-elevation-shadow-level-16, none)}.mat-elevation-z17[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z17[_ngcontent-%COMP%]{box-shadow:var(--mat-app-elevation-shadow-level-17, none)}.mat-elevation-z18[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z18[_ngcontent-%COMP%]{box-shadow:var(--mat-app-elevation-shadow-level-18, none)}.mat-elevation-z19[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z19[_ngcontent-%COMP%]{box-shadow:var(--mat-app-elevation-shadow-level-19, none)}.mat-elevation-z20[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z20[_ngcontent-%COMP%]{box-shadow:var(--mat-app-elevation-shadow-level-20, none)}.mat-elevation-z21[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z21[_ngcontent-%COMP%]{box-shadow:var(--mat-app-elevation-shadow-level-21, none)}.mat-elevation-z22[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z22[_ngcontent-%COMP%]{box-shadow:var(--mat-app-elevation-shadow-level-22, none)}.mat-elevation-z23[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z23[_ngcontent-%COMP%]{box-shadow:var(--mat-app-elevation-shadow-level-23, none)}.mat-elevation-z24[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z24[_ngcontent-%COMP%]{box-shadow:var(--mat-app-elevation-shadow-level-24, none)}html[_ngcontent-%COMP%]{--mat-ripple-color:rgba(0, 0, 0, .1)}html[_ngcontent-%COMP%]{--mat-option-selected-state-label-text-color:#3f51b5;--mat-option-label-text-color:rgba(0, 0, 0, .87);--mat-option-hover-state-layer-color:rgba(0, 0, 0, .04);--mat-option-focus-state-layer-color:rgba(0, 0, 0, .04);--mat-option-selected-state-layer-color:rgba(0, 0, 0, .04)}.mat-accent[_ngcontent-%COMP%]{--mat-option-selected-state-label-text-color:#ff4081;--mat-option-label-text-color:rgba(0, 0, 0, .87);--mat-option-hover-state-layer-color:rgba(0, 0, 0, .04);--mat-option-focus-state-layer-color:rgba(0, 0, 0, .04);--mat-option-selected-state-layer-color:rgba(0, 0, 0, .04)}.mat-warn[_ngcontent-%COMP%]{--mat-option-selected-state-label-text-color:#f44336;--mat-option-label-text-color:rgba(0, 0, 0, .87);--mat-option-hover-state-layer-color:rgba(0, 0, 0, .04);--mat-option-focus-state-layer-color:rgba(0, 0, 0, .04);--mat-option-selected-state-layer-color:rgba(0, 0, 0, .04)}html[_ngcontent-%COMP%]{--mat-optgroup-label-text-color:rgba(0, 0, 0, .87)}html[_ngcontent-%COMP%]{--mat-full-pseudo-checkbox-selected-icon-color:#ff4081;--mat-full-pseudo-checkbox-selected-checkmark-color:#fafafa;--mat-full-pseudo-checkbox-unselected-icon-color:rgba(0, 0, 0, .54);--mat-full-pseudo-checkbox-disabled-selected-checkmark-color:#fafafa;--mat-full-pseudo-checkbox-disabled-unselected-icon-color:#b0b0b0;--mat-full-pseudo-checkbox-disabled-selected-icon-color:#b0b0b0}html[_ngcontent-%COMP%]{--mat-minimal-pseudo-checkbox-selected-checkmark-color:#ff4081;--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color:#b0b0b0}.mat-primary[_ngcontent-%COMP%]{--mat-full-pseudo-checkbox-selected-icon-color:#3f51b5;--mat-full-pseudo-checkbox-selected-checkmark-color:#fafafa;--mat-full-pseudo-checkbox-unselected-icon-color:rgba(0, 0, 0, .54);--mat-full-pseudo-checkbox-disabled-selected-checkmark-color:#fafafa;--mat-full-pseudo-checkbox-disabled-unselected-icon-color:#b0b0b0;--mat-full-pseudo-checkbox-disabled-selected-icon-color:#b0b0b0}.mat-primary[_ngcontent-%COMP%]{--mat-minimal-pseudo-checkbox-selected-checkmark-color:#3f51b5;--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color:#b0b0b0}.mat-accent[_ngcontent-%COMP%]{--mat-full-pseudo-checkbox-selected-icon-color:#ff4081;--mat-full-pseudo-checkbox-selected-checkmark-color:#fafafa;--mat-full-pseudo-checkbox-unselected-icon-color:rgba(0, 0, 0, .54);--mat-full-pseudo-checkbox-disabled-selected-checkmark-color:#fafafa;--mat-full-pseudo-checkbox-disabled-unselected-icon-color:#b0b0b0;--mat-full-pseudo-checkbox-disabled-selected-icon-color:#b0b0b0}.mat-accent[_ngcontent-%COMP%]{--mat-minimal-pseudo-checkbox-selected-checkmark-color:#ff4081;--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color:#b0b0b0}.mat-warn[_ngcontent-%COMP%]{--mat-full-pseudo-checkbox-selected-icon-color:#f44336;--mat-full-pseudo-checkbox-selected-checkmark-color:#fafafa;--mat-full-pseudo-checkbox-unselected-icon-color:rgba(0, 0, 0, .54);--mat-full-pseudo-checkbox-disabled-selected-checkmark-color:#fafafa;--mat-full-pseudo-checkbox-disabled-unselected-icon-color:#b0b0b0;--mat-full-pseudo-checkbox-disabled-selected-icon-color:#b0b0b0}.mat-warn[_ngcontent-%COMP%]{--mat-minimal-pseudo-checkbox-selected-checkmark-color:#f44336;--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color:#b0b0b0}html[_ngcontent-%COMP%]{--mat-app-background-color:#fafafa;--mat-app-text-color:rgba(0, 0, 0, .87);--mat-app-elevation-shadow-level-0:0px 0px 0px 0px rgba(0, 0, 0, .2), 0px 0px 0px 0px rgba(0, 0, 0, .14), 0px 0px 0px 0px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-1:0px 2px 1px -1px rgba(0, 0, 0, .2), 0px 1px 1px 0px rgba(0, 0, 0, .14), 0px 1px 3px 0px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-2:0px 3px 1px -2px rgba(0, 0, 0, .2), 0px 2px 2px 0px rgba(0, 0, 0, .14), 0px 1px 5px 0px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-3:0px 3px 3px -2px rgba(0, 0, 0, .2), 0px 3px 4px 0px rgba(0, 0, 0, .14), 0px 1px 8px 0px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-4:0px 2px 4px -1px rgba(0, 0, 0, .2), 0px 4px 5px 0px rgba(0, 0, 0, .14), 0px 1px 10px 0px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-5:0px 3px 5px -1px rgba(0, 0, 0, .2), 0px 5px 8px 0px rgba(0, 0, 0, .14), 0px 1px 14px 0px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-6:0px 3px 5px -1px rgba(0, 0, 0, .2), 0px 6px 10px 0px rgba(0, 0, 0, .14), 0px 1px 18px 0px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-7:0px 4px 5px -2px rgba(0, 0, 0, .2), 0px 7px 10px 1px rgba(0, 0, 0, .14), 0px 2px 16px 1px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-8:0px 5px 5px -3px rgba(0, 0, 0, .2), 0px 8px 10px 1px rgba(0, 0, 0, .14), 0px 3px 14px 2px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-9:0px 5px 6px -3px rgba(0, 0, 0, .2), 0px 9px 12px 1px rgba(0, 0, 0, .14), 0px 3px 16px 2px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-10:0px 6px 6px -3px rgba(0, 0, 0, .2), 0px 10px 14px 1px rgba(0, 0, 0, .14), 0px 4px 18px 3px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-11:0px 6px 7px -4px rgba(0, 0, 0, .2), 0px 11px 15px 1px rgba(0, 0, 0, .14), 0px 4px 20px 3px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-12:0px 7px 8px -4px rgba(0, 0, 0, .2), 0px 12px 17px 2px rgba(0, 0, 0, .14), 0px 5px 22px 4px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-13:0px 7px 8px -4px rgba(0, 0, 0, .2), 0px 13px 19px 2px rgba(0, 0, 0, .14), 0px 5px 24px 4px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-14:0px 7px 9px -4px rgba(0, 0, 0, .2), 0px 14px 21px 2px rgba(0, 0, 0, .14), 0px 5px 26px 4px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-15:0px 8px 9px -5px rgba(0, 0, 0, .2), 0px 15px 22px 2px rgba(0, 0, 0, .14), 0px 6px 28px 5px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-16:0px 8px 10px -5px rgba(0, 0, 0, .2), 0px 16px 24px 2px rgba(0, 0, 0, .14), 0px 6px 30px 5px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-17:0px 8px 11px -5px rgba(0, 0, 0, .2), 0px 17px 26px 2px rgba(0, 0, 0, .14), 0px 6px 32px 5px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-18:0px 9px 11px -5px rgba(0, 0, 0, .2), 0px 18px 28px 2px rgba(0, 0, 0, .14), 0px 7px 34px 6px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-19:0px 9px 12px -6px rgba(0, 0, 0, .2), 0px 19px 29px 2px rgba(0, 0, 0, .14), 0px 7px 36px 6px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-20:0px 10px 13px -6px rgba(0, 0, 0, .2), 0px 20px 31px 3px rgba(0, 0, 0, .14), 0px 8px 38px 7px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-21:0px 10px 13px -6px rgba(0, 0, 0, .2), 0px 21px 33px 3px rgba(0, 0, 0, .14), 0px 8px 40px 7px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-22:0px 10px 14px -6px rgba(0, 0, 0, .2), 0px 22px 35px 3px rgba(0, 0, 0, .14), 0px 8px 42px 7px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-23:0px 11px 14px -7px rgba(0, 0, 0, .2), 0px 23px 36px 3px rgba(0, 0, 0, .14), 0px 9px 44px 8px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-24:0px 11px 15px -7px rgba(0, 0, 0, .2), 0px 24px 38px 3px rgba(0, 0, 0, .14), 0px 9px 46px 8px rgba(0, 0, 0, .12)}html[_ngcontent-%COMP%]{--mat-option-label-text-font:Roboto, sans-serif;--mat-option-label-text-line-height:24px;--mat-option-label-text-size:16px;--mat-option-label-text-tracking:.03125em;--mat-option-label-text-weight:400}html[_ngcontent-%COMP%]{--mat-optgroup-label-text-font:Roboto, sans-serif;--mat-optgroup-label-text-line-height:24px;--mat-optgroup-label-text-size:16px;--mat-optgroup-label-text-tracking:.03125em;--mat-optgroup-label-text-weight:400}html[_ngcontent-%COMP%]{--mdc-elevated-card-container-shape:4px}html[_ngcontent-%COMP%]{--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}html[_ngcontent-%COMP%]{--mdc-elevated-card-container-color:white;--mdc-elevated-card-container-elevation:0px 2px 1px -1px rgba(0, 0, 0, .2), 0px 1px 1px 0px rgba(0, 0, 0, .14), 0px 1px 3px 0px rgba(0, 0, 0, .12)}html[_ngcontent-%COMP%]{--mdc-outlined-card-container-color:white;--mdc-outlined-card-outline-color:rgba(0, 0, 0, .12);--mdc-outlined-card-container-elevation:0px 0px 0px 0px rgba(0, 0, 0, .2), 0px 0px 0px 0px rgba(0, 0, 0, .14), 0px 0px 0px 0px rgba(0, 0, 0, .12)}html[_ngcontent-%COMP%]{--mat-card-subtitle-text-color:rgba(0, 0, 0, .54)}html[_ngcontent-%COMP%]{--mat-card-title-text-font:Roboto, sans-serif;--mat-card-title-text-line-height:32px;--mat-card-title-text-size:20px;--mat-card-title-text-tracking:.0125em;--mat-card-title-text-weight:500;--mat-card-subtitle-text-font:Roboto, sans-serif;--mat-card-subtitle-text-line-height:22px;--mat-card-subtitle-text-size:14px;--mat-card-subtitle-text-tracking:.0071428571em;--mat-card-subtitle-text-weight:500}html[_ngcontent-%COMP%]{--mdc-linear-progress-active-indicator-height:4px;--mdc-linear-progress-track-height:4px;--mdc-linear-progress-track-shape:0}.mat-mdc-progress-bar[_ngcontent-%COMP%]{--mdc-linear-progress-active-indicator-color:#3f51b5;--mdc-linear-progress-track-color:rgba(63, 81, 181, .25)}.mat-mdc-progress-bar.mat-accent[_ngcontent-%COMP%]{--mdc-linear-progress-active-indicator-color:#ff4081;--mdc-linear-progress-track-color:rgba(255, 64, 129, .25)}.mat-mdc-progress-bar.mat-warn[_ngcontent-%COMP%]{--mdc-linear-progress-active-indicator-color:#f44336;--mdc-linear-progress-track-color:rgba(244, 67, 54, .25)}html[_ngcontent-%COMP%]{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}html[_ngcontent-%COMP%]{--mdc-plain-tooltip-container-color:#616161;--mdc-plain-tooltip-supporting-text-color:#fff}html[_ngcontent-%COMP%]{--mdc-plain-tooltip-supporting-text-font:Roboto, sans-serif;--mdc-plain-tooltip-supporting-text-size:12px;--mdc-plain-tooltip-supporting-text-weight:400;--mdc-plain-tooltip-supporting-text-tracking:.0333333333em}html[_ngcontent-%COMP%]{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px}html[_ngcontent-%COMP%]{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}html[_ngcontent-%COMP%]{--mdc-filled-text-field-caret-color:#3f51b5;--mdc-filled-text-field-focus-active-indicator-color:#3f51b5;--mdc-filled-text-field-focus-label-text-color:rgba(63, 81, 181, .87);--mdc-filled-text-field-container-color:rgb(244.8, 244.8, 244.8);--mdc-filled-text-field-disabled-container-color:rgb(249.9, 249.9, 249.9);--mdc-filled-text-field-label-text-color:rgba(0, 0, 0, .6);--mdc-filled-text-field-hover-label-text-color:rgba(0, 0, 0, .6);--mdc-filled-text-field-disabled-label-text-color:rgba(0, 0, 0, .38);--mdc-filled-text-field-input-text-color:rgba(0, 0, 0, .87);--mdc-filled-text-field-disabled-input-text-color:rgba(0, 0, 0, .38);--mdc-filled-text-field-input-text-placeholder-color:rgba(0, 0, 0, .6);--mdc-filled-text-field-error-hover-label-text-color:#f44336;--mdc-filled-text-field-error-focus-label-text-color:#f44336;--mdc-filled-text-field-error-label-text-color:#f44336;--mdc-filled-text-field-error-caret-color:#f44336;--mdc-filled-text-field-active-indicator-color:rgba(0, 0, 0, .42);--mdc-filled-text-field-disabled-active-indicator-color:rgba(0, 0, 0, .06);--mdc-filled-text-field-hover-active-indicator-color:rgba(0, 0, 0, .87);--mdc-filled-text-field-error-active-indicator-color:#f44336;--mdc-filled-text-field-error-focus-active-indicator-color:#f44336;--mdc-filled-text-field-error-hover-active-indicator-color:#f44336}html[_ngcontent-%COMP%]{--mdc-outlined-text-field-caret-color:#3f51b5;--mdc-outlined-text-field-focus-outline-color:#3f51b5;--mdc-outlined-text-field-focus-label-text-color:rgba(63, 81, 181, .87);--mdc-outlined-text-field-label-text-color:rgba(0, 0, 0, .6);--mdc-outlined-text-field-hover-label-text-color:rgba(0, 0, 0, .6);--mdc-outlined-text-field-disabled-label-text-color:rgba(0, 0, 0, .38);--mdc-outlined-text-field-input-text-color:rgba(0, 0, 0, .87);--mdc-outlined-text-field-disabled-input-text-color:rgba(0, 0, 0, .38);--mdc-outlined-text-field-input-text-placeholder-color:rgba(0, 0, 0, .6);--mdc-outlined-text-field-error-caret-color:#f44336;--mdc-outlined-text-field-error-focus-label-text-color:#f44336;--mdc-outlined-text-field-error-label-text-color:#f44336;--mdc-outlined-text-field-error-hover-label-text-color:#f44336;--mdc-outlined-text-field-outline-color:rgba(0, 0, 0, .38);--mdc-outlined-text-field-disabled-outline-color:rgba(0, 0, 0, .06);--mdc-outlined-text-field-hover-outline-color:rgba(0, 0, 0, .87);--mdc-outlined-text-field-error-focus-outline-color:#f44336;--mdc-outlined-text-field-error-hover-outline-color:#f44336;--mdc-outlined-text-field-error-outline-color:#f44336}html[_ngcontent-%COMP%]{--mat-form-field-focus-select-arrow-color:rgba(63, 81, 181, .87);--mat-form-field-disabled-input-text-placeholder-color:rgba(0, 0, 0, .38);--mat-form-field-state-layer-color:rgba(0, 0, 0, .87);--mat-form-field-error-text-color:#f44336;--mat-form-field-select-option-text-color:inherit;--mat-form-field-select-disabled-option-text-color:GrayText;--mat-form-field-leading-icon-color:unset;--mat-form-field-disabled-leading-icon-color:unset;--mat-form-field-trailing-icon-color:unset;--mat-form-field-disabled-trailing-icon-color:unset;--mat-form-field-error-focus-trailing-icon-color:unset;--mat-form-field-error-hover-trailing-icon-color:unset;--mat-form-field-error-trailing-icon-color:unset;--mat-form-field-enabled-select-arrow-color:rgba(0, 0, 0, .54);--mat-form-field-disabled-select-arrow-color:rgba(0, 0, 0, .38);--mat-form-field-hover-state-layer-opacity:.04;--mat-form-field-focus-state-layer-opacity:.08}.mat-mdc-form-field.mat-accent[_ngcontent-%COMP%]{--mdc-filled-text-field-caret-color:#ff4081;--mdc-filled-text-field-focus-active-indicator-color:#ff4081;--mdc-filled-text-field-focus-label-text-color:rgba(255, 64, 129, .87)}.mat-mdc-form-field.mat-accent[_ngcontent-%COMP%]{--mdc-outlined-text-field-caret-color:#ff4081;--mdc-outlined-text-field-focus-outline-color:#ff4081;--mdc-outlined-text-field-focus-label-text-color:rgba(255, 64, 129, .87)}.mat-mdc-form-field.mat-accent[_ngcontent-%COMP%]{--mat-form-field-focus-select-arrow-color:rgba(255, 64, 129, .87)}.mat-mdc-form-field.mat-warn[_ngcontent-%COMP%]{--mdc-filled-text-field-caret-color:#f44336;--mdc-filled-text-field-focus-active-indicator-color:#f44336;--mdc-filled-text-field-focus-label-text-color:rgba(244, 67, 54, .87)}.mat-mdc-form-field.mat-warn[_ngcontent-%COMP%]{--mdc-outlined-text-field-caret-color:#f44336;--mdc-outlined-text-field-focus-outline-color:#f44336;--mdc-outlined-text-field-focus-label-text-color:rgba(244, 67, 54, .87)}.mat-mdc-form-field.mat-warn[_ngcontent-%COMP%]{--mat-form-field-focus-select-arrow-color:rgba(244, 67, 54, .87)}html[_ngcontent-%COMP%]{--mat-form-field-container-height:56px;--mat-form-field-filled-label-display:block;--mat-form-field-container-vertical-padding:16px;--mat-form-field-filled-with-label-container-padding-top:24px;--mat-form-field-filled-with-label-container-padding-bottom:8px}html[_ngcontent-%COMP%]{--mdc-filled-text-field-label-text-font:Roboto, sans-serif;--mdc-filled-text-field-label-text-size:16px;--mdc-filled-text-field-label-text-tracking:.03125em;--mdc-filled-text-field-label-text-weight:400}html[_ngcontent-%COMP%]{--mdc-outlined-text-field-label-text-font:Roboto, sans-serif;--mdc-outlined-text-field-label-text-size:16px;--mdc-outlined-text-field-label-text-tracking:.03125em;--mdc-outlined-text-field-label-text-weight:400}html[_ngcontent-%COMP%]{--mat-form-field-container-text-font:Roboto, sans-serif;--mat-form-field-container-text-line-height:24px;--mat-form-field-container-text-size:16px;--mat-form-field-container-text-tracking:.03125em;--mat-form-field-container-text-weight:400;--mat-form-field-outlined-label-text-populated-size:16px;--mat-form-field-subscript-text-font:Roboto, sans-serif;--mat-form-field-subscript-text-line-height:20px;--mat-form-field-subscript-text-size:12px;--mat-form-field-subscript-text-tracking:.0333333333em;--mat-form-field-subscript-text-weight:400}html[_ngcontent-%COMP%]{--mat-select-container-elevation-shadow:0px 5px 5px -3px rgba(0, 0, 0, .2), 0px 8px 10px 1px rgba(0, 0, 0, .14), 0px 3px 14px 2px rgba(0, 0, 0, .12)}html[_ngcontent-%COMP%]{--mat-select-panel-background-color:white;--mat-select-enabled-trigger-text-color:rgba(0, 0, 0, .87);--mat-select-disabled-trigger-text-color:rgba(0, 0, 0, .38);--mat-select-placeholder-text-color:rgba(0, 0, 0, .6);--mat-select-enabled-arrow-color:rgba(0, 0, 0, .54);--mat-select-disabled-arrow-color:rgba(0, 0, 0, .38);--mat-select-focused-arrow-color:rgba(63, 81, 181, .87);--mat-select-invalid-arrow-color:rgba(244, 67, 54, .87)}html[_ngcontent-%COMP%]   .mat-mdc-form-field.mat-accent[_ngcontent-%COMP%]{--mat-select-panel-background-color:white;--mat-select-enabled-trigger-text-color:rgba(0, 0, 0, .87);--mat-select-disabled-trigger-text-color:rgba(0, 0, 0, .38);--mat-select-placeholder-text-color:rgba(0, 0, 0, .6);--mat-select-enabled-arrow-color:rgba(0, 0, 0, .54);--mat-select-disabled-arrow-color:rgba(0, 0, 0, .38);--mat-select-focused-arrow-color:rgba(255, 64, 129, .87);--mat-select-invalid-arrow-color:rgba(244, 67, 54, .87)}html[_ngcontent-%COMP%]   .mat-mdc-form-field.mat-warn[_ngcontent-%COMP%]{--mat-select-panel-background-color:white;--mat-select-enabled-trigger-text-color:rgba(0, 0, 0, .87);--mat-select-disabled-trigger-text-color:rgba(0, 0, 0, .38);--mat-select-placeholder-text-color:rgba(0, 0, 0, .6);--mat-select-enabled-arrow-color:rgba(0, 0, 0, .54);--mat-select-disabled-arrow-color:rgba(0, 0, 0, .38);--mat-select-focused-arrow-color:rgba(244, 67, 54, .87);--mat-select-invalid-arrow-color:rgba(244, 67, 54, .87)}html[_ngcontent-%COMP%]{--mat-select-arrow-transform:translateY(-8px)}html[_ngcontent-%COMP%]{--mat-select-trigger-text-font:Roboto, sans-serif;--mat-select-trigger-text-line-height:24px;--mat-select-trigger-text-size:16px;--mat-select-trigger-text-tracking:.03125em;--mat-select-trigger-text-weight:400}html[_ngcontent-%COMP%]{--mat-autocomplete-container-shape:4px;--mat-autocomplete-container-elevation-shadow:0px 5px 5px -3px rgba(0, 0, 0, .2), 0px 8px 10px 1px rgba(0, 0, 0, .14), 0px 3px 14px 2px rgba(0, 0, 0, .12)}html[_ngcontent-%COMP%]{--mat-autocomplete-background-color:white}html[_ngcontent-%COMP%]{--mdc-dialog-container-shape:4px}html[_ngcontent-%COMP%]{--mat-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, .2), 0px 24px 38px 3px rgba(0, 0, 0, .14), 0px 9px 46px 8px rgba(0, 0, 0, .12);--mat-dialog-container-max-width:80vw;--mat-dialog-container-small-max-width:80vw;--mat-dialog-container-min-width:0;--mat-dialog-actions-alignment:start;--mat-dialog-actions-padding:8px;--mat-dialog-content-padding:20px 24px;--mat-dialog-with-actions-content-padding:20px 24px;--mat-dialog-headline-padding:0 24px 9px}html[_ngcontent-%COMP%]{--mdc-dialog-container-color:white;--mdc-dialog-subhead-color:rgba(0, 0, 0, .87);--mdc-dialog-supporting-text-color:rgba(0, 0, 0, .6)}html[_ngcontent-%COMP%]{--mdc-dialog-subhead-font:Roboto, sans-serif;--mdc-dialog-subhead-line-height:32px;--mdc-dialog-subhead-size:20px;--mdc-dialog-subhead-weight:500;--mdc-dialog-subhead-tracking:.0125em;--mdc-dialog-supporting-text-font:Roboto, sans-serif;--mdc-dialog-supporting-text-line-height:24px;--mdc-dialog-supporting-text-size:16px;--mdc-dialog-supporting-text-weight:400;--mdc-dialog-supporting-text-tracking:.03125em}.mat-mdc-standard-chip[_ngcontent-%COMP%]{--mdc-chip-container-shape-radius:16px;--mdc-chip-with-avatar-avatar-shape-radius:14px;--mdc-chip-with-avatar-avatar-size:28px;--mdc-chip-with-icon-icon-size:18px;--mdc-chip-outline-width:0;--mdc-chip-outline-color:transparent;--mdc-chip-disabled-outline-color:transparent;--mdc-chip-focus-outline-color:transparent;--mdc-chip-hover-state-layer-opacity:.04;--mdc-chip-with-avatar-disabled-avatar-opacity:1;--mdc-chip-flat-selected-outline-width:0;--mdc-chip-selected-hover-state-layer-opacity:.04;--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity:1;--mdc-chip-with-icon-disabled-icon-opacity:1}.mat-mdc-standard-chip[_ngcontent-%COMP%]{--mat-chip-disabled-container-opacity:.4;--mat-chip-trailing-action-opacity:.54;--mat-chip-trailing-action-focus-opacity:1;--mat-chip-trailing-action-state-layer-color:transparent;--mat-chip-selected-trailing-action-state-layer-color:transparent;--mat-chip-trailing-action-hover-state-layer-opacity:0;--mat-chip-trailing-action-focus-state-layer-opacity:0}.mat-mdc-standard-chip[_ngcontent-%COMP%]{--mdc-chip-disabled-label-text-color:#212121;--mdc-chip-elevated-container-color:rgb(224.4, 224.4, 224.4);--mdc-chip-elevated-selected-container-color:rgb(224.4, 224.4, 224.4);--mdc-chip-elevated-disabled-container-color:rgb(224.4, 224.4, 224.4);--mdc-chip-flat-disabled-selected-container-color:rgb(224.4, 224.4, 224.4);--mdc-chip-focus-state-layer-color:black;--mdc-chip-hover-state-layer-color:black;--mdc-chip-selected-hover-state-layer-color:black;--mdc-chip-focus-state-layer-opacity:.12;--mdc-chip-selected-focus-state-layer-color:black;--mdc-chip-selected-focus-state-layer-opacity:.12;--mdc-chip-label-text-color:#212121;--mdc-chip-selected-label-text-color:#212121;--mdc-chip-with-icon-icon-color:#212121;--mdc-chip-with-icon-disabled-icon-color:#212121;--mdc-chip-with-icon-selected-icon-color:#212121;--mdc-chip-with-trailing-icon-disabled-trailing-icon-color:#212121;--mdc-chip-with-trailing-icon-trailing-icon-color:#212121}.mat-mdc-standard-chip[_ngcontent-%COMP%]{--mat-chip-selected-disabled-trailing-icon-color:#212121;--mat-chip-selected-trailing-icon-color:#212121}.mat-mdc-standard-chip.mat-mdc-chip-selected.mat-primary[_ngcontent-%COMP%], .mat-mdc-standard-chip.mat-mdc-chip-highlighted.mat-primary[_ngcontent-%COMP%]{--mdc-chip-disabled-label-text-color:white;--mdc-chip-elevated-container-color:#3f51b5;--mdc-chip-elevated-selected-container-color:#3f51b5;--mdc-chip-elevated-disabled-container-color:#3f51b5;--mdc-chip-flat-disabled-selected-container-color:#3f51b5;--mdc-chip-focus-state-layer-color:black;--mdc-chip-hover-state-layer-color:black;--mdc-chip-selected-hover-state-layer-color:black;--mdc-chip-focus-state-layer-opacity:.12;--mdc-chip-selected-focus-state-layer-color:black;--mdc-chip-selected-focus-state-layer-opacity:.12;--mdc-chip-label-text-color:white;--mdc-chip-selected-label-text-color:white;--mdc-chip-with-icon-icon-color:white;--mdc-chip-with-icon-disabled-icon-color:white;--mdc-chip-with-icon-selected-icon-color:white;--mdc-chip-with-trailing-icon-disabled-trailing-icon-color:white;--mdc-chip-with-trailing-icon-trailing-icon-color:white}.mat-mdc-standard-chip.mat-mdc-chip-selected.mat-primary[_ngcontent-%COMP%], .mat-mdc-standard-chip.mat-mdc-chip-highlighted.mat-primary[_ngcontent-%COMP%]{--mat-chip-selected-disabled-trailing-icon-color:white;--mat-chip-selected-trailing-icon-color:white}.mat-mdc-standard-chip.mat-mdc-chip-selected.mat-accent[_ngcontent-%COMP%], .mat-mdc-standard-chip.mat-mdc-chip-highlighted.mat-accent[_ngcontent-%COMP%]{--mdc-chip-disabled-label-text-color:white;--mdc-chip-elevated-container-color:#ff4081;--mdc-chip-elevated-selected-container-color:#ff4081;--mdc-chip-elevated-disabled-container-color:#ff4081;--mdc-chip-flat-disabled-selected-container-color:#ff4081;--mdc-chip-focus-state-layer-color:black;--mdc-chip-hover-state-layer-color:black;--mdc-chip-selected-hover-state-layer-color:black;--mdc-chip-focus-state-layer-opacity:.12;--mdc-chip-selected-focus-state-layer-color:black;--mdc-chip-selected-focus-state-layer-opacity:.12;--mdc-chip-label-text-color:white;--mdc-chip-selected-label-text-color:white;--mdc-chip-with-icon-icon-color:white;--mdc-chip-with-icon-disabled-icon-color:white;--mdc-chip-with-icon-selected-icon-color:white;--mdc-chip-with-trailing-icon-disabled-trailing-icon-color:white;--mdc-chip-with-trailing-icon-trailing-icon-color:white}.mat-mdc-standard-chip.mat-mdc-chip-selected.mat-accent[_ngcontent-%COMP%], .mat-mdc-standard-chip.mat-mdc-chip-highlighted.mat-accent[_ngcontent-%COMP%]{--mat-chip-selected-disabled-trailing-icon-color:white;--mat-chip-selected-trailing-icon-color:white}.mat-mdc-standard-chip.mat-mdc-chip-selected.mat-warn[_ngcontent-%COMP%], .mat-mdc-standard-chip.mat-mdc-chip-highlighted.mat-warn[_ngcontent-%COMP%]{--mdc-chip-disabled-label-text-color:white;--mdc-chip-elevated-container-color:#f44336;--mdc-chip-elevated-selected-container-color:#f44336;--mdc-chip-elevated-disabled-container-color:#f44336;--mdc-chip-flat-disabled-selected-container-color:#f44336;--mdc-chip-focus-state-layer-color:black;--mdc-chip-hover-state-layer-color:black;--mdc-chip-selected-hover-state-layer-color:black;--mdc-chip-focus-state-layer-opacity:.12;--mdc-chip-selected-focus-state-layer-color:black;--mdc-chip-selected-focus-state-layer-opacity:.12;--mdc-chip-label-text-color:white;--mdc-chip-selected-label-text-color:white;--mdc-chip-with-icon-icon-color:white;--mdc-chip-with-icon-disabled-icon-color:white;--mdc-chip-with-icon-selected-icon-color:white;--mdc-chip-with-trailing-icon-disabled-trailing-icon-color:white;--mdc-chip-with-trailing-icon-trailing-icon-color:white}.mat-mdc-standard-chip.mat-mdc-chip-selected.mat-warn[_ngcontent-%COMP%], .mat-mdc-standard-chip.mat-mdc-chip-highlighted.mat-warn[_ngcontent-%COMP%]{--mat-chip-selected-disabled-trailing-icon-color:white;--mat-chip-selected-trailing-icon-color:white}.mat-mdc-chip.mat-mdc-standard-chip[_ngcontent-%COMP%]{--mdc-chip-container-height:32px}.mat-mdc-standard-chip[_ngcontent-%COMP%]{--mdc-chip-label-text-font:Roboto, sans-serif;--mdc-chip-label-text-line-height:20px;--mdc-chip-label-text-size:14px;--mdc-chip-label-text-tracking:.0178571429em;--mdc-chip-label-text-weight:400}html[_ngcontent-%COMP%]{--mdc-switch-disabled-selected-icon-opacity:.38;--mdc-switch-disabled-track-opacity:.12;--mdc-switch-disabled-unselected-icon-opacity:.38;--mdc-switch-handle-height:20px;--mdc-switch-handle-shape:10px;--mdc-switch-handle-width:20px;--mdc-switch-selected-icon-size:18px;--mdc-switch-track-height:14px;--mdc-switch-track-shape:7px;--mdc-switch-track-width:36px;--mdc-switch-unselected-icon-size:18px;--mdc-switch-selected-focus-state-layer-opacity:.12;--mdc-switch-selected-hover-state-layer-opacity:.04;--mdc-switch-selected-pressed-state-layer-opacity:.1;--mdc-switch-unselected-focus-state-layer-opacity:.12;--mdc-switch-unselected-hover-state-layer-opacity:.04;--mdc-switch-unselected-pressed-state-layer-opacity:.1}html[_ngcontent-%COMP%]   .mat-mdc-slide-toggle[_ngcontent-%COMP%]{--mat-switch-disabled-selected-handle-opacity:.38;--mat-switch-disabled-unselected-handle-opacity:.38;--mat-switch-unselected-handle-size:20px;--mat-switch-selected-handle-size:20px;--mat-switch-pressed-handle-size:20px;--mat-switch-with-icon-handle-size:20px;--mat-switch-selected-handle-horizontal-margin:0;--mat-switch-selected-with-icon-handle-horizontal-margin:0;--mat-switch-selected-pressed-handle-horizontal-margin:0;--mat-switch-unselected-handle-horizontal-margin:0;--mat-switch-unselected-with-icon-handle-horizontal-margin:0;--mat-switch-unselected-pressed-handle-horizontal-margin:0;--mat-switch-visible-track-opacity:1;--mat-switch-hidden-track-opacity:1;--mat-switch-visible-track-transition:transform 75ms 0ms cubic-bezier(0, 0, .2, 1);--mat-switch-hidden-track-transition:transform 75ms 0ms cubic-bezier(.4, 0, .6, 1);--mat-switch-track-outline-width:1px;--mat-switch-track-outline-color:transparent;--mat-switch-selected-track-outline-width:1px;--mat-switch-selected-track-outline-color:transparent;--mat-switch-disabled-unselected-track-outline-width:1px;--mat-switch-disabled-unselected-track-outline-color:transparent}html[_ngcontent-%COMP%]{--mdc-switch-selected-focus-state-layer-color:#3949ab;--mdc-switch-selected-handle-color:#3949ab;--mdc-switch-selected-hover-state-layer-color:#3949ab;--mdc-switch-selected-pressed-state-layer-color:#3949ab;--mdc-switch-selected-focus-handle-color:#1a237e;--mdc-switch-selected-hover-handle-color:#1a237e;--mdc-switch-selected-pressed-handle-color:#1a237e;--mdc-switch-selected-focus-track-color:#7986cb;--mdc-switch-selected-hover-track-color:#7986cb;--mdc-switch-selected-pressed-track-color:#7986cb;--mdc-switch-selected-track-color:#7986cb;--mdc-switch-disabled-selected-handle-color:#424242;--mdc-switch-disabled-selected-icon-color:#fff;--mdc-switch-disabled-selected-track-color:#424242;--mdc-switch-disabled-unselected-handle-color:#424242;--mdc-switch-disabled-unselected-icon-color:#fff;--mdc-switch-disabled-unselected-track-color:#424242;--mdc-switch-handle-surface-color:#fff;--mdc-switch-selected-icon-color:#fff;--mdc-switch-unselected-focus-handle-color:#212121;--mdc-switch-unselected-focus-state-layer-color:#424242;--mdc-switch-unselected-focus-track-color:#e0e0e0;--mdc-switch-unselected-handle-color:#616161;--mdc-switch-unselected-hover-handle-color:#212121;--mdc-switch-unselected-hover-state-layer-color:#424242;--mdc-switch-unselected-hover-track-color:#e0e0e0;--mdc-switch-unselected-icon-color:#fff;--mdc-switch-unselected-pressed-handle-color:#212121;--mdc-switch-unselected-pressed-state-layer-color:#424242;--mdc-switch-unselected-pressed-track-color:#e0e0e0;--mdc-switch-unselected-track-color:#e0e0e0;--mdc-switch-handle-elevation-shadow:0px 2px 1px -1px rgba(0, 0, 0, .2), 0px 1px 1px 0px rgba(0, 0, 0, .14), 0px 1px 3px 0px rgba(0, 0, 0, .12);--mdc-switch-disabled-handle-elevation-shadow:0px 0px 0px 0px rgba(0, 0, 0, .2), 0px 0px 0px 0px rgba(0, 0, 0, .14), 0px 0px 0px 0px rgba(0, 0, 0, .12)}html[_ngcontent-%COMP%]{--mdc-switch-disabled-label-text-color: rgba(0, 0, 0, .38)}html[_ngcontent-%COMP%]   .mat-mdc-slide-toggle[_ngcontent-%COMP%]{--mat-switch-label-text-color:rgba(0, 0, 0, .87)}html[_ngcontent-%COMP%]   .mat-mdc-slide-toggle.mat-accent[_ngcontent-%COMP%]{--mdc-switch-selected-focus-state-layer-color:#d81b60;--mdc-switch-selected-handle-color:#d81b60;--mdc-switch-selected-hover-state-layer-color:#d81b60;--mdc-switch-selected-pressed-state-layer-color:#d81b60;--mdc-switch-selected-focus-handle-color:#880e4f;--mdc-switch-selected-hover-handle-color:#880e4f;--mdc-switch-selected-pressed-handle-color:#880e4f;--mdc-switch-selected-focus-track-color:#f06292;--mdc-switch-selected-hover-track-color:#f06292;--mdc-switch-selected-pressed-track-color:#f06292;--mdc-switch-selected-track-color:#f06292}html[_ngcontent-%COMP%]   .mat-mdc-slide-toggle.mat-warn[_ngcontent-%COMP%]{--mdc-switch-selected-focus-state-layer-color:#e53935;--mdc-switch-selected-handle-color:#e53935;--mdc-switch-selected-hover-state-layer-color:#e53935;--mdc-switch-selected-pressed-state-layer-color:#e53935;--mdc-switch-selected-focus-handle-color:#b71c1c;--mdc-switch-selected-hover-handle-color:#b71c1c;--mdc-switch-selected-pressed-handle-color:#b71c1c;--mdc-switch-selected-focus-track-color:#e57373;--mdc-switch-selected-hover-track-color:#e57373;--mdc-switch-selected-pressed-track-color:#e57373;--mdc-switch-selected-track-color:#e57373}html[_ngcontent-%COMP%]{--mdc-switch-state-layer-size:40px}html[_ngcontent-%COMP%]   .mat-mdc-slide-toggle[_ngcontent-%COMP%]{--mat-switch-label-text-font:Roboto, sans-serif;--mat-switch-label-text-line-height:20px;--mat-switch-label-text-size:14px;--mat-switch-label-text-tracking:.0178571429em;--mat-switch-label-text-weight:400}html[_ngcontent-%COMP%]{--mdc-radio-disabled-selected-icon-opacity:.38;--mdc-radio-disabled-unselected-icon-opacity:.38;--mdc-radio-state-layer-size:40px}.mat-mdc-radio-button.mat-primary[_ngcontent-%COMP%]{--mdc-radio-disabled-selected-icon-color:black;--mdc-radio-disabled-unselected-icon-color:black;--mdc-radio-unselected-hover-icon-color:#212121;--mdc-radio-unselected-focus-icon-color:#212121;--mdc-radio-unselected-icon-color:rgba(0, 0, 0, .54);--mdc-radio-unselected-pressed-icon-color:rgba(0, 0, 0, .54);--mdc-radio-selected-focus-icon-color:#3f51b5;--mdc-radio-selected-hover-icon-color:#3f51b5;--mdc-radio-selected-icon-color:#3f51b5;--mdc-radio-selected-pressed-icon-color:#3f51b5}.mat-mdc-radio-button.mat-primary[_ngcontent-%COMP%]{--mat-radio-ripple-color:black;--mat-radio-checked-ripple-color:#3f51b5;--mat-radio-disabled-label-color:rgba(0, 0, 0, .38);--mat-radio-label-text-color:rgba(0, 0, 0, .87)}.mat-mdc-radio-button.mat-accent[_ngcontent-%COMP%]{--mdc-radio-disabled-selected-icon-color:black;--mdc-radio-disabled-unselected-icon-color:black;--mdc-radio-unselected-hover-icon-color:#212121;--mdc-radio-unselected-focus-icon-color:#212121;--mdc-radio-unselected-icon-color:rgba(0, 0, 0, .54);--mdc-radio-unselected-pressed-icon-color:rgba(0, 0, 0, .54);--mdc-radio-selected-focus-icon-color:#ff4081;--mdc-radio-selected-hover-icon-color:#ff4081;--mdc-radio-selected-icon-color:#ff4081;--mdc-radio-selected-pressed-icon-color:#ff4081}.mat-mdc-radio-button.mat-accent[_ngcontent-%COMP%]{--mat-radio-ripple-color:black;--mat-radio-checked-ripple-color:#ff4081;--mat-radio-disabled-label-color:rgba(0, 0, 0, .38);--mat-radio-label-text-color:rgba(0, 0, 0, .87)}.mat-mdc-radio-button.mat-warn[_ngcontent-%COMP%]{--mdc-radio-disabled-selected-icon-color:black;--mdc-radio-disabled-unselected-icon-color:black;--mdc-radio-unselected-hover-icon-color:#212121;--mdc-radio-unselected-focus-icon-color:#212121;--mdc-radio-unselected-icon-color:rgba(0, 0, 0, .54);--mdc-radio-unselected-pressed-icon-color:rgba(0, 0, 0, .54);--mdc-radio-selected-focus-icon-color:#f44336;--mdc-radio-selected-hover-icon-color:#f44336;--mdc-radio-selected-icon-color:#f44336;--mdc-radio-selected-pressed-icon-color:#f44336}.mat-mdc-radio-button.mat-warn[_ngcontent-%COMP%]{--mat-radio-ripple-color:black;--mat-radio-checked-ripple-color:#f44336;--mat-radio-disabled-label-color:rgba(0, 0, 0, .38);--mat-radio-label-text-color:rgba(0, 0, 0, .87)}html[_ngcontent-%COMP%]{--mdc-radio-state-layer-size:40px}html[_ngcontent-%COMP%]{--mat-radio-touch-target-display:block}html[_ngcontent-%COMP%]{--mat-radio-label-text-font:Roboto, sans-serif;--mat-radio-label-text-line-height:20px;--mat-radio-label-text-size:14px;--mat-radio-label-text-tracking:.0178571429em;--mat-radio-label-text-weight:400}html[_ngcontent-%COMP%]{--mdc-slider-active-track-height:6px;--mdc-slider-active-track-shape:9999px;--mdc-slider-handle-height:20px;--mdc-slider-handle-shape:50%;--mdc-slider-handle-width:20px;--mdc-slider-inactive-track-height:4px;--mdc-slider-inactive-track-shape:9999px;--mdc-slider-with-overlap-handle-outline-width:1px;--mdc-slider-with-tick-marks-active-container-opacity:.6;--mdc-slider-with-tick-marks-container-shape:50%;--mdc-slider-with-tick-marks-container-size:2px;--mdc-slider-with-tick-marks-inactive-container-opacity:.6;--mdc-slider-handle-elevation:0px 2px 1px -1px rgba(0, 0, 0, .2), 0px 1px 1px 0px rgba(0, 0, 0, .14), 0px 1px 3px 0px rgba(0, 0, 0, .12)}html[_ngcontent-%COMP%]{--mat-slider-value-indicator-width:auto;--mat-slider-value-indicator-height:32px;--mat-slider-value-indicator-caret-display:block;--mat-slider-value-indicator-border-radius:4px;--mat-slider-value-indicator-padding:0 12px;--mat-slider-value-indicator-text-transform:none;--mat-slider-value-indicator-container-transform:translateX(-50%)}html[_ngcontent-%COMP%]{--mdc-slider-handle-color:#3f51b5;--mdc-slider-focus-handle-color:#3f51b5;--mdc-slider-hover-handle-color:#3f51b5;--mdc-slider-active-track-color:#3f51b5;--mdc-slider-inactive-track-color:#3f51b5;--mdc-slider-with-tick-marks-inactive-container-color:#3f51b5;--mdc-slider-with-tick-marks-active-container-color:white;--mdc-slider-disabled-active-track-color:#000;--mdc-slider-disabled-handle-color:#000;--mdc-slider-disabled-inactive-track-color:#000;--mdc-slider-label-container-color:#000;--mdc-slider-label-label-text-color:#fff;--mdc-slider-with-overlap-handle-outline-color:#fff;--mdc-slider-with-tick-marks-disabled-container-color:#000}html[_ngcontent-%COMP%]{--mat-slider-ripple-color:#3f51b5;--mat-slider-hover-state-layer-color:rgba(63, 81, 181, .05);--mat-slider-focus-state-layer-color:rgba(63, 81, 181, .2);--mat-slider-value-indicator-opacity:.6}html[_ngcontent-%COMP%]   .mat-accent[_ngcontent-%COMP%]{--mdc-slider-handle-color:#ff4081;--mdc-slider-focus-handle-color:#ff4081;--mdc-slider-hover-handle-color:#ff4081;--mdc-slider-active-track-color:#ff4081;--mdc-slider-inactive-track-color:#ff4081;--mdc-slider-with-tick-marks-inactive-container-color:#ff4081;--mdc-slider-with-tick-marks-active-container-color:white}html[_ngcontent-%COMP%]   .mat-accent[_ngcontent-%COMP%]{--mat-slider-ripple-color:#ff4081;--mat-slider-hover-state-layer-color:rgba(255, 64, 129, .05);--mat-slider-focus-state-layer-color:rgba(255, 64, 129, .2)}html[_ngcontent-%COMP%]   .mat-warn[_ngcontent-%COMP%]{--mdc-slider-handle-color:#f44336;--mdc-slider-focus-handle-color:#f44336;--mdc-slider-hover-handle-color:#f44336;--mdc-slider-active-track-color:#f44336;--mdc-slider-inactive-track-color:#f44336;--mdc-slider-with-tick-marks-inactive-container-color:#f44336;--mdc-slider-with-tick-marks-active-container-color:white}html[_ngcontent-%COMP%]   .mat-warn[_ngcontent-%COMP%]{--mat-slider-ripple-color:#f44336;--mat-slider-hover-state-layer-color:rgba(244, 67, 54, .05);--mat-slider-focus-state-layer-color:rgba(244, 67, 54, .2)}html[_ngcontent-%COMP%]{--mdc-slider-label-label-text-font:Roboto, sans-serif;--mdc-slider-label-label-text-size:14px;--mdc-slider-label-label-text-line-height:22px;--mdc-slider-label-label-text-tracking:.0071428571em;--mdc-slider-label-label-text-weight:500}html[_ngcontent-%COMP%]{--mat-menu-container-shape:4px;--mat-menu-divider-bottom-spacing:0;--mat-menu-divider-top-spacing:0;--mat-menu-item-spacing:16px;--mat-menu-item-icon-size:24px;--mat-menu-item-leading-spacing:16px;--mat-menu-item-trailing-spacing:16px;--mat-menu-item-with-icon-leading-spacing:16px;--mat-menu-item-with-icon-trailing-spacing:16px;--mat-menu-container-elevation-shadow:0px 5px 5px -3px rgba(0, 0, 0, .2), 0px 8px 10px 1px rgba(0, 0, 0, .14), 0px 3px 14px 2px rgba(0, 0, 0, .12)}html[_ngcontent-%COMP%]{--mat-menu-item-label-text-color:rgba(0, 0, 0, .87);--mat-menu-item-icon-color:rgba(0, 0, 0, .87);--mat-menu-item-hover-state-layer-color:rgba(0, 0, 0, .04);--mat-menu-item-focus-state-layer-color:rgba(0, 0, 0, .04);--mat-menu-container-color:white;--mat-menu-divider-color:rgba(0, 0, 0, .12)}html[_ngcontent-%COMP%]{--mat-menu-item-label-text-font:Roboto, sans-serif;--mat-menu-item-label-text-size:16px;--mat-menu-item-label-text-tracking:.03125em;--mat-menu-item-label-text-line-height:24px;--mat-menu-item-label-text-weight:400}html[_ngcontent-%COMP%]{--mdc-list-list-item-container-shape:0;--mdc-list-list-item-leading-avatar-shape:50%;--mdc-list-list-item-container-color:transparent;--mdc-list-list-item-selected-container-color:transparent;--mdc-list-list-item-leading-avatar-color:transparent;--mdc-list-list-item-leading-icon-size:24px;--mdc-list-list-item-leading-avatar-size:40px;--mdc-list-list-item-trailing-icon-size:24px;--mdc-list-list-item-disabled-state-layer-color:transparent;--mdc-list-list-item-disabled-state-layer-opacity:0;--mdc-list-list-item-disabled-label-text-opacity:.38;--mdc-list-list-item-disabled-leading-icon-opacity:.38;--mdc-list-list-item-disabled-trailing-icon-opacity:.38}html[_ngcontent-%COMP%]{--mat-list-active-indicator-color:transparent;--mat-list-active-indicator-shape:4px}html[_ngcontent-%COMP%]{--mdc-list-list-item-label-text-color:rgba(0, 0, 0, .87);--mdc-list-list-item-supporting-text-color:rgba(0, 0, 0, .54);--mdc-list-list-item-leading-icon-color:rgba(0, 0, 0, .38);--mdc-list-list-item-trailing-supporting-text-color:rgba(0, 0, 0, .38);--mdc-list-list-item-trailing-icon-color:rgba(0, 0, 0, .38);--mdc-list-list-item-selected-trailing-icon-color:rgba(0, 0, 0, .38);--mdc-list-list-item-disabled-label-text-color:black;--mdc-list-list-item-disabled-leading-icon-color:black;--mdc-list-list-item-disabled-trailing-icon-color:black;--mdc-list-list-item-hover-label-text-color:rgba(0, 0, 0, .87);--mdc-list-list-item-hover-leading-icon-color:rgba(0, 0, 0, .38);--mdc-list-list-item-hover-trailing-icon-color:rgba(0, 0, 0, .38);--mdc-list-list-item-focus-label-text-color:rgba(0, 0, 0, .87);--mdc-list-list-item-hover-state-layer-color:black;--mdc-list-list-item-hover-state-layer-opacity:.04;--mdc-list-list-item-focus-state-layer-color:black;--mdc-list-list-item-focus-state-layer-opacity:.12}.mdc-list-item__start[_ngcontent-%COMP%], .mdc-list-item__end[_ngcontent-%COMP%]{--mdc-radio-disabled-selected-icon-color:black;--mdc-radio-disabled-unselected-icon-color:black;--mdc-radio-unselected-hover-icon-color:#212121;--mdc-radio-unselected-focus-icon-color:#212121;--mdc-radio-unselected-icon-color:rgba(0, 0, 0, .54);--mdc-radio-unselected-pressed-icon-color:rgba(0, 0, 0, .54);--mdc-radio-selected-focus-icon-color:#3f51b5;--mdc-radio-selected-hover-icon-color:#3f51b5;--mdc-radio-selected-icon-color:#3f51b5;--mdc-radio-selected-pressed-icon-color:#3f51b5}.mat-accent[_ngcontent-%COMP%]   .mdc-list-item__start[_ngcontent-%COMP%], .mat-accent[_ngcontent-%COMP%]   .mdc-list-item__end[_ngcontent-%COMP%]{--mdc-radio-disabled-selected-icon-color:black;--mdc-radio-disabled-unselected-icon-color:black;--mdc-radio-unselected-hover-icon-color:#212121;--mdc-radio-unselected-focus-icon-color:#212121;--mdc-radio-unselected-icon-color:rgba(0, 0, 0, .54);--mdc-radio-unselected-pressed-icon-color:rgba(0, 0, 0, .54);--mdc-radio-selected-focus-icon-color:#ff4081;--mdc-radio-selected-hover-icon-color:#ff4081;--mdc-radio-selected-icon-color:#ff4081;--mdc-radio-selected-pressed-icon-color:#ff4081}.mat-warn[_ngcontent-%COMP%]   .mdc-list-item__start[_ngcontent-%COMP%], .mat-warn[_ngcontent-%COMP%]   .mdc-list-item__end[_ngcontent-%COMP%]{--mdc-radio-disabled-selected-icon-color:black;--mdc-radio-disabled-unselected-icon-color:black;--mdc-radio-unselected-hover-icon-color:#212121;--mdc-radio-unselected-focus-icon-color:#212121;--mdc-radio-unselected-icon-color:rgba(0, 0, 0, .54);--mdc-radio-unselected-pressed-icon-color:rgba(0, 0, 0, .54);--mdc-radio-selected-focus-icon-color:#f44336;--mdc-radio-selected-hover-icon-color:#f44336;--mdc-radio-selected-icon-color:#f44336;--mdc-radio-selected-pressed-icon-color:#f44336}.mat-mdc-list-option[_ngcontent-%COMP%]{--mdc-checkbox-disabled-selected-icon-color:rgba(0, 0, 0, .38);--mdc-checkbox-disabled-unselected-icon-color:rgba(0, 0, 0, .38);--mdc-checkbox-selected-checkmark-color:white;--mdc-checkbox-selected-focus-icon-color:#3f51b5;--mdc-checkbox-selected-hover-icon-color:#3f51b5;--mdc-checkbox-selected-icon-color:#3f51b5;--mdc-checkbox-selected-pressed-icon-color:#3f51b5;--mdc-checkbox-unselected-focus-icon-color:#212121;--mdc-checkbox-unselected-hover-icon-color:#212121;--mdc-checkbox-unselected-icon-color:rgba(0, 0, 0, .54);--mdc-checkbox-selected-focus-state-layer-color:#3f51b5;--mdc-checkbox-selected-hover-state-layer-color:#3f51b5;--mdc-checkbox-selected-pressed-state-layer-color:#3f51b5;--mdc-checkbox-unselected-focus-state-layer-color:black;--mdc-checkbox-unselected-hover-state-layer-color:black;--mdc-checkbox-unselected-pressed-state-layer-color:black}.mat-mdc-list-option.mat-accent[_ngcontent-%COMP%]{--mdc-checkbox-disabled-selected-icon-color:rgba(0, 0, 0, .38);--mdc-checkbox-disabled-unselected-icon-color:rgba(0, 0, 0, .38);--mdc-checkbox-selected-checkmark-color:white;--mdc-checkbox-selected-focus-icon-color:#ff4081;--mdc-checkbox-selected-hover-icon-color:#ff4081;--mdc-checkbox-selected-icon-color:#ff4081;--mdc-checkbox-selected-pressed-icon-color:#ff4081;--mdc-checkbox-unselected-focus-icon-color:#212121;--mdc-checkbox-unselected-hover-icon-color:#212121;--mdc-checkbox-unselected-icon-color:rgba(0, 0, 0, .54);--mdc-checkbox-selected-focus-state-layer-color:#ff4081;--mdc-checkbox-selected-hover-state-layer-color:#ff4081;--mdc-checkbox-selected-pressed-state-layer-color:#ff4081;--mdc-checkbox-unselected-focus-state-layer-color:black;--mdc-checkbox-unselected-hover-state-layer-color:black;--mdc-checkbox-unselected-pressed-state-layer-color:black}.mat-mdc-list-option.mat-warn[_ngcontent-%COMP%]{--mdc-checkbox-disabled-selected-icon-color:rgba(0, 0, 0, .38);--mdc-checkbox-disabled-unselected-icon-color:rgba(0, 0, 0, .38);--mdc-checkbox-selected-checkmark-color:white;--mdc-checkbox-selected-focus-icon-color:#f44336;--mdc-checkbox-selected-hover-icon-color:#f44336;--mdc-checkbox-selected-icon-color:#f44336;--mdc-checkbox-selected-pressed-icon-color:#f44336;--mdc-checkbox-unselected-focus-icon-color:#212121;--mdc-checkbox-unselected-hover-icon-color:#212121;--mdc-checkbox-unselected-icon-color:rgba(0, 0, 0, .54);--mdc-checkbox-selected-focus-state-layer-color:#f44336;--mdc-checkbox-selected-hover-state-layer-color:#f44336;--mdc-checkbox-selected-pressed-state-layer-color:#f44336;--mdc-checkbox-unselected-focus-state-layer-color:black;--mdc-checkbox-unselected-hover-state-layer-color:black;--mdc-checkbox-unselected-pressed-state-layer-color:black}.mat-mdc-list-base.mat-mdc-list-base[_ngcontent-%COMP%]   .mdc-list-item--selected[_ngcontent-%COMP%]   .mdc-list-item__primary-text[_ngcontent-%COMP%], .mat-mdc-list-base.mat-mdc-list-base[_ngcontent-%COMP%]   .mdc-list-item--selected[_ngcontent-%COMP%]   .mdc-list-item__start[_ngcontent-%COMP%], .mat-mdc-list-base.mat-mdc-list-base[_ngcontent-%COMP%]   .mdc-list-item--activated[_ngcontent-%COMP%]   .mdc-list-item__primary-text[_ngcontent-%COMP%], .mat-mdc-list-base.mat-mdc-list-base[_ngcontent-%COMP%]   .mdc-list-item--activated[_ngcontent-%COMP%]   .mdc-list-item__start[_ngcontent-%COMP%]{color:#3f51b5}.mat-mdc-list-base[_ngcontent-%COMP%]   .mdc-list-item--disabled[_ngcontent-%COMP%]   .mdc-list-item__start[_ngcontent-%COMP%], .mat-mdc-list-base[_ngcontent-%COMP%]   .mdc-list-item--disabled[_ngcontent-%COMP%]   .mdc-list-item__content[_ngcontent-%COMP%], .mat-mdc-list-base[_ngcontent-%COMP%]   .mdc-list-item--disabled[_ngcontent-%COMP%]   .mdc-list-item__end[_ngcontent-%COMP%]{opacity:1}html[_ngcontent-%COMP%]{--mdc-list-list-item-one-line-container-height:48px;--mdc-list-list-item-two-line-container-height:64px;--mdc-list-list-item-three-line-container-height:88px}html[_ngcontent-%COMP%]{--mat-list-list-item-leading-icon-start-space:16px;--mat-list-list-item-leading-icon-end-space:32px}.mdc-list-item__start[_ngcontent-%COMP%], .mdc-list-item__end[_ngcontent-%COMP%]{--mdc-radio-state-layer-size:40px}.mat-mdc-list-item.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line[_ngcontent-%COMP%], .mat-mdc-list-item.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line[_ngcontent-%COMP%], .mat-mdc-list-item.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line[_ngcontent-%COMP%]{height:56px}.mat-mdc-list-item.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines[_ngcontent-%COMP%], .mat-mdc-list-item.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines[_ngcontent-%COMP%], .mat-mdc-list-item.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines[_ngcontent-%COMP%]{height:72px}html[_ngcontent-%COMP%]{--mdc-list-list-item-label-text-font:Roboto, sans-serif;--mdc-list-list-item-label-text-line-height:24px;--mdc-list-list-item-label-text-size:16px;--mdc-list-list-item-label-text-tracking:.03125em;--mdc-list-list-item-label-text-weight:400;--mdc-list-list-item-supporting-text-font:Roboto, sans-serif;--mdc-list-list-item-supporting-text-line-height:20px;--mdc-list-list-item-supporting-text-size:14px;--mdc-list-list-item-supporting-text-tracking:.0178571429em;--mdc-list-list-item-supporting-text-weight:400;--mdc-list-list-item-trailing-supporting-text-font:Roboto, sans-serif;--mdc-list-list-item-trailing-supporting-text-line-height:20px;--mdc-list-list-item-trailing-supporting-text-size:12px;--mdc-list-list-item-trailing-supporting-text-tracking:.0333333333em;--mdc-list-list-item-trailing-supporting-text-weight:400}.mdc-list-group__subheader[_ngcontent-%COMP%]{font:400 16px/28px Roboto,sans-serif;letter-spacing:.009375em}html[_ngcontent-%COMP%]{--mat-paginator-container-text-color:rgba(0, 0, 0, .87);--mat-paginator-container-background-color:white;--mat-paginator-enabled-icon-color:rgba(0, 0, 0, .54);--mat-paginator-disabled-icon-color:rgba(0, 0, 0, .12)}html[_ngcontent-%COMP%]{--mat-paginator-container-size:56px;--mat-paginator-form-field-container-height:40px;--mat-paginator-form-field-container-vertical-padding:8px;--mat-paginator-touch-target-display:block}html[_ngcontent-%COMP%]{--mat-paginator-container-text-font:Roboto, sans-serif;--mat-paginator-container-text-line-height:20px;--mat-paginator-container-text-size:12px;--mat-paginator-container-text-tracking:.0333333333em;--mat-paginator-container-text-weight:400;--mat-paginator-select-trigger-text-size:12px}html[_ngcontent-%COMP%]{--mdc-secondary-navigation-tab-container-height:48px}html[_ngcontent-%COMP%]{--mdc-tab-indicator-active-indicator-height:2px;--mdc-tab-indicator-active-indicator-shape:0}html[_ngcontent-%COMP%]{--mat-tab-header-divider-color:transparent;--mat-tab-header-divider-height:0}.mat-mdc-tab-group[_ngcontent-%COMP%], .mat-mdc-tab-nav-bar[_ngcontent-%COMP%]{--mdc-tab-indicator-active-indicator-color:#3f51b5}.mat-mdc-tab-group[_ngcontent-%COMP%], .mat-mdc-tab-nav-bar[_ngcontent-%COMP%]{--mat-tab-header-disabled-ripple-color:rgba(0, 0, 0, .38);--mat-tab-header-pagination-icon-color:black;--mat-tab-header-inactive-label-text-color:rgba(0, 0, 0, .6);--mat-tab-header-active-label-text-color:#3f51b5;--mat-tab-header-active-ripple-color:#3f51b5;--mat-tab-header-inactive-ripple-color:#3f51b5;--mat-tab-header-inactive-focus-label-text-color:rgba(0, 0, 0, .6);--mat-tab-header-inactive-hover-label-text-color:rgba(0, 0, 0, .6);--mat-tab-header-active-focus-label-text-color:#3f51b5;--mat-tab-header-active-hover-label-text-color:#3f51b5;--mat-tab-header-active-focus-indicator-color:#3f51b5;--mat-tab-header-active-hover-indicator-color:#3f51b5}.mat-mdc-tab-group.mat-accent[_ngcontent-%COMP%], .mat-mdc-tab-nav-bar.mat-accent[_ngcontent-%COMP%]{--mdc-tab-indicator-active-indicator-color:#ff4081}.mat-mdc-tab-group.mat-accent[_ngcontent-%COMP%], .mat-mdc-tab-nav-bar.mat-accent[_ngcontent-%COMP%]{--mat-tab-header-disabled-ripple-color:rgba(0, 0, 0, .38);--mat-tab-header-pagination-icon-color:black;--mat-tab-header-inactive-label-text-color:rgba(0, 0, 0, .6);--mat-tab-header-active-label-text-color:#ff4081;--mat-tab-header-active-ripple-color:#ff4081;--mat-tab-header-inactive-ripple-color:#ff4081;--mat-tab-header-inactive-focus-label-text-color:rgba(0, 0, 0, .6);--mat-tab-header-inactive-hover-label-text-color:rgba(0, 0, 0, .6);--mat-tab-header-active-focus-label-text-color:#ff4081;--mat-tab-header-active-hover-label-text-color:#ff4081;--mat-tab-header-active-focus-indicator-color:#ff4081;--mat-tab-header-active-hover-indicator-color:#ff4081}.mat-mdc-tab-group.mat-warn[_ngcontent-%COMP%], .mat-mdc-tab-nav-bar.mat-warn[_ngcontent-%COMP%]{--mdc-tab-indicator-active-indicator-color:#f44336}.mat-mdc-tab-group.mat-warn[_ngcontent-%COMP%], .mat-mdc-tab-nav-bar.mat-warn[_ngcontent-%COMP%]{--mat-tab-header-disabled-ripple-color:rgba(0, 0, 0, .38);--mat-tab-header-pagination-icon-color:black;--mat-tab-header-inactive-label-text-color:rgba(0, 0, 0, .6);--mat-tab-header-active-label-text-color:#f44336;--mat-tab-header-active-ripple-color:#f44336;--mat-tab-header-inactive-ripple-color:#f44336;--mat-tab-header-inactive-focus-label-text-color:rgba(0, 0, 0, .6);--mat-tab-header-inactive-hover-label-text-color:rgba(0, 0, 0, .6);--mat-tab-header-active-focus-label-text-color:#f44336;--mat-tab-header-active-hover-label-text-color:#f44336;--mat-tab-header-active-focus-indicator-color:#f44336;--mat-tab-header-active-hover-indicator-color:#f44336}.mat-mdc-tab-group.mat-background-primary[_ngcontent-%COMP%], .mat-mdc-tab-nav-bar.mat-background-primary[_ngcontent-%COMP%]{--mat-tab-header-with-background-background-color:#3f51b5;--mat-tab-header-with-background-foreground-color:white}.mat-mdc-tab-group.mat-background-accent[_ngcontent-%COMP%], .mat-mdc-tab-nav-bar.mat-background-accent[_ngcontent-%COMP%]{--mat-tab-header-with-background-background-color:#ff4081;--mat-tab-header-with-background-foreground-color:white}.mat-mdc-tab-group.mat-background-warn[_ngcontent-%COMP%], .mat-mdc-tab-nav-bar.mat-background-warn[_ngcontent-%COMP%]{--mat-tab-header-with-background-background-color:#f44336;--mat-tab-header-with-background-foreground-color:white}.mat-mdc-tab-header[_ngcontent-%COMP%]{--mdc-secondary-navigation-tab-container-height:48px}.mat-mdc-tab-header[_ngcontent-%COMP%]{--mat-tab-header-label-text-font:Roboto, sans-serif;--mat-tab-header-label-text-size:14px;--mat-tab-header-label-text-tracking:.0892857143em;--mat-tab-header-label-text-line-height:36px;--mat-tab-header-label-text-weight:500}html[_ngcontent-%COMP%]{--mdc-checkbox-disabled-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-state-layer-opacity:.16;--mdc-checkbox-selected-hover-state-layer-opacity:.04;--mdc-checkbox-selected-pressed-state-layer-opacity:.16;--mdc-checkbox-unselected-focus-state-layer-opacity:.16;--mdc-checkbox-unselected-hover-state-layer-opacity:.04;--mdc-checkbox-unselected-pressed-state-layer-opacity:.16}html[_ngcontent-%COMP%]{--mdc-checkbox-disabled-selected-icon-color:rgba(0, 0, 0, .38);--mdc-checkbox-disabled-unselected-icon-color:rgba(0, 0, 0, .38);--mdc-checkbox-selected-checkmark-color:white;--mdc-checkbox-selected-focus-icon-color:#ff4081;--mdc-checkbox-selected-hover-icon-color:#ff4081;--mdc-checkbox-selected-icon-color:#ff4081;--mdc-checkbox-selected-pressed-icon-color:#ff4081;--mdc-checkbox-unselected-focus-icon-color:#212121;--mdc-checkbox-unselected-hover-icon-color:#212121;--mdc-checkbox-unselected-icon-color:rgba(0, 0, 0, .54);--mdc-checkbox-selected-focus-state-layer-color:#ff4081;--mdc-checkbox-selected-hover-state-layer-color:#ff4081;--mdc-checkbox-selected-pressed-state-layer-color:#ff4081;--mdc-checkbox-unselected-focus-state-layer-color:black;--mdc-checkbox-unselected-hover-state-layer-color:black;--mdc-checkbox-unselected-pressed-state-layer-color:black}html[_ngcontent-%COMP%]{--mat-checkbox-disabled-label-color:rgba(0, 0, 0, .38);--mat-checkbox-label-text-color:rgba(0, 0, 0, .87)}.mat-mdc-checkbox.mat-primary[_ngcontent-%COMP%]{--mdc-checkbox-disabled-selected-icon-color:rgba(0, 0, 0, .38);--mdc-checkbox-disabled-unselected-icon-color:rgba(0, 0, 0, .38);--mdc-checkbox-selected-checkmark-color:white;--mdc-checkbox-selected-focus-icon-color:#3f51b5;--mdc-checkbox-selected-hover-icon-color:#3f51b5;--mdc-checkbox-selected-icon-color:#3f51b5;--mdc-checkbox-selected-pressed-icon-color:#3f51b5;--mdc-checkbox-unselected-focus-icon-color:#212121;--mdc-checkbox-unselected-hover-icon-color:#212121;--mdc-checkbox-unselected-icon-color:rgba(0, 0, 0, .54);--mdc-checkbox-selected-focus-state-layer-color:#3f51b5;--mdc-checkbox-selected-hover-state-layer-color:#3f51b5;--mdc-checkbox-selected-pressed-state-layer-color:#3f51b5;--mdc-checkbox-unselected-focus-state-layer-color:black;--mdc-checkbox-unselected-hover-state-layer-color:black;--mdc-checkbox-unselected-pressed-state-layer-color:black}.mat-mdc-checkbox.mat-warn[_ngcontent-%COMP%]{--mdc-checkbox-disabled-selected-icon-color:rgba(0, 0, 0, .38);--mdc-checkbox-disabled-unselected-icon-color:rgba(0, 0, 0, .38);--mdc-checkbox-selected-checkmark-color:white;--mdc-checkbox-selected-focus-icon-color:#f44336;--mdc-checkbox-selected-hover-icon-color:#f44336;--mdc-checkbox-selected-icon-color:#f44336;--mdc-checkbox-selected-pressed-icon-color:#f44336;--mdc-checkbox-unselected-focus-icon-color:#212121;--mdc-checkbox-unselected-hover-icon-color:#212121;--mdc-checkbox-unselected-icon-color:rgba(0, 0, 0, .54);--mdc-checkbox-selected-focus-state-layer-color:#f44336;--mdc-checkbox-selected-hover-state-layer-color:#f44336;--mdc-checkbox-selected-pressed-state-layer-color:#f44336;--mdc-checkbox-unselected-focus-state-layer-color:black;--mdc-checkbox-unselected-hover-state-layer-color:black;--mdc-checkbox-unselected-pressed-state-layer-color:black}html[_ngcontent-%COMP%]{--mdc-checkbox-state-layer-size:40px}html[_ngcontent-%COMP%]{--mat-checkbox-touch-target-display:block}html[_ngcontent-%COMP%]{--mat-checkbox-label-text-font:Roboto, sans-serif;--mat-checkbox-label-text-line-height:20px;--mat-checkbox-label-text-size:14px;--mat-checkbox-label-text-tracking:.0178571429em;--mat-checkbox-label-text-weight:400}html[_ngcontent-%COMP%]{--mdc-text-button-container-shape:4px;--mdc-text-button-keep-touch-target:false}html[_ngcontent-%COMP%]{--mdc-filled-button-container-shape:4px;--mdc-filled-button-keep-touch-target:false}html[_ngcontent-%COMP%]{--mdc-protected-button-container-shape:4px;--mdc-protected-button-container-elevation-shadow:0px 3px 1px -2px rgba(0, 0, 0, .2), 0px 2px 2px 0px rgba(0, 0, 0, .14), 0px 1px 5px 0px rgba(0, 0, 0, .12);--mdc-protected-button-disabled-container-elevation-shadow:0px 0px 0px 0px rgba(0, 0, 0, .2), 0px 0px 0px 0px rgba(0, 0, 0, .14), 0px 0px 0px 0px rgba(0, 0, 0, .12);--mdc-protected-button-focus-container-elevation-shadow:0px 2px 4px -1px rgba(0, 0, 0, .2), 0px 4px 5px 0px rgba(0, 0, 0, .14), 0px 1px 10px 0px rgba(0, 0, 0, .12);--mdc-protected-button-hover-container-elevation-shadow:0px 2px 4px -1px rgba(0, 0, 0, .2), 0px 4px 5px 0px rgba(0, 0, 0, .14), 0px 1px 10px 0px rgba(0, 0, 0, .12);--mdc-protected-button-pressed-container-elevation-shadow:0px 5px 5px -3px rgba(0, 0, 0, .2), 0px 8px 10px 1px rgba(0, 0, 0, .14), 0px 3px 14px 2px rgba(0, 0, 0, .12)}html[_ngcontent-%COMP%]{--mdc-outlined-button-keep-touch-target:false;--mdc-outlined-button-outline-width:1px;--mdc-outlined-button-container-shape:4px}html[_ngcontent-%COMP%]{--mat-text-button-horizontal-padding:8px;--mat-text-button-with-icon-horizontal-padding:8px;--mat-text-button-icon-spacing:8px;--mat-text-button-icon-offset:0}html[_ngcontent-%COMP%]{--mat-filled-button-horizontal-padding:16px;--mat-filled-button-icon-spacing:8px;--mat-filled-button-icon-offset:-4px}html[_ngcontent-%COMP%]{--mat-protected-button-horizontal-padding:16px;--mat-protected-button-icon-spacing:8px;--mat-protected-button-icon-offset:-4px}html[_ngcontent-%COMP%]{--mat-outlined-button-horizontal-padding:15px;--mat-outlined-button-icon-spacing:8px;--mat-outlined-button-icon-offset:-4px}html[_ngcontent-%COMP%]{--mdc-text-button-label-text-color:black;--mdc-text-button-disabled-label-text-color:rgba(0, 0, 0, .38)}html[_ngcontent-%COMP%]{--mat-text-button-state-layer-color:black;--mat-text-button-disabled-state-layer-color:black;--mat-text-button-ripple-color:rgba(0, 0, 0, .1);--mat-text-button-hover-state-layer-opacity:.04;--mat-text-button-focus-state-layer-opacity:.12;--mat-text-button-pressed-state-layer-opacity:.12}html[_ngcontent-%COMP%]{--mdc-filled-button-container-color:white;--mdc-filled-button-label-text-color:black;--mdc-filled-button-disabled-container-color:rgba(0, 0, 0, .12);--mdc-filled-button-disabled-label-text-color:rgba(0, 0, 0, .38)}html[_ngcontent-%COMP%]{--mat-filled-button-state-layer-color:black;--mat-filled-button-disabled-state-layer-color:black;--mat-filled-button-ripple-color:rgba(0, 0, 0, .1);--mat-filled-button-hover-state-layer-opacity:.04;--mat-filled-button-focus-state-layer-opacity:.12;--mat-filled-button-pressed-state-layer-opacity:.12}html[_ngcontent-%COMP%]{--mdc-protected-button-container-color:white;--mdc-protected-button-label-text-color:black;--mdc-protected-button-disabled-container-color:rgba(0, 0, 0, .12);--mdc-protected-button-disabled-label-text-color:rgba(0, 0, 0, .38)}html[_ngcontent-%COMP%]{--mat-protected-button-state-layer-color:black;--mat-protected-button-disabled-state-layer-color:black;--mat-protected-button-ripple-color:rgba(0, 0, 0, .1);--mat-protected-button-hover-state-layer-opacity:.04;--mat-protected-button-focus-state-layer-opacity:.12;--mat-protected-button-pressed-state-layer-opacity:.12}html[_ngcontent-%COMP%]{--mdc-outlined-button-disabled-outline-color:rgba(0, 0, 0, .12);--mdc-outlined-button-disabled-label-text-color:rgba(0, 0, 0, .38);--mdc-outlined-button-label-text-color:black;--mdc-outlined-button-outline-color:rgba(0, 0, 0, .12)}html[_ngcontent-%COMP%]{--mat-outlined-button-state-layer-color:black;--mat-outlined-button-disabled-state-layer-color:black;--mat-outlined-button-ripple-color:rgba(0, 0, 0, .1);--mat-outlined-button-hover-state-layer-opacity:.04;--mat-outlined-button-focus-state-layer-opacity:.12;--mat-outlined-button-pressed-state-layer-opacity:.12}.mat-mdc-button.mat-primary[_ngcontent-%COMP%]{--mdc-text-button-label-text-color:#3f51b5}.mat-mdc-button.mat-primary[_ngcontent-%COMP%]{--mat-text-button-state-layer-color:#3f51b5;--mat-text-button-ripple-color:rgba(63, 81, 181, .1)}.mat-mdc-button.mat-accent[_ngcontent-%COMP%]{--mdc-text-button-label-text-color:#ff4081}.mat-mdc-button.mat-accent[_ngcontent-%COMP%]{--mat-text-button-state-layer-color:#ff4081;--mat-text-button-ripple-color:rgba(255, 64, 129, .1)}.mat-mdc-button.mat-warn[_ngcontent-%COMP%]{--mdc-text-button-label-text-color:#f44336}.mat-mdc-button.mat-warn[_ngcontent-%COMP%]{--mat-text-button-state-layer-color:#f44336;--mat-text-button-ripple-color:rgba(244, 67, 54, .1)}.mat-mdc-unelevated-button.mat-primary[_ngcontent-%COMP%]{--mdc-filled-button-container-color:#3f51b5;--mdc-filled-button-label-text-color:white}.mat-mdc-unelevated-button.mat-primary[_ngcontent-%COMP%]{--mat-filled-button-state-layer-color:white;--mat-filled-button-ripple-color:rgba(255, 255, 255, .1)}.mat-mdc-unelevated-button.mat-accent[_ngcontent-%COMP%]{--mdc-filled-button-container-color:#ff4081;--mdc-filled-button-label-text-color:white}.mat-mdc-unelevated-button.mat-accent[_ngcontent-%COMP%]{--mat-filled-button-state-layer-color:white;--mat-filled-button-ripple-color:rgba(255, 255, 255, .1)}.mat-mdc-unelevated-button.mat-warn[_ngcontent-%COMP%]{--mdc-filled-button-container-color:#f44336;--mdc-filled-button-label-text-color:white}.mat-mdc-unelevated-button.mat-warn[_ngcontent-%COMP%]{--mat-filled-button-state-layer-color:white;--mat-filled-button-ripple-color:rgba(255, 255, 255, .1)}.mat-mdc-raised-button.mat-primary[_ngcontent-%COMP%]{--mdc-protected-button-container-color:#3f51b5;--mdc-protected-button-label-text-color:white}.mat-mdc-raised-button.mat-primary[_ngcontent-%COMP%]{--mat-protected-button-state-layer-color:white;--mat-protected-button-ripple-color:rgba(255, 255, 255, .1)}.mat-mdc-raised-button.mat-accent[_ngcontent-%COMP%]{--mdc-protected-button-container-color:#ff4081;--mdc-protected-button-label-text-color:white}.mat-mdc-raised-button.mat-accent[_ngcontent-%COMP%]{--mat-protected-button-state-layer-color:white;--mat-protected-button-ripple-color:rgba(255, 255, 255, .1)}.mat-mdc-raised-button.mat-warn[_ngcontent-%COMP%]{--mdc-protected-button-container-color:#f44336;--mdc-protected-button-label-text-color:white}.mat-mdc-raised-button.mat-warn[_ngcontent-%COMP%]{--mat-protected-button-state-layer-color:white;--mat-protected-button-ripple-color:rgba(255, 255, 255, .1)}.mat-mdc-outlined-button.mat-primary[_ngcontent-%COMP%]{--mdc-outlined-button-label-text-color:#3f51b5;--mdc-outlined-button-outline-color:rgba(0, 0, 0, .12)}.mat-mdc-outlined-button.mat-primary[_ngcontent-%COMP%]{--mat-outlined-button-state-layer-color:#3f51b5;--mat-outlined-button-ripple-color:rgba(63, 81, 181, .1)}.mat-mdc-outlined-button.mat-accent[_ngcontent-%COMP%]{--mdc-outlined-button-label-text-color:#ff4081;--mdc-outlined-button-outline-color:rgba(0, 0, 0, .12)}.mat-mdc-outlined-button.mat-accent[_ngcontent-%COMP%]{--mat-outlined-button-state-layer-color:#ff4081;--mat-outlined-button-ripple-color:rgba(255, 64, 129, .1)}.mat-mdc-outlined-button.mat-warn[_ngcontent-%COMP%]{--mdc-outlined-button-label-text-color:#f44336;--mdc-outlined-button-outline-color:rgba(0, 0, 0, .12)}.mat-mdc-outlined-button.mat-warn[_ngcontent-%COMP%]{--mat-outlined-button-state-layer-color:#f44336;--mat-outlined-button-ripple-color:rgba(244, 67, 54, .1)}html[_ngcontent-%COMP%]{--mdc-text-button-container-height:36px}html[_ngcontent-%COMP%]{--mdc-filled-button-container-height:36px}html[_ngcontent-%COMP%]{--mdc-protected-button-container-height:36px}html[_ngcontent-%COMP%]{--mdc-outlined-button-container-height:36px}html[_ngcontent-%COMP%]{--mat-text-button-touch-target-display:block}html[_ngcontent-%COMP%]{--mat-filled-button-touch-target-display:block}html[_ngcontent-%COMP%]{--mat-protected-button-touch-target-display:block}html[_ngcontent-%COMP%]{--mat-outlined-button-touch-target-display:block}html[_ngcontent-%COMP%]{--mdc-text-button-label-text-font:Roboto, sans-serif;--mdc-text-button-label-text-size:14px;--mdc-text-button-label-text-tracking:.0892857143em;--mdc-text-button-label-text-weight:500;--mdc-text-button-label-text-transform:none}html[_ngcontent-%COMP%]{--mdc-filled-button-label-text-font:Roboto, sans-serif;--mdc-filled-button-label-text-size:14px;--mdc-filled-button-label-text-tracking:.0892857143em;--mdc-filled-button-label-text-weight:500;--mdc-filled-button-label-text-transform:none}html[_ngcontent-%COMP%]{--mdc-protected-button-label-text-font:Roboto, sans-serif;--mdc-protected-button-label-text-size:14px;--mdc-protected-button-label-text-tracking:.0892857143em;--mdc-protected-button-label-text-weight:500;--mdc-protected-button-label-text-transform:none}html[_ngcontent-%COMP%]{--mdc-outlined-button-label-text-font:Roboto, sans-serif;--mdc-outlined-button-label-text-size:14px;--mdc-outlined-button-label-text-tracking:.0892857143em;--mdc-outlined-button-label-text-weight:500;--mdc-outlined-button-label-text-transform:none}html[_ngcontent-%COMP%]{--mdc-icon-button-icon-size:24px}html[_ngcontent-%COMP%]{--mdc-icon-button-icon-color:inherit;--mdc-icon-button-disabled-icon-color:rgba(0, 0, 0, .38)}html[_ngcontent-%COMP%]{--mat-icon-button-state-layer-color:black;--mat-icon-button-disabled-state-layer-color:black;--mat-icon-button-ripple-color:rgba(0, 0, 0, .1);--mat-icon-button-hover-state-layer-opacity:.04;--mat-icon-button-focus-state-layer-opacity:.12;--mat-icon-button-pressed-state-layer-opacity:.12}html[_ngcontent-%COMP%]   .mat-mdc-icon-button.mat-primary[_ngcontent-%COMP%]{--mdc-icon-button-icon-color:#3f51b5}html[_ngcontent-%COMP%]   .mat-mdc-icon-button.mat-primary[_ngcontent-%COMP%]{--mat-icon-button-state-layer-color:#3f51b5;--mat-icon-button-ripple-color:rgba(63, 81, 181, .1)}html[_ngcontent-%COMP%]   .mat-mdc-icon-button.mat-accent[_ngcontent-%COMP%]{--mdc-icon-button-icon-color:#ff4081}html[_ngcontent-%COMP%]   .mat-mdc-icon-button.mat-accent[_ngcontent-%COMP%]{--mat-icon-button-state-layer-color:#ff4081;--mat-icon-button-ripple-color:rgba(255, 64, 129, .1)}html[_ngcontent-%COMP%]   .mat-mdc-icon-button.mat-warn[_ngcontent-%COMP%]{--mdc-icon-button-icon-color:#f44336}html[_ngcontent-%COMP%]   .mat-mdc-icon-button.mat-warn[_ngcontent-%COMP%]{--mat-icon-button-state-layer-color:#f44336;--mat-icon-button-ripple-color:rgba(244, 67, 54, .1)}html[_ngcontent-%COMP%]{--mat-icon-button-touch-target-display:block}.mat-mdc-icon-button.mat-mdc-button-base[_ngcontent-%COMP%]{--mdc-icon-button-state-layer-size: 48px;width:var(--mdc-icon-button-state-layer-size);height:var(--mdc-icon-button-state-layer-size);padding:12px}html[_ngcontent-%COMP%]{--mdc-fab-container-shape:50%;--mdc-fab-container-elevation-shadow:0px 3px 5px -1px rgba(0, 0, 0, .2), 0px 6px 10px 0px rgba(0, 0, 0, .14), 0px 1px 18px 0px rgba(0, 0, 0, .12);--mdc-fab-focus-container-elevation-shadow:0px 5px 5px -3px rgba(0, 0, 0, .2), 0px 8px 10px 1px rgba(0, 0, 0, .14), 0px 3px 14px 2px rgba(0, 0, 0, .12);--mdc-fab-hover-container-elevation-shadow:0px 5px 5px -3px rgba(0, 0, 0, .2), 0px 8px 10px 1px rgba(0, 0, 0, .14), 0px 3px 14px 2px rgba(0, 0, 0, .12);--mdc-fab-pressed-container-elevation-shadow:0px 7px 8px -4px rgba(0, 0, 0, .2), 0px 12px 17px 2px rgba(0, 0, 0, .14), 0px 5px 22px 4px rgba(0, 0, 0, .12)}html[_ngcontent-%COMP%]{--mdc-fab-small-container-shape:50%;--mdc-fab-small-container-elevation-shadow:0px 3px 5px -1px rgba(0, 0, 0, .2), 0px 6px 10px 0px rgba(0, 0, 0, .14), 0px 1px 18px 0px rgba(0, 0, 0, .12);--mdc-fab-small-focus-container-elevation-shadow:0px 5px 5px -3px rgba(0, 0, 0, .2), 0px 8px 10px 1px rgba(0, 0, 0, .14), 0px 3px 14px 2px rgba(0, 0, 0, .12);--mdc-fab-small-hover-container-elevation-shadow:0px 5px 5px -3px rgba(0, 0, 0, .2), 0px 8px 10px 1px rgba(0, 0, 0, .14), 0px 3px 14px 2px rgba(0, 0, 0, .12);--mdc-fab-small-pressed-container-elevation-shadow:0px 7px 8px -4px rgba(0, 0, 0, .2), 0px 12px 17px 2px rgba(0, 0, 0, .14), 0px 5px 22px 4px rgba(0, 0, 0, .12)}html[_ngcontent-%COMP%]{--mdc-extended-fab-container-height:48px;--mdc-extended-fab-container-shape:24px;--mdc-extended-fab-container-elevation-shadow:0px 3px 5px -1px rgba(0, 0, 0, .2), 0px 6px 10px 0px rgba(0, 0, 0, .14), 0px 1px 18px 0px rgba(0, 0, 0, .12);--mdc-extended-fab-focus-container-elevation-shadow:0px 5px 5px -3px rgba(0, 0, 0, .2), 0px 8px 10px 1px rgba(0, 0, 0, .14), 0px 3px 14px 2px rgba(0, 0, 0, .12);--mdc-extended-fab-hover-container-elevation-shadow:0px 5px 5px -3px rgba(0, 0, 0, .2), 0px 8px 10px 1px rgba(0, 0, 0, .14), 0px 3px 14px 2px rgba(0, 0, 0, .12);--mdc-extended-fab-pressed-container-elevation-shadow:0px 7px 8px -4px rgba(0, 0, 0, .2), 0px 12px 17px 2px rgba(0, 0, 0, .14), 0px 5px 22px 4px rgba(0, 0, 0, .12)}html[_ngcontent-%COMP%]{--mdc-fab-container-color:white}html[_ngcontent-%COMP%]{--mat-fab-foreground-color:black;--mat-fab-state-layer-color:black;--mat-fab-disabled-state-layer-color:black;--mat-fab-ripple-color:rgba(0, 0, 0, .1);--mat-fab-hover-state-layer-opacity:.04;--mat-fab-focus-state-layer-opacity:.12;--mat-fab-pressed-state-layer-opacity:.12;--mat-fab-disabled-state-container-color:rgba(0, 0, 0, .12);--mat-fab-disabled-state-foreground-color:rgba(0, 0, 0, .38)}html[_ngcontent-%COMP%]{--mdc-fab-small-container-color:white}html[_ngcontent-%COMP%]{--mat-fab-small-foreground-color:black;--mat-fab-small-state-layer-color:black;--mat-fab-small-disabled-state-layer-color:black;--mat-fab-small-ripple-color:rgba(0, 0, 0, .1);--mat-fab-small-hover-state-layer-opacity:.04;--mat-fab-small-focus-state-layer-opacity:.12;--mat-fab-small-pressed-state-layer-opacity:.12;--mat-fab-small-disabled-state-container-color:rgba(0, 0, 0, .12);--mat-fab-small-disabled-state-foreground-color:rgba(0, 0, 0, .38)}html[_ngcontent-%COMP%]   .mat-mdc-fab.mat-primary[_ngcontent-%COMP%]{--mdc-fab-container-color:#3f51b5}html[_ngcontent-%COMP%]   .mat-mdc-fab.mat-primary[_ngcontent-%COMP%]{--mat-fab-foreground-color:white;--mat-fab-state-layer-color:white;--mat-fab-ripple-color:rgba(255, 255, 255, .1)}html[_ngcontent-%COMP%]   .mat-mdc-fab.mat-accent[_ngcontent-%COMP%]{--mdc-fab-container-color:#ff4081}html[_ngcontent-%COMP%]   .mat-mdc-fab.mat-accent[_ngcontent-%COMP%]{--mat-fab-foreground-color:white;--mat-fab-state-layer-color:white;--mat-fab-ripple-color:rgba(255, 255, 255, .1)}html[_ngcontent-%COMP%]   .mat-mdc-fab.mat-warn[_ngcontent-%COMP%]{--mdc-fab-container-color:#f44336}html[_ngcontent-%COMP%]   .mat-mdc-fab.mat-warn[_ngcontent-%COMP%]{--mat-fab-foreground-color:white;--mat-fab-state-layer-color:white;--mat-fab-ripple-color:rgba(255, 255, 255, .1)}html[_ngcontent-%COMP%]   .mat-mdc-mini-fab.mat-primary[_ngcontent-%COMP%]{--mdc-fab-small-container-color:#3f51b5}html[_ngcontent-%COMP%]   .mat-mdc-mini-fab.mat-primary[_ngcontent-%COMP%]{--mat-fab-small-foreground-color:white;--mat-fab-small-state-layer-color:white;--mat-fab-small-ripple-color:rgba(255, 255, 255, .1)}html[_ngcontent-%COMP%]   .mat-mdc-mini-fab.mat-accent[_ngcontent-%COMP%]{--mdc-fab-small-container-color:#ff4081}html[_ngcontent-%COMP%]   .mat-mdc-mini-fab.mat-accent[_ngcontent-%COMP%]{--mat-fab-small-foreground-color:white;--mat-fab-small-state-layer-color:white;--mat-fab-small-ripple-color:rgba(255, 255, 255, .1)}html[_ngcontent-%COMP%]   .mat-mdc-mini-fab.mat-warn[_ngcontent-%COMP%]{--mdc-fab-small-container-color:#f44336}html[_ngcontent-%COMP%]   .mat-mdc-mini-fab.mat-warn[_ngcontent-%COMP%]{--mat-fab-small-foreground-color:white;--mat-fab-small-state-layer-color:white;--mat-fab-small-ripple-color:rgba(255, 255, 255, .1)}html[_ngcontent-%COMP%]{--mat-fab-touch-target-display:block}html[_ngcontent-%COMP%]{--mat-fab-small-touch-target-display:block}html[_ngcontent-%COMP%]{--mdc-extended-fab-label-text-font:Roboto, sans-serif;--mdc-extended-fab-label-text-size:14px;--mdc-extended-fab-label-text-tracking:.0892857143em;--mdc-extended-fab-label-text-weight:500}html[_ngcontent-%COMP%]{--mdc-snackbar-container-shape:4px}html[_ngcontent-%COMP%]{--mdc-snackbar-container-color:#333333;--mdc-snackbar-supporting-text-color:rgba(255, 255, 255, .87)}html[_ngcontent-%COMP%]{--mat-snack-bar-button-color:#ff4081}html[_ngcontent-%COMP%]{--mdc-snackbar-supporting-text-font:Roboto, sans-serif;--mdc-snackbar-supporting-text-line-height:20px;--mdc-snackbar-supporting-text-size:14px;--mdc-snackbar-supporting-text-weight:400}html[_ngcontent-%COMP%]{--mat-table-row-item-outline-width:1px}html[_ngcontent-%COMP%]{--mat-table-background-color:white;--mat-table-header-headline-color:rgba(0, 0, 0, .87);--mat-table-row-item-label-text-color:rgba(0, 0, 0, .87);--mat-table-row-item-outline-color:rgba(0, 0, 0, .12)}html[_ngcontent-%COMP%]{--mat-table-header-container-height:56px;--mat-table-footer-container-height:52px;--mat-table-row-item-container-height:52px}html[_ngcontent-%COMP%]{--mat-table-header-headline-font:Roboto, sans-serif;--mat-table-header-headline-line-height:22px;--mat-table-header-headline-size:14px;--mat-table-header-headline-weight:500;--mat-table-header-headline-tracking:.0071428571em;--mat-table-row-item-label-text-font:Roboto, sans-serif;--mat-table-row-item-label-text-line-height:20px;--mat-table-row-item-label-text-size:14px;--mat-table-row-item-label-text-weight:400;--mat-table-row-item-label-text-tracking:.0178571429em;--mat-table-footer-supporting-text-font:Roboto, sans-serif;--mat-table-footer-supporting-text-line-height:20px;--mat-table-footer-supporting-text-size:14px;--mat-table-footer-supporting-text-weight:400;--mat-table-footer-supporting-text-tracking:.0178571429em}html[_ngcontent-%COMP%]{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}html[_ngcontent-%COMP%]{--mdc-circular-progress-active-indicator-color:#3f51b5}html[_ngcontent-%COMP%]   .mat-accent[_ngcontent-%COMP%]{--mdc-circular-progress-active-indicator-color:#ff4081}html[_ngcontent-%COMP%]   .mat-warn[_ngcontent-%COMP%]{--mdc-circular-progress-active-indicator-color:#f44336}html[_ngcontent-%COMP%]{--mat-badge-container-shape:50%;--mat-badge-container-size:unset;--mat-badge-small-size-container-size:unset;--mat-badge-large-size-container-size:unset;--mat-badge-legacy-container-size:22px;--mat-badge-legacy-small-size-container-size:16px;--mat-badge-legacy-large-size-container-size:28px;--mat-badge-container-offset:-11px 0;--mat-badge-small-size-container-offset:-8px 0;--mat-badge-large-size-container-offset:-14px 0;--mat-badge-container-overlap-offset:-11px;--mat-badge-small-size-container-overlap-offset:-8px;--mat-badge-large-size-container-overlap-offset:-14px;--mat-badge-container-padding:0;--mat-badge-small-size-container-padding:0;--mat-badge-large-size-container-padding:0}html[_ngcontent-%COMP%]{--mat-badge-background-color:#3f51b5;--mat-badge-text-color:white;--mat-badge-disabled-state-background-color:#b9b9b9;--mat-badge-disabled-state-text-color:rgba(0, 0, 0, .38)}.mat-badge-accent[_ngcontent-%COMP%]{--mat-badge-background-color:#ff4081;--mat-badge-text-color:white}.mat-badge-warn[_ngcontent-%COMP%]{--mat-badge-background-color:#f44336;--mat-badge-text-color:white}html[_ngcontent-%COMP%]{--mat-badge-text-font:Roboto, sans-serif;--mat-badge-line-height:22px;--mat-badge-text-size:12px;--mat-badge-text-weight:600;--mat-badge-small-size-text-size:9px;--mat-badge-small-size-line-height:16px;--mat-badge-large-size-text-size:24px;--mat-badge-large-size-line-height:28px}html[_ngcontent-%COMP%]{--mat-bottom-sheet-container-shape:4px}html[_ngcontent-%COMP%]{--mat-bottom-sheet-container-text-color:rgba(0, 0, 0, .87);--mat-bottom-sheet-container-background-color:white}html[_ngcontent-%COMP%]{--mat-bottom-sheet-container-text-font:Roboto, sans-serif;--mat-bottom-sheet-container-text-line-height:20px;--mat-bottom-sheet-container-text-size:14px;--mat-bottom-sheet-container-text-tracking:.0178571429em;--mat-bottom-sheet-container-text-weight:400}html[_ngcontent-%COMP%]{--mat-legacy-button-toggle-height:36px;--mat-legacy-button-toggle-shape:2px;--mat-legacy-button-toggle-focus-state-layer-opacity:1}html[_ngcontent-%COMP%]{--mat-standard-button-toggle-shape:4px;--mat-standard-button-toggle-hover-state-layer-opacity:.04;--mat-standard-button-toggle-focus-state-layer-opacity:.12}html[_ngcontent-%COMP%]{--mat-legacy-button-toggle-text-color:rgba(0, 0, 0, .38);--mat-legacy-button-toggle-state-layer-color:rgba(0, 0, 0, .12);--mat-legacy-button-toggle-selected-state-text-color:rgba(0, 0, 0, .54);--mat-legacy-button-toggle-selected-state-background-color:#e0e0e0;--mat-legacy-button-toggle-disabled-state-text-color:rgba(0, 0, 0, .26);--mat-legacy-button-toggle-disabled-state-background-color:#eeeeee;--mat-legacy-button-toggle-disabled-selected-state-background-color:#bdbdbd}html[_ngcontent-%COMP%]{--mat-standard-button-toggle-text-color:rgba(0, 0, 0, .87);--mat-standard-button-toggle-background-color:white;--mat-standard-button-toggle-state-layer-color:black;--mat-standard-button-toggle-selected-state-background-color:#e0e0e0;--mat-standard-button-toggle-selected-state-text-color:rgba(0, 0, 0, .87);--mat-standard-button-toggle-disabled-state-text-color:rgba(0, 0, 0, .26);--mat-standard-button-toggle-disabled-state-background-color:white;--mat-standard-button-toggle-disabled-selected-state-text-color:rgba(0, 0, 0, .87);--mat-standard-button-toggle-disabled-selected-state-background-color:#bdbdbd;--mat-standard-button-toggle-divider-color:rgb(224.4, 224.4, 224.4)}html[_ngcontent-%COMP%]{--mat-standard-button-toggle-height:48px}html[_ngcontent-%COMP%]{--mat-legacy-button-toggle-label-text-font:Roboto, sans-serif;--mat-legacy-button-toggle-label-text-line-height:24px;--mat-legacy-button-toggle-label-text-size:16px;--mat-legacy-button-toggle-label-text-tracking:.03125em;--mat-legacy-button-toggle-label-text-weight:400}html[_ngcontent-%COMP%]{--mat-standard-button-toggle-label-text-font:Roboto, sans-serif;--mat-standard-button-toggle-label-text-line-height:24px;--mat-standard-button-toggle-label-text-size:16px;--mat-standard-button-toggle-label-text-tracking:.03125em;--mat-standard-button-toggle-label-text-weight:400}html[_ngcontent-%COMP%]{--mat-datepicker-calendar-container-shape:4px;--mat-datepicker-calendar-container-touch-shape:4px;--mat-datepicker-calendar-container-elevation-shadow:0px 2px 4px -1px rgba(0, 0, 0, .2), 0px 4px 5px 0px rgba(0, 0, 0, .14), 0px 1px 10px 0px rgba(0, 0, 0, .12);--mat-datepicker-calendar-container-touch-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, .2), 0px 24px 38px 3px rgba(0, 0, 0, .14), 0px 9px 46px 8px rgba(0, 0, 0, .12)}html[_ngcontent-%COMP%]{--mat-datepicker-calendar-date-selected-state-text-color:white;--mat-datepicker-calendar-date-selected-state-background-color:#3f51b5;--mat-datepicker-calendar-date-selected-disabled-state-background-color:rgba(63, 81, 181, .4);--mat-datepicker-calendar-date-today-selected-state-outline-color:white;--mat-datepicker-calendar-date-focus-state-background-color:rgba(63, 81, 181, .3);--mat-datepicker-calendar-date-hover-state-background-color:rgba(63, 81, 181, .3);--mat-datepicker-toggle-active-state-icon-color:#3f51b5;--mat-datepicker-calendar-date-in-range-state-background-color:rgba(63, 81, 181, .2);--mat-datepicker-calendar-date-in-comparison-range-state-background-color:rgba(249, 171, 0, .2);--mat-datepicker-calendar-date-in-overlap-range-state-background-color:#a8dab5;--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color:rgb(69.5241935484, 163.4758064516, 93.9516129032);--mat-datepicker-toggle-icon-color:rgba(0, 0, 0, .54);--mat-datepicker-calendar-body-label-text-color:rgba(0, 0, 0, .54);--mat-datepicker-calendar-period-button-text-color:black;--mat-datepicker-calendar-period-button-icon-color:rgba(0, 0, 0, .54);--mat-datepicker-calendar-navigation-button-icon-color:rgba(0, 0, 0, .54);--mat-datepicker-calendar-header-divider-color:rgba(0, 0, 0, .12);--mat-datepicker-calendar-header-text-color:rgba(0, 0, 0, .54);--mat-datepicker-calendar-date-today-outline-color:rgba(0, 0, 0, .38);--mat-datepicker-calendar-date-today-disabled-state-outline-color:rgba(0, 0, 0, .18);--mat-datepicker-calendar-date-text-color:rgba(0, 0, 0, .87);--mat-datepicker-calendar-date-outline-color:transparent;--mat-datepicker-calendar-date-disabled-state-text-color:rgba(0, 0, 0, .38);--mat-datepicker-calendar-date-preview-state-outline-color:rgba(0, 0, 0, .24);--mat-datepicker-range-input-separator-color:rgba(0, 0, 0, .87);--mat-datepicker-range-input-disabled-state-separator-color:rgba(0, 0, 0, .38);--mat-datepicker-range-input-disabled-state-text-color:rgba(0, 0, 0, .38);--mat-datepicker-calendar-container-background-color:white;--mat-datepicker-calendar-container-text-color:rgba(0, 0, 0, .87)}.mat-datepicker-content.mat-accent[_ngcontent-%COMP%]{--mat-datepicker-calendar-date-selected-state-text-color:white;--mat-datepicker-calendar-date-selected-state-background-color:#ff4081;--mat-datepicker-calendar-date-selected-disabled-state-background-color:rgba(255, 64, 129, .4);--mat-datepicker-calendar-date-today-selected-state-outline-color:white;--mat-datepicker-calendar-date-focus-state-background-color:rgba(255, 64, 129, .3);--mat-datepicker-calendar-date-hover-state-background-color:rgba(255, 64, 129, .3);--mat-datepicker-calendar-date-in-range-state-background-color:rgba(255, 64, 129, .2);--mat-datepicker-calendar-date-in-comparison-range-state-background-color:rgba(249, 171, 0, .2);--mat-datepicker-calendar-date-in-overlap-range-state-background-color:#a8dab5;--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color:rgb(69.5241935484, 163.4758064516, 93.9516129032)}.mat-datepicker-content.mat-warn[_ngcontent-%COMP%]{--mat-datepicker-calendar-date-selected-state-text-color:white;--mat-datepicker-calendar-date-selected-state-background-color:#f44336;--mat-datepicker-calendar-date-selected-disabled-state-background-color:rgba(244, 67, 54, .4);--mat-datepicker-calendar-date-today-selected-state-outline-color:white;--mat-datepicker-calendar-date-focus-state-background-color:rgba(244, 67, 54, .3);--mat-datepicker-calendar-date-hover-state-background-color:rgba(244, 67, 54, .3);--mat-datepicker-calendar-date-in-range-state-background-color:rgba(244, 67, 54, .2);--mat-datepicker-calendar-date-in-comparison-range-state-background-color:rgba(249, 171, 0, .2);--mat-datepicker-calendar-date-in-overlap-range-state-background-color:#a8dab5;--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color:rgb(69.5241935484, 163.4758064516, 93.9516129032)}.mat-datepicker-toggle-active.mat-accent[_ngcontent-%COMP%]{--mat-datepicker-toggle-active-state-icon-color:#ff4081}.mat-datepicker-toggle-active.mat-warn[_ngcontent-%COMP%]{--mat-datepicker-toggle-active-state-icon-color:#f44336}.mat-calendar-controls[_ngcontent-%COMP%]{--mat-icon-button-touch-target-display:none}.mat-calendar-controls[_ngcontent-%COMP%]   .mat-mdc-icon-button.mat-mdc-button-base[_ngcontent-%COMP%]{--mdc-icon-button-state-layer-size: 40px;width:var(--mdc-icon-button-state-layer-size);height:var(--mdc-icon-button-state-layer-size);padding:8px}html[_ngcontent-%COMP%]{--mat-datepicker-calendar-text-font:Roboto, sans-serif;--mat-datepicker-calendar-text-size:13px;--mat-datepicker-calendar-body-label-text-size:14px;--mat-datepicker-calendar-body-label-text-weight:500;--mat-datepicker-calendar-period-button-text-size:14px;--mat-datepicker-calendar-period-button-text-weight:500;--mat-datepicker-calendar-header-text-size:11px;--mat-datepicker-calendar-header-text-weight:400}html[_ngcontent-%COMP%]{--mat-divider-width:1px}html[_ngcontent-%COMP%]{--mat-divider-color:rgba(0, 0, 0, .12)}html[_ngcontent-%COMP%]{--mat-expansion-container-shape:4px;--mat-expansion-legacy-header-indicator-display:inline-block;--mat-expansion-header-indicator-display:none}html[_ngcontent-%COMP%]{--mat-expansion-container-background-color:white;--mat-expansion-container-text-color:rgba(0, 0, 0, .87);--mat-expansion-actions-divider-color:rgba(0, 0, 0, .12);--mat-expansion-header-hover-state-layer-color:rgba(0, 0, 0, .04);--mat-expansion-header-focus-state-layer-color:rgba(0, 0, 0, .04);--mat-expansion-header-disabled-state-text-color:rgba(0, 0, 0, .26);--mat-expansion-header-text-color:rgba(0, 0, 0, .87);--mat-expansion-header-description-color:rgba(0, 0, 0, .54);--mat-expansion-header-indicator-color:rgba(0, 0, 0, .54)}html[_ngcontent-%COMP%]{--mat-expansion-header-collapsed-state-height:48px;--mat-expansion-header-expanded-state-height:64px}html[_ngcontent-%COMP%]{--mat-expansion-header-text-font:Roboto, sans-serif;--mat-expansion-header-text-size:14px;--mat-expansion-header-text-weight:500;--mat-expansion-header-text-line-height:inherit;--mat-expansion-header-text-tracking:inherit;--mat-expansion-container-text-font:Roboto, sans-serif;--mat-expansion-container-text-line-height:20px;--mat-expansion-container-text-size:14px;--mat-expansion-container-text-tracking:.0178571429em;--mat-expansion-container-text-weight:400}html[_ngcontent-%COMP%]{--mat-grid-list-tile-header-primary-text-size:14px;--mat-grid-list-tile-header-secondary-text-size:12px;--mat-grid-list-tile-footer-primary-text-size:14px;--mat-grid-list-tile-footer-secondary-text-size:12px}html[_ngcontent-%COMP%]{--mat-icon-color:inherit}.mat-icon.mat-primary[_ngcontent-%COMP%]{--mat-icon-color:#3f51b5}.mat-icon.mat-accent[_ngcontent-%COMP%]{--mat-icon-color:#ff4081}.mat-icon.mat-warn[_ngcontent-%COMP%]{--mat-icon-color:#f44336}html[_ngcontent-%COMP%]{--mat-sidenav-container-shape:0;--mat-sidenav-container-elevation-shadow:0px 8px 10px -5px rgba(0, 0, 0, .2), 0px 16px 24px 2px rgba(0, 0, 0, .14), 0px 6px 30px 5px rgba(0, 0, 0, .12);--mat-sidenav-container-width:auto}html[_ngcontent-%COMP%]{--mat-sidenav-container-divider-color:rgba(0, 0, 0, .12);--mat-sidenav-container-background-color:white;--mat-sidenav-container-text-color:rgba(0, 0, 0, .87);--mat-sidenav-content-background-color:#fafafa;--mat-sidenav-content-text-color:rgba(0, 0, 0, .87);--mat-sidenav-scrim-color:rgba(0, 0, 0, .6)}html[_ngcontent-%COMP%]{--mat-stepper-header-icon-foreground-color:white;--mat-stepper-header-selected-state-icon-background-color:#3f51b5;--mat-stepper-header-selected-state-icon-foreground-color:white;--mat-stepper-header-done-state-icon-background-color:#3f51b5;--mat-stepper-header-done-state-icon-foreground-color:white;--mat-stepper-header-edit-state-icon-background-color:#3f51b5;--mat-stepper-header-edit-state-icon-foreground-color:white;--mat-stepper-container-color:white;--mat-stepper-line-color:rgba(0, 0, 0, .12);--mat-stepper-header-hover-state-layer-color:rgba(0, 0, 0, .04);--mat-stepper-header-focus-state-layer-color:rgba(0, 0, 0, .04);--mat-stepper-header-label-text-color:rgba(0, 0, 0, .54);--mat-stepper-header-optional-label-text-color:rgba(0, 0, 0, .54);--mat-stepper-header-selected-state-label-text-color:rgba(0, 0, 0, .87);--mat-stepper-header-error-state-label-text-color:#f44336;--mat-stepper-header-icon-background-color:rgba(0, 0, 0, .54);--mat-stepper-header-error-state-icon-foreground-color:#f44336;--mat-stepper-header-error-state-icon-background-color:transparent}html[_ngcontent-%COMP%]   .mat-step-header.mat-accent[_ngcontent-%COMP%]{--mat-stepper-header-icon-foreground-color:white;--mat-stepper-header-selected-state-icon-background-color:#ff4081;--mat-stepper-header-selected-state-icon-foreground-color:white;--mat-stepper-header-done-state-icon-background-color:#ff4081;--mat-stepper-header-done-state-icon-foreground-color:white;--mat-stepper-header-edit-state-icon-background-color:#ff4081;--mat-stepper-header-edit-state-icon-foreground-color:white}html[_ngcontent-%COMP%]   .mat-step-header.mat-warn[_ngcontent-%COMP%]{--mat-stepper-header-icon-foreground-color:white;--mat-stepper-header-selected-state-icon-background-color:#f44336;--mat-stepper-header-selected-state-icon-foreground-color:white;--mat-stepper-header-done-state-icon-background-color:#f44336;--mat-stepper-header-done-state-icon-foreground-color:white;--mat-stepper-header-edit-state-icon-background-color:#f44336;--mat-stepper-header-edit-state-icon-foreground-color:white}html[_ngcontent-%COMP%]{--mat-stepper-header-height:72px}html[_ngcontent-%COMP%]{--mat-stepper-container-text-font:Roboto, sans-serif;--mat-stepper-header-label-text-font:Roboto, sans-serif;--mat-stepper-header-label-text-size:14px;--mat-stepper-header-label-text-weight:400;--mat-stepper-header-error-state-label-text-size:16px;--mat-stepper-header-selected-state-label-text-size:16px;--mat-stepper-header-selected-state-label-text-weight:400}html[_ngcontent-%COMP%]{--mat-sort-arrow-color:rgb(117.3, 117.3, 117.3)}html[_ngcontent-%COMP%]{--mat-toolbar-container-background-color:whitesmoke;--mat-toolbar-container-text-color:rgba(0, 0, 0, .87)}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{--mat-toolbar-container-background-color:#3f51b5;--mat-toolbar-container-text-color:white}.mat-toolbar.mat-accent[_ngcontent-%COMP%]{--mat-toolbar-container-background-color:#ff4081;--mat-toolbar-container-text-color:white}.mat-toolbar.mat-warn[_ngcontent-%COMP%]{--mat-toolbar-container-background-color:#f44336;--mat-toolbar-container-text-color:white}html[_ngcontent-%COMP%]{--mat-toolbar-standard-height:64px;--mat-toolbar-mobile-height:56px}html[_ngcontent-%COMP%]{--mat-toolbar-title-text-font:Roboto, sans-serif;--mat-toolbar-title-text-line-height:32px;--mat-toolbar-title-text-size:20px;--mat-toolbar-title-text-tracking:.0125em;--mat-toolbar-title-text-weight:500}html[_ngcontent-%COMP%]{--mat-tree-container-background-color:white;--mat-tree-node-text-color:rgba(0, 0, 0, .87)}html[_ngcontent-%COMP%]{--mat-tree-node-min-height:48px}html[_ngcontent-%COMP%]{--mat-tree-node-text-font:Roboto, sans-serif;--mat-tree-node-text-size:14px;--mat-tree-node-text-weight:400}html[_ngcontent-%COMP%]{--mat-timepicker-container-shape:4px;--mat-timepicker-container-elevation-shadow:0px 5px 5px -3px rgba(0, 0, 0, .2), 0px 8px 10px 1px rgba(0, 0, 0, .14), 0px 3px 14px 2px rgba(0, 0, 0, .12)}html[_ngcontent-%COMP%]{--mat-timepicker-container-background-color:white}.mat-h1[_ngcontent-%COMP%], .mat-headline-5[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-h1[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-headline-5[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font:400 24px/32px Roboto,sans-serif;letter-spacing:normal;margin:0 0 16px}.mat-h2[_ngcontent-%COMP%], .mat-headline-6[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-h2[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-headline-6[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font:500 20px/32px Roboto,sans-serif;letter-spacing:.0125em;margin:0 0 16px}.mat-h3[_ngcontent-%COMP%], .mat-subtitle-1[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-h3[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-subtitle-1[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font:400 16px/28px Roboto,sans-serif;letter-spacing:.009375em;margin:0 0 16px}.mat-h4[_ngcontent-%COMP%], .mat-body-1[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-h4[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-body-1[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font:400 16px/24px Roboto,sans-serif;letter-spacing:.03125em;margin:0 0 16px}.mat-h5[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-h5[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font:400 11.62px/20px Roboto,sans-serif;margin:0 0 12px}.mat-h6[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-h6[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font:400 9.38px/20px Roboto,sans-serif;margin:0 0 12px}.mat-body-strong[_ngcontent-%COMP%], .mat-subtitle-2[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-body-strong[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-subtitle-2[_ngcontent-%COMP%]{font:500 14px/22px Roboto,sans-serif;letter-spacing:.0071428571em}.mat-body[_ngcontent-%COMP%], .mat-body-2[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-body[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-body-2[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]{font:400 14px/20px Roboto,sans-serif;letter-spacing:.0178571429em}.mat-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .mat-body-2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-body-2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px}.mat-small[_ngcontent-%COMP%], .mat-caption[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-small[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-caption[_ngcontent-%COMP%]{font:400 12px/20px Roboto,sans-serif;letter-spacing:.0333333333em}.mat-headline-1[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-headline-1[_ngcontent-%COMP%]{font:300 96px/96px Roboto,sans-serif;letter-spacing:-.015625em;margin:0 0 56px}.mat-headline-2[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-headline-2[_ngcontent-%COMP%]{font:300 60px/60px Roboto,sans-serif;letter-spacing:-.0083333333em;margin:0 0 64px}.mat-headline-3[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-headline-3[_ngcontent-%COMP%]{font:400 48px/50px Roboto,sans-serif;letter-spacing:normal;margin:0 0 64px}.mat-headline-4[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-headline-4[_ngcontent-%COMP%]{font:400 34px/40px Roboto,sans-serif;letter-spacing:.0073529412em;margin:0 0 64px}body[_ngcontent-%COMP%]{margin:0!important}.toggle-field[_ngcontent-%COMP%]{width:79px}.search-box[_ngcontent-%COMP%]{width:334px}.filter-field[_ngcontent-%COMP%]{width:209px}.list-view[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.submission[_ngcontent-%COMP%]{border:1px solid #ccc;padding:10px;border-radius:5px;margin-bottom:5px;height:100px}.status[_ngcontent-%COMP%]{padding:5px 10px;border-radius:3px}.status.complete[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border:1px solid #155724}.status.uncomplete[_ngcontent-%COMP%]{background-color:#f8d7da;color:red;border:1px solid red}.box-list[_ngcontent-%COMP%]{width:409px}.map-container[_ngcontent-%COMP%]{width:100%;height:400px}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.card-title[_ngcontent-%COMP%]{font-weight:700}.card-status[_ngcontent-%COMP%]{padding:5px 10px;border-radius:5px}.card-body[_ngcontent-%COMP%]{list-style:none;padding:0;font-size:85%!important;line-height:normal;width:60%}.title[_ngcontent-%COMP%]{text-align:left;width:100%}.responsive-inputs[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px}.second-group[_ngcontent-%COMP%]{margin-left:5%!important;margin-bottom:1%!important}.input-field[_ngcontent-%COMP%]{flex:1 1 calc(20% - 15px);min-width:150px}.mat-button-toggle-group[_ngcontent-%COMP%]{height:40px!important;align-items:center;padding:0!important}.mat-form-field[_ngcontent-%COMP%]{height:40px}  .mat-mdc-form-field-infix{height:40px!important;width:120px!important}  .mat-mdc-form-field-flex{height:40px!important}  .mdc-notched-outline{height:40px!important}  .mat-mdc-text-field-wrapper{height:40px!important}  .mat-mdc-floating-label{padding-bottom:10px}  .mdc-text-field--outlined .mat-mdc-form-field-infix, .mdc-text-field--no-label[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{height:20px!important;padding-top:10px!important}.mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#00f}.responsive-inputs[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{padding:0!important;color:#00f}.mat-button-toggle-appearance-standard.mat-button-toggle-checked[_ngcontent-%COMP%]{color:#fff!important;background-color:#2188d9!important}.gray[_ngcontent-%COMP%]{color:#b8b9bc;float:left;margin-right:3%}.highlight[_ngcontent-%COMP%]{color:#ff3d00;font-weight:700}.space-adjustment[_ngcontent-%COMP%]{margin-left:0}.box-map[_ngcontent-%COMP%]{width:80%;margin-left:1%;height:670px}  .cdk-overlay-pane{width:auto!important;max-width:100%}.card-body[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0;margin-bottom:5px!important}"],changeDetection:0})};var q2e=["*",[["mat-toolbar-row"]]],W2e=["*","mat-toolbar-row"],zI=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275dir=n2({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return e})(),MG=(()=>{class e{_elementRef=Ua(l2);_platform=Ua(E0);_document=Ua(T2);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=C2({type:e,selectors:[["mat-toolbar"]],contentQueries:function(o,s,l){if(o&1&&y3(l,zI,5),o&2){let d;F2(d=j2())&&(s._toolbarRows=d)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(o,s){o&2&&(h6(s.color?"mat-"+s.color:""),G2("mat-toolbar-multiple-rows",s._toolbarRows.length>0)("mat-toolbar-single-row",s._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:W2e,decls:2,vars:0,template:function(o,s){o&1&&(Q0(q2e),e0(0),e0(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}"],encapsulation:2,changeDetection:0})}return e})();var jM=class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=C2({type:e,selectors:[["app-header-navbar"]],decls:44,vars:0,consts:[["color","primary"],[1,"menu-spacer"],["fxShow","true"],["href","#","mat-button","",1,"nav-link"],["fxShow","true","fxHide.lt-md",""],["href","#","mat-button",""],["fill","currentColor"]],template:function(r,o){r&1&&(g1(0,"mat-toolbar",0)(1,"mat-toolbar-row")(2,"span"),e2(3,"ZenduForms"),v1(),E2(4,"span",1),g1(5,"div",2)(6,"a",3)(7,"mat-icon"),e2(8,"format_list_bulleted"),v1(),g1(9,"p"),e2(10,"Forms"),v1()(),g1(11,"a",3)(12,"mat-icon"),e2(13,"people"),v1(),g1(14,"p"),e2(15,"Customers"),v1()(),g1(16,"a",3)(17,"mat-icon"),e2(18,"multitrack_audio"),v1(),g1(19,"p"),e2(20,"Submissions"),v1()(),g1(21,"a",3)(22,"mat-icon"),e2(23,"history"),v1(),g1(24,"p"),e2(25,"History"),v1()(),g1(26,"a",3)(27,"mat-icon"),e2(28,"insert_chart_outlined"),v1(),g1(29,"p"),e2(30,"Reports"),v1()(),g1(31,"a",3)(32,"mat-icon"),e2(33,"insert_chart_outlined"),v1(),g1(34,"p"),e2(35,"Workflow"),v1()()(),E2(36,"span",1),g1(37,"div",4)(38,"a",5)(39,"mat-icon",6),e2(40,"notifications_none"),v1()(),g1(41,"a",5)(42,"mat-icon"),e2(43,"logout"),v1()()()()())},dependencies:[tM,MG,vM,zI,yM,PM,pG,I8,a9,nM,TM,PC,hM,gM,yv,fM,QC],styles:["a[_ngcontent-%COMP%]{text-decoration:none;font-size:85%;white-space:normal}button[_ngcontent-%COMP%]{font-size:110%;min-width:min-content}.nav-link[_ngcontent-%COMP%]{padding:10px 20px!important}.menu-spacer[_ngcontent-%COMP%]{flex:.4 1 auto}.box-list[_ngcontent-%COMP%], .box-map[_ngcontent-%COMP%]{flex:1;border:1px solid black;padding:20px}"]})};var BM=class e{title="zenduit-app";static \u0275fac=function(r){return new(r||e)};static \u0275cmp=C2({type:e,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"container"]],template:function(r,o){r&1&&(E2(0,"app-header-navbar"),g1(1,"div",0),E2(2,"app-submissions"),v1(),E2(3,"router-outlet"))},dependencies:[XA,FM,jM],styles:[".container[_ngcontent-%COMP%]{padding:0 20px}"]})};xF(BM,FB).catch(e=>console.error(e));
